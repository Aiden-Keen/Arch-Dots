import{b as _e,c as Gt,d as Oe,e as Jt}from"./chunk-FNEEPAIU.js";import{a as Zt,b as eo,c as to}from"./chunk-4VC5XLHN.js";import{a as V,c as U,d as j,e as Xt,g as Ce}from"./chunk-GXC22F32.js";import{d as bt,e as kt}from"./chunk-FPGYL2RY.js";import{a as Qt,c as qt}from"./chunk-UW7WESAD.js";import{B as jt,N as fe,O as Ut,s as Ae,w as Fe}from"./chunk-UOP6XST7.js";import{s as Yt}from"./chunk-2EBYQ5P2.js";import{a as Q}from"./chunk-2V4XDYKJ.js";import{b as Te,g as Nt}from"./chunk-UKK3MGUG.js";import{h as Ft,j as I,l as _t,p as P}from"./chunk-BXLRR6GM.js";import{a as Ot,b as Kt}from"./chunk-LEFSCI55.js";import{a as Wt}from"./chunk-3V7FZ2LC.js";import{a as oo,b as ro}from"./chunk-F43OLR6B.js";import{l as $t,q as zt,r as Vt}from"./chunk-4V5HUNZ6.js";import{w as pt}from"./chunk-XF26M2KT.js";import{h as xt,i as At,j as Tt}from"./chunk-N3C6FBKY.js";import{c as Ht,d as z}from"./chunk-S5LVVL2E.js";import{F as Mt,H as le,K as Lt,P as Bt,db as C,m as y,u as He}from"./chunk-4EXJCS3P.js";import{c as Ct,f as Et}from"./chunk-7R3NEG4N.js";import{jc as Dt,vc as It}from"./chunk-TAPPRV2Q.js";import{n as Pt,o as Rt,p as vt}from"./chunk-M3IC3XCG.js";import{u as mt}from"./chunk-2UWPPO5V.js";import{a as wt,b as X}from"./chunk-MVNJOY5H.js";import{Ka as yt,U as ut,V as ft,Y as xe,Z as gt,da as St,ea as ht,l as dt,n as Be}from"./chunk-OQCZPFI2.js";import{a as Fo}from"./chunk-YJCG6GWC.js";import{Ea as ot,kb as ce,lb as rt,n as L,o as B,pb as G,pc as it,rc as Me,xb as st}from"./chunk-KLKDJF5S.js";import{Bc as ye,Cc as K,Fc as Y,Sd as Ze,Td as et,_d as tt,he as nt,id as Xe}from"./chunk-L3JU23Z5.js";import{U as S,W as at,a as M,b as x,ba as J,ha as Le,ia as we,na as ct,q as A,qb as O,ra as lt}from"./chunk-R3MCCTIW.js";import{C as Je,x as Ge}from"./chunk-FA7LVEFF.js";import{a as s,g as m,i,j as w,m as Buffer,n as a}from"./chunk-WKJYWAXG.js";i();a();var Z=m(x());var ne=m(M());i();a();var no="_15xlg4e0 _48j31au8 _48j31av6 _48j31ax2 _48j31aw4 _48j31ar1 _48j31apv _48j31as7 _48j31aop _48j31ax7 _48j31ax5 _48j31ax9 _48j31ax3 _48j31a3no _48j31a37u _48j31a2c6 _48j31a2s0 _48j31axb _48j31a186 _48j31a124 _48j31a1b0 _48j31a1cm _48j31a1kf _48j31a1ma _48j31a1mn _48j31a1t0 _48j31a1xl _48j31a20y _48j31a47o _48j31a43j",so="_15xlg4e1 _48j31axc";var je=ne.default.memo(e=>{let t=(0,ne.useCallback)(o=>Y.captureError(o,K.Account),[]);return(0,Z.jsx)(Le,{...e,onError:t})}),_o=ne.default.memo(({accountName:e,accountIndex:t,accountIcon:o,onPress:r,onClick:n=r})=>{let l=(0,ne.useCallback)(p=>Y.captureError(p,K.Account),[]);return(0,Z.jsxs)("div",{className:so,children:[(0,Z.jsx)(Le,{accountIndex:t,accountName:e,accountIcon:o,size:96,onError:l}),(0,Z.jsx)("button",{type:"button",className:no,"data-testid":"edit-avatar-icon",onClick:n,children:(0,Z.jsx)(at.Edit,{size:20})})]})}),Oo=ne.default.memo(({children:e,withMargin:t})=>(0,Z.jsx)(J,{direction:"row",alignItems:"center",justifyContent:"center",marginX:"auto",marginY:t?20:"auto",children:e}));i();a();i();a();var $e=m(x(),1),io=s(({value:e,onChange:t})=>{let{t:o}=A();return(0,$e.jsx)(jo,{children:(0,$e.jsx)(Nt,{placeholder:o("assetListSearch"),value:e,onChange:r=>{"value"in r.target&&typeof r.target.value=="string"&&t(r.target.value)},showClearIcon:!!e,onClear:()=>{t("")}})})},"SettingsSearchHeader"),jo=y.div`
  padding: 14px 0 14px;
  background: ${S.colors.legacy.areaBase};
  position: relative;
  border-bottom: none;

  &:after {
    content: "";
    position: absolute;
    bottom: 0;
    left: -20px;
    width: calc(100% + 40px);
    border-bottom: 1px solid ${S.colors.legacy.borderBase};
  }
`;i();a();i();a();var $o=m(M());var ao=tt({minutes:5}),co=s((e,t)=>Xe({enabled:e!==null&&t,gcTime:ao,staleTime:ao,refetchInterval:!1,refetchOnMount:!1,...Jt(e)}),"useFetchShortcuts");i();a();var po=m(M());i();a();function zo(e,t){let o="type"in e&&e.type==="fungible"?e:null;if(!o)return!1;let r=o.platform==="all"||o.platform===t.platform,n=o.limitToTokenAddresses&&o.limitToTokenAddresses.length>0;return r&&!n?!0:r&&n?o.limitToTokenAddresses.some(l=>l===t.tokenAddress):!1}s(zo,"filterFungible");function Vo(e,t){let o=!("type"in e)||e.type==="collectible"?e:null;if(!o)return!1;let r=o.platform==="all"||o.platform===t.platform,n=o.limitToCollections&&o.limitToCollections.length>0;return r&&!n?!0:r&&n?o.limitToCollections.some(l=>l===t.collectionId):!1}s(Vo,"filterCollectible");var lo=s((e,t)=>e?e.filter(o=>t.type==="fungible"?zo(o,t):Vo(o,t)).slice(0,20):[],"filter");i();a();var mo=s(({input:e,shortcuts:t})=>{if(t.length===0)return[];let o=JSON.stringify(t);return e.collectionId&&(o=o.replaceAll("{{collectionId}}",e.collectionId)),e.tokenId&&(o=o.replaceAll("{{tokenId}}",e.tokenId)),e.ownerAddress&&(o=o.replaceAll("{{ownerAddress}}",e.ownerAddress)),JSON.parse(o)},"parse");var uo=s((e,t,o)=>(0,po.useMemo)(()=>{let r=mo({input:t,shortcuts:e});return lo(r,o)},[e,t,o]),"useMappedShortcuts");function ge(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="fungible")}s(ge,"isFungible");function Uo(e){return ge(e)?_e(e.externalUrl):_e(e?.externalUrl)}s(Uo,"getUrl");function No(e){return ge(e)?!1:e?.collection.isSpam??!0}s(No,"isSpam");function Ko(e,t){let o=Uo(e),r=Gt(o)&&!!o&&!No(e)&&t,{data:n,isPending:l}=co(r&&o?new URL(o):null,t),p=ge(e)?"":Yo(e)??"",c=ge(e)?e.tokenAddress:e?.id??"",g=Je?"mobile":"desktop",k=ge(e)?{platform:g,tokenAddress:c,type:"fungible"}:{platform:g,collectionId:p,type:"collectible"},u=uo(n??[],{collectionId:p,tokenId:c,ownerAddress:e?.owner},k);return{isLoading:!e||l&&r,shortcuts:r?u:[]}}s(Ko,"useShortcuts");var Yo=s(e=>{if(e?.chainData){if(Rt(e.chainData))return e.chainData.contract;if(Pt(e.chainData))return e.collection.id;if(vt(e.chainData))return e.chainData.firstCreatedInscriptionId}},"getCollectionId");i();a();i();a();var Pe=m(M()),fo=m(Fo());var ze=new wt,go=s(({beforeReset:e}={})=>{let{mutateAsync:t}=bt(),{mutateAsync:o}=kt(),[r,n]=(0,Pe.useState)("idle"),l=r==="resetting",p=(0,Pe.useCallback)(async()=>{await e?.(),n("resetting"),X.capture("resetApp");let c=await ze.get(Be.ApiEnvironment);await ze.clear(),ro.clear(),c&&await ze.set(Be.ApiEnvironment,c),await Et.logOut(),await $t(),await t(!0),await o(!0),await Ct(),fo.default.runtime.reload()},[e,o,t]);return{isResetting:l,handleResetApp:p}},"useResetApp");i();a();i();a();i();a();var Re=s(e=>e/6e4,"msToMin");var ve=s((e,t)=>{if(!t||t===0)return e("requireAuthImmediately");let o=Re(t);return o===1?`1 ${e("timeUnitMinute")}`:o===60?`1 ${e("timeUnitHour")}`:o===1440?`1 ${e("timeUnitDay")}`:o>60?`${o/60} ${e("timeUnitHours")}`:`${o} ${e("timeUnitMinutes")}`},"formatLockTimer");var R=m(M(),1);i();a();i();a();var se=m(x(),1),be=s(({onSuccess:e,type:t})=>{let{t:o}=A(),r=t===L.PrivateKey,n=o(r?"exportSecretShowPrivateKey":"exportSecretShowSecretRecoveryPhrase");return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(P,{shouldWrap:!0,children:n}),(0,se.jsx)(Fe,{onSuccess:e,type:t})]})},"SettingsExportSecretWarning");i();a();var pe=m(M(),1);i();a();var So=m(M(),1);var ie=m(x(),1),ho=So.default.memo(({indexes:e,wordlist:t})=>(0,ie.jsx)(Go,{children:e.length&&t.length?e.map((o,r)=>(0,ie.jsxs)(Qo,{children:[(0,ie.jsx)(Jo,{children:`${r+1}.`}),(0,ie.jsx)(Xo,{"data-testid":`secret-recovery-phrase-word-input-${r}`,readOnly:!0,autoComplete:"off",autoCorrect:"off",spellCheck:!1,value:t[o],pattern:"[A-Za-z\\s]+"})]},r)):Array.from({length:e?e.length:12},(o,r)=>(0,ie.jsx)(qo,{},r))})),Qo=y(Q).attrs({align:"center",justify:"center"})`
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
  color: ${S.colors.legacy.textBase};
  background: ${S.colors.legacy.areaAccent};
  border: 1px solid ${S.colors.legacy.borderDiminished};
  border-radius: 6px;
  align-self: center;
  height: 41px;
`,qo=y(Yt).attrs({backgroundColor:S.colors.legacy.borderBase,borderRadius:"6px",height:"41px"})``,Go=y.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  row-gap: 10px;
  column-gap: 4.5px;
  width: 100%;
`,Jo=y(C).attrs({size:14,weight:400,color:S.colors.legacy.textDiminished})`
  padding-left: 8px;
  padding-right: 2px;
`,Xo=y.input`
  color: ${S.colors.legacy.textBase};
  background: none;
  border: none;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  padding: 0;
`;i();a();var me=m(x(),1),yo=s(({type:e})=>{let{t}=A(),o=e===L.PrivateKey?t("exportSecretPrivateKey"):t("exportSecretRecoveryPhrase");return(0,me.jsx)(Zo,{"data-testid":`warning-island-${e}`,children:(0,me.jsx)(jt,{color:S.colors.legacy.spotNegative,title:(0,me.jsxs)(mt,{i18nKey:"exportSecretWarningPrimaryInterpolated",values:{secretNameText:o},children:["Do ",(0,me.jsx)("u",{children:"not"})," share your ",o,"!"]}),description:t("exportSecretWarningSecondaryInterpolated",{secretNameText:o})})})},"WarningIsland"),Zo=y.div`
  margin-bottom: 20px;
`;var $=m(x(),1),ke=s(({accountIdentifier:e,password:t,onDone:o})=>{let{t:r}=A(),{popDetailView:n}=I(),[{indexes:l,wordlist:p},c]=(0,pe.useState)({indexes:[],wordlist:[]}),{data:g}=rt(e),k=(0,pe.useCallback)(()=>{n(),n(),n()},[n]);return(0,pe.useEffect)(()=>{(async()=>{if((g?.type===B.Seed||g?.type===B.Seedless)&&g?.seedIdentifier)try{let u=await t.foldAsync(de=>It(Buffer.from(de).toString("utf-8"),g.seedIdentifier));if(!u)throw new Error("Could not get mnemonic");let v=await Wt(),T=u.fold(v.fromEntropy),b=Array.from(await T.getIndexes());c({indexes:b,wordlist:v.wordlist}),Y.addBreadcrumb(K.Account,`\u2705 Exported S*ed for Account: ${e}`,ye.Info),X.capture("exportMnemonic")}catch{throw Y.addBreadcrumb(K.Account,`\u{1F6AB} Failed to Export S*ed for Account: "${e}", account: "${JSON.stringify(g)}"`,ye.Error),new Error("Could not get mnemonic")}else Y.addBreadcrumb(K.Account,`\u{1F6AB} Failed to Export S*ed: Account: "${JSON.stringify(g)}"`,ye.Error)})()},[g,e,t]),(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(P,{shouldWrap:!0,children:r("exportSecretYourSecretRecoveryPhrase")}),(0,$.jsx)(V,{children:(0,$.jsxs)(j,{children:[(0,$.jsx)(yo,{type:L.Mnemonic}),(0,$.jsx)(ho,{indexes:l,wordlist:p})]})}),(0,$.jsx)(Ht,{onClick:o||k,children:r("pastParticipleDone")})]})},"SettingsExportSeedPhrase");i();a();var E=m(M(),1);var d=m(x(),1),Ve=s(({navigationCallback:e})=>{let{t}=A(),{data:o=[]}=ce(),{data:r=[]}=G("all"),l=!(r?.length>0),p=Me(u=>u.editableAccountMetadata),c=Me(u=>u.setEditableAccountMetadata),g=(0,E.useCallback)(u=>{c&&c({...p,seedIdentifier:u})},[p,c]),k=(0,E.useCallback)(u=>{g(u),e(u)},[g,e]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(P,{icon:(0,d.jsx)(Lt,{fill:S.colors.legacy.textDiminished}),children:t("settingsSelectSecretPhrase")}),(0,d.jsx)(V,{children:l?(0,d.jsx)(we,{children:t("addAccountNoSecretPhrases"),font:"labelBold"}):(0,d.jsx)(J,{gap:8,children:(0,d.jsx)(or,{children:r?.map((u,v)=>(0,d.jsx)(er,{accounts:ot(o,u.identifier),seedIdentifier:u.identifier,onClick:k,index:v},`seed-select-${u.identifier}`))})})})]})},"SettingsSelectSeed"),er=s(({accounts:e,seedIdentifier:t,index:o,onClick:r})=>{let{t:n}=A(),[l,p]=(0,E.useState)(!1),[c,g]=(0,E.useState)(!1),k=(0,E.useCallback)(()=>{p(!l)},[l,p]),u=(0,E.useCallback)(()=>{c||r(t)},[c,r,t]),v=(0,E.useMemo)(()=>e.length>1?n(l?"addAccountHideAccountsForSeed":"addAccountShowAccountsForSeed",{numOfAccounts:e.length}):e.length===1?n(l?"addAccountHideAccountForSeed":"addAccountShowAccountForSeed"):n("addAccountZeroAccountsForSeed"),[e.length,l,n]),T=(0,E.useMemo)(()=>e.length>=1?{onMouseEnter:s(()=>g(!0),"onMouseEnter"),onMouseLeave:s(()=>g(!1),"onMouseLeave"),onClick:k}:null,[e.length,k]);return(0,d.jsx)(rr,{onClick:u,children:(0,d.jsxs)(xo,{children:[(0,d.jsxs)(nr,{children:[(0,d.jsxs)(sr,{children:[(0,d.jsx)(ir,{children:n("addAccountSecretPhraseDefaultLabel",{number:o+1})}),(0,d.jsx)(cr,{...T,children:v})]}),(0,d.jsx)(Q,{width:"fit-content",children:(0,d.jsx)(Ao,{children:(0,d.jsx)(He,{fill:S.colors.legacy.textDiminished,width:10})})})]}),(0,d.jsx)(tr,{accounts:e,expanded:l})]})})},"MultiChainSelectSeedItem"),tr=s(({accounts:e,expanded:t})=>{let[o,{height:r}]=Ft(),n=(0,E.useMemo)(()=>({initial:{opacity:0,height:0},animate:{opacity:1,height:r},exit:{opacity:0,height:0},transition:{delay:0,duration:.2}}),[r]);return(0,d.jsx)(ct,{mode:"wait",children:t&&e.length>0&&(0,d.jsx)(wo,{...n,children:(0,d.jsx)(wo,{ref:o,children:(0,d.jsx)(lr,{children:e.map((l,p)=>(0,d.jsxs)(Q,{justify:"flex-start",children:[(0,d.jsx)(je,{size:24,accountIcon:l.icon,accountName:l.name,accountIndex:p}),(0,d.jsx)(ar,{style:{marginLeft:6},children:l.name})]},`account-${l.identifier}`))})})})})},"SelectSeedAssociatedAccounts"),or=y.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 12px;
`,rr=y(Q).attrs({align:"center"})`
  position: relative;
  cursor: pointer;
  background-color: ${S.colors.legacy.elementBase};
  border-radius: 8px;
  &:hover {
    background-color: ${S.colors.legacy.elementAccent};
  }
`,nr=y(Q).attrs({justify:"space-between"})`
  padding: 15px;
`,sr=y.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
`,ir=y(C).attrs({size:16,weight:500,lineHeight:19})``,ar=y(C).attrs({size:15,weight:500,lineHeight:19})``,cr=y(C).attrs({size:13,weight:500,lineHeight:19})`
  color: ${S.colors.legacy.spotBase};
  margin-top: 2px;
`,xo=y.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,lr=y(xo)`
  border-top: 1px solid ${S.colors.legacy.areaBase};
  padding: 15px;
  align-items: flex-start;
  gap: 12px;
`,wo=y(lt.div)`
  overflow: hidden;
`,Ii=s(({accounts:e,seedMetas:t,onClick:o,selectedSeedIdentifier:r})=>{let{t:n}=A(),l=(0,E.useMemo)(()=>{if(!t||!r)return 0;let c=t.find(g=>g.identifier===r);return c?t.indexOf(c):0},[t,r]),p=(0,E.useMemo)(()=>!e||!r?[]:e.filter(c=>(c.type===B.Seed||c.type===B.Seedless)&&c.seedIdentifier===r),[e,r]);return(0,d.jsxs)(mr,{children:[(0,d.jsx)(fr,{children:n("addAccountSecretPhraseLabel")}),(0,d.jsx)(pr,{onClick:o,"data-testid":"select-secret-phrase-button",children:(0,d.jsxs)(Q,{justify:"space-between",children:[(0,d.jsx)(Q,{children:(0,d.jsxs)(dr,{children:[n("addAccountSecretPhraseDefaultLabel",{number:l+1})," ",(0,d.jsxs)(ur,{children:["(",p.length>1?n("addAccountNumAccountsForSeed",{numOfAccounts:p.length}):n("addAccountOneAccountsForSeed"),")"]})]})}),(0,d.jsx)(Ao,{children:(0,d.jsx)(He,{fill:S.colors.legacy.textDiminished,width:10})})]})}),(0,d.jsx)(To,{children:n("addAccountSelectSeedDescription")})]})},"MultiChainSelectSeedDropdown"),mr=y(Qt)`
  width: 100%;
  position: relative;
`,pr=y(qt)`
  padding: 8px 16px 8px 12px;
`,Ao=y.div`
  svg {
    transform: rotate(270deg) translateX(2px);
  }
`,dr=y(C).attrs({size:16,weight:400,lineHeight:19})``,ur=y(C).attrs({size:16,weight:400,lineHeight:19,as:"span"})`
  display: inline-flex;
  padding: 0 8px;
  color: ${S.colors.legacy.textDiminished};
`,To=y(C).attrs({size:14,weight:400,lineHeight:19,textAlign:"left"})`
  margin-top: 8px;
  color: ${S.colors.legacy.textDiminished};
`,fr=y(To)`
  margin-top: 24px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  svg {
    margin-left: 6px;
  }
`;i();a();i();a();var Ue=s(e=>e*6e4,"minToMs");var De=m(M(),1);var ee=m(x(),1),Se=[0,1,5,10,15,30,60,240,480,1440],Co=s(()=>{let{t:e}=A(),{popDetailView:t}=I(),{data:o}=xe(),{mutateAsync:r}=gt(),n=(0,De.useCallback)(async p=>{try{let c=Ue(p);await r({lockTimeInMs:c}),X.capture("changeLockTimerDuration",{data:{mins:p}}),t(),o!==c&&Ae.success(e("changeLockTimerToast"))}catch(c){console.error(c)}},[o,t,r,e]),l=(0,De.useMemo)(()=>{if(o===void 0)return[];let p=Re(o);return gr(p),Se.map(c=>({topLeft:{text:ve(e,Ue(c))},active:p===c,type:"radio",onClick:s(()=>n(c),"onClick")}))},[o,n,e]);return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(P,{children:e("changeLockTimerPrimaryText")}),(0,ee.jsx)(V,{children:(0,ee.jsx)(O,{rows:l})})]})},"SettingsAutoLockTimer"),gr=s(async e=>{if(!Se.includes(e)){let t=Se.findIndex(o=>o>e);t?Se.splice(t,0,e):Se.push(e)}},"migrateOldTimerValue");i();a();var Ie=m(M(),1);var H=m(x(),1),Sr={currentPassword:"",password:"",confirmPassword:""},hr={currentPassword:void 0,password:void 0,confirmPassword:void 0},Po=s(()=>{let{t:e}=A(),{popDetailView:t}=I(),[o,r]=(0,Ie.useState)(Sr),{currentPassword:n,password:l,confirmPassword:p}=o,[c,g]=(0,Ie.useState)(hr),k=c.password??c.confirmPassword??c.currentPassword,u=!n||!l||!p,[v,T]=(0,Ie.useState)(!1),b=s(te=>{let N=te.currentTarget.name,oe=te.currentTarget.value;r({...o,[N]:oe})},"handlePasswordChange");return(0,H.jsxs)(Ce,{onSubmit:s(async te=>{te.preventDefault(),T(!0);let N,oe=Zt(l)??to(n,l),ue=eo(l,p);if(oe||ue)return g({...c,password:oe,confirmPassword:ue}),T(!1);try{if(!await zt(n))throw new Error("Incorrect password");await Vt(n,p),T(!1),t(),Ae.success(e("changePasswordToast"))}catch(ae){Y.captureError(ae,K.Account),N=ae?.message.includes("Incorrect password")?e("changePasswordErrorIncorrectCurrentPassword"):e("changePasswordErrorGeneric"),g({...c,currentPassword:N}),T(!1)}},"handleSubmit"),children:[(0,H.jsx)(P,{children:e("changePasswordPrimaryText")}),(0,H.jsxs)(U,{size:"large",children:[(0,H.jsxs)(j,{children:[(0,H.jsx)(Mt,{}),(0,H.jsx)(C,{size:26,weight:500,children:e("changePasswordPrimaryText")}),(0,H.jsxs)(Xt,{children:[(0,H.jsx)(Te,{type:"password",name:"currentPassword",placeholder:e("changePasswordCurrentPassword"),warning:!!c.currentPassword,onChange:b}),(0,H.jsx)(Te,{type:"password",name:"password",placeholder:e("changePasswordNewPassword"),warning:!!c.password,onChange:b}),(0,H.jsx)(Te.WithWarning,{type:"password",name:"confirmPassword",placeholder:e("changePasswordConfirmNewPassword"),warning:!!c.confirmPassword,warningMessage:k,onChange:b})]})]}),(0,H.jsx)(z,{primaryText:e("commandSave"),secondaryText:e("commandCancel"),onSecondaryClicked:t,primaryDisabled:u||v,primaryLoading:v})]})]})},"SettingsChangePassword");i();a();var Ne=m(M(),1);i();a();var F=m(x(),1),Ee=s(({beforeReset:e})=>{let{t}=A(),{popDetailView:o}=I(),{isResetting:r,handleResetApp:n}=go({beforeReset:e});return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(P,{children:t("settingsResetApp")}),(0,F.jsxs)(U,{size:"large",children:[(0,F.jsx)("div",{}),(0,F.jsxs)(j,{children:[(0,F.jsx)(le,{}),(0,F.jsx)(C,{size:28,weight:500,lineHeight:34,children:t("resetSeedPrimaryText")}),(0,F.jsx)(C,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,maxWidth:"312px",children:t("resetSeedSecondaryText")})]}),(0,F.jsx)(z,{primaryDisabled:r,primaryLoading:r,primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:n,onSecondaryClicked:o})]})]})},"SettingsResetApp");var D=m(x(),1),Ro=s(({beforeReset:e})=>{let{t}=A(),{popDetailView:o,pushDetailView:r}=I(),{data:n=[]}=ce(),l=n.filter(u=>u.type===B.Seedless),{data:p=[]}=G("recoverable-only"),c=(0,Ne.useCallback)((u,v,T)=>{r((0,D.jsx)(be,{type:L.Mnemonic,onSuccess:()=>r((0,D.jsx)(ke,{accountIdentifier:v,password:u,onDone:T}))}))},[r]),g=(0,Ne.useCallback)((u,v)=>{let T=l.find(b=>b.seedIdentifier===u);T&&r((0,D.jsx)(fe,{type:L.Mnemonic,onSuccess:b=>c(b,T.identifier,v)}))},[l,r,c]),k=s(()=>{g(p[0].identifier,()=>{r((0,D.jsx)(Ee,{beforeReset:e}))})},"handleContinue");return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(P,{children:t("settingsDeleteSeedlessBundle")}),(0,D.jsxs)(U,{size:"large",children:[(0,D.jsx)("div",{}),(0,D.jsxs)(j,{children:[(0,D.jsx)(le,{}),(0,D.jsx)(C,{size:28,weight:500,lineHeight:34,children:t("settingsDeleteSeedlessBundle")}),(0,D.jsx)(C,{size:16,color:"textDiminished",lineHeight:19,maxWidth:"312px",children:t("settingsDeleteSeedlessBundleDescription")})]}),(0,D.jsx)(z,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:k,onSecondaryClicked:o})]})]})},"SettingsDeleteSeedlessBundle");i();a();var vo=m(M(),1);var W=m(x(),1),yr=y.div`
  border: 1px solid ${S.colors.legacy.spotWarning};
  border-radius: 6px;
  padding: 8px 16px;
`,bo=vo.default.memo(()=>{let{t:e}=A(),{downloadLogs:t,goSupportDesk:o,isFetching:r}=oo();return(0,W.jsxs)(Ce,{onSubmit:t,children:[(0,W.jsx)(P,{children:e("settingsDownloadApplicationLogs")}),(0,W.jsxs)(U,{size:"medium",children:[(0,W.jsx)("div",{}),(0,W.jsxs)(j,{children:[(0,W.jsx)(Kt,{diameter:96,color:Ot(S.colors.legacy.spotBase,.1),children:(0,W.jsx)(Bt,{})}),(0,W.jsx)(C,{size:28,weight:500,lineHeight:34,margin:"20px 0 0",maxWidth:"280px",children:e("settingsDownloadApplicationLogs")}),(0,W.jsx)(C,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,margin:"0 0 4px",children:e("settingsDownloadApplicationLogsHelper")}),(0,W.jsx)(yr,{children:(0,W.jsx)(C,{size:14,color:S.colors.legacy.spotWarning,lineHeight:20,weight:500,children:e("settingsDownloadApplicationLogsWarning")})})]}),(0,W.jsx)(z,{primaryDisabled:r,primaryText:e("commandDownload"),secondaryText:e("settingsSupportDesk"),onSecondaryClicked:o})]})]})});i();a();var ko=m(M(),1);var _=m(x(),1),Do=s(({seedIdentifier:e})=>{let{t}=A(),{hideSettingsMenu:o}=_t(),{mutate:r}=st(),{data:n=[]}=G("all"),l=n.findIndex(g=>g.identifier===e)??0,p=(0,ko.useCallback)(()=>{r({seedIdentifier:e}),X.capture("walletSeeds",{data:{numOfSeeds:n?.length}}),o()},[o,r,e,n]),{popDetailView:c}=I();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(P,{children:t("settingsRemoveSecretPhrase")}),(0,_.jsxs)(U,{size:"large",children:[(0,_.jsx)("div",{}),(0,_.jsxs)(j,{children:[(0,_.jsx)(le,{}),(0,_.jsx)(C,{size:28,weight:500,lineHeight:34,children:t("removeSeedPrimaryText",{number:l+1})}),(0,_.jsx)(C,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,maxWidth:"312px",children:t("removeSeedSecondaryText",{number:l+1})})]}),(0,_.jsx)(z,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:p,onSecondaryClicked:c})]})]})},"SettingsRemoveSeed");var h=m(x(),1),el=s(()=>{let{t:e}=A(),{pushDetailViewCallback:t,pushDetailView:o}=I(),{data:r=[]}=ce(),n=r.filter(f=>f.type===B.Seed||f.type===B.Seedless),l=n.filter(f=>f.type===B.Seed),p=n.filter(f=>f.type===B.Seedless),c=it(),{data:[g]}=Ze(["enable-delete-seedless-bundle-security-settings"]),k=pt(),{data:u=[]}=G("recoverable-only"),{additionalPermissionRows:v}=wr(),{data:T}=xe(),{data:b,isPending:de}=ut(),{mutate:te}=ft(),{data:N,isPending:oe}=St(),{mutate:ue}=ht(),ae=(0,R.useCallback)(()=>{te({isAnalyticsOptedOut:!b})},[b,te]),Ke=(0,R.useCallback)(()=>{ue({showWalletShortcuts:!N}),Dt.invalidateQueries({queryKey:[Oe]})},[N,ue]),Io=(0,R.useCallback)(f=>{o((0,h.jsx)(Ut,{password:f,isSettings:!0}))},[o]),Ye=t((0,h.jsx)(fe,{type:L.Seedless,onSuccess:Io})),Eo=(0,R.useMemo)(()=>{let f=[{topLeft:{text:e("settingsChangePasswordPrimary")},type:"drawer",onClick:t((0,h.jsx)(Po,{}))},{topLeft:{text:e("settingsAutoLockTimerPrimary")},topRight:{text:ve(e,T)},type:"drawer",onClick:t((0,h.jsx)(Co,{}))}];return u.length&&f.splice(1,0,{topLeft:{text:e("seedlessResetPinPrimaryText")},type:"drawer",onClick:Ye}),f},[u.length,T,t,Ye,e]),Wo=(0,R.useMemo)(()=>{let f=[];return f.push({topLeft:{text:e("settingsDownloadApplicationLogs")},type:"drawer",onClick:t((0,h.jsx)(bo,{}))}),f},[t,e]),Mo=(0,R.useMemo)(()=>{let f=[];return oe||f.push({id:"toggleWalletShortcuts",topLeft:{text:e("settingsWalletShortcutsPrimary")},active:N??dt,type:"toggle",onClick:Ke}),f},[N,oe,Ke,e]),Lo=(0,R.useMemo)(()=>{let f=[];return de||f.push({id:"toggleAnalytics",active:!b,type:"toggle",topLeft:{text:e("settingsSecurityAnalyticsPrimary")},onClick:ae}),f},[b,de,ae,e]),Qe=(0,R.useCallback)((f,re,he)=>{o((0,h.jsx)(be,{type:L.Mnemonic,onSuccess:()=>o((0,h.jsx)(ke,{accountIdentifier:re,password:f,onDone:he}))}))},[o]),qe=(0,R.useCallback)((f,re)=>{let he=n.find(We=>We.seedIdentifier===f);he&&o((0,h.jsx)(fe,{type:L.Mnemonic,onSuccess:We=>Qe(We,he.identifier,re)}))},[o,n,Qe]),Bo=(0,R.useMemo)(()=>{let f=[];return(l.length||p.length)&&f.push({topLeft:{text:e("exportSecretShowSecretRecoveryPhrase")},type:"drawer",onClick:t((0,h.jsx)(Ve,{navigationCallback:re=>qe(re)}))}),f},[l.length,p.length,e,t,qe]),Ho=(0,R.useMemo)(()=>{let f=[];return c&&f.push({topLeft:{text:e("settingsRemoveSecretPhrase"),color:"spotNegative"},onClick:t((0,h.jsx)(Ve,{navigationCallback:re=>o((0,h.jsx)(Do,{seedIdentifier:re}))}))}),g&&u.length&&f.push({topLeft:{text:e("settingsDeleteSeedlessBundle"),color:"spotNegative"},onClick:t((0,h.jsx)(Ro,{beforeReset:k}))}),f.push({topLeft:{text:e("settingsResetApp"),color:"spotNegative"},onClick:t((0,h.jsx)(Ee,{}))}),f},[k,g,o,t,u,c,e]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(P,{children:e("settingsSecurityPrimary")}),(0,h.jsx)(V,{children:(0,h.jsxs)(J,{gap:"section",children:[(0,h.jsx)(O,{rows:Eo}),(0,h.jsx)(O,{rows:Wo}),v.length>0?(0,h.jsx)(O,{rows:v}):null,(0,h.jsx)(O,{rows:Mo}),(0,h.jsxs)(J,{gap:"list",children:[(0,h.jsx)(O,{rows:Lo}),(0,h.jsx)(J,{paddingX:4,children:(0,h.jsx)(we,{font:"caption",children:e("settingsSecurityAnalyticsHelper"),color:"textDiminished"})})]}),(0,h.jsx)(O,{rows:Bo}),(0,h.jsx)(O,{rows:Ho})]})})]})},"SecuritySettings");function wr(){let e=nt(),{t}=A(),o=Ge(w.IS_FIREFOX),r=et.isFeatureEnabled("always-show-all-sites-permissions"),[n,l]=(0,R.useState)(null),[p,c]=(0,R.useState)(!1);(0,R.useEffect)(()=>{let T=!0;return(async()=>{let b=await xt();T&&l(b)})(),()=>{T=!1}},[l]);let[g,k]=(0,R.useState)(!1),u=(0,R.useCallback)(async()=>{k(!0);try{let T=!!n;if(T)await Tt(),e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:T,newValue:!1}}),l(!1);else{let b=await At();e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:T,newValue:b}}),l(b)}}catch(T){T instanceof Error&&T.message.includes("You cannot remove required permissions")?c(!0):(console.error("Failed to set permissions"),console.error(T))}finally{k(!1)}},[n,e]),v=(0,R.useMemo)(()=>o||r?n===null?[]:[{id:"toggleAllSitesPermissions",active:n,disabled:p||g,onClick:u,type:"toggle",topLeft:t("settingsAllSitesPermissionsTitle"),helperText:t(p?"settingsAllSitesPermissionsDisabled":"settingsAllSitesPermissionsSubtitle")}]:[],[o,r,n,p,g,u,t]);return(0,R.useMemo)(()=>({additionalPermissionRows:v}),[v])}s(wr,"useAllSitesPermissions");i();a();var q=m(x(),1),dl=s(()=>{let{t:e}=A(),{popDetailView:t}=I(),{currencyRows:o,searchQuery:r,setSearchQuery:n}=yt({goBack:t});return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(P,{children:e("settingsCurrency")}),(0,q.jsx)(io,{value:r,onChange:n}),(0,q.jsx)(V,{children:(0,q.jsx)(O,{rows:o})})]})},"SettingsCurrencyList");export{je as a,_o as b,Oo as c,Ve as d,Ii as e,ho as f,yo as g,be as h,ke as i,io as j,ve as k,dl as l,Co as m,Po as n,bo as o,Do as p,Ko as q,go as r,el as s};
//# sourceMappingURL=chunk-PYYN6NI6.js.map
