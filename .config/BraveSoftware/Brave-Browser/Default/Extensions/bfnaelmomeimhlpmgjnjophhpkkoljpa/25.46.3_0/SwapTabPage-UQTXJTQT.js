import{d as dt,e as gt}from"./chunk-PF3ZQ4DJ.js";import"./chunk-4XIODEMQ.js";import{a as ut}from"./chunk-3CMC7R7H.js";import"./chunk-Q7YS6EOF.js";import{a as mt}from"./chunk-HY5EE4BL.js";import{D as be,Ea as he,Ga as oe,Q as at,W as it,X as pe,ba as st,h as Xe,ja as pt,l as nt,ta as lt,xa as ct}from"./chunk-UOP6XST7.js";import"./chunk-PZK75MNV.js";import"./chunk-J25C3IZ2.js";import"./chunk-DQWLAPQA.js";import{o as J,q as Ie}from"./chunk-2EBYQ5P2.js";import"./chunk-JXEDAEEX.js";import"./chunk-NZFNOPCO.js";import"./chunk-2V4XDYKJ.js";import"./chunk-SUKAPYGM.js";import"./chunk-736WIWZX.js";import"./chunk-PV5WDBPS.js";import"./chunk-LOTYUAC5.js";import"./chunk-3BNSF37W.js";import{h as se}from"./chunk-UKK3MGUG.js";import"./chunk-KOBOJI2X.js";import"./chunk-CH3CP7SO.js";import{j as ye}from"./chunk-BXLRR6GM.js";import"./chunk-ST7U2VUQ.js";import{a as De}from"./chunk-LEFSCI55.js";import"./chunk-WY4HUBHZ.js";import"./chunk-RDJLORQI.js";import"./chunk-M62EOSRT.js";import"./chunk-4V5HUNZ6.js";import"./chunk-WWYPP3MY.js";import"./chunk-IJJXVSGB.js";import"./chunk-XF26M2KT.js";import"./chunk-N3C6FBKY.js";import"./chunk-CTKHELYY.js";import"./chunk-XMURLUQN.js";import"./chunk-JUI4ISS4.js";import"./chunk-GVVB5LZG.js";import"./chunk-S5LVVL2E.js";import{db as Ae,j as ot,m as _}from"./chunk-4EXJCS3P.js";import{Aa as $e,Ca as ve,Ga as Se,Ib as Ye,Lb as Ze,Ra as He,Wa as Ke,Y as Ve,ac as Je,ec as je,fb as Ge,fc as et,gc as tt,hc as rt}from"./chunk-TAPPRV2Q.js";import"./chunk-C3BAWXY6.js";import"./chunk-WVRYN4MY.js";import"./chunk-M3IC3XCG.js";import"./chunk-RSJ6JVZU.js";import{C as N}from"./chunk-2UWPPO5V.js";import{U as Ue}from"./chunk-4T2FPKLQ.js";import"./chunk-GC6SFTGM.js";import"./chunk-A3JYJELV.js";import"./chunk-MVNJOY5H.js";import"./chunk-SIWEHH3L.js";import"./chunk-OQCZPFI2.js";import"./chunk-YJCG6GWC.js";import{Gb as ze,ic as We,qc as Oe}from"./chunk-KLKDJF5S.js";import{re as Z}from"./chunk-BQE2SXP7.js";import{Lb as ue,M as Ne,Nb as Qe,Rb as Ce,Sb as V,he as Re}from"./chunk-L3JU23Z5.js";import"./chunk-5HNKNX3S.js";import{Aa as _e,Ea as fe,Ka as we,La as qe,U as D,W as de,a as z,ab as Te,b,ba as l,ca as re,da as ge,ia as I,l as f,q as A}from"./chunk-R3MCCTIW.js";import"./chunk-FNC6PQ53.js";import"./chunk-5QQLABHI.js";import"./chunk-VL3IRAUM.js";import"./chunk-FA7LVEFF.js";import{a as n,g as d,i as c,n as m}from"./chunk-WKJYWAXG.js";c();m();c();m();var H=d(z(),1);c();m();var ft="f8uvp90";var wt="f8uvp92 f8uvp91 _48j31axb _48j31a13i _48j31ays",St="f8uvp93";c();m();var Q=d(z());c();m();var ae=d(z(),1);c();m();var Wt=d(z());var xe=_.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,Kr=_.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var Gr=_.div`
  color: ${D.colors.legacy.spotBase};
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: ${D.colors.legacy.elementAccent};
  }
`;c();m();var B=d(z());var Fe=n(({input:e,isLoading:t,onSelectorPress:o,perspective:a,selectorIcon:r,selectorLabel:s,spamStatus:p,accessories:i,footer:g})=>{let{t:x}=A(),S=x(a==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),F=(0,B.useMemo)(()=>{if(i)return B.default.createElement(l,{display:"flex",direction:"row",alignItems:"center",gap:6,marginTop:6},i)},[i]);(0,B.useEffect)(()=>{a==="buy"?perfalyze.markFrame("buyTokenUpdated"):perfalyze.markFrame("sellTokenUpdated")},[s,a]);let C=B.default.createElement(l,{display:"flex",direction:"column",gap:0,backgroundColor:"elementBase",borderRadius:"base",padding:20},B.default.createElement(I,{font:"labelSemibold",color:"textIncidental",children:S}),B.default.createElement(l,{display:"flex",direction:"row",alignItems:"center",minHeight:48},e,B.default.createElement(l,{flex:1}),t?B.default.createElement(re,{width:112,height:24}):B.default.createElement(l,{onPress:o,display:"flex",gap:8,direction:"row",backgroundColor:{base:"gray",hover:"borderBase"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer",testID:`${a}-token-button`},r,B.default.createElement(nt,{spamStatus:p,children:s,font:"captionSemibold"}),B.default.createElement(de.ChevronDown,{size:14}))),F);return Ot(C,g)},"SwapperCard"),Ot=n((e,t)=>t?B.default.createElement(l,{direction:"column",backgroundColor:"elementBase",borderRadius:"base"},e,t):e,"withFooter");c();m();var yt="_1mhrh80";c();m();var bt=d(z(),1);var q=d(b(),1),ht=n(({warnings:e})=>{let{t}=A(),o=e[0],{backgroundColor:a,textColor:r}=(0,bt.useMemo)(()=>{if(!o)return{backgroundColor:"elementBase",textColor:"textBase"};switch(o.level){case"warn":return{backgroundColor:"spotWarning",textColor:"areaBase"};case"info":return{backgroundColor:"elementBase",textColor:"textBase"}}},[o]);return e.length===0?null:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(l,{width:"100%",height:1,backgroundColor:"areaBase"}),(0,q.jsxs)(l,{gap:8,direction:"row",backgroundColor:a,padding:"screen",borderBottomRadius:"base",children:[(0,q.jsx)(l,{flexShrink:0,children:(0,q.jsx)(de.AlertTriangle,{color:r,size:18})}),(0,q.jsx)(I,{flexShrink:1,font:"caption",color:r,children:t(o.titleKey,o.options)})]})]})},"AssetWarningFooter");c();m();var ne=d(b(),1),xt=n(({isLoading:e,secondaryAmount:t,supportsCurrencyDenominationSwitching:o,switchCurrencyDenomination:a})=>{if(e)return(0,ne.jsx)(re,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"});let r=t?(0,ne.jsx)(I,{font:"caption",color:"textDiminished",children:t}):null;return o?(0,ne.jsxs)(l,{direction:"row",alignItems:"center",gap:6,cursor:"pointer",onPress:a,children:[r,(0,ne.jsx)(fe,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderBase"},color:"textDiminished"})]}):r},"SecondaryPriceDisplay");var T=d(b(),1),Ft=n(({asset:e,perspective:t,currentPercentage:o,onPercentageTap:a,onInputChange:r,onFungibleTap:s,switchCurrencyDenomination:p,onBalanceTap:i})=>{let{amount:g,balance:x,fungible:S,isAmountEditable:F,isAmountLoading:C,isSecondaryAmountLoading:y,hasAmountWarning:w,secondaryAmount:k,amountPrefix:u,percentages:h,supportsCurrencyDenominationSwitching:O,warnings:K}=e,{t:G}=A(),L=(0,T.jsx)(be,{image:{type:"fungible",src:S.data?.logoUri,fallback:S.data?.symbol||S.data?.tokenAddress},size:32,tokenType:S.type,chainMeta:S.data?.chain}),ee=n(Y=>Y.length>16?16:Y.length>14?18:Y.length>12?20:22,"getInputFontSize"),X=(0,ae.useMemo)(()=>{let Y=ee(g);return C?(0,T.jsx)(re,{width:100,height:18,borderRadius:12}):(0,T.jsxs)(xe,{hasWarning:w,fontSize:Y,children:[u&&(0,T.jsx)(I,{font:"heading3",children:u,marginRight:2}),(0,T.jsx)(se,{name:"amount",border:"0",placeholder:"0",warning:w,value:g,decimalLimit:S.data?.decimals,disabled:!F,onUserInput:r})]})},[C,w,u,g,S.data?.decimals,F,r]),me=(0,ae.useMemo)(()=>(0,T.jsx)(xt,{isLoading:y,secondaryAmount:k,supportsCurrencyDenominationSwitching:O,switchCurrencyDenomination:p}),[y,k,O,p]),Pe=(0,ae.useMemo)(()=>{let Y=n(te=>{switch(te.percentage){case .25:return"25%";case .5:return"50%";case 1:return G("swapAssetCardMaxButton")}},"swapPercentageDisplay");return h.map(te=>(0,T.jsx)(we,{active:te.percentage===o?.percentage,children:Y(te),onChange:()=>a(te),className:yt},te.percentage))},[h,G,o,a]),Rt=(0,ae.useMemo)(()=>(0,T.jsxs)(T.Fragment,{children:[me,(0,T.jsx)(l,{flex:1}),x&&(0,T.jsx)(I,{font:"caption",color:{base:"textDiminished",hover:i?"textBase":void 0},children:x,onPress:i}),Pe&&(0,T.jsx)(l,{direction:"row",alignItems:"center",gap:4,marginLeft:2,children:Pe})]}),[x,Pe,i,me]),zt=(0,ae.useMemo)(()=>{if(K.length!==0)return(0,T.jsx)(ht,{warnings:K})},[K]);return(0,T.jsx)(Fe,{perspective:t,input:X,selectorIcon:L,selectorLabel:S.data?.symbol??"",spamStatus:S.data?.spamStatus,onSelectorPress:s,accessories:Rt,footer:zt})},"AssetSwapperCard");c();m();var le=d(z(),1);var E=d(b(),1),_t=[.5,1],kt=n(({perspective:e})=>{let{t}=A(),o=(0,le.useMemo)(()=>{let p=Number(D.typography.font.heading3.fontSize.replace("px",""));return(0,E.jsx)(xe,{fontSize:p,children:(0,E.jsx)(se,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}})})},[e]),a=(0,le.useMemo)(()=>(0,E.jsx)(I,{font:"caption",color:"textDiminished",children:"$0"}),[]),r=(0,le.useMemo)(()=>{let p=n(i=>{switch(i){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}},"swapPercentageDisplay");return _t.map(i=>(0,E.jsx)(we,{active:!1,children:p(i),onChange:()=>{},className:ft}))},[t]),s=(0,le.useMemo)(()=>(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(l,{direction:"row",alignItems:"center",gap:6,children:[a,e==="sell"?(0,E.jsx)(fe,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textDiminished"}):null]}),(0,E.jsx)(l,{flex:1}),(0,E.jsx)(ge,{font:"caption",width:64}),e==="sell"?(0,E.jsx)(l,{direction:"row",alignItems:"center",gap:4,marginLeft:2,children:r}):null]}),[r,a,e]);return(0,E.jsx)(Fe,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:s})},"LoadingSwapperCard");var qt=32,Pt=n(({isInitializingTokens:e,tokens:t,currentSellPercentage:o,setInputAmount:a,setSellPercentage:r,setInputPerspective:s,switchCurrencyDenomination:p,switchTokens:i,onSelectToken:g})=>{let{t:x}=A(),S=(0,Q.useCallback)(w=>{let k=w.percentages.find(u=>u.percentage===1);k&&r(k,w.fungible)},[r]),F=(0,Q.useCallback)(w=>{g(w)},[g]),C=(0,Q.useCallback)((w,k)=>{r(w,k)},[r]),y=(0,Q.useMemo)(()=>["sell","buy"].map(w=>{let k=t.find(h=>h.perspective===w);if(!k||e)return Q.default.createElement(kt,{key:`loading-${w}`,perspective:w});let u=Q.default.createElement(Ft,{key:w,asset:k,perspective:w,switchCurrencyDenomination:p,currentPercentage:o,onFungibleTap:()=>F(w),onPercentageTap:h=>C(h,k.fungible),onInputChange:h=>{s(w),a(h,w)},onBalanceTap:()=>S(k)});return w==="buy"?Q.default.createElement(l,{position:"relative",key:w+"-swap-button"},u,Q.default.createElement("div",{className:wt,style:{pointerEvents:"none"}},Q.default.createElement(qe,{label:x("swapperSwitchTokens"),size:qt,shape:"circle",onClick:i,backgroundColor:{base:"spotBase",hover:"spotAccent"},icon:"SwapVertical"}))):u}),[t,e,p,o,F,C,a,s,S,x,i]);return Q.default.createElement(l,{display:"flex",direction:"column",flex:1,paddingX:"screen",paddingTop:"screen"},Q.default.createElement(l,{display:"flex",direction:"column",gap:12},y))},"SwapperAssets");c();m();var U=d(z());var Ct=n(({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:a,quoteProcessorState:r,currentPerspective:s,sellPercentages:p,onPress:i,resetSwapper:g})=>{let x=We(),S=ct(),{handleShowModalVisibility:F}=oe(),{pushDetailView:C}=ye(),y=(0,U.useCallback)(L=>{let ee=V(Z(L));C(U.default.createElement(he,{caip19:ee,title:L.data.name??void 0,entryPoint:"exploreInSwap"}))},[C]),{openBuy:w}=at({caip19:Ut(o)||"",context:"modal",analyticsEvent:"fiatOnrampFromInsufficientBalance"}),k=(0,U.useCallback)(L=>{S({sellFungible:L.sell,buyFungible:L.buy,sellAmount:L.amount.amount})},[S]),u=(0,U.useCallback)((L,ee)=>{let X=L.networkId,me={balance:L.balance,required:L.required};F("insufficientBalance",{networkId:X,token:me},{event:"showSwapModal",payload:{data:{uiContext:Ve.InsufficientBalance}}})},[F]),{buttonState:h,swap:O}=rt({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:a,quoteProcessorState:r,currentPerspective:s,sellPercentages:p,showFungibleDetails:y,showBuyFungibleScreen:w,retryAndNavigateToSwapper:k,resetSwapper:g,goToInsufficientFunds:u}),K=(0,U.useCallback)(()=>{i?.(),x?F("swapLedgerSigning",{executeSwap:O}):O()},[i,O,x,F]),G=(0,U.useMemo)(()=>h.type==="insufficientBalance"?{background:"spot",theme:"negative"}:["untradable"].includes(h.type)?{background:"element"}:{background:"spot"},[h.type]);return["idle","error"].includes(r.type)?null:U.default.createElement(_e,{...G,disabled:h.type!=="tradable",onPress:K},h.label)},"SwapperButton");function Ut(e){if(!(e.type!=="pair"&&e.type!=="refreshing"))return V(Z(e.sellToken))}n(Ut,"getSellCaip19");c();m();var v=d(z());c();m();var ce=d(z(),1);var W=d(b(),1),Vt=ce.default.memo(({rankAlgo:e,limit:t})=>{let{t:o}=A(),a=Re(),r=pe(u=>u.sortBy),s=pe(u=>u.sortDirection),p=pe(u=>u.timeFrame),i=pe(u=>u.network),{data:g,error:x,isLoading:S,refetch:F}=Ze({sortBy:r,sortDirection:s,timeFrame:p,limit:t,rankAlgo:e,network:i}),{pushDetailView:C}=ye(),y=(0,ce.useCallback)(({item:u,index:h})=>{let O=V({chainId:u.chainId,address:u.address,resourceType:Qe.address});a.capture("onExploreListItemClickedByUser",{data:{explore:{context:"swap",listName:"tokens",itemDetails:{position:h,title:u.name||u.symbol,id:`${u.address}-${u.chainId}`}}}}),C((0,W.jsx)(he,{caip19:O,title:u.name??void 0,entryPoint:"exploreInSwap"}))},[a,C]),w=!!x||g?.items.length===0,k=S||typeof g>"u";return(0,W.jsxs)(l,{paddingTop:24,flex:1,width:"100%",children:[(0,W.jsx)(I,{paddingX:"screen",paddingBottom:10,font:"title2Semibold",children:o("exploreTokens")}),(0,W.jsx)(lt,{isError:w,isLoading:k,refetch:F,filters:(0,W.jsx)(dt,{}),listHeader:(0,W.jsx)(st,{}),rows:(g?.items??[]).map((u,h)=>({...pt({item:u,sortBy:r,image:(0,W.jsx)(gt,{index:h,displayRank:!0,image:(0,W.jsx)(be,{image:{type:"fungible",src:u.logoUrl,fallback:u.symbol||u.name},size:48,badge:{type:"network",preset:ue.getChainID(u.chainId)}})}),t:o}),onClick:n(()=>y({item:u,index:h}),"onClick")}))})]})});function $t(){let e=Ye("tokens");return e?(0,W.jsx)(it,{sortByOptions:e.sortBy,sortBy:e.sortByDefault,sortDirection:e.sortDirectionDefault,networkOptions:e.network,network:e.networkDefault,timeFrameOptions:e.timeFrame,timeFrame:e.timeFrameDefault,children:(0,W.jsx)(Vt,{rankAlgo:e.rankAlgo,limit:10})}):null}n($t,"ExploreTokens");var Tt=ce.default.memo($t);c();m();var Be=d(b(),1),vt=n(({phantom:e,gasless:t})=>(0,Be.jsx)(l,{paddingY:16,paddingX:32,children:(0,Be.jsx)(mt,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:500,noWrap:!1,showInfoIcon:!1,info:t?f.t("swapFeesPhantomFeeGaslessDisclaimer",{feePercentage:N(e),gaslessFeePercentage:N(t)}):f.t("swapFeesPhantomFeeRegularDisclaimer",{feePercentage:N(e)}),children:t?f.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:N(e),gaslessFeePercentage:N(t)}):f.t("swapQuoteFeeDisclaimer",{feePercentage:N(e)})})}),"PhantomFee");c();m();var At=d(z(),1);var M=d(b(),1),Ht=n(({entry:e,fromUsd:t,currencySymbol:o})=>{let a=e.quoteFees.fees,r=a.find(i=>i.type==="phantom"),s=a.find(i=>i.type==="gasless"),p=a.filter(i=>!["gasless","phantom"].includes(i.type)).sort((i,g)=>ke(i)&&!ke(g)?-1:!ke(i)&&ke(g)?1:0).map(i=>{let g=i.amountUsd.toNumber(),x=`${o}${t(g,2)}`;switch(i.type){case"ata":return(0,M.jsxs)(At.default.Fragment,{children:[(0,M.jsxs)(Ie,{children:[(0,M.jsx)(J,{children:f.t(i.type)}),(0,M.jsx)(J,{children:x})]}),(0,M.jsx)(J,{style:{color:D.colors.legacy.textIncidental,fontSize:"12px",marginTop:4,textAlign:"left"},children:f.t("accountCreationFeeBody")})]},i.type);default:return(0,M.jsxs)(Ie,{children:[(0,M.jsx)(J,{children:f.t(i.type)}),(0,M.jsx)(J,{children:x})]},i.type)}});return(0,M.jsxs)(M.Fragment,{children:[p,r&&(0,M.jsx)(J,{style:{fontStyle:"italic",color:D.colors.legacy.textIncidental,marginTop:8,textAlign:"left"},children:s?f.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:N(r.percentage.toNumber()),gaslessFeePercentage:N(s.percentage.toNumber())}):f.t("swapQuoteFeeDisclaimer",{feePercentage:N(r.percentage.toNumber())})})]})},"FeeBreakdownTooltip");function Ee({entry:e,currencySymbol:t,fromUsd:o,showSwapSettings:a,showSwapPricing:r}){let s,p,i;switch(e.type){case"pricing":{p=f.t("swapFeesPricing"),s=e.exchangeRate,i=r;break}case"slippage":{p=f.t("swapFeesSlippage"),s=e.slippageType==="auto"?f.t("swapTokenDetailEntryAutoSlippage",{slippage:e.slippage}):f.t("swapTokenDetailEntryFixedSlippage",{slippage:e.slippage}),i=a;break}case"priceImpact":{p=f.t("swapFeesPriceImpact"),s=e.priceImpactPercentage;break}case"fees":{p=f.t("swapFeesFees"),s=`${t}${o(e.quoteFees.totalFees.toString(),2)}`;break}case"transferFees":{p=f.t("swapFeesTransferFees"),s=f.t("swapTransferFeeDisclaimer",{symbol:e.transferTokenSymbol,feePercent:e.transferFees});break}default:throw new Error(`Unsupported entry type: ${e.type}`)}return{title:p,content:Kt(e,s),tooltipContent:Gt(e,o,t),color:Xt(e),onClick:i}}n(Ee,"toEntrySpec");function Kt(e,t){return e.type==="transferFees"?t:e.warning?f.t("swapTokenDetailsWarningVeryHigh",{value:t}):e.alert?f.t("swapTokenDetailsAlertHigh",{value:t}):t}n(Kt,"getEntryContent");function Gt(e,t,o){switch(e.type){case"pricing":return f.t("swapFeesRateDisclaimerMultichain");case"slippage":return f.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage});case"priceImpact":return f.t("swapFeesPriceImpactDisclaimer");case"fees":{if(t&&o)return(0,M.jsx)(Ht,{entry:e,fromUsd:t,currencySymbol:o});let a=e.quoteFees.fees.find(s=>s.type==="phantom"),r=e.quoteFees.fees.find(s=>s.type==="gasless");return a?r?f.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:N(a.percentage.toNumber()),gaslessFeePercentage:N(r.percentage.toNumber())}):f.t("swapQuoteFeeDisclaimer",{feePercentage:N(a.percentage.toNumber())}):void 0}default:return}}n(Gt,"getTooltipForEntry");function Xt(e){return e.warning?D.colors.legacy.spotNegative:e.alert?D.colors.legacy.spotWarning:D.colors.legacy.textDiminished}n(Xt,"getTextColorForEntry");function Dt(e){switch(e){case"slippage":return{title:f.t("swapFeesSlippage")};case"priceImpact":return{title:f.t("swapFeesPriceImpact")};case"fees":return{title:f.t("swapFeesFees")};case"pricing":return{title:f.t("swapFeesPricing")};case"transferFees":return{title:f.t("swapFeesTransferFees")};default:return Ne(e)}}n(Dt,"toLoadingEntrySpec");var ke=n(e=>{switch(e.type){case"solanaNetwork":case"evmGas":case"suiNetwork":return!0;default:return!1}},"isNetworkFee");c();m();var ie=d(b(),1),It=n(({message:e,errorCode:t,onRetry:o})=>{let{t:a}=A(),r=a("swapQuestionRetry");return t==="InsufficientSellAmount"?(0,ie.jsx)(l,{width:"100%",children:(0,ie.jsx)(Te,{level:"1-critical-alert",children:e})}):(0,ie.jsx)(l,{gap:10,width:"100%",children:(0,ie.jsx)(l,{width:"100%",children:(0,ie.jsx)(Te,{level:"2-alert",actions:[{children:r,onPress:o}],children:e})})})},"SwapperError");var Yt=["pricing","slippage","priceImpact","fees"],Bt=n(({quoteProcessorState:e})=>{let t=Se();switch(e.type){case"idle":return v.default.createElement(l,{style:{marginTop:-16}},v.default.createElement(Tt,null));case"starting":case"firstQuoteReceived":case"quoteProcessed":return v.default.createElement(Zt,{quoteProcessorState:e});case"error":return v.default.createElement(l,{paddingX:"screen"},v.default.createElement(It,{message:e.error.message,errorCode:e.error.code,onRetry:()=>t.refreshQuoteProcessor()}))}},"SwapperQuoteDetails"),Zt=n(({quoteProcessorState:e})=>{let{currencySymbol:t,fromUsd:o}=Ue(),{handleShowModalVisibility:a}=oe(),r=Jt(e),s=r.filter(y=>y.type!=="transferFees"),p=r.find(y=>y.type==="transferFees"),i=r.find(y=>y.type==="fees"),g=i?.quoteFees.fees.find(y=>y.type==="phantom"),x=i?.quoteFees.fees.find(y=>y.type==="gasless"),S=(0,v.useCallback)(()=>{a("swapSettings")},[a]),F=(0,v.useCallback)(()=>{a("swapPricing")},[a]),C=(0,v.useMemo)(()=>Yt.map(y=>{let w=s.find(k=>k.type===y);return w?jt(Ee({entry:w,currencySymbol:t,fromUsd:o,showSwapSettings:S,showSwapPricing:F})):er(Dt(y))}),[s,t,o,S,F]);return v.default.createElement(l,{direction:"column",gap:4},v.default.createElement(l,{paddingX:"screen"},v.default.createElement(ut,{rows:C,borderRadius:"8px"})),g&&v.default.createElement(vt,{phantom:g.percentage.toNumber(),gasless:x?.percentage.toNumber()}),p&&v.default.createElement(I,{font:"label",color:"spotWarning",paddingX:32},Ee({entry:p,currencySymbol:t,fromUsd:o,showSwapSettings:S,showSwapPricing:F}).content))},"QuoteDetailsContent");function Jt(e){switch(e.type){case"firstQuoteReceived":case"quoteProcessed":return e.quoteDetails.entries;default:return[]}}n(Jt,"entriesForQuoteProcessorState");function jt(e){return{label:e.title,value:e.content,tooltipContent:e.tooltipContent,color:e.color,onClick:e.onClick}}n(jt,"toRowSpec");function er(e){return{label:e.title,value:v.default.createElement(ge,{width:60,font:"caption"})}}n(er,"toRowLoadingSpec");c();m();var j=d(z());c();m();var R=d(b(),1),tr=_.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,rr=_.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,or=_.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${De(D.colors.legacy.areaBase,.75)};
`,Et=_.div`
  background-color: ${De(D.colors.brand.yellowMoon,.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,Mt=_(Ae).attrs({size:14,lineHeight:19,weight:500,color:D.colors.legacy.textBase,textAlign:"left"})``,Me=n(({message:e,swapDisabled:t=!0,children:o})=>t?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(or,{"data-testid":"disable-overlay",children:(0,R.jsx)(Et,{children:(0,R.jsx)(Mt,{children:e})})}),(0,R.jsx)(rr,{"data-testid":"disable-wrapper",children:o})]}):(0,R.jsxs)(tr,{children:[(0,R.jsx)(Et,{children:(0,R.jsx)(Mt,{children:e})}),(0,R.jsx)(R.Fragment,{children:o})]}),"SwapNotAvailableWrapper");var Lt=j.default.memo(({children:e})=>{let t=ze(),o=t.every(i=>ue.isMainnetNetworkID(i)),r=Ge().some(i=>t.includes(i)),{t:s}=A(),p=(0,j.useMemo)(()=>({availableOnlyOnMainnet:s("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:s("swapNotAvailableOnSelectedNetwork")}),[s]);return o?r?j.default.createElement(l,{display:"flex",flex:1,paddingBottom:16,style:{marginBottom:"-16px"}},e):j.default.createElement(Me,{message:p.notAvailableOnSelectedNetwork,swapDisabled:!0},e):j.default.createElement(Me,{message:p.availableOnlyOnMainnet,swapDisabled:!0},e)});var $=d(b(),1),nr=[.5,1],Qt=n(()=>{let e=Se(),[t]=ot(),o=Nt(g=>g.setSwapMode),a=(0,H.useCallback)(g=>{e.initializeSwap({swapMode:g,cashAddresses:{}}),o(g)},[e,o]),r=et(),s=Nt(g=>g.swapMode),p=(0,H.useMemo)(()=>sr({searchParams:t}),[t]),i=(0,H.useMemo)(()=>p||s||r,[p,s,r]);return(0,H.useEffect)(()=>{if(p){if(!s){a(p);return}if(!$e(p,s)){a(p);return}}s||a(r)},[p,s,r,a]),(0,$.jsx)(ar,{swapMode:i})},"ClassicSwapperPage"),ar=n(({swapMode:e})=>{let t=He(e,nr),{inputPerspective:o,tokens:a,tokenState:r,quotedAmounts:s,quoteProcessorState:p,inputErrors:i,currentSellPercentage:g,sellPercentages:x,setInputAmount:S,setSellPercentage:F,switchCurrencyDenomination:C,switchTokens:y,clearInput:w,setInputPerspective:k}=tt(t),{handleShowModalVisibility:u}=oe(),h=(0,H.useCallback)(X=>{ve(r)&&u(X==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect",{selectStrategy:{type:"navigateToClassic",sellCaip19:V(Z(r.sellToken)),buyCaip19:V(Z(r.buyToken)),isCashEligible:!1}})},[u,r]),O=Je({goToAssetSelect:h}),K=(0,H.useCallback)(X=>{ve(r)&&O(X)},[r,O]),G=r.type==="pair"?r.buyToken:void 0,L=G?V(Z(G)):void 0;Xe(L,"swapper");let ee=je();return(0,$.jsxs)(Lt,{children:[(0,$.jsxs)(l,{direction:"column",gap:16,paddingBottom:72,children:[(0,$.jsx)(Pt,{isInitializingTokens:ee,tokens:a,currentSellPercentage:g,setInputAmount:S,setSellPercentage:F,setInputPerspective:k,switchCurrencyDenomination:C,switchTokens:y,onSelectToken:K}),(0,$.jsx)(Bt,{quoteProcessorState:p})]}),ir(p)&&(0,$.jsx)(l,{position:"fixed",bottom:72,left:16,right:16,backgroundColor:"areaBase",borderRadius:"base",className:St,children:(0,$.jsx)(Ct,{swapMode:e,quotedAmounts:s,tokenState:r,inputErrors:i,quoteProcessorState:p,currentPerspective:o,sellPercentages:x,resetSwapper:w})})]})},"ClassicSwapper");function ir(e){return["quoteProcessed","firstQuoteReceived","starting"].includes(e.type)}n(ir,"showButton");var sr=n(({searchParams:e})=>{let t=e.get("sellFungible"),o=e.get("buyFungible"),a=e.get("sellFungibleKey"),r=e.get("buyFungibleKey");if(o)return{type:"swap",network:Ce(o).chainId,buyCaip19:o,sellCaip19:void 0,takerCaip19:void 0,takerDestinationCaip19:void 0,sellFungibleKey:a??void 0,buyFungibleKey:r??void 0};if(t)return{type:"swap",network:Ce(t).chainId,buyCaip19:void 0,sellCaip19:t,takerCaip19:void 0,takerDestinationCaip19:void 0,sellFungibleKey:a??void 0,buyFungibleKey:r??void 0}},"parseSearchParamsSwapMode"),Nt=Oe(e=>({swapMode:void 0,setSwapMode:n(t=>e({swapMode:t}),"setSwapMode")}));var Le=d(b(),1),pr=n(()=>(0,Le.jsx)(Ke,{children:(0,Le.jsx)(Qt,{})}),"SwapTabPage"),Ii=pr;export{Ii as default};
//# sourceMappingURL=SwapTabPage-UQTXJTQT.js.map
