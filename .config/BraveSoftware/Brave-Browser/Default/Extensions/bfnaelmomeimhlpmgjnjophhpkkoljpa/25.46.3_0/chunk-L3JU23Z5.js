import{a as Cy,b as ky,c as yr,d as bu,e as Sa,f as ts,g as vn,i as En,j as By,k as U3,l as rs,n as F$,o as Py,w as Ly,x as Dy,y as H3,z as q$}from"./chunk-5HNKNX3S.js";import{B as DW,C as RM,D as vRe,E as _Re,F as wRe,G as UW,H as SRe,I as ERe,J as ARe,K as IRe,L as OM,M as HW,N as TRe,O as RRe,a as so,b as Rh,d as C2,f as dRe,g as hRe,h as AM,i as IM,j as TM,k as pRe,s as mRe,t as gRe,v as yRe,w as e6,x as bRe,y as xRe}from"./chunk-R3MCCTIW.js";import{e as LW}from"./chunk-FNC6PQ53.js";import{$ as gW,A as eW,Aa as Q3,B as tW,Ba as MW,C as rW,Ca as CW,D as z3,Da as kW,E as EM,F as nW,I as Fy,J as iW,K as oW,L as sW,M as Bs,N as aW,O as cW,P as G3,Q as $3,R as B2,T as fW,U as uW,V as lW,W as dW,X as qy,Y as hW,Z as pW,_ as mW,a as ao,aa as yW,b as j$,ba as Nh,bb as BW,c as K$,ca as W3,cb as PW,d as Sl,da as bW,e as z$,ea as xW,f as j3,fa as vW,g as G$,ga as _W,h as Oh,ha as wW,i as $$,j as W$,ja as Y3,k as Y$,ka as SW,l as wM,la as Zd,m as Hy,ma as EW,n as X$,o as ii,oa as X3,p as k2,pa as Vy,q as Z$,qa as AW,ra as IW,s as K3,sa as TW,ta as RW,u as kc,ua as Z3,w as SM,wa as OW,x as J$,xa as jy,ya as J3,z as Q$,za as NW}from"./chunk-5QQLABHI.js";import{h as q3,k as V3}from"./chunk-VL3IRAUM.js";import{g as we,j as Xa,l as Uy,m as F3,p as V$,y as _M}from"./chunk-FA7LVEFF.js";import{a as o,b as U$,d as V,e as H$,f as Th,g as Ze,i as m,j as R,l as Yi,m as Buffer,n as g}from"./chunk-WKJYWAXG.js";var FW=V(t6=>{"use strict";m();g();Object.defineProperty(t6,"__esModule",{value:!0});t6.crypto=void 0;t6.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var El=V($t=>{"use strict";m();g();Object.defineProperty($t,"__esModule",{value:!0});$t.wrapXOFConstructorWithOpts=$t.wrapConstructorWithOpts=$t.wrapConstructor=$t.Hash=$t.nextTick=$t.swap32IfBE=$t.byteSwapIfBE=$t.swap8IfBE=$t.isLE=void 0;$t.isBytes=VW;$t.anumber=NM;$t.abytes=zy;$t.ahash=ORe;$t.aexists=NRe;$t.aoutput=MRe;$t.u8=CRe;$t.u32=kRe;$t.clean=BRe;$t.createView=PRe;$t.rotr=LRe;$t.rotl=DRe;$t.byteSwap=CM;$t.byteSwap32=jW;$t.bytesToHex=HRe;$t.hexToBytes=FRe;$t.asyncLoop=VRe;$t.utf8ToBytes=kM;$t.bytesToUtf8=jRe;$t.toBytes=r6;$t.kdfInputToBytes=KRe;$t.concatBytes=zRe;$t.checkOpts=GRe;$t.createHasher=zW;$t.createOptHasher=GW;$t.createXOFer=$W;$t.randomBytes=$Re;var Ky=FW();function VW(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(VW,"isBytes");function NM(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(NM,"anumber");function zy(t,...e){if(!VW(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(zy,"abytes");function ORe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");NM(t.outputLen),NM(t.blockLen)}o(ORe,"ahash");function NRe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(NRe,"aexists");function MRe(t,e){zy(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(MRe,"aoutput");function CRe(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(CRe,"u8");function kRe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(kRe,"u32");function BRe(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(BRe,"clean");function PRe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(PRe,"createView");function LRe(t,e){return t<<32-e|t>>>e}o(LRe,"rotr");function DRe(t,e){return t<<e|t>>>32-e>>>0}o(DRe,"rotl");$t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function CM(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(CM,"byteSwap");$t.swap8IfBE=$t.isLE?t=>t:t=>CM(t);$t.byteSwapIfBE=$t.swap8IfBE;function jW(t){for(let e=0;e<t.length;e++)t[e]=CM(t[e]);return t}o(jW,"byteSwap32");$t.swap32IfBE=$t.isLE?t=>t:jW;var KW=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",URe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function HRe(t){if(zy(t),KW)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=URe[t[r]];return e}o(HRe,"bytesToHex");var Jd={_0:48,_9:57,A:65,F:70,a:97,f:102};function qW(t){if(t>=Jd._0&&t<=Jd._9)return t-Jd._0;if(t>=Jd.A&&t<=Jd.F)return t-(Jd.A-10);if(t>=Jd.a&&t<=Jd.f)return t-(Jd.a-10)}o(qW,"asciiToBase16");function FRe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(KW)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=qW(t.charCodeAt(s)),f=qW(t.charCodeAt(s+1));if(a===void 0||f===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+f}return n}o(FRe,"hexToBytes");var qRe=o(async()=>{},"nextTick");$t.nextTick=qRe;async function VRe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,$t.nextTick)(),n+=s)}}o(VRe,"asyncLoop");function kM(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(kM,"utf8ToBytes");function jRe(t){return new TextDecoder().decode(t)}o(jRe,"bytesToUtf8");function r6(t){return typeof t=="string"&&(t=kM(t)),zy(t),t}o(r6,"toBytes");function KRe(t){return typeof t=="string"&&(t=kM(t)),zy(t),t}o(KRe,"kdfInputToBytes");function zRe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];zy(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(zRe,"concatBytes");function GRe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(GRe,"checkOpts");var MM=class{static{o(this,"Hash")}};$t.Hash=MM;function zW(t){let e=o(n=>t().update(r6(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(zW,"createHasher");function GW(t){let e=o((n,i)=>t(i).update(r6(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(GW,"createOptHasher");function $W(t){let e=o((n,i)=>t(i).update(r6(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o($W,"createXOFer");$t.wrapConstructor=zW;$t.wrapConstructorWithOpts=GW;$t.wrapXOFConstructorWithOpts=$W;function $Re(t=32){if(Ky.crypto&&typeof Ky.crypto.getRandomValues=="function")return Ky.crypto.getRandomValues(new Uint8Array(t));if(Ky.crypto&&typeof Ky.crypto.randomBytes=="function")return Uint8Array.from(Ky.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o($Re,"randomBytes")});var YW=V(Ea=>{"use strict";m();g();Object.defineProperty(Ea,"__esModule",{value:!0});Ea.SHA512_IV=Ea.SHA384_IV=Ea.SHA224_IV=Ea.SHA256_IV=Ea.HashMD=void 0;Ea.setBigUint64=WW;Ea.Chi=WRe;Ea.Maj=YRe;var Al=El();function WW(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(WW,"setBigUint64");function WRe(t,e,r){return t&e^~t&r}o(WRe,"Chi");function YRe(t,e,r){return t&e^t&r^e&r}o(YRe,"Maj");var BM=class extends Al.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,Al.createView)(this.buffer)}update(e){(0,Al.aexists)(this),e=(0,Al.toBytes)(e),(0,Al.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=(0,Al.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Al.aexists)(this),(0,Al.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,Al.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let y=a;y<i;y++)r[y]=0;WW(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=(0,Al.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,b=this.get();if(h>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)f.setUint32(4*y,b[y],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=f,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};Ea.HashMD=BM;Ea.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Ea.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Ea.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Ea.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var DM=V(sr=>{"use strict";m();g();Object.defineProperty(sr,"__esModule",{value:!0});sr.toBig=sr.shrSL=sr.shrSH=sr.rotrSL=sr.rotrSH=sr.rotrBL=sr.rotrBH=sr.rotr32L=sr.rotr32H=sr.rotlSL=sr.rotlSH=sr.rotlBL=sr.rotlBH=sr.add5L=sr.add5H=sr.add4L=sr.add4H=sr.add3L=sr.add3H=void 0;sr.add=uY;sr.fromBig=LM;sr.split=XW;var n6=BigInt(2**32-1),PM=BigInt(32);function LM(t,e=!1){return e?{h:Number(t&n6),l:Number(t>>PM&n6)}:{h:Number(t>>PM&n6)|0,l:Number(t&n6)|0}}o(LM,"fromBig");function XW(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:f}=LM(t[s],e);[n[s],i[s]]=[a,f]}return[n,i]}o(XW,"split");var ZW=o((t,e)=>BigInt(t>>>0)<<PM|BigInt(e>>>0),"toBig");sr.toBig=ZW;var JW=o((t,e,r)=>t>>>r,"shrSH");sr.shrSH=JW;var QW=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");sr.shrSL=QW;var eY=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");sr.rotrSH=eY;var tY=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");sr.rotrSL=tY;var rY=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");sr.rotrBH=rY;var nY=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");sr.rotrBL=nY;var iY=o((t,e)=>e,"rotr32H");sr.rotr32H=iY;var oY=o((t,e)=>t,"rotr32L");sr.rotr32L=oY;var sY=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");sr.rotlSH=sY;var aY=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");sr.rotlSL=aY;var cY=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");sr.rotlBH=cY;var fY=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");sr.rotlBL=fY;function uY(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(uY,"add");var lY=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");sr.add3L=lY;var dY=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");sr.add3H=dY;var hY=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");sr.add4L=hY;var pY=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");sr.add4H=pY;var mY=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");sr.add5L=mY;var gY=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");sr.add5H=gY;var XRe={fromBig:LM,split:XW,toBig:ZW,shrSH:JW,shrSL:QW,rotrSH:eY,rotrSL:tY,rotrBH:rY,rotrBL:nY,rotr32H:iY,rotr32L:oY,rotlSH:sY,rotlSL:aY,rotlBH:cY,rotlBL:fY,add:uY,add3L:lY,add3H:dY,add4L:hY,add4H:pY,add5H:gY,add5L:mY};sr.default=XRe});var c6=V(Vn=>{"use strict";m();g();Object.defineProperty(Vn,"__esModule",{value:!0});Vn.sha512_224=Vn.sha512_256=Vn.sha384=Vn.sha512=Vn.sha224=Vn.sha256=Vn.SHA512_256=Vn.SHA512_224=Vn.SHA384=Vn.SHA512=Vn.SHA224=Vn.SHA256=void 0;var Vt=YW(),Er=DM(),co=El(),ZRe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Mh=new Uint32Array(64),P2=class extends Vt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=Vt.SHA256_IV[0]|0,this.B=Vt.SHA256_IV[1]|0,this.C=Vt.SHA256_IV[2]|0,this.D=Vt.SHA256_IV[3]|0,this.E=Vt.SHA256_IV[4]|0,this.F=Vt.SHA256_IV[5]|0,this.G=Vt.SHA256_IV[6]|0,this.H=Vt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let y=0;y<16;y++,r+=4)Mh[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let E=Mh[y-15],I=Mh[y-2],O=(0,co.rotr)(E,7)^(0,co.rotr)(E,18)^E>>>3,N=(0,co.rotr)(I,17)^(0,co.rotr)(I,19)^I>>>10;Mh[y]=N+Mh[y-7]+O+Mh[y-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:b}=this;for(let y=0;y<64;y++){let E=(0,co.rotr)(f,6)^(0,co.rotr)(f,11)^(0,co.rotr)(f,25),I=b+E+(0,Vt.Chi)(f,l,h)+ZRe[y]+Mh[y]|0,N=((0,co.rotr)(n,2)^(0,co.rotr)(n,13)^(0,co.rotr)(n,22))+(0,Vt.Maj)(n,i,s)|0;b=h,h=l,l=f,f=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,b=b+this.H|0,this.set(n,i,s,a,f,l,h,b)}roundClean(){(0,co.clean)(Mh)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,co.clean)(this.buffer)}};Vn.SHA256=P2;var i6=class extends P2{static{o(this,"SHA224")}constructor(){super(28),this.A=Vt.SHA224_IV[0]|0,this.B=Vt.SHA224_IV[1]|0,this.C=Vt.SHA224_IV[2]|0,this.D=Vt.SHA224_IV[3]|0,this.E=Vt.SHA224_IV[4]|0,this.F=Vt.SHA224_IV[5]|0,this.G=Vt.SHA224_IV[6]|0,this.H=Vt.SHA224_IV[7]|0}};Vn.SHA224=i6;var yY=Er.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),JRe=yY[0],QRe=yY[1],Ch=new Uint32Array(80),kh=new Uint32Array(80),ng=class extends Vt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=Vt.SHA512_IV[0]|0,this.Al=Vt.SHA512_IV[1]|0,this.Bh=Vt.SHA512_IV[2]|0,this.Bl=Vt.SHA512_IV[3]|0,this.Ch=Vt.SHA512_IV[4]|0,this.Cl=Vt.SHA512_IV[5]|0,this.Dh=Vt.SHA512_IV[6]|0,this.Dl=Vt.SHA512_IV[7]|0,this.Eh=Vt.SHA512_IV[8]|0,this.El=Vt.SHA512_IV[9]|0,this.Fh=Vt.SHA512_IV[10]|0,this.Fl=Vt.SHA512_IV[11]|0,this.Gh=Vt.SHA512_IV[12]|0,this.Gl=Vt.SHA512_IV[13]|0,this.Hh=Vt.SHA512_IV[14]|0,this.Hl=Vt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:b,Fh:y,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k]}set(e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=b|0,this.Fh=y|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)Ch[M]=e.getUint32(r),kh[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=Ch[M-15]|0,q=kh[M-15]|0,j=Er.rotrSH(U,q,1)^Er.rotrSH(U,q,8)^Er.shrSH(U,q,7),re=Er.rotrSL(U,q,1)^Er.rotrSL(U,q,8)^Er.shrSL(U,q,7),Y=Ch[M-2]|0,X=kh[M-2]|0,S=Er.rotrSH(Y,X,19)^Er.rotrBH(Y,X,61)^Er.shrSH(Y,X,6),c=Er.rotrSL(Y,X,19)^Er.rotrBL(Y,X,61)^Er.shrSL(Y,X,6),d=Er.add4L(re,c,kh[M-7],kh[M-16]),p=Er.add4H(d,j,S,Ch[M-7],Ch[M-16]);Ch[M]=p|0,kh[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:b,Eh:y,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let U=Er.rotrSH(y,E,14)^Er.rotrSH(y,E,18)^Er.rotrBH(y,E,41),q=Er.rotrSL(y,E,14)^Er.rotrSL(y,E,18)^Er.rotrBL(y,E,41),j=y&I^~y&N,re=E&O^~E&k,Y=Er.add5L(L,q,re,QRe[M],kh[M]),X=Er.add5H(Y,C,U,j,JRe[M],Ch[M]),S=Y|0,c=Er.rotrSH(n,i,28)^Er.rotrBH(n,i,34)^Er.rotrBH(n,i,39),d=Er.rotrSL(n,i,28)^Er.rotrBL(n,i,34)^Er.rotrBL(n,i,39),p=n&s^n&f^s&f,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=y|0,O=E|0,{h:y,l:E}=Er.add(h|0,b|0,X|0,S|0),h=f|0,b=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let v=Er.add3L(S,d,x);n=Er.add3H(v,X,c,p),i=v|0}({h:n,l:i}=Er.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Er.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=Er.add(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:b}=Er.add(this.Dh|0,this.Dl|0,h|0,b|0),{h:y,l:E}=Er.add(this.Eh|0,this.El|0,y|0,E|0),{h:I,l:O}=Er.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=Er.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=Er.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,f,l,h,b,y,E,I,O,N,k,C,L)}roundClean(){(0,co.clean)(Ch,kh)}destroy(){(0,co.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Vn.SHA512=ng;var o6=class extends ng{static{o(this,"SHA384")}constructor(){super(48),this.Ah=Vt.SHA384_IV[0]|0,this.Al=Vt.SHA384_IV[1]|0,this.Bh=Vt.SHA384_IV[2]|0,this.Bl=Vt.SHA384_IV[3]|0,this.Ch=Vt.SHA384_IV[4]|0,this.Cl=Vt.SHA384_IV[5]|0,this.Dh=Vt.SHA384_IV[6]|0,this.Dl=Vt.SHA384_IV[7]|0,this.Eh=Vt.SHA384_IV[8]|0,this.El=Vt.SHA384_IV[9]|0,this.Fh=Vt.SHA384_IV[10]|0,this.Fl=Vt.SHA384_IV[11]|0,this.Gh=Vt.SHA384_IV[12]|0,this.Gl=Vt.SHA384_IV[13]|0,this.Hh=Vt.SHA384_IV[14]|0,this.Hl=Vt.SHA384_IV[15]|0}};Vn.SHA384=o6;var Ps=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),Ls=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),s6=class extends ng{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=Ps[0]|0,this.Al=Ps[1]|0,this.Bh=Ps[2]|0,this.Bl=Ps[3]|0,this.Ch=Ps[4]|0,this.Cl=Ps[5]|0,this.Dh=Ps[6]|0,this.Dl=Ps[7]|0,this.Eh=Ps[8]|0,this.El=Ps[9]|0,this.Fh=Ps[10]|0,this.Fl=Ps[11]|0,this.Gh=Ps[12]|0,this.Gl=Ps[13]|0,this.Hh=Ps[14]|0,this.Hl=Ps[15]|0}};Vn.SHA512_224=s6;var a6=class extends ng{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=Ls[0]|0,this.Al=Ls[1]|0,this.Bh=Ls[2]|0,this.Bl=Ls[3]|0,this.Ch=Ls[4]|0,this.Cl=Ls[5]|0,this.Dh=Ls[6]|0,this.Dl=Ls[7]|0,this.Eh=Ls[8]|0,this.El=Ls[9]|0,this.Fh=Ls[10]|0,this.Fl=Ls[11]|0,this.Gh=Ls[12]|0,this.Gl=Ls[13]|0,this.Hh=Ls[14]|0,this.Hl=Ls[15]|0}};Vn.SHA512_256=a6;Vn.sha256=(0,co.createHasher)(()=>new P2);Vn.sha224=(0,co.createHasher)(()=>new i6);Vn.sha512=(0,co.createHasher)(()=>new ng);Vn.sha384=(0,co.createHasher)(()=>new o6);Vn.sha512_256=(0,co.createHasher)(()=>new a6);Vn.sha512_224=(0,co.createHasher)(()=>new s6)});var e0=V(er=>{"use strict";m();g();Object.defineProperty(er,"__esModule",{value:!0});er.notImplemented=er.bitMask=er.utf8ToBytes=er.randomBytes=er.isBytes=er.hexToBytes=er.concatBytes=er.bytesToUtf8=er.bytesToHex=er.anumber=er.abytes=void 0;er.abool=e7e;er._abool2=t7e;er._abytes2=r7e;er.numberToHexUnpadded=bY;er.hexToNumber=HM;er.bytesToNumberBE=n7e;er.bytesToNumberLE=i7e;er.numberToBytesBE=xY;er.numberToBytesLE=o7e;er.numberToVarBytesBE=s7e;er.ensureBytes=a7e;er.equalBytes=c7e;er.copyBytes=f7e;er.asciiToBytes=u7e;er.inRange=vY;er.aInRange=l7e;er.bitLen=d7e;er.bitGet=h7e;er.bitSet=p7e;er.createHmacDrbg=g7e;er.validateObject=b7e;er.isHash=x7e;er._validateObject=v7e;er.memoized=w7e;var Il=El(),Qd=El();Object.defineProperty(er,"abytes",{enumerable:!0,get:o(function(){return Qd.abytes},"get")});Object.defineProperty(er,"anumber",{enumerable:!0,get:o(function(){return Qd.anumber},"get")});Object.defineProperty(er,"bytesToHex",{enumerable:!0,get:o(function(){return Qd.bytesToHex},"get")});Object.defineProperty(er,"bytesToUtf8",{enumerable:!0,get:o(function(){return Qd.bytesToUtf8},"get")});Object.defineProperty(er,"concatBytes",{enumerable:!0,get:o(function(){return Qd.concatBytes},"get")});Object.defineProperty(er,"hexToBytes",{enumerable:!0,get:o(function(){return Qd.hexToBytes},"get")});Object.defineProperty(er,"isBytes",{enumerable:!0,get:o(function(){return Qd.isBytes},"get")});Object.defineProperty(er,"randomBytes",{enumerable:!0,get:o(function(){return Qd.randomBytes},"get")});Object.defineProperty(er,"utf8ToBytes",{enumerable:!0,get:o(function(){return Qd.utf8ToBytes},"get")});var f6=BigInt(0),L2=BigInt(1);function e7e(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}o(e7e,"abool");function t7e(t,e=""){if(typeof t!="boolean"){let r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}o(t7e,"_abool2");function r7e(t,e,r=""){let n=(0,Il.isBytes)(t),i=t?.length,s=e!==void 0;if(!n||s&&i!==e){let a=r&&`"${r}" `,f=s?` of length ${e}`:"",l=n?`length=${i}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+f+", got "+l)}return t}o(r7e,"_abytes2");function bY(t){let e=t.toString(16);return e.length&1?"0"+e:e}o(bY,"numberToHexUnpadded");function HM(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?f6:BigInt("0x"+t)}o(HM,"hexToNumber");function n7e(t){return HM((0,Il.bytesToHex)(t))}o(n7e,"bytesToNumberBE");function i7e(t){return(0,Il.abytes)(t),HM((0,Il.bytesToHex)(Uint8Array.from(t).reverse()))}o(i7e,"bytesToNumberLE");function xY(t,e){return(0,Il.hexToBytes)(t.toString(16).padStart(e*2,"0"))}o(xY,"numberToBytesBE");function o7e(t,e){return xY(t,e).reverse()}o(o7e,"numberToBytesLE");function s7e(t){return(0,Il.hexToBytes)(bY(t))}o(s7e,"numberToVarBytesBE");function a7e(t,e,r){let n;if(typeof e=="string")try{n=(0,Il.hexToBytes)(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if((0,Il.isBytes)(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}o(a7e,"ensureBytes");function c7e(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}o(c7e,"equalBytes");function f7e(t){return Uint8Array.from(t)}o(f7e,"copyBytes");function u7e(t){return Uint8Array.from(t,(e,r)=>{let n=e.charCodeAt(0);if(e.length!==1||n>127)throw new Error(`string contains non-ASCII character "${t[r]}" with code ${n} at position ${r}`);return n})}o(u7e,"asciiToBytes");var UM=o(t=>typeof t=="bigint"&&f6<=t,"isPosBig");function vY(t,e,r){return UM(t)&&UM(e)&&UM(r)&&e<=t&&t<r}o(vY,"inRange");function l7e(t,e,r,n){if(!vY(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}o(l7e,"aInRange");function d7e(t){let e;for(e=0;t>f6;t>>=L2,e+=1);return e}o(d7e,"bitLen");function h7e(t,e){return t>>BigInt(e)&L2}o(h7e,"bitGet");function p7e(t,e,r){return t|(r?L2:f6)<<BigInt(e)}o(p7e,"bitSet");var m7e=o(t=>(L2<<BigInt(t))-L2,"bitMask");er.bitMask=m7e;function g7e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=o(I=>new Uint8Array(I),"u8n"),i=o(I=>Uint8Array.of(I),"u8of"),s=n(t),a=n(t),f=0,l=o(()=>{s.fill(1),a.fill(0),f=0},"reset"),h=o((...I)=>r(a,s,...I),"h"),b=o((I=n(0))=>{a=h(i(0),I),s=h(),I.length!==0&&(a=h(i(1),I),s=h())},"reseed"),y=o(()=>{if(f++>=1e3)throw new Error("drbg: tried 1000 values");let I=0,O=[];for(;I<e;){s=h();let N=s.slice();O.push(N),I+=s.length}return(0,Il.concatBytes)(...O)},"gen");return o((I,O)=>{l(),b(I);let N;for(;!(N=O(y()));)b();return l(),N},"genUntil")}o(g7e,"createHmacDrbg");var y7e={bigint:o(t=>typeof t=="bigint","bigint"),function:o(t=>typeof t=="function","function"),boolean:o(t=>typeof t=="boolean","boolean"),string:o(t=>typeof t=="string","string"),stringOrUint8Array:o(t=>typeof t=="string"||(0,Il.isBytes)(t),"stringOrUint8Array"),isSafeInteger:o(t=>Number.isSafeInteger(t),"isSafeInteger"),array:o(t=>Array.isArray(t),"array"),field:o((t,e)=>e.Fp.isValid(t),"field"),hash:o(t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen),"hash")};function b7e(t,e,r={}){let n=o((i,s,a)=>{let f=y7e[s];if(typeof f!="function")throw new Error("invalid validator function");let l=t[i];if(!(a&&l===void 0)&&!f(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)},"checkField");for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}o(b7e,"validateObject");function x7e(t){return typeof t=="function"&&Number.isSafeInteger(t.outputLen)}o(x7e,"isHash");function v7e(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,a){let f=t[i];if(a&&f===void 0)return;let l=typeof f;if(l!==s||f===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}o(n,"checkField"),Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}o(v7e,"_validateObject");var _7e=o(()=>{throw new Error("not implemented")},"notImplemented");er.notImplemented=_7e;function w7e(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let s=t(r,...n);return e.set(r,s),s}}o(w7e,"memoized")});var Bh=V(mi=>{"use strict";m();g();Object.defineProperty(mi,"__esModule",{value:!0});mi.isNegativeLE=void 0;mi.mod=Za;mi.pow=A7e;mi.pow2=I7e;mi.invert=u6;mi.tonelliShanks=qM;mi.FpSqrt=TY;mi.validateField=M7e;mi.FpPow=VM;mi.FpInvertBatch=RY;mi.FpDiv=C7e;mi.FpLegendre=l6;mi.FpIsSquare=k7e;mi.nLength=jM;mi.Field=d6;mi.FpSqrtOdd=B7e;mi.FpSqrtEven=P7e;mi.hashToPrivateScalar=L7e;mi.getFieldBytesLength=KM;mi.getMinHashLength=OY;mi.mapHashToField=D7e;var Ja=e0(),Aa=BigInt(0),fo=BigInt(1),ig=BigInt(2),_Y=BigInt(3),wY=BigInt(4),SY=BigInt(5),S7e=BigInt(7),EY=BigInt(8),E7e=BigInt(9),AY=BigInt(16);function Za(t,e){let r=t%e;return r>=Aa?r:e+r}o(Za,"mod");function A7e(t,e,r){return VM(d6(r),t,e)}o(A7e,"pow");function I7e(t,e,r){let n=t;for(;e-- >Aa;)n*=n,n%=r;return n}o(I7e,"pow2");function u6(t,e){if(t===Aa)throw new Error("invert: expected non-zero number");if(e<=Aa)throw new Error("invert: expected positive modulus, got "+e);let r=Za(t,e),n=e,i=Aa,s=fo,a=fo,f=Aa;for(;r!==Aa;){let h=n/r,b=n%r,y=i-a*h,E=s-f*h;n=r,r=b,i=a,s=f,a=y,f=E}if(n!==fo)throw new Error("invert: does not exist");return Za(i,e)}o(u6,"invert");function FM(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}o(FM,"assertIsSquare");function IY(t,e){let r=(t.ORDER+fo)/wY,n=t.pow(e,r);return FM(t,n,e),n}o(IY,"sqrt3mod4");function T7e(t,e){let r=(t.ORDER-SY)/EY,n=t.mul(e,ig),i=t.pow(n,r),s=t.mul(e,i),a=t.mul(t.mul(s,ig),i),f=t.mul(s,t.sub(a,t.ONE));return FM(t,f,e),f}o(T7e,"sqrt5mod8");function R7e(t){let e=d6(t),r=qM(t),n=r(e,e.neg(e.ONE)),i=r(e,n),s=r(e,e.neg(n)),a=(t+S7e)/AY;return(f,l)=>{let h=f.pow(l,a),b=f.mul(h,n),y=f.mul(h,i),E=f.mul(h,s),I=f.eql(f.sqr(b),l),O=f.eql(f.sqr(y),l);h=f.cmov(h,b,I),b=f.cmov(E,y,O);let N=f.eql(f.sqr(b),l),k=f.cmov(h,b,N);return FM(f,k,l),k}}o(R7e,"sqrt9mod16");function qM(t){if(t<_Y)throw new Error("sqrt is not defined for small field");let e=t-fo,r=0;for(;e%ig===Aa;)e/=ig,r++;let n=ig,i=d6(t);for(;l6(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return IY;let s=i.pow(n,e),a=(e+fo)/ig;return o(function(l,h){if(l.is0(h))return h;if(l6(l,h)!==1)throw new Error("Cannot find square root");let b=r,y=l.mul(l.ONE,s),E=l.pow(h,e),I=l.pow(h,a);for(;!l.eql(E,l.ONE);){if(l.is0(E))return l.ZERO;let O=1,N=l.sqr(E);for(;!l.eql(N,l.ONE);)if(O++,N=l.sqr(N),O===b)throw new Error("Cannot find square root");let k=fo<<BigInt(b-O-1),C=l.pow(y,k);b=O,y=l.sqr(C),E=l.mul(E,y),I=l.mul(I,C)}return I},"tonelliSlow")}o(qM,"tonelliShanks");function TY(t){return t%wY===_Y?IY:t%EY===SY?T7e:t%AY===E7e?R7e(t):qM(t)}o(TY,"FpSqrt");var O7e=o((t,e)=>(Za(t,e)&fo)===fo,"isNegativeLE");mi.isNegativeLE=O7e;var N7e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function M7e(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=N7e.reduce((n,i)=>(n[i]="function",n),e);return(0,Ja._validateObject)(t,r),t}o(M7e,"validateField");function VM(t,e,r){if(r<Aa)throw new Error("invalid exponent, negatives unsupported");if(r===Aa)return t.ONE;if(r===fo)return e;let n=t.ONE,i=e;for(;r>Aa;)r&fo&&(n=t.mul(n,i)),i=t.sqr(i),r>>=fo;return n}o(VM,"FpPow");function RY(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((a,f,l)=>t.is0(f)?a:(n[l]=a,t.mul(a,f)),t.ONE),s=t.inv(i);return e.reduceRight((a,f,l)=>t.is0(f)?a:(n[l]=t.mul(a,n[l]),t.mul(a,f)),s),n}o(RY,"FpInvertBatch");function C7e(t,e,r){return t.mul(e,typeof r=="bigint"?u6(r,t.ORDER):t.inv(r))}o(C7e,"FpDiv");function l6(t,e){let r=(t.ORDER-fo)/ig,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),a=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}o(l6,"FpLegendre");function k7e(t,e){return l6(t,e)===1}o(k7e,"FpIsSquare");function jM(t,e){e!==void 0&&(0,Ja.anumber)(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(jM,"nLength");function d6(t,e,r=!1,n={}){if(t<=Aa)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,a=!1,f;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let E=e;E.BITS&&(i=E.BITS),E.sqrt&&(s=E.sqrt),typeof E.isLE=="boolean"&&(r=E.isLE),typeof E.modFromBytes=="boolean"&&(a=E.modFromBytes),f=E.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);let{nBitLength:l,nByteLength:h}=jM(t,i);if(h>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let b,y=Object.freeze({ORDER:t,isLE:r,BITS:l,BYTES:h,MASK:(0,Ja.bitMask)(l),ZERO:Aa,ONE:fo,allowedLengths:f,create:o(E=>Za(E,t),"create"),isValid:o(E=>{if(typeof E!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof E);return Aa<=E&&E<t},"isValid"),is0:o(E=>E===Aa,"is0"),isValidNot0:o(E=>!y.is0(E)&&y.isValid(E),"isValidNot0"),isOdd:o(E=>(E&fo)===fo,"isOdd"),neg:o(E=>Za(-E,t),"neg"),eql:o((E,I)=>E===I,"eql"),sqr:o(E=>Za(E*E,t),"sqr"),add:o((E,I)=>Za(E+I,t),"add"),sub:o((E,I)=>Za(E-I,t),"sub"),mul:o((E,I)=>Za(E*I,t),"mul"),pow:o((E,I)=>VM(y,E,I),"pow"),div:o((E,I)=>Za(E*u6(I,t),t),"div"),sqrN:o(E=>E*E,"sqrN"),addN:o((E,I)=>E+I,"addN"),subN:o((E,I)=>E-I,"subN"),mulN:o((E,I)=>E*I,"mulN"),inv:o(E=>u6(E,t),"inv"),sqrt:s||(E=>(b||(b=TY(t)),b(y,E))),toBytes:o(E=>r?(0,Ja.numberToBytesLE)(E,h):(0,Ja.numberToBytesBE)(E,h),"toBytes"),fromBytes:o((E,I=!0)=>{if(f){if(!f.includes(E.length)||E.length>h)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+E.length);let N=new Uint8Array(h);N.set(E,r?0:N.length-E.length),E=N}if(E.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+E.length);let O=r?(0,Ja.bytesToNumberLE)(E):(0,Ja.bytesToNumberBE)(E);if(a&&(O=Za(O,t)),!I&&!y.isValid(O))throw new Error("invalid field element: outside of range 0..ORDER");return O},"fromBytes"),invertBatch:o(E=>RY(y,E),"invertBatch"),cmov:o((E,I,O)=>O?I:E,"cmov")});return Object.freeze(y)}o(d6,"Field");function B7e(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}o(B7e,"FpSqrtOdd");function P7e(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}o(P7e,"FpSqrtEven");function L7e(t,e,r=!1){t=(0,Ja.ensureBytes)("privateHash",t);let n=t.length,i=jM(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error("hashToPrivateScalar: expected "+i+"-1024 bytes of input, got "+n);let s=r?(0,Ja.bytesToNumberLE)(t):(0,Ja.bytesToNumberBE)(t);return Za(s,e-fo)+fo}o(L7e,"hashToPrivateScalar");function KM(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}o(KM,"getFieldBytesLength");function OY(t){let e=KM(t);return e+Math.ceil(e/2)}o(OY,"getMinHashLength");function D7e(t,e,r=!1){let n=t.length,i=KM(e),s=OY(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);let a=r?(0,Ja.bytesToNumberLE)(t):(0,Ja.bytesToNumberBE)(t),f=Za(a,e-fo)+fo;return r?(0,Ja.numberToBytesLE)(f,i):(0,Ja.numberToBytesBE)(f,i)}o(D7e,"mapHashToField")});var h6=V(xu=>{"use strict";m();g();Object.defineProperty(xu,"__esModule",{value:!0});xu.wNAF=void 0;xu.negateCt=WM;xu.normalizeZ=U7e;xu.mulEndoUnsafe=H7e;xu.pippenger=F7e;xu.precomputeMSMUnsafe=q7e;xu.validateBasic=V7e;xu._createCurveFields=j7e;var D2=e0(),U2=Bh(),Gy=BigInt(0),og=BigInt(1);function WM(t,e){let r=e.negate();return t?r:e}o(WM,"negateCt");function U7e(t,e){let r=(0,U2.FpInvertBatch)(t.Fp,e.map(n=>n.Z));return e.map((n,i)=>t.fromAffine(n.toAffine(r[i])))}o(U7e,"normalizeZ");function XM(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}o(XM,"validateW");function zM(t,e){XM(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=(0,D2.bitMask)(t),a=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:a}}o(zM,"calcWOpts");function NY(t,e,r){let{windowSize:n,mask:i,maxNumber:s,shiftBy:a}=r,f=Number(t&i),l=t>>a;f>n&&(f-=s,l+=og);let h=e*n,b=h+Math.abs(f)-1,y=f===0,E=f<0,I=e%2!==0;return{nextN:l,offset:b,isZero:y,isNeg:E,isNegF:I,offsetF:h}}o(NY,"calcOffsets");function kY(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}o(kY,"validateMSMPoints");function BY(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}o(BY,"validateMSMScalars");var GM=new WeakMap,PY=new WeakMap;function $M(t){return PY.get(t)||1}o($M,"getW");function MY(t){if(t!==Gy)throw new Error("invalid wNAF")}o(MY,"assert0");var YM=class{static{o(this,"wNAF")}constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let i=e;for(;r>Gy;)r&og&&(n=n.add(i)),i=i.double(),r>>=og;return n}precomputeWindow(e,r){let{windows:n,windowSize:i}=zM(r,this.bits),s=[],a=e,f=a;for(let l=0;l<n;l++){f=a,s.push(f);for(let h=1;h<i;h++)f=f.add(a),s.push(f);a=f.double()}return s}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE,a=zM(e,this.bits);for(let f=0;f<a.windows;f++){let{nextN:l,offset:h,isZero:b,isNeg:y,isNegF:E,offsetF:I}=NY(n,f,a);n=l,b?s=s.add(WM(E,r[I])):i=i.add(WM(y,r[h]))}return MY(n),{p:i,f:s}}wNAFUnsafe(e,r,n,i=this.ZERO){let s=zM(e,this.bits);for(let a=0;a<s.windows&&n!==Gy;a++){let{nextN:f,offset:l,isZero:h,isNeg:b}=NY(n,a,s);if(n=f,!h){let y=r[l];i=i.add(b?y.negate():y)}}return MY(n),i}getPrecomputes(e,r,n){let i=GM.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(i=n(i)),GM.set(r,i))),i}cached(e,r,n){let i=$M(e);return this.wNAF(i,this.getPrecomputes(i,e,n),r)}unsafe(e,r,n,i){let s=$M(e);return s===1?this._unsafeLadder(e,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),r,i)}createCache(e,r){XM(r,this.bits),PY.set(e,r),GM.delete(e)}hasCache(e){return $M(e)!==1}};xu.wNAF=YM;function H7e(t,e,r,n){let i=e,s=t.ZERO,a=t.ZERO;for(;r>Gy||n>Gy;)r&og&&(s=s.add(i)),n&og&&(a=a.add(i)),i=i.double(),r>>=og,n>>=og;return{p1:s,p2:a}}o(H7e,"mulEndoUnsafe");function F7e(t,e,r,n){kY(r,t),BY(n,e);let i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");let a=t.ZERO,f=(0,D2.bitLen)(BigInt(i)),l=1;f>12?l=f-3:f>4?l=f-2:f>0&&(l=2);let h=(0,D2.bitMask)(l),b=new Array(Number(h)+1).fill(a),y=Math.floor((e.BITS-1)/l)*l,E=a;for(let I=y;I>=0;I-=l){b.fill(a);for(let N=0;N<s;N++){let k=n[N],C=Number(k>>BigInt(I)&h);b[C]=b[C].add(r[N])}let O=a;for(let N=b.length-1,k=a;N>0;N--)k=k.add(b[N]),O=O.add(k);if(E=E.add(O),I!==0)for(let N=0;N<l;N++)E=E.double()}return E}o(F7e,"pippenger");function q7e(t,e,r,n){XM(n,e.BITS),kY(r,t);let i=t.ZERO,s=2**n-1,a=Math.ceil(e.BITS/n),f=(0,D2.bitMask)(n),l=r.map(h=>{let b=[];for(let y=0,E=h;y<s;y++)b.push(E),E=E.add(h);return b});return h=>{if(BY(h,e),h.length>r.length)throw new Error("array of scalars must be smaller than array of points");let b=i;for(let y=0;y<a;y++){if(b!==i)for(let I=0;I<n;I++)b=b.double();let E=BigInt(a*n-(y+1)*n);for(let I=0;I<h.length;I++){let O=h[I],N=Number(O>>E&f);N&&(b=b.add(l[I][N-1]))}}return b}}o(q7e,"precomputeMSMUnsafe");function V7e(t){return(0,U2.validateField)(t.Fp),(0,D2.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,U2.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}o(V7e,"validateBasic");function CY(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,U2.validateField)(e),e}else return(0,U2.Field)(t,{isLE:r})}o(CY,"createField");function j7e(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let l of["p","n","h"]){let h=e[l];if(!(typeof h=="bigint"&&h>Gy))throw new Error(`CURVE.${l} must be positive bigint`)}let i=CY(e.p,r.Fp,n),s=CY(e.n,r.Fn,n),f=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let l of f)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}o(j7e,"_createCurveFields")});var UY=V(ag=>{"use strict";m();g();Object.defineProperty(ag,"__esModule",{value:!0});ag.PrimeEdwardsPoint=void 0;ag.edwards=LY;ag.eddsa=DY;ag.twistedEdwards=Y7e;var $r=e0(),sg=h6(),K7e=Bh(),Ph=BigInt(0),Fo=BigInt(1),ZM=BigInt(2),z7e=BigInt(8);function G7e(t,e,r,n){let i=t.sqr(r),s=t.sqr(n),a=t.add(t.mul(e.a,i),s),f=t.add(t.ONE,t.mul(e.d,t.mul(i,s)));return t.eql(a,f)}o(G7e,"isEdValidXY");function LY(t,e={}){let r=(0,sg._createCurveFields)("edwards",t,e,e.FpFnLE),{Fp:n,Fn:i}=r,s=r.CURVE,{h:a}=s;(0,$r._validateObject)(e,{},{uvRatio:"function"});let f=ZM<<BigInt(i.BYTES*8)-Fo,l=o(k=>n.create(k),"modP"),h=e.uvRatio||((k,C)=>{try{return{isValid:!0,value:n.sqrt(n.div(k,C))}}catch{return{isValid:!1,value:Ph}}});if(!G7e(n,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function b(k,C,L=!1){let M=L?Fo:Ph;return(0,$r.aInRange)("coordinate "+k,C,M,f),C}o(b,"acoord");function y(k){if(!(k instanceof O))throw new Error("ExtendedPoint expected")}o(y,"aextpoint");let E=(0,$r.memoized)((k,C)=>{let{X:L,Y:M,Z:U}=k,q=k.is0();C==null&&(C=q?z7e:n.inv(U));let j=l(L*C),re=l(M*C),Y=n.mul(U,C);if(q)return{x:Ph,y:Fo};if(Y!==Fo)throw new Error("invZ was invalid");return{x:j,y:re}}),I=(0,$r.memoized)(k=>{let{a:C,d:L}=s;if(k.is0())throw new Error("bad point: ZERO");let{X:M,Y:U,Z:q,T:j}=k,re=l(M*M),Y=l(U*U),X=l(q*q),S=l(X*X),c=l(re*C),d=l(X*l(c+Y)),p=l(S+l(L*l(re*Y)));if(d!==p)throw new Error("bad point: equation left != right (1)");let x=l(M*U),v=l(q*j);if(x!==v)throw new Error("bad point: equation left != right (2)");return!0});class O{static{o(this,"Point")}constructor(C,L,M,U){this.X=b("x",C),this.Y=b("y",L),this.Z=b("z",M,!0),this.T=b("t",U),Object.freeze(this)}static CURVE(){return s}static fromAffine(C){if(C instanceof O)throw new Error("extended point not allowed");let{x:L,y:M}=C||{};return b("x",L),b("y",M),new O(L,M,Fo,l(L*M))}static fromBytes(C,L=!1){let M=n.BYTES,{a:U,d:q}=s;C=(0,$r.copyBytes)((0,$r._abytes2)(C,M,"point")),(0,$r._abool2)(L,"zip215");let j=(0,$r.copyBytes)(C),re=C[M-1];j[M-1]=re&-129;let Y=(0,$r.bytesToNumberLE)(j),X=L?f:n.ORDER;(0,$r.aInRange)("point.y",Y,Ph,X);let S=l(Y*Y),c=l(S-Fo),d=l(q*S-U),{isValid:p,value:x}=h(c,d);if(!p)throw new Error("bad point: invalid y coordinate");let v=(x&Fo)===Fo,A=(re&128)!==0;if(!L&&x===Ph&&A)throw new Error("bad point: x=0 and x_0=1");return A!==v&&(x=l(-x)),O.fromAffine({x,y:Y})}static fromHex(C,L=!1){return O.fromBytes((0,$r.ensureBytes)("point",C),L)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(C=8,L=!0){return N.createCache(this,C),L||this.multiply(ZM),this}assertValidity(){I(this)}equals(C){y(C);let{X:L,Y:M,Z:U}=this,{X:q,Y:j,Z:re}=C,Y=l(L*re),X=l(q*U),S=l(M*re),c=l(j*U);return Y===X&&S===c}is0(){return this.equals(O.ZERO)}negate(){return new O(l(-this.X),this.Y,this.Z,l(-this.T))}double(){let{a:C}=s,{X:L,Y:M,Z:U}=this,q=l(L*L),j=l(M*M),re=l(ZM*l(U*U)),Y=l(C*q),X=L+M,S=l(l(X*X)-q-j),c=Y+j,d=c-re,p=Y-j,x=l(S*d),v=l(c*p),A=l(S*p),T=l(d*c);return new O(x,v,T,A)}add(C){y(C);let{a:L,d:M}=s,{X:U,Y:q,Z:j,T:re}=this,{X:Y,Y:X,Z:S,T:c}=C,d=l(U*Y),p=l(q*X),x=l(re*M*c),v=l(j*S),A=l((U+q)*(Y+X)-d-p),T=v-x,w=v+x,u=l(p-L*d),_=l(A*T),F=l(w*u),H=l(A*u),D=l(T*w);return new O(_,F,D,H)}subtract(C){return this.add(C.negate())}multiply(C){if(!i.isValidNot0(C))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:L,f:M}=N.cached(this,C,U=>(0,sg.normalizeZ)(O,U));return(0,sg.normalizeZ)(O,[L,M])[0]}multiplyUnsafe(C,L=O.ZERO){if(!i.isValid(C))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return C===Ph?O.ZERO:this.is0()||C===Fo?this:N.unsafe(this,C,M=>(0,sg.normalizeZ)(O,M),L)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return N.unsafe(this,s.n).is0()}toAffine(C){return E(this,C)}clearCofactor(){return a===Fo?this:this.multiplyUnsafe(a)}toBytes(){let{x:C,y:L}=this.toAffine(),M=n.toBytes(L);return M[M.length-1]|=C&Fo?128:0,M}toHex(){return(0,$r.bytesToHex)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(C){return(0,sg.normalizeZ)(O,C)}static msm(C,L){return(0,sg.pippenger)(O,i,C,L)}_setWindowSize(C){this.precompute(C)}toRawBytes(){return this.toBytes()}}O.BASE=new O(s.Gx,s.Gy,Fo,l(s.Gx*s.Gy)),O.ZERO=new O(Ph,Fo,Fo,Ph),O.Fp=n,O.Fn=i;let N=new sg.wNAF(O,i.BITS);return O.BASE.precompute(8),O}o(LY,"edwards");var JM=class{static{o(this,"PrimeEdwardsPoint")}constructor(e){this.ep=e}static fromBytes(e){(0,$r.notImplemented)()}static fromHex(e){(0,$r.notImplemented)()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return(0,$r.bytesToHex)(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,r){return this.init(this.ep.precompute(e,r))}toRawBytes(){return this.toBytes()}};ag.PrimeEdwardsPoint=JM;function DY(t,e,r={}){if(typeof e!="function")throw new Error('"hash" function param is required');(0,$r._validateObject)(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:i,Fp:s,Fn:a}=t,f=r.randomBytes||$r.randomBytes,l=r.adjustScalarBytes||(X=>X),h=r.domain||((X,S,c)=>{if((0,$r._abool2)(c,"phflag"),S.length||c)throw new Error("Contexts/pre-hash are not supported");return X});function b(X){return a.create((0,$r.bytesToNumberLE)(X))}o(b,"modN_LE");function y(X){let S=M.secretKey;X=(0,$r.ensureBytes)("private key",X,S);let c=(0,$r.ensureBytes)("hashed private key",e(X),2*S),d=l(c.slice(0,S)),p=c.slice(S,2*S),x=b(d);return{head:d,prefix:p,scalar:x}}o(y,"getPrivateScalar");function E(X){let{head:S,prefix:c,scalar:d}=y(X),p=i.multiply(d),x=p.toBytes();return{head:S,prefix:c,scalar:d,point:p,pointBytes:x}}o(E,"getExtendedPublicKey");function I(X){return E(X).pointBytes}o(I,"getPublicKey");function O(X=Uint8Array.of(),...S){let c=(0,$r.concatBytes)(...S);return b(e(h(c,(0,$r.ensureBytes)("context",X),!!n)))}o(O,"hashDomainToScalar");function N(X,S,c={}){X=(0,$r.ensureBytes)("message",X),n&&(X=n(X));let{prefix:d,scalar:p,pointBytes:x}=E(S),v=O(c.context,d,X),A=i.multiply(v).toBytes(),T=O(c.context,A,x,X),w=a.create(v+T*p);if(!a.isValid(w))throw new Error("sign failed: invalid s");let u=(0,$r.concatBytes)(A,a.toBytes(w));return(0,$r._abytes2)(u,M.signature,"result")}o(N,"sign");let k={zip215:!0};function C(X,S,c,d=k){let{context:p,zip215:x}=d,v=M.signature;X=(0,$r.ensureBytes)("signature",X,v),S=(0,$r.ensureBytes)("message",S),c=(0,$r.ensureBytes)("publicKey",c,M.publicKey),x!==void 0&&(0,$r._abool2)(x,"zip215"),n&&(S=n(S));let A=v/2,T=X.subarray(0,A),w=(0,$r.bytesToNumberLE)(X.subarray(A,v)),u,_,F;try{u=t.fromBytes(c,x),_=t.fromBytes(T,x),F=i.multiplyUnsafe(w)}catch{return!1}if(!x&&u.isSmallOrder())return!1;let H=O(p,_.toBytes(),u.toBytes(),S);return _.add(u.multiplyUnsafe(H)).subtract(F).clearCofactor().is0()}o(C,"verify");let L=s.BYTES,M={secretKey:L,publicKey:L,signature:2*L,seed:L};function U(X=f(M.seed)){return(0,$r._abytes2)(X,M.seed,"seed")}o(U,"randomSecretKey");function q(X){let S=Y.randomSecretKey(X);return{secretKey:S,publicKey:I(S)}}o(q,"keygen");function j(X){return(0,$r.isBytes)(X)&&X.length===a.BYTES}o(j,"isValidSecretKey");function re(X,S){try{return!!t.fromBytes(X,S)}catch{return!1}}o(re,"isValidPublicKey");let Y={getExtendedPublicKey:E,randomSecretKey:U,isValidSecretKey:j,isValidPublicKey:re,toMontgomery(X){let{y:S}=t.fromBytes(X),c=M.publicKey,d=c===32;if(!d&&c!==57)throw new Error("only defined for 25519 and 448");let p=d?s.div(Fo+S,Fo-S):s.div(S-Fo,S+Fo);return s.toBytes(p)},toMontgomerySecret(X){let S=M.secretKey;(0,$r._abytes2)(X,S);let c=e(X.subarray(0,S));return l(c).subarray(0,S)},randomPrivateKey:U,precompute(X=8,S=t.BASE){return S.precompute(X,!1)}};return Object.freeze({keygen:q,getPublicKey:I,sign:N,verify:C,utils:Y,Point:t,lengths:M})}o(DY,"eddsa");function $7e(t){let e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=(0,K7e.Field)(e.n,t.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:t.uvRatio},s={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:s}}o($7e,"_eddsa_legacy_opts_to_new");function W7e(t,e){let r=e.Point;return Object.assign({},e,{ExtendedPoint:r,CURVE:t,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}o(W7e,"_eddsa_new_output_to_legacy");function Y7e(t){let{CURVE:e,curveOpts:r,hash:n,eddsaOpts:i}=$7e(t),s=LY(e,r),a=DY(s,n,i);return W7e(t,a)}o(Y7e,"twistedEdwards")});var QM=V(Tl=>{"use strict";m();g();Object.defineProperty(Tl,"__esModule",{value:!0});Tl._DST_scalar=void 0;Tl.expand_message_xmd=qY;Tl.expand_message_xof=VY;Tl.hash_to_field=p6;Tl.isogenyMap=J7e;Tl.createHasher=Q7e;var ns=e0(),HY=Bh(),X7e=ns.bytesToNumberBE;function Lh(t,e){if(H2(t),H2(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}o(Lh,"i2osp");function Z7e(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}o(Z7e,"strxor");function H2(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}o(H2,"anum");function FY(t){if(!(0,ns.isBytes)(t)&&typeof t!="string")throw new Error("DST must be Uint8Array or string");return typeof t=="string"?(0,ns.utf8ToBytes)(t):t}o(FY,"normDST");function qY(t,e,r,n){(0,ns.abytes)(t),H2(r),e=FY(e),e.length>255&&(e=n((0,ns.concatBytes)((0,ns.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");let f=(0,ns.concatBytes)(e,Lh(e.length,1)),l=Lh(0,s),h=Lh(r,2),b=new Array(a),y=n((0,ns.concatBytes)(l,t,h,Lh(0,1),f));b[0]=n((0,ns.concatBytes)(y,Lh(1,1),f));for(let I=1;I<=a;I++){let O=[Z7e(y,b[I-1]),Lh(I+1,1),f];b[I]=n((0,ns.concatBytes)(...O))}return(0,ns.concatBytes)(...b).slice(0,r)}o(qY,"expand_message_xmd");function VY(t,e,r,n,i){if((0,ns.abytes)(t),H2(r),e=FY(e),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update((0,ns.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Lh(r,2)).update(e).update(Lh(e.length,1)).digest()}o(VY,"expand_message_xof");function p6(t,e,r){(0,ns._validateObject)(r,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:n,k:i,m:s,hash:a,expand:f,DST:l}=r;if(!(0,ns.isHash)(r.hash))throw new Error("expected valid hash");(0,ns.abytes)(t),H2(e);let h=n.toString(2).length,b=Math.ceil((h+i)/8),y=e*s*b,E;if(f==="xmd")E=qY(t,l,y,a);else if(f==="xof")E=VY(t,l,y,i,a);else if(f==="_internal_pass")E=t;else throw new Error('expand must be "xmd" or "xof"');let I=new Array(e);for(let O=0;O<e;O++){let N=new Array(s);for(let k=0;k<s;k++){let C=b*(k+O*s),L=E.subarray(C,C+b);N[k]=(0,HY.mod)(X7e(L),n)}I[O]=N}return I}o(p6,"hash_to_field");function J7e(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,a,f,l]=r.map(y=>y.reduce((E,I)=>t.add(t.mul(E,n),I))),[h,b]=(0,HY.FpInvertBatch)(t,[a,l],!0);return n=t.mul(s,h),i=t.mul(i,t.mul(f,b)),{x:n,y:i}}}o(J7e,"isogenyMap");Tl._DST_scalar=(0,ns.utf8ToBytes)("HashToScalar-");function Q7e(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function n(s){return t.fromAffine(e(s))}o(n,"map");function i(s){let a=s.clearCofactor();return a.equals(t.ZERO)?t.ZERO:(a.assertValidity(),a)}return o(i,"clear"),{defaults:r,hashToCurve(s,a){let f=Object.assign({},r,a),l=p6(s,2,f),h=n(l[0]),b=n(l[1]);return i(h.add(b))},encodeToCurve(s,a){let f=r.encodeDST?{DST:r.encodeDST}:{},l=Object.assign({},r,f,a),h=p6(s,1,l),b=n(h[0]);return i(b)},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(let a of s)if(typeof a!="bigint")throw new Error("expected array of bigints");return i(n(s))},hashToScalar(s,a){let f=t.Fn.ORDER,l=Object.assign({},r,{p:f,m:1,DST:Tl._DST_scalar},a);return p6(s,1,l)[0][0]}}}o(Q7e,"createHasher")});var jY=V(eC=>{"use strict";m();g();Object.defineProperty(eC,"__esModule",{value:!0});eC.montgomery=r9e;var Rl=e0(),e9e=Bh(),F2=BigInt(0),$y=BigInt(1),m6=BigInt(2);function t9e(t){return(0,Rl._validateObject)(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}o(t9e,"validateOpts");function r9e(t){let e=t9e(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:a}=e,f=n==="x25519";if(!f&&n!=="x448")throw new Error("invalid type");let l=a||Rl.randomBytes,h=f?255:448,b=f?32:56,y=BigInt(f?9:5),E=BigInt(f?121665:39081),I=f?m6**BigInt(254):m6**BigInt(447),O=f?BigInt(8)*m6**BigInt(251)-$y:BigInt(4)*m6**BigInt(445)-$y,N=I+O+$y,k=o(p=>(0,e9e.mod)(p,r),"modP"),C=L(y);function L(p){return(0,Rl.numberToBytesLE)(k(p),b)}o(L,"encodeU");function M(p){let x=(0,Rl.ensureBytes)("u coordinate",p,b);return f&&(x[31]&=127),k((0,Rl.bytesToNumberLE)(x))}o(M,"decodeU");function U(p){return(0,Rl.bytesToNumberLE)(i((0,Rl.ensureBytes)("scalar",p,b)))}o(U,"decodeScalar");function q(p,x){let v=Y(M(x),U(p));if(v===F2)throw new Error("invalid private or public key received");return L(v)}o(q,"scalarMult");function j(p){return q(p,C)}o(j,"scalarMultBase");function re(p,x,v){let A=k(p*(x-v));return x=k(x-A),v=k(v+A),{x_2:x,x_3:v}}o(re,"cswap");function Y(p,x){(0,Rl.aInRange)("u",p,F2,r),(0,Rl.aInRange)("scalar",x,I,N);let v=x,A=p,T=$y,w=F2,u=p,_=$y,F=F2;for(let D=BigInt(h-1);D>=F2;D--){let $=v>>D&$y;F^=$,{x_2:T,x_3:u}=re(F,T,u),{x_2:w,x_3:_}=re(F,w,_),F=$;let ee=T+w,te=k(ee*ee),Oe=T-w,fe=k(Oe*Oe),le=te-fe,ge=u+_,pe=u-_,ye=k(pe*ee),Cr=k(ge*Oe),Re=ye+Cr,Me=ye-Cr;u=k(Re*Re),_=k(A*k(Me*Me)),T=k(te*fe),w=k(le*(te+k(E*le)))}({x_2:T,x_3:u}=re(F,T,u)),{x_2:w,x_3:_}=re(F,w,_);let H=s(w);return k(T*H)}o(Y,"montgomeryLadder");let X={secretKey:b,publicKey:b,seed:b},S=o((p=l(b))=>((0,Rl.abytes)(p,X.seed),p),"randomSecretKey");function c(p){let x=S(p);return{secretKey:x,publicKey:j(x)}}return o(c,"keygen"),{keygen:c,getSharedSecret:o((p,x)=>q(p,x),"getSharedSecret"),getPublicKey:o(p=>j(p),"getPublicKey"),scalarMult:q,scalarMultBase:j,utils:{randomSecretKey:S,randomPrivateKey:S},GuBytes:C.slice(),lengths:X}}o(r9e,"montgomery")});var tX=V(or=>{"use strict";m();g();Object.defineProperty(or,"__esModule",{value:!0});or.hash_to_ristretto255=or.hashToRistretto255=or.encodeToCurve=or.hashToCurve=or.RistrettoPoint=or.edwardsToMontgomery=or.ED25519_TORSION_SUBGROUP=or.ristretto255_hasher=or.ristretto255=or.ed25519_hasher=or.x25519=or.ed25519ph=or.ed25519ctx=or.ed25519=void 0;or.edwardsToMontgomeryPub=eX;or.edwardsToMontgomeryPriv=g9e;var q2=c6(),y6=El(),n9e=h6(),x6=UY(),g6=QM(),tn=Bh(),i9e=jY(),cg=e0(),o9e=BigInt(0),Ol=BigInt(1),b6=BigInt(2),$Y=BigInt(3),WY=BigInt(5),iC=BigInt(8),t0=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),V2={p:t0,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:iC,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function YY(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=t0,f=t*t%s*t%s,l=(0,tn.pow2)(f,b6,s)*f%s,h=(0,tn.pow2)(l,Ol,s)*t%s,b=(0,tn.pow2)(h,WY,s)*h%s,y=(0,tn.pow2)(b,e,s)*b%s,E=(0,tn.pow2)(y,r,s)*y%s,I=(0,tn.pow2)(E,n,s)*E%s,O=(0,tn.pow2)(I,i,s)*I%s,N=(0,tn.pow2)(O,i,s)*I%s,k=(0,tn.pow2)(N,e,s)*b%s;return{pow_p_5_8:(0,tn.pow2)(k,b6,s)*t%s,b2:f}}o(YY,"ed25519_pow_2_252_3");function XY(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}o(XY,"adjustScalarBytes");var tC=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function oC(t,e){let r=t0,n=(0,tn.mod)(e*e*e,r),i=(0,tn.mod)(n*n*e,r),s=YY(t*i).pow_p_5_8,a=(0,tn.mod)(t*n*s,r),f=(0,tn.mod)(e*a*a,r),l=a,h=(0,tn.mod)(a*tC,r),b=f===t,y=f===(0,tn.mod)(-t,r),E=f===(0,tn.mod)(-t*tC,r);return b&&(a=l),(y||E)&&(a=h),(0,tn.isNegativeLE)(a,r)&&(a=(0,tn.mod)(-a,r)),{isValid:b||y,value:a}}o(oC,"uvRatio");var mt=(0,tn.Field)(V2.p,{isLE:!0}),ZY=(0,tn.Field)(V2.n,{isLE:!0}),sC={...V2,Fp:mt,hash:q2.sha512,adjustScalarBytes:XY,uvRatio:oC};or.ed25519=(0,x6.twistedEdwards)(sC);function JY(t,e,r){if(e.length>255)throw new Error("Context is too big");return(0,y6.concatBytes)((0,y6.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}o(JY,"ed25519_domain");or.ed25519ctx=(0,x6.twistedEdwards)({...sC,domain:JY});or.ed25519ph=(0,x6.twistedEdwards)(Object.assign({},sC,{domain:JY,prehash:q2.sha512}));or.x25519=(()=>{let t=mt.ORDER;return(0,i9e.montgomery)({P:t,type:"x25519",powPminus2:o(e=>{let{pow_p_5_8:r,b2:n}=YY(e);return(0,tn.mod)((0,tn.pow2)(r,$Y,t)*n,t)},"powPminus2"),adjustScalarBytes:XY})})();var s9e=(t0+$Y)/iC,a9e=mt.pow(b6,s9e),KY=mt.sqrt(mt.neg(mt.ONE));function c9e(t){let e=(t0-WY)/iC,r=BigInt(486662),n=mt.sqr(t);n=mt.mul(n,b6);let i=mt.add(n,mt.ONE),s=mt.neg(r),a=mt.sqr(i),f=mt.mul(a,i),l=mt.mul(n,r);l=mt.mul(l,s),l=mt.add(l,a),l=mt.mul(l,s);let h=mt.sqr(f);a=mt.sqr(h),h=mt.mul(h,f),h=mt.mul(h,l),a=mt.mul(a,h);let b=mt.pow(a,e);b=mt.mul(b,h);let y=mt.mul(b,KY);a=mt.sqr(b),a=mt.mul(a,f);let E=mt.eql(a,l),I=mt.cmov(y,b,E),O=mt.mul(s,n),N=mt.mul(b,t);N=mt.mul(N,a9e);let k=mt.mul(N,KY),C=mt.mul(l,n);a=mt.sqr(N),a=mt.mul(a,f);let L=mt.eql(a,C),M=mt.cmov(k,N,L);a=mt.sqr(I),a=mt.mul(a,f);let U=mt.eql(a,l),q=mt.cmov(O,s,U),j=mt.cmov(M,I,U),re=mt.isOdd(j);return j=mt.cmov(j,mt.neg(j),U!==re),{xMn:q,xMd:i,yMn:j,yMd:Ol}}o(c9e,"map_to_curve_elligator2_curve25519");var f9e=(0,tn.FpSqrtEven)(mt,mt.neg(BigInt(486664)));function u9e(t){let{xMn:e,xMd:r,yMn:n,yMd:i}=c9e(t),s=mt.mul(e,i);s=mt.mul(s,f9e);let a=mt.mul(r,n),f=mt.sub(e,r),l=mt.add(e,r),h=mt.mul(a,l),b=mt.eql(h,mt.ZERO);s=mt.cmov(s,mt.ZERO,b),a=mt.cmov(a,mt.ONE,b),f=mt.cmov(f,mt.ONE,b),l=mt.cmov(l,mt.ONE,b);let[y,E]=(0,tn.FpInvertBatch)(mt,[a,l],!0);return{x:mt.mul(s,y),y:mt.mul(f,E)}}o(u9e,"map_to_curve_elligator2_edwards25519");or.ed25519_hasher=(0,g6.createHasher)(or.ed25519.Point,t=>u9e(t[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:t0,m:1,k:128,expand:"xmd",hash:q2.sha512});var rC=tC,l9e=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),d9e=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),h9e=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),p9e=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),zY=o(t=>oC(Ol,t),"invertSqrt"),m9e=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),nC=o(t=>or.ed25519.Point.Fp.create((0,cg.bytesToNumberLE)(t)&m9e),"bytes255ToNumberLE");function GY(t){let{d:e}=V2,r=t0,n=o(C=>mt.create(C),"mod"),i=n(rC*t*t),s=n((i+Ol)*h9e),a=BigInt(-1),f=n((a-e*i)*n(i+e)),{isValid:l,value:h}=oC(s,f),b=n(h*t);(0,tn.isNegativeLE)(b,r)||(b=n(-b)),l||(h=b),l||(a=i);let y=n(a*(i-Ol)*p9e-f),E=h*h,I=n((h+h)*f),O=n(y*l9e),N=n(Ol-E),k=n(Ol+E);return new or.ed25519.Point(n(I*k),n(N*O),n(O*k),n(I*N))}o(GY,"calcElligatorRistrettoMap");function QY(t){(0,y6.abytes)(t,64);let e=nC(t.subarray(0,32)),r=GY(e),n=nC(t.subarray(32,64)),i=GY(n);return new vu(r.add(i))}o(QY,"ristretto255_map");var vu=class t extends x6.PrimeEdwardsPoint{static{o(this,"_RistrettoPoint")}constructor(e){super(e)}static fromAffine(e){return new t(or.ed25519.Point.fromAffine(e))}assertSame(e){if(!(e instanceof t))throw new Error("RistrettoPoint expected")}init(e){return new t(e)}static hashToCurve(e){return QY((0,cg.ensureBytes)("ristrettoHash",e,64))}static fromBytes(e){(0,y6.abytes)(e,32);let{a:r,d:n}=V2,i=t0,s=o(U=>mt.create(U),"mod"),a=nC(e);if(!(0,cg.equalBytes)(mt.toBytes(a),e)||(0,tn.isNegativeLE)(a,i))throw new Error("invalid ristretto255 encoding 1");let f=s(a*a),l=s(Ol+r*f),h=s(Ol-r*f),b=s(l*l),y=s(h*h),E=s(r*n*b-y),{isValid:I,value:O}=zY(s(E*y)),N=s(O*h),k=s(O*N*E),C=s((a+a)*N);(0,tn.isNegativeLE)(C,i)&&(C=s(-C));let L=s(l*k),M=s(C*L);if(!I||(0,tn.isNegativeLE)(M,i)||L===o9e)throw new Error("invalid ristretto255 encoding 2");return new t(new or.ed25519.Point(C,L,Ol,M))}static fromHex(e){return t.fromBytes((0,cg.ensureBytes)("ristrettoHex",e,32))}static msm(e,r){return(0,n9e.pippenger)(t,or.ed25519.Point.Fn,e,r)}toBytes(){let{X:e,Y:r,Z:n,T:i}=this.ep,s=t0,a=o(k=>mt.create(k),"mod"),f=a(a(n+r)*a(n-r)),l=a(e*r),h=a(l*l),{value:b}=zY(a(f*h)),y=a(b*f),E=a(b*l),I=a(y*E*i),O;if((0,tn.isNegativeLE)(i*I,s)){let k=a(r*rC),C=a(e*rC);e=k,r=C,O=a(y*d9e)}else O=E;(0,tn.isNegativeLE)(e*I,s)&&(r=a(-r));let N=a((n-r)*O);return(0,tn.isNegativeLE)(N,s)&&(N=a(-N)),mt.toBytes(N)}equals(e){this.assertSame(e);let{X:r,Y:n}=this.ep,{X:i,Y:s}=e.ep,a=o(h=>mt.create(h),"mod"),f=a(r*s)===a(n*i),l=a(n*s)===a(r*i);return f||l}is0(){return this.equals(t.ZERO)}};vu.BASE=new vu(or.ed25519.Point.BASE);vu.ZERO=new vu(or.ed25519.Point.ZERO);vu.Fp=mt;vu.Fn=ZY;or.ristretto255={Point:vu};or.ristretto255_hasher={hashToCurve(t,e){let r=e?.DST||"ristretto255_XMD:SHA-512_R255MAP_RO_",n=(0,g6.expand_message_xmd)(t,r,64,q2.sha512);return QY(n)},hashToScalar(t,e={DST:g6._DST_scalar}){let r=(0,g6.expand_message_xmd)(t,e.DST,64,q2.sha512);return ZY.create((0,cg.bytesToNumberLE)(r))}};or.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];function eX(t){return or.ed25519.utils.toMontgomery((0,cg.ensureBytes)("pub",t))}o(eX,"edwardsToMontgomeryPub");or.edwardsToMontgomery=eX;function g9e(t){return or.ed25519.utils.toMontgomerySecret((0,cg.ensureBytes)("pub",t))}o(g9e,"edwardsToMontgomeryPriv");or.RistrettoPoint=vu;or.hashToCurve=or.ed25519_hasher.hashToCurve;or.encodeToCurve=or.ed25519_hasher.encodeToCurve;or.hashToRistretto255=or.ristretto255_hasher.hashToCurve;or.hash_to_ristretto255=or.ristretto255_hasher.hashToCurve});var rX=V(Nl=>{"use strict";m();g();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.sha224=Nl.SHA224=Nl.sha256=Nl.SHA256=void 0;var v6=c6();Nl.SHA256=v6.SHA256;Nl.sha256=v6.sha256;Nl.SHA224=v6.SHA224;Nl.sha224=v6.sha224});var nX=V(fC=>{"use strict";m();g();function r0(t,e,r){return e<=t&&t<=r}o(r0,"inRange");function A6(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}o(A6,"ToDictionary");function y9e(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var f=s&1023,l=a&1023;i.push(65536+(f<<10)+l),n+=1}else i.push(65533)}n+=1}return i}o(y9e,"stringToCodePoints");function b9e(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}o(b9e,"codePointsToString");var _6=-1;function cC(t){this.tokens=[].slice.call(t)}o(cC,"Stream");cC.prototype={endOfStream:o(function(){return!this.tokens.length},"endOfStream"),read:o(function(){return this.tokens.length?this.tokens.shift():_6},"read"),prepend:o(function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},"prepend"),push:o(function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)},"push")};var Wy=-1;function aC(t,e){if(t)throw TypeError("Decoder error");return e||65533}o(aC,"decoderError");var w6="utf-8";function S6(t,e){if(!(this instanceof S6))return new S6(t,e);if(t=t!==void 0?String(t).toLowerCase():w6,t!==w6)throw new Error("Encoding not supported. Only utf-8 is supported");e=A6(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}o(S6,"TextDecoder");S6.prototype={decode:o(function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=A6(r),this._streaming||(this._decoder=new x9e({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new cC(n),s=[],a;!i.endOfStream()&&(a=this._decoder.handler(i,i.read()),a!==Wy);)a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));if(!this._streaming){do{if(a=this._decoder.handler(i,i.read()),a===Wy)break;a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),b9e(s)},"decode")};function E6(t,e){if(!(this instanceof E6))return new E6(t,e);if(t=t!==void 0?String(t).toLowerCase():w6,t!==w6)throw new Error("Encoding not supported. Only utf-8 is supported");e=A6(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}o(E6,"TextEncoder");E6.prototype={encode:o(function(e,r){e=e?String(e):"",r=A6(r),this._streaming||(this._encoder=new v9e(this._options)),this._streaming=!!r.stream;for(var n=[],i=new cC(y9e(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Wy);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Wy;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)},"encode")};function x9e(t){var e=t.fatal,r=0,n=0,i=0,s=128,a=191;this.handler=function(f,l){if(l===_6&&i!==0)return i=0,aC(e);if(l===_6)return Wy;if(i===0){if(r0(l,0,127))return l;if(r0(l,194,223))i=1,r=l-192;else if(r0(l,224,239))l===224&&(s=160),l===237&&(a=159),i=2,r=l-224;else if(r0(l,240,244))l===240&&(s=144),l===244&&(a=143),i=3,r=l-240;else return aC(e);return r=r<<6*i,null}if(!r0(l,s,a))return r=i=n=0,s=128,a=191,f.prepend(l),aC(e);if(s=128,a=191,n+=1,r+=l-128<<6*(i-n),n!==i)return null;var h=r;return r=i=n=0,h}}o(x9e,"UTF8Decoder");function v9e(t){var e=t.fatal;this.handler=function(r,n){if(n===_6)return Wy;if(r0(n,0,127))return n;var i,s;r0(n,128,2047)?(i=1,s=192):r0(n,2048,65535)?(i=2,s=224):r0(n,65536,1114111)&&(i=3,s=240);for(var a=[(n>>6*i)+s];i>0;){var f=n>>6*(i-1);a.push(128|f&63),i-=1}return a}}o(v9e,"UTF8Encoder");fC.TextEncoder=E6;fC.TextDecoder=S6});var cX=V(Nn=>{"use strict";m();g();var _9e=Nn&&Nn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:o(function(){return e[r]},"get")})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),w9e=Nn&&Nn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ml=Nn&&Nn.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(a=t[f])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},S9e=Nn&&Nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&_9e(e,t,r);return w9e(e,t),e},iX=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.deserializeUnchecked=Nn.deserialize=Nn.serialize=Nn.BinaryReader=Nn.BinaryWriter=Nn.BorshError=Nn.baseDecode=Nn.baseEncode=void 0;var Dh=iX(ky()),oX=iX(bu()),E9e=S9e(nX()),A9e=typeof TextDecoder!="function"?E9e.TextDecoder:TextDecoder,I9e=new A9e("utf-8",{fatal:!0});function T9e(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),oX.default.encode(Buffer.from(t))}o(T9e,"baseEncode");Nn.baseEncode=T9e;function R9e(t){return Buffer.from(oX.default.decode(t))}o(R9e,"baseDecode");Nn.baseDecode=R9e;var uC=1024,is=class extends Error{static{o(this,"BorshError")}constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Nn.BorshError=is;var I6=class{static{o(this,"BinaryWriter")}constructor(){this.buf=Buffer.alloc(uC),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(uC)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Dh.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Dh.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Dh.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Dh.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(uC)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};Nn.BinaryWriter=I6;function Cl(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){let a=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new is("Reached the end of buffer when deserializing")}throw s}}}o(Cl,"handlingRangeError");var Ia=class{static{o(this,"BinaryReader")}constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Dh.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Dh.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Dh.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Dh.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new is(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return I9e.decode(r)}catch(n){throw new is(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Ml([Cl],Ia.prototype,"readU8",null);Ml([Cl],Ia.prototype,"readU16",null);Ml([Cl],Ia.prototype,"readU32",null);Ml([Cl],Ia.prototype,"readU64",null);Ml([Cl],Ia.prototype,"readU128",null);Ml([Cl],Ia.prototype,"readU256",null);Ml([Cl],Ia.prototype,"readU512",null);Ml([Cl],Ia.prototype,"readString",null);Ml([Cl],Ia.prototype,"readFixedArray",null);Ml([Cl],Ia.prototype,"readArray",null);Nn.BinaryReader=Ia;function sX(t){return t.charAt(0).toUpperCase()+t.slice(1)}o(sX,"capitalizeFirstLetter");function fg(t,e,r,n,i){try{if(typeof n=="string")i[`write${sX(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new is(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new is(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)fg(t,null,r[s],n[0],i)}else i.writeArray(r,s=>{fg(t,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),fg(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,a)=>{fg(t,e,a,n.key,i),fg(t,e,s,n.value,i)});break}default:throw new is(`FieldType ${n} unrecognized`)}else aX(t,r,i)}catch(s){throw s instanceof is&&s.addToFieldPath(e),s}}o(fg,"serializeField");function aX(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new is(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{fg(t,i,e[i],s,r)});else if(n.kind==="enum"){let i=e[n.field];for(let s=0;s<n.values.length;++s){let[a,f]=n.values[s];if(a===i){r.writeU8(s),fg(t,a,e[a],f,r);break}}}else throw new is(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o(aX,"serializeStruct");function O9e(t,e,r=I6){let n=new r;return aX(t,e,n),n.toArray()}o(O9e,"serialize");Nn.serialize=O9e;function ug(t,e,r,n){try{if(typeof r=="string")return n[`read${sX(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let s=0;s<r[1];s++)i.push(ug(t,null,r[0],n));return i}else return n.readArray(()=>ug(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?ug(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,s=n.readU32();for(let a=0;a<s;a++){let f=ug(t,e,r.key,n),l=ug(t,e,r.value,n);i.set(f,l)}return i}return lC(t,r,n)}catch(i){throw i instanceof is&&i.addToFieldPath(e),i}}o(ug,"deserializeField");function lC(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new is(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[s,a]of t.get(e).fields)i[s]=ug(t,s,a,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new is(`Enum index: ${i} is out of range`);let[s,a]=n.values[i],f=ug(t,s,a,r);return new e({[s]:f})}throw new is(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o(lC,"deserializeStruct");function N9e(t,e,r,n=Ia){let i=new n(r),s=lC(t,e,i);if(i.offset<r.length)throw new is(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}o(N9e,"deserialize");Nn.deserialize=N9e;function M9e(t,e,r,n=Ia){let i=new n(r);return lC(t,e,i)}o(M9e,"deserializeUnchecked");Nn.deserializeUnchecked=M9e});var mC=V(Ie=>{"use strict";m();g();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.s16=Ie.s8=Ie.nu64be=Ie.u48be=Ie.u40be=Ie.u32be=Ie.u24be=Ie.u16be=Ie.nu64=Ie.u48=Ie.u40=Ie.u32=Ie.u24=Ie.u16=Ie.u8=Ie.offset=Ie.greedy=Ie.Constant=Ie.UTF8=Ie.CString=Ie.Blob=Ie.Boolean=Ie.BitField=Ie.BitStructure=Ie.VariantLayout=Ie.Union=Ie.UnionLayoutDiscriminator=Ie.UnionDiscriminator=Ie.Structure=Ie.Sequence=Ie.DoubleBE=Ie.Double=Ie.FloatBE=Ie.Float=Ie.NearInt64BE=Ie.NearInt64=Ie.NearUInt64BE=Ie.NearUInt64=Ie.IntBE=Ie.Int=Ie.UIntBE=Ie.UInt=Ie.OffsetLayout=Ie.GreedyCount=Ie.ExternalLayout=Ie.bindConstructorLayout=Ie.nameWithProperty=Ie.Layout=Ie.uint8ArrayToBuffer=Ie.checkUint8Array=void 0;Ie.constant=Ie.utf8=Ie.cstr=Ie.blob=Ie.unionLayoutDiscriminator=Ie.union=Ie.seq=Ie.bits=Ie.struct=Ie.f64be=Ie.f64=Ie.f32be=Ie.f32=Ie.ns64be=Ie.s48be=Ie.s40be=Ie.s32be=Ie.s24be=Ie.s16be=Ie.ns64=Ie.s48=Ie.s40=Ie.s32=Ie.s24=void 0;var hC=Yi();function Zy(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o(Zy,"checkUint8Array");Ie.checkUint8Array=Zy;function rn(t){return Zy(t),hC.Buffer.from(t.buffer,t.byteOffset,t.length)}o(rn,"uint8ArrayToBuffer");Ie.uint8ArrayToBuffer=rn;var mn=class{static{o(this,"Layout")}constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Ie.Layout=mn;function pC(t,e){return e.property?t+"["+e.property+"]":t}o(pC,"nameWithProperty");Ie.nameWithProperty=pC;function C9e(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof mn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}o(C9e,"bindConstructorLayout");Ie.bindConstructorLayout=C9e;var Ds=class extends mn{static{o(this,"ExternalLayout")}isCount(){throw new Error("ExternalLayout is abstract")}};Ie.ExternalLayout=Ds;var T6=class extends Ds{static{o(this,"GreedyCount")}constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){Zy(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Ie.GreedyCount=T6;var j2=class extends Ds{static{o(this,"OffsetLayout")}constructor(e,r=0,n){if(!(e instanceof mn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Qa||this.layout instanceof Bc}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Ie.OffsetLayout=j2;var Qa=class extends mn{static{o(this,"UInt")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return rn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return rn(r).writeUIntLE(e,n,this.span),this.span}};Ie.UInt=Qa;var Bc=class extends mn{static{o(this,"UIntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return rn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return rn(r).writeUIntBE(e,n,this.span),this.span}};Ie.UIntBE=Bc;var n0=class extends mn{static{o(this,"Int")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return rn(e).readIntLE(r,this.span)}encode(e,r,n=0){return rn(r).writeIntLE(e,n,this.span),this.span}};Ie.Int=n0;var Uh=class extends mn{static{o(this,"IntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return rn(e).readIntBE(r,this.span)}encode(e,r,n=0){return rn(r).writeIntBE(e,n,this.span),this.span}};Ie.IntBE=Uh;var dC=Math.pow(2,32);function K6(t){let e=Math.floor(t/dC),r=t-e*dC;return{hi32:e,lo32:r}}o(K6,"divmodInt64");function z6(t,e){return t*dC+e}o(z6,"roundedInt64");var R6=class extends mn{static{o(this,"NearUInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=rn(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return z6(s,i)}encode(e,r,n=0){let i=K6(e),s=rn(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Ie.NearUInt64=R6;var O6=class extends mn{static{o(this,"NearUInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=rn(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return z6(i,s)}encode(e,r,n=0){let i=K6(e),s=rn(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Ie.NearUInt64BE=O6;var N6=class extends mn{static{o(this,"NearInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=rn(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return z6(s,i)}encode(e,r,n=0){let i=K6(e),s=rn(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Ie.NearInt64=N6;var M6=class extends mn{static{o(this,"NearInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=rn(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return z6(i,s)}encode(e,r,n=0){let i=K6(e),s=rn(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Ie.NearInt64BE=M6;var C6=class extends mn{static{o(this,"Float")}constructor(e){super(4,e)}decode(e,r=0){return rn(e).readFloatLE(r)}encode(e,r,n=0){return rn(r).writeFloatLE(e,n),4}};Ie.Float=C6;var k6=class extends mn{static{o(this,"FloatBE")}constructor(e){super(4,e)}decode(e,r=0){return rn(e).readFloatBE(r)}encode(e,r,n=0){return rn(r).writeFloatBE(e,n),4}};Ie.FloatBE=k6;var B6=class extends mn{static{o(this,"Double")}constructor(e){super(8,e)}decode(e,r=0){return rn(e).readDoubleLE(r)}encode(e,r,n=0){return rn(r).writeDoubleLE(e,n),8}};Ie.Double=B6;var P6=class extends mn{static{o(this,"DoubleBE")}constructor(e){super(8,e)}decode(e,r=0){return rn(e).readDoubleBE(r)}encode(e,r,n=0){return rn(r).writeDoubleBE(e,n),8}};Ie.DoubleBE=P6;var L6=class extends mn{static{o(this,"Sequence")}constructor(e,r,n){if(!(e instanceof mn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Ds&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Ds)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Ds&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){let n=[],i=0,s=this.count;for(s instanceof Ds&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,s=e.reduce((a,f)=>a+i.encode(f,r,n+a),0);return this.count instanceof Ds&&this.count.encode(e.length,r,n),s}};Ie.Sequence=L6;var D6=class extends mn{static{o(this,"Structure")}constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof mn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let a=s.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){Zy(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,s=0,a=0;for(let f of this.fields){let l=f.span;if(a=0<l?l:0,f.property!==void 0){let h=e[f.property];h!==void 0&&(a=f.encode(h,r,n),0>l&&(l=f.getSpan(r,n)))}s=n,n+=l}return s+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Ie.Structure=D6;var K2=class{static{o(this,"UnionDiscriminator")}constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Ie.UnionDiscriminator=K2;var Xy=class extends K2{static{o(this,"UnionLayoutDiscriminator")}constructor(e,r){if(!(e instanceof Ds&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Ie.UnionLayoutDiscriminator=Xy;var z2=class extends mn{static{o(this,"Union")}constructor(e,r,n){let i;if(e instanceof Qa||e instanceof Bc)i=new Xy(new j2(e));else if(e instanceof Ds&&e.isCount())i=new Xy(e);else if(e instanceof K2)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof mn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof Qa||e instanceof Bc)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Qa||e instanceof Bc,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return a(f)},this.configGetSourceVariant=function(f){a=f.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,s=i.decode(e,r),a=this.registry[s];if(a===void 0){let f=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[f.property]=f.decode(e,r+l)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,a=this.defaultLayout,f=0;return this.usesPrefixDiscriminator&&(f=s.layout.span),s.encode(e[s.property],r,n),f+a.encode(e[a.property],r,n+f)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new U6(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Ie.Union=z2;var U6=class extends mn{static{o(this,"VariantLayout")}constructor(e,r,n,i){if(!(e instanceof z2))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof mn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Ie.VariantLayout=U6;function Yy(t){return 0>t&&(t+=4294967296),t}o(Yy,"fixBitwiseResult");var G2=class extends mn{static{o(this,"BitStructure")}constructor(e,r,n){if(!(e instanceof Qa||e instanceof Bc))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Yy(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new $2(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new H6(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};Ie.BitStructure=G2;var $2=class{static{o(this,"BitField")}constructor(e,r,n){if(!(e instanceof G2))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((a,f)=>a+f.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=Yy(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return Yy(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Yy(e&this.valueMask))throw new TypeError(pC("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=Yy(e<<this.start);this.container._packedSetValue(Yy(r&~this.wordMask)|n)}};Ie.BitField=$2;var H6=class extends $2{static{o(this,"Boolean")}constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Ie.Boolean=H6;var F6=class extends mn{static{o(this,"Blob")}constructor(e,r){if(!(e instanceof Ds&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ds||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),rn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Ds&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(pC("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let s=rn(e);return rn(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Ds&&this.length.encode(i,r,n),i}};Ie.Blob=F6;var q6=class extends mn{static{o(this,"CString")}constructor(e){super(-1,e)}getSpan(e,r=0){Zy(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return rn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=hC.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");let a=rn(r);return i.copy(a,n),a[n+s]=0,s+1}};Ie.CString=q6;var V6=class extends mn{static{o(this,"UTF8")}constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return Zy(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return rn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=hC.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(rn(r),n),s}};Ie.UTF8=V6;var j6=class extends mn{static{o(this,"Constant")}constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Ie.Constant=j6;Ie.greedy=(t,e)=>new T6(t,e);Ie.offset=(t,e,r)=>new j2(t,e,r);Ie.u8=t=>new Qa(1,t);Ie.u16=t=>new Qa(2,t);Ie.u24=t=>new Qa(3,t);Ie.u32=t=>new Qa(4,t);Ie.u40=t=>new Qa(5,t);Ie.u48=t=>new Qa(6,t);Ie.nu64=t=>new R6(t);Ie.u16be=t=>new Bc(2,t);Ie.u24be=t=>new Bc(3,t);Ie.u32be=t=>new Bc(4,t);Ie.u40be=t=>new Bc(5,t);Ie.u48be=t=>new Bc(6,t);Ie.nu64be=t=>new O6(t);Ie.s8=t=>new n0(1,t);Ie.s16=t=>new n0(2,t);Ie.s24=t=>new n0(3,t);Ie.s32=t=>new n0(4,t);Ie.s40=t=>new n0(5,t);Ie.s48=t=>new n0(6,t);Ie.ns64=t=>new N6(t);Ie.s16be=t=>new Uh(2,t);Ie.s24be=t=>new Uh(3,t);Ie.s32be=t=>new Uh(4,t);Ie.s40be=t=>new Uh(5,t);Ie.s48be=t=>new Uh(6,t);Ie.ns64be=t=>new M6(t);Ie.f32=t=>new C6(t);Ie.f32be=t=>new k6(t);Ie.f64=t=>new B6(t);Ie.f64be=t=>new P6(t);Ie.struct=(t,e,r)=>new D6(t,e,r);Ie.bits=(t,e,r)=>new G2(t,e,r);Ie.seq=(t,e,r)=>new L6(t,e,r);Ie.union=(t,e,r)=>new z2(t,e,r);Ie.unionLayoutDiscriminator=(t,e)=>new Xy(t,e);Ie.blob=(t,e)=>new F6(t,e);Ie.cstr=t=>new q6(t);Ie.utf8=(t,e)=>new V6(t,e);Ie.constant=(t,e)=>new j6(t,e)});var qC=V(ce=>{"use strict";m();g();var fX=1,uX=2,lX=3,dX=4,hX=5,pX=6,mX=7,gX=8,yX=9,gC=10,yC=-32700,bC=-32603,xC=-32602,vC=-32601,_C=-32600,bX=-32016,wC=-32015,SC=-32014,xX=-32013,EC=-32012,vX=-32011,AC=-32010,IC=-32009,_X=-32008,TC=-32007,RC=-32006,wX=-32005,OC=-32004,SX=-32003,G6=-32002,NC=-32001,EX=28e5,AX=2800001,IX=2800002,TX=2800003,RX=2800004,OX=2800005,NX=2800006,MX=2800007,CX=2800008,kX=2800009,BX=2800010,PX=2800011,LX=323e4,DX=32300001,UX=3230002,HX=3230003,FX=3230004,qX=361e4,VX=3610001,jX=3610002,KX=3610003,zX=3610004,GX=3610005,$X=3610006,WX=3610007,YX=3611e3,XX=3704e3,ZX=3704001,JX=3704002,QX=3704003,eZ=3704004,tZ=4128e3,rZ=4128001,nZ=4128002,MC=4615e3,iZ=4615001,oZ=4615002,sZ=4615003,aZ=4615004,cZ=4615005,fZ=4615006,uZ=4615007,lZ=4615008,dZ=4615009,hZ=4615010,pZ=4615011,mZ=4615012,gZ=4615013,yZ=4615014,bZ=4615015,xZ=4615016,vZ=4615017,_Z=4615018,wZ=4615019,SZ=4615020,EZ=4615021,AZ=4615022,IZ=4615023,TZ=4615024,RZ=4615025,CC=4615026,OZ=4615027,NZ=4615028,MZ=4615029,CZ=4615030,kZ=4615031,BZ=4615032,PZ=4615033,LZ=4615034,DZ=4615035,UZ=4615036,HZ=4615037,FZ=4615038,qZ=4615039,VZ=4615040,jZ=4615041,KZ=4615042,zZ=4615043,GZ=4615044,kC=4615045,$Z=4615046,WZ=4615047,YZ=4615048,XZ=4615049,ZZ=4615050,JZ=4615051,QZ=4615052,eJ=4615053,tJ=4615054,rJ=5508e3,nJ=5508001,iJ=5508002,oJ=5508003,sJ=5508004,aJ=5508005,cJ=5508006,fJ=5508007,uJ=5508008,lJ=5508009,dJ=5508010,hJ=5508011,pJ=5663e3,mJ=5663001,gJ=5663002,yJ=5663003,bJ=5663004,xJ=5663005,vJ=5663006,_J=5663007,wJ=5663008,SJ=5663009,EJ=5663010,AJ=5663011,IJ=5663012,TJ=5663013,RJ=5663014,OJ=5663015,NJ=5663016,MJ=5663017,CJ=5663018,kJ=5663019,BJ=5663020,BC=705e4,PJ=7050001,LJ=7050002,DJ=7050003,UJ=7050004,HJ=7050005,FJ=7050006,qJ=7050007,VJ=7050008,jJ=7050009,KJ=7050010,zJ=7050011,GJ=7050012,$J=7050013,WJ=7050014,YJ=7050015,XJ=7050016,ZJ=7050017,JJ=7050018,QJ=7050019,eQ=7050020,tQ=7050021,rQ=7050022,nQ=7050023,iQ=7050024,oQ=7050025,sQ=7050026,aQ=7050027,cQ=7050028,fQ=7050029,PC=7050030,LC=7050031,uQ=7050032,lQ=7050033,dQ=7050034,DC=7050035,hQ=7050036,pQ=8078e3,mQ=8078001,gQ=8078002,yQ=8078003,bQ=8078004,xQ=8078005,vQ=8078006,_Q=8078007,wQ=8078008,SQ=8078009,EQ=8078010,AQ=8078011,IQ=8078012,TQ=8078013,RQ=8078014,OQ=8078015,NQ=8078016,MQ=8078017,CQ=8078018,kQ=8078019,BQ=8078020,PQ=8078021,LQ=8078022,DQ=81e5,UQ=8100001,HQ=8100002,FQ=8100003,qQ=819e4,VQ=8190001,jQ=8190002,KQ=8190003,zQ=8190004,GQ=99e5,$Q=9900001,WQ=9900002,YQ=9900003,XQ=9900004;function ZQ(t){return Array.isArray(t)?"%5B"+t.map(ZQ).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}o(ZQ,"encodeValue");function k9e([t,e]){return`${t}=${ZQ(e)}`}o(k9e,"encodeObjectContextEntry");function B9e(t){let e=Object.entries(t).map(k9e).join("&");return btoa(e)}o(B9e,"encodeContextObject");var P9e={[LX]:"Account not found at address: $address",[FX]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[HX]:"Expected decoded account at address: $address",[UX]:"Failed to decode account data at address: $address",[DX]:"Accounts not found at addresses: $addresses",[kX]:"Unable to find a viable program address bump seed.",[IX]:"$putativeAddress is not a base58-encoded address.",[EX]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[TX]:"The `CryptoKey` must be an `Ed25519` public key.",[PX]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[CX]:"Invalid seeds; point must fall off the Ed25519 curve.",[RX]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[NX]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[MX]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[OX]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[BX]:"Program address cannot end with PDA marker.",[AX]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[dX]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[fX]:"The network has progressed past the last block for which this transaction could have been committed.",[pQ]:"Codec [$codecDescription] cannot decode empty byte arrays.",[LQ]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[BQ]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[xQ]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[vQ]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[bQ]:"Encoder and decoder must either both be fixed-size or variable-size.",[wQ]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[gQ]:"Expected a fixed-size codec, got a variable-size one.",[TQ]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[yQ]:"Expected a variable-size codec, got a fixed-size one.",[kQ]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[mQ]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[CQ]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[SQ]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[EQ]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[OQ]:"Invalid literal union variant. Expected one of [$variants], got $value.",[_Q]:"Expected [$codecDescription] to have $expected items, got $actual.",[IQ]:"Invalid value $value for base $base with alphabet $alphabet.",[NQ]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[AQ]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[RQ]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[PQ]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[MQ]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[YX]:"No random values implementation could be found.",[dZ]:"instruction requires an uninitialized account",[IZ]:"instruction tries to borrow reference for an account which is already borrowed",[TZ]:"instruction left account with an outstanding borrowed reference",[EZ]:"program other than the account's owner changed the size of the account data",[cZ]:"account data too small for instruction",[AZ]:"instruction expected an executable account",[$Z]:"An account does not have enough lamports to be rent-exempt",[YZ]:"Program arithmetic overflowed",[kC]:"Failed to serialize or deserialize account data: $encodedData",[tJ]:"Builtin programs must consume compute units",[BZ]:"Cross-program invocation call depth too deep",[FZ]:"Computational budget exceeded",[CC]:"custom program error: #$code",[vZ]:"instruction contains duplicate accounts",[RZ]:"instruction modifications of multiply-passed account differ",[CZ]:"executable accounts must be rent exempt",[NZ]:"instruction changed executable accounts data",[MZ]:"instruction changed the balance of an executable account",[_Z]:"instruction changed executable bit of an account",[yZ]:"instruction modified data of an account it does not own",[gZ]:"instruction spent from the balance of an account it does not own",[iZ]:"generic instruction error",[ZZ]:"Provided owner is not allowed",[zZ]:"Account is immutable",[GZ]:"Incorrect authority provided",[uZ]:"incorrect program id for instruction",[fZ]:"insufficient funds for instruction",[aZ]:"invalid account data for instruction",[WZ]:"Invalid account owner",[oZ]:"invalid program argument",[OZ]:"program returned invalid error code",[sZ]:"invalid instruction data",[HZ]:"Failed to reallocate account data",[UZ]:"Provided seeds do not result in a valid address",[JZ]:"Accounts data allocations exceeded the maximum allowed per transaction",[QZ]:"Max accounts exceeded",[eJ]:"Max instruction trace length exceeded",[DZ]:"Length of the seed is too long for address generation",[PZ]:"An account required by the instruction is missing",[lZ]:"missing required signature for instruction",[mZ]:"instruction illegally modified the program id of an account",[SZ]:"insufficient account keys for instruction",[qZ]:"Cross-program invocation with unauthorized signer or writable account",[VZ]:"Failed to create program execution environment",[KZ]:"Program failed to compile",[jZ]:"Program failed to complete",[xZ]:"instruction modified data of a read-only account",[bZ]:"instruction changed the balance of a read-only account",[LZ]:"Cross-program invocation reentrancy not allowed for this instruction",[wZ]:"instruction modified rent epoch of an account",[pZ]:"sum of account balances before and after instruction do not match",[hZ]:"instruction requires an initialized account",[MC]:"",[kZ]:"Unsupported program id",[XZ]:"Unsupported sysvar",[tZ]:"The instruction does not have any accounts.",[rZ]:"The instruction does not have any data.",[nZ]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[hX]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[uX]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[WQ]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[XQ]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[$Q]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[GQ]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[YQ]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[bC]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[xC]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[_C]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[vC]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[yC]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[EC]:"$__serverMessage",[NC]:"$__serverMessage",[OC]:"$__serverMessage",[SC]:"$__serverMessage",[AC]:"$__serverMessage",[IC]:"$__serverMessage",[bX]:"Minimum context slot has not been reached",[wX]:"Node is unhealthy; behind by $numSlotsBehind slots",[_X]:"No snapshot",[G6]:"Transaction simulation failed",[TC]:"$__serverMessage",[vX]:"Transaction history is not available from this node",[RC]:"$__serverMessage",[xX]:"Transaction signature length mismatch",[SX]:"Transaction signature verification failure",[wC]:"$__serverMessage",[XX]:"Key pair bytes must be of length 64, got $byteLength.",[ZX]:"Expected private key bytes with length 32. Actual length: $actualLength.",[JX]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[eZ]:"The provided private key does not match the provided public key.",[QX]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[pX]:"Lamports value must be in the range [0, 2e64-1]",[mX]:"`$value` cannot be parsed as a `BigInt`",[gC]:"$message",[gX]:"`$value` cannot be parsed as a `Number`",[lX]:"No nonce account could be found at address `$nonceAccountAddress`",[qQ]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[jQ]:"WebSocket was closed before payload could be added to the send buffer",[KQ]:"WebSocket connection closed",[zQ]:"WebSocket failed to connect",[VQ]:"Failed to obtain a subscription id from the server",[FQ]:"Could not find an API plan for RPC method: `$method`",[DQ]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[HQ]:"HTTP error ($statusCode): $message",[UQ]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[rJ]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[nJ]:"The provided value does not implement the `KeyPairSigner` interface",[oJ]:"The provided value does not implement the `MessageModifyingSigner` interface",[sJ]:"The provided value does not implement the `MessagePartialSigner` interface",[iJ]:"The provided value does not implement any of the `MessageSigner` interfaces",[cJ]:"The provided value does not implement the `TransactionModifyingSigner` interface",[fJ]:"The provided value does not implement the `TransactionPartialSigner` interface",[uJ]:"The provided value does not implement the `TransactionSendingSigner` interface",[aJ]:"The provided value does not implement any of the `TransactionSigner` interfaces",[lJ]:"More than one `TransactionSendingSigner` was identified.",[dJ]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[hJ]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[WX]:"Cannot export a non-extractable key.",[VX]:"No digest implementation could be found.",[qX]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[jX]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[KX]:"No signature verification implementation could be found.",[zX]:"No key generation implementation could be found.",[GX]:"No signing implementation could be found.",[$X]:"No key export implementation could be found.",[yX]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[XJ]:"Transaction processing left an account with an outstanding borrowed reference",[PJ]:"Account in use",[LJ]:"Account loaded twice",[DJ]:"Attempt to debit an account but found no record of a prior credit.",[nQ]:"Transaction loads an address table account that doesn't exist",[qJ]:"This transaction has already been processed",[VJ]:"Blockhash not found",[jJ]:"Loader call chain is too deep",[YJ]:"Transactions are currently disabled due to cluster maintenance",[PC]:"Transaction contains a duplicate instruction ($index) that is not allowed",[HJ]:"Insufficient funds for fee",[LC]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[FJ]:"This account may not be used to pay transaction fees",[zJ]:"Transaction contains an invalid account reference",[oQ]:"Transaction loads an address table account with invalid data",[sQ]:"Transaction address table lookup uses an invalid index",[iQ]:"Transaction loads an address table account with an invalid owner",[lQ]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[$J]:"This program may not be used for executing instructions",[aQ]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[QJ]:"Transaction loads a writable account that cannot be written",[uQ]:"Transaction exceeded max loaded accounts data size cap",[KJ]:"Transaction requires a fee but has no signature present",[UJ]:"Attempt to load a program that does not exist",[DC]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[dQ]:"ResanitizationNeeded",[WJ]:"Transaction failed to sanitize accounts offsets correctly",[GJ]:"Transaction did not pass signature verification",[rQ]:"Transaction locked too many accounts",[hQ]:"Sum of account balances before and after transaction do not match",[BC]:"The transaction failed with the error `$errorName`",[JJ]:"Transaction version is unsupported",[tQ]:"Transaction would exceed account data limit within the block",[fQ]:"Transaction would exceed total account data limit",[eQ]:"Transaction would exceed max account limit within the block",[ZJ]:"Transaction would exceed max Block Cost Limit",[cQ]:"Transaction would exceed max Vote Cost Limit",[OJ]:"Attempted to sign a transaction with an address that is not a signer for it",[EJ]:"Transaction is missing an address at index: $index.",[NJ]:"Transaction has no expected signers therefore it cannot be encoded",[BJ]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[gJ]:"Transaction does not have a blockhash lifetime",[yJ]:"Transaction is not a durable nonce transaction",[xJ]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[vJ]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[wJ]:"No fee payer set in CompiledTransaction",[_J]:"Could not find program address at index $index",[CJ]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[kJ]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[AJ]:"Transaction is missing a fee payer.",[IJ]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[RJ]:"Transaction first instruction is not advance nonce account instruction.",[TJ]:"Transaction with no instructions cannot be durable nonce transaction.",[pJ]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[mJ]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[MJ]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[SJ]:"Transaction is missing signatures for addresses: $addresses.",[bJ]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},i0="i",kl="t";function L9e(t,e={}){let r=P9e[t];if(r.length===0)return"";let n;function i(a){if(n[kl]===2){let f=r.slice(n[i0]+1,a);s.push(f in e?`${e[f]}`:`$${f}`)}else n[kl]===1&&s.push(r.slice(n[i0],a))}o(i,"commitStateUpTo");let s=[];return r.split("").forEach((a,f)=>{if(f===0){n={[i0]:0,[kl]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let l;switch(n[kl]){case 0:l={[i0]:f,[kl]:1};break;case 1:a==="\\"?l={[i0]:f,[kl]:0}:a==="$"&&(l={[i0]:f,[kl]:2});break;case 2:a==="\\"?l={[i0]:f,[kl]:0}:a==="$"?l={[i0]:f,[kl]:2}:a.match(/\w/)||(l={[i0]:f,[kl]:1});break}l&&(n!==l&&i(f),n=l)}),i(),s.join("")}o(L9e,"getHumanReadableErrorMessage");function D9e(t,e={}){if(R.NODE_ENV!=="production")return L9e(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${B9e(e)}'`),`${r}\``}}o(D9e,"getErrorMessage");function U9e(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}o(U9e,"isSolanaError");var W2=class extends Error{static{o(this,"SolanaError")}cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:s,...a}=e;s&&(n={cause:s}),Object.keys(a).length>0&&(r=a)}let i=D9e(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function UC(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}o(UC,"safeCaptureStackTrace");function JQ({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:r,rpcEnumError:n},i){let s,a;typeof n=="string"?s=n:(s=Object.keys(n)[0],a=n[s]);let f=r.indexOf(s),l=t+f,h=e(l,s,a),b=new W2(l,h);return UC(b,i),b}o(JQ,"getSolanaErrorFromRpcError");var H9e=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function HC(t,e){let r=Number(t);return JQ({errorCodeBaseOffset:4615001,getErrorContext(n,i,s){return n===MC?{errorName:i,index:r,...s!==void 0?{instructionErrorContext:s}:null}:n===CC?{code:Number(s),index:r}:n===kC?{encodedData:s,index:r}:{index:r}},orderedErrorNames:H9e,rpcEnumError:e},HC)}o(HC,"getSolanaErrorFromInstructionError");var F9e=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function FC(t){return typeof t=="object"&&"InstructionError"in t?HC(...t.InstructionError):JQ({errorCodeBaseOffset:7050001,getErrorContext(e,r,n){if(e===BC)return{errorName:r,...n!==void 0?{transactionErrorContext:n}:null};if(e===PC)return{index:Number(n)};if(e===LC||e===DC)return{accountIndex:Number(n.account_index)}},orderedErrorNames:F9e,rpcEnumError:t},FC)}o(FC,"getSolanaErrorFromTransactionError");function QQ(t){let e;if(q9e(t)){let{code:r,data:n,message:i}=t,s=Number(r);if(s===G6){let{err:a,...f}=n,l=a?{cause:FC(a)}:null;e=new W2(G6,{...f,...l})}else{let a;switch(s){case bC:case xC:case _C:case vC:case yC:case EC:case NC:case OC:case SC:case AC:case IC:case TC:case RC:case wC:a={__serverMessage:i};break;default:typeof n=="object"&&!Array.isArray(n)&&(a=n)}e=new W2(s,a)}}else{let r=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new W2(gC,{error:t,message:r})}return UC(e,QQ),e}o(QQ,"getSolanaErrorFromJsonRpcError");function q9e(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}o(q9e,"isRpcErrorResponse");ce.SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND=LX;ce.SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED=FX;ce.SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT=HX;ce.SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT=UX;ce.SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND=DX;ce.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED=kX;ce.SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS=IX;ce.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH=EX;ce.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY=TX;ce.SOLANA_ERROR__ADDRESSES__INVALID_OFF_CURVE_ADDRESS=PX;ce.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE=CX;ce.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA=RX;ce.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED=NX;ce.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED=MX;ce.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE=OX;ce.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER=BX;ce.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE=AX;ce.SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE=dX;ce.SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED=fX;ce.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=pQ;ce.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS=LQ;ce.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL=BQ;ce.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=xQ;ce.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=vQ;ce.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=bQ;ce.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE=wQ;ce.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=gQ;ce.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH=TQ;ce.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH=yQ;ce.SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE=kQ;ce.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=mQ;ce.SOLANA_ERROR__CODECS__INVALID_CONSTANT=CQ;ce.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=SQ;ce.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT=EQ;ce.SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT=OQ;ce.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=_Q;ce.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE=IQ;ce.SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE=NQ;ce.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=AQ;ce.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE=RQ;ce.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES=PQ;ce.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=MQ;ce.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED=YX;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED=dZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED=IZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=TZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED=EZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL=cZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE=AZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT=$Z;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW=YZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR=kC;ce.SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS=tJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH=BZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED=FZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM=CC;ce.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX=vZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC=RZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT=CZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED=NZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE=MZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED=_Z;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED=yZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND=gZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR=iZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER=ZZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE=zZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY=GZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID=uZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS=fZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA=aZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER=WZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT=oZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR=OZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA=sZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC=HZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS=UZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED=JZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED=QZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED=eJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED=DZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT=PZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE=lZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID=mZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS=SZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION=qZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE=VZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE=KZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE=jZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED=xZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE=bZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED=LZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED=wZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION=pZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT=hZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN=MC;ce.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID=kZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR=XZ;ce.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS=tZ;ce.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA=rZ;ce.SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH=nZ;ce.SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH=hX;ce.SOLANA_ERROR__INVALID_NONCE=uX;ce.SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING=WQ;ce.SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED=XQ;ce.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE=$Q;ce.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING=GQ;ce.SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE=YQ;ce.SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR=bC;ce.SOLANA_ERROR__JSON_RPC__INVALID_PARAMS=xC;ce.SOLANA_ERROR__JSON_RPC__INVALID_REQUEST=_C;ce.SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND=vC;ce.SOLANA_ERROR__JSON_RPC__PARSE_ERROR=yC;ce.SOLANA_ERROR__JSON_RPC__SCAN_ERROR=EC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP=NC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE=OC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET=SC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX=AC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED=IC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED=bX;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY=wX;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT=_X;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE=G6;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED=TC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE=vX;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE=RC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH=xX;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE=SX;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION=wC;ce.SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH=XX;ce.SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH=ZX;ce.SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH=JX;ce.SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY=eZ;ce.SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE=QX;ce.SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE=pX;ce.SOLANA_ERROR__MALFORMED_BIGINT_STRING=mX;ce.SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR=gC;ce.SOLANA_ERROR__MALFORMED_NUMBER_STRING=gX;ce.SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND=lX;ce.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN=qQ;ce.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED=jQ;ce.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED=KQ;ce.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT=zQ;ce.SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID=VQ;ce.SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD=FQ;ce.SOLANA_ERROR__RPC__INTEGER_OVERFLOW=DQ;ce.SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR=HQ;ce.SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN=UQ;ce.SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS=rJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER=nJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER=oJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER=sJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER=iJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER=cJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER=fJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER=uJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER=aJ;ce.SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS=lJ;ce.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING=dJ;ce.SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED=hJ;ce.SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY=WX;ce.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED=VX;ce.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT=qX;ce.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED=jX;ce.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED=KX;ce.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED=zX;ce.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED=GX;ce.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED=$X;ce.SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE=yX;ce.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=XJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE=PJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE=LJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND=DJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND=nQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED=qJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND=VJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP=jJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE=YJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION=PC;ce.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE=HJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT=LC;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE=FJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX=zJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA=oQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX=sQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER=iQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT=lQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION=$J;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT=aQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT=QJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED=uQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE=KJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND=UJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED=DC;ce.SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED=dQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE=WJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE=GJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS=rQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION=hQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN=BC;ce.SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION=JJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT=tQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT=fQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT=eQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT=ZJ;ce.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT=cQ;ce.SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION=OJ;ce.SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING=EJ;ce.SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES=NJ;ce.SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT=BJ;ce.SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME=gJ;ce.SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME=yJ;ce.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING=xJ;ce.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE=vJ;ce.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING=wJ;ce.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND=_J;ce.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT=CJ;ce.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT=kJ;ce.SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING=AJ;ce.SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING=IJ;ce.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE=RJ;ce.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING=TJ;ce.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES=pJ;ce.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE=mJ;ce.SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH=MJ;ce.SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING=SJ;ce.SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE=bJ;ce.SolanaError=W2;ce.getSolanaErrorFromInstructionError=HC;ce.getSolanaErrorFromJsonRpcError=QQ;ce.getSolanaErrorFromTransactionError=FC;ce.isSolanaError=U9e;ce.safeCaptureStackTrace=UC});var _ee=V(ar=>{"use strict";m();g();var jn=qC(),V9e=o(t=>{let e=t.filter(s=>s.length);if(e.length===0)return t.length?t[0]:new Uint8Array;if(e.length===1)return e[0];let r=e.reduce((s,a)=>s+a.length,0),n=new Uint8Array(r),i=0;return e.forEach(s=>{n.set(s,i),i+=s.length}),n},"mergeBytes"),eee=o((t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},"padBytes"),tee=o((t,e)=>eee(t.length<=e?t:t.slice(0,e),e),"fixBytes");function ree(t,e,r){let n=r===0&&t.length===e.length?t:t.slice(r,r+e.length);return n.length!==e.length?!1:e.every((i,s)=>i===n[s])}o(ree,"containsBytes");function Y2(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}o(Y2,"getEncodedSize");function _u(t){return Object.freeze({...t,encode:o(e=>{let r=new Uint8Array(Y2(e,t));return t.write(e,r,0),r},"encode")})}o(_u,"createEncoder");function Bl(t){return Object.freeze({...t,decode:o((e,r=0)=>t.read(e,r)[0],"decode")})}o(Bl,"createDecoder");function nee(t){return Object.freeze({...t,decode:o((e,r=0)=>t.read(e,r)[0],"decode"),encode:o(e=>{let r=new Uint8Array(Y2(e,t));return t.write(e,r,0),r},"encode")})}o(nee,"createCodec");function Hi(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}o(Hi,"isFixedSize");function VC(t){if(!Hi(t))throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH)}o(VC,"assertIsFixedSize");function jC(t){return!Hi(t)}o(jC,"isVariableSize");function j9e(t){if(!jC(t))throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH)}o(j9e,"assertIsVariableSize");function o0(t,e){if(Hi(t)!==Hi(e))throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(Hi(t)&&Hi(e)&&t.fixedSize!==e.fixedSize)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Hi(t)&&!Hi(e)&&t.maxSize!==e.maxSize)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}o(o0,"combineCodec");function iee(t,e){let r=o((n,i,s)=>{let a=t.encode(n);if(see(a,e)>=0)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,{encodedBytes:a,hexEncodedBytes:$6(a),hexSentinel:$6(e),sentinel:e});return i.set(a,s),s+=a.length,i.set(e,s),s+=e.length,s},"write");return Hi(t)?_u({...t,fixedSize:t.fixedSize+e.length,write:r}):_u({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},getSizeFromValue:o(n=>t.getSizeFromValue(n)+e.length,"getSizeFromValue"),write:r})}o(iee,"addEncoderSentinel");function oee(t,e){let r=o((n,i)=>{let s=i===0?n:n.slice(i),a=see(s,e);if(a===-1)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,{decodedBytes:s,hexDecodedBytes:$6(s),hexSentinel:$6(e),sentinel:e});let f=s.slice(0,a);return[t.decode(f),i+f.length+e.length]},"read");return Hi(t)?Bl({...t,fixedSize:t.fixedSize+e.length,read:r}):Bl({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},read:r})}o(oee,"addDecoderSentinel");function K9e(t,e){return o0(iee(t,e),oee(t,e))}o(K9e,"addCodecSentinel");function see(t,e){return t.findIndex((r,n,i)=>e.length===1?r===e[0]:ree(i,e,n))}o(see,"findSentinelIndex");function $6(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}o($6,"hexBytes");function z9e(t,e,r=0){if(e.length-r<=0)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:t})}o(z9e,"assertByteArrayIsNotEmptyForCodec");function KC(t,e,r,n=0){let i=r.length-n;if(i<e)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:i,codecDescription:t,expected:e})}o(KC,"assertByteArrayHasEnoughBytesForCodec");function X2(t,e,r){if(e<0||e>r)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:r,codecDescription:t,offset:e})}o(X2,"assertByteArrayOffsetIsNotOutOfRange");function aee(t,e){let r=o((a,f,l)=>{let h=t.encode(a);return l=e.write(h.length,f,l),f.set(h,l),l+h.length},"write");if(Hi(e)&&Hi(t))return _u({...t,fixedSize:e.fixedSize+t.fixedSize,write:r});let n=Hi(e)?e.fixedSize:e.maxSize??null,i=Hi(t)?t.fixedSize:t.maxSize??null,s=n!==null&&i!==null?n+i:null;return _u({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:o(a=>{let f=Y2(a,t);return Y2(f,e)+f},"getSizeFromValue"),write:r})}o(aee,"addEncoderSizePrefix");function cee(t,e){let r=o((a,f)=>{let[l,h]=e.read(a,f),b=Number(l);return f=h,(f>0||a.length>b)&&(a=a.slice(f,f+b)),KC("addDecoderSizePrefix",b,a),[t.decode(a),f+b]},"read");if(Hi(e)&&Hi(t))return Bl({...t,fixedSize:e.fixedSize+t.fixedSize,read:r});let n=Hi(e)?e.fixedSize:e.maxSize??null,i=Hi(t)?t.fixedSize:t.maxSize??null,s=n!==null&&i!==null?n+i:null;return Bl({...t,...s!==null?{maxSize:s}:{},read:r})}o(cee,"addDecoderSizePrefix");function G9e(t,e){return o0(aee(t,e),cee(t,e))}o(G9e,"addCodecSizePrefix");function fee(t,e){return _u({fixedSize:e,write:o((r,n,i)=>{let s=t.encode(r),a=s.length>e?s.slice(0,e):s;return n.set(a,i),i+e},"write")})}o(fee,"fixEncoderSize");function uee(t,e){return Bl({fixedSize:e,read:o((r,n)=>{KC("fixCodecSize",e,r,n),(n>0||r.length>e)&&(r=r.slice(n,n+e)),Hi(t)&&(r=tee(r,t.fixedSize));let[i]=t.read(r,0);return[i,n+e]},"read")})}o(uee,"fixDecoderSize");function $9e(t,e){return o0(fee(t,e),uee(t,e))}o($9e,"fixCodecSize");function W6(t,e){return _u({...t,write:o((r,n,i)=>{let s=o(h=>lee(h,n.length),"wrapBytes"),a=e.preOffset?e.preOffset({bytes:n,preOffset:i,wrapBytes:s}):i;X2("offsetEncoder",a,n.length);let f=t.write(r,n,a),l=e.postOffset?e.postOffset({bytes:n,newPreOffset:a,postOffset:f,preOffset:i,wrapBytes:s}):f;return X2("offsetEncoder",l,n.length),l},"write")})}o(W6,"offsetEncoder");function Y6(t,e){return Bl({...t,read:o((r,n)=>{let i=o(h=>lee(h,r.length),"wrapBytes"),s=e.preOffset?e.preOffset({bytes:r,preOffset:n,wrapBytes:i}):n;X2("offsetDecoder",s,r.length);let[a,f]=t.read(r,s),l=e.postOffset?e.postOffset({bytes:r,newPreOffset:s,postOffset:f,preOffset:n,wrapBytes:i}):f;return X2("offsetDecoder",l,r.length),[a,l]},"read")})}o(Y6,"offsetDecoder");function W9e(t,e){return o0(W6(t,e),Y6(t,e))}o(W9e,"offsetCodec");function lee(t,e){return e===0?0:(t%e+e)%e}o(lee,"modulo");function X6(t,e){if(Hi(t)){let r=e(t.fixedSize);if(r<0)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeEncoder"});return _u({...t,fixedSize:r})}return _u({...t,getSizeFromValue:o(r=>{let n=e(t.getSizeFromValue(r));if(n<0)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeEncoder"});return n},"getSizeFromValue")})}o(X6,"resizeEncoder");function Z6(t,e){if(Hi(t)){let r=e(t.fixedSize);if(r<0)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeDecoder"});return Bl({...t,fixedSize:r})}return t}o(Z6,"resizeDecoder");function Y9e(t,e){return o0(X6(t,e),Z6(t,e))}o(Y9e,"resizeCodec");function dee(t,e){return W6(X6(t,r=>r+e),{preOffset:o(({preOffset:r})=>r+e,"preOffset")})}o(dee,"padLeftEncoder");function hee(t,e){return W6(X6(t,r=>r+e),{postOffset:o(({postOffset:r})=>r+e,"postOffset")})}o(hee,"padRightEncoder");function pee(t,e){return Y6(Z6(t,r=>r+e),{preOffset:o(({preOffset:r})=>r+e,"preOffset")})}o(pee,"padLeftDecoder");function mee(t,e){return Y6(Z6(t,r=>r+e),{postOffset:o(({postOffset:r})=>r+e,"postOffset")})}o(mee,"padRightDecoder");function X9e(t,e){return o0(dee(t,e),pee(t,e))}o(X9e,"padLeftCodec");function Z9e(t,e){return o0(hee(t,e),mee(t,e))}o(Z9e,"padRightCodec");function gee(t,e,r,n,i=0){for(;r<--n;){let s=t[r];e[r+i]=t[n],e[n+i]=s,r++}r===n&&(e[r+i]=t[r])}o(gee,"copySourceToTargetInReverse");function yee(t){return VC(t),_u({...t,write:o((e,r,n)=>{let i=t.write(e,r,n);return gee(r,r,n,n+t.fixedSize),i},"write")})}o(yee,"reverseEncoder");function bee(t){return VC(t),Bl({...t,read:o((e,r)=>{let n=e.slice();return gee(e,n,r,r+t.fixedSize),t.read(n,r)},"read")})}o(bee,"reverseDecoder");function J9e(t){return o0(yee(t),bee(t))}o(J9e,"reverseCodec");function xee(t,e){return _u({...jC(t)?{...t,getSizeFromValue:o(r=>t.getSizeFromValue(e(r)),"getSizeFromValue")}:t,write:o((r,n,i)=>t.write(e(r),n,i),"write")})}o(xee,"transformEncoder");function vee(t,e){return Bl({...t,read:o((r,n)=>{let[i,s]=t.read(r,n);return[e(i,r,n),s]},"read")})}o(vee,"transformDecoder");function Q9e(t,e,r){return nee({...xee(t,e),read:r?vee(t,r).read:t.read})}o(Q9e,"transformCodec");ar.addCodecSentinel=K9e;ar.addCodecSizePrefix=G9e;ar.addDecoderSentinel=oee;ar.addDecoderSizePrefix=cee;ar.addEncoderSentinel=iee;ar.addEncoderSizePrefix=aee;ar.assertByteArrayHasEnoughBytesForCodec=KC;ar.assertByteArrayIsNotEmptyForCodec=z9e;ar.assertByteArrayOffsetIsNotOutOfRange=X2;ar.assertIsFixedSize=VC;ar.assertIsVariableSize=j9e;ar.combineCodec=o0;ar.containsBytes=ree;ar.createCodec=nee;ar.createDecoder=Bl;ar.createEncoder=_u;ar.fixBytes=tee;ar.fixCodecSize=$9e;ar.fixDecoderSize=uee;ar.fixEncoderSize=fee;ar.getEncodedSize=Y2;ar.isFixedSize=Hi;ar.isVariableSize=jC;ar.mergeBytes=V9e;ar.offsetCodec=W9e;ar.offsetDecoder=Y6;ar.offsetEncoder=W6;ar.padBytes=eee;ar.padLeftCodec=X9e;ar.padLeftDecoder=pee;ar.padLeftEncoder=dee;ar.padRightCodec=Z9e;ar.padRightDecoder=mee;ar.padRightEncoder=hee;ar.resizeCodec=Y9e;ar.resizeDecoder=Z6;ar.resizeEncoder=X6;ar.reverseCodec=J9e;ar.reverseDecoder=bee;ar.reverseEncoder=yee;ar.transformCodec=Q9e;ar.transformDecoder=vee;ar.transformEncoder=xee});var Zee=V(br=>{"use strict";m();g();var wee=qC(),wo=_ee();function zC(t,e,r,n){if(n<e||n>r)throw new wee.SolanaError(wee.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,{codecDescription:t,max:r,min:e,value:n})}o(zC,"assertNumberIsBetweenForCodec");var See=(t=>(t[t.Little=0]="Little",t[t.Big=1]="Big",t))(See||{});function Eee(t){return t?.endian!==1}o(Eee,"isLittleEndian");function mf(t){return wo.createEncoder({fixedSize:t.size,write(e,r,n){t.range&&zC(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,Eee(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}o(mf,"numberEncoderFactory");function gf(t){return wo.createDecoder({fixedSize:t.size,read(e,r=0){wo.assertByteArrayIsNotEmptyForCodec(t.name,e,r),wo.assertByteArrayHasEnoughBytesForCodec(t.name,t.size,e,r);let n=new DataView(eOe(e,r,t.size));return[t.get(n,Eee(t.config)),r+t.size]}})}o(gf,"numberDecoderFactory");function eOe(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}o(eOe,"toArrayBuffer");var Aee=o((t={})=>mf({config:t,name:"f32",set:o((e,r,n)=>e.setFloat32(0,Number(r),n),"set"),size:4}),"getF32Encoder"),Iee=o((t={})=>gf({config:t,get:o((e,r)=>e.getFloat32(0,r),"get"),name:"f32",size:4}),"getF32Decoder"),tOe=o((t={})=>wo.combineCodec(Aee(t),Iee(t)),"getF32Codec"),Tee=o((t={})=>mf({config:t,name:"f64",set:o((e,r,n)=>e.setFloat64(0,Number(r),n),"set"),size:8}),"getF64Encoder"),Ree=o((t={})=>gf({config:t,get:o((e,r)=>e.getFloat64(0,r),"get"),name:"f64",size:8}),"getF64Decoder"),rOe=o((t={})=>wo.combineCodec(Tee(t),Ree(t)),"getF64Codec"),Oee=o((t={})=>mf({config:t,name:"i128",range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:o((e,r,n)=>{let i=n?8:0,s=n?0:8,a=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(s,BigInt(r)&a,n)},"set"),size:16}),"getI128Encoder"),Nee=o((t={})=>gf({config:t,get:o((e,r)=>{let n=r?8:0,i=r?0:8,s=e.getBigInt64(n,r),a=e.getBigUint64(i,r);return(s<<64n)+a},"get"),name:"i128",size:16}),"getI128Decoder"),nOe=o((t={})=>wo.combineCodec(Oee(t),Nee(t)),"getI128Codec"),Mee=o((t={})=>mf({config:t,name:"i16",range:[-+"0x7fff"-1,+"0x7fff"],set:o((e,r,n)=>e.setInt16(0,Number(r),n),"set"),size:2}),"getI16Encoder"),Cee=o((t={})=>gf({config:t,get:o((e,r)=>e.getInt16(0,r),"get"),name:"i16",size:2}),"getI16Decoder"),iOe=o((t={})=>wo.combineCodec(Mee(t),Cee(t)),"getI16Codec"),kee=o((t={})=>mf({config:t,name:"i32",range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:o((e,r,n)=>e.setInt32(0,Number(r),n),"set"),size:4}),"getI32Encoder"),Bee=o((t={})=>gf({config:t,get:o((e,r)=>e.getInt32(0,r),"get"),name:"i32",size:4}),"getI32Decoder"),oOe=o((t={})=>wo.combineCodec(kee(t),Bee(t)),"getI32Codec"),Pee=o((t={})=>mf({config:t,name:"i64",range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:o((e,r,n)=>e.setBigInt64(0,BigInt(r),n),"set"),size:8}),"getI64Encoder"),Lee=o((t={})=>gf({config:t,get:o((e,r)=>e.getBigInt64(0,r),"get"),name:"i64",size:8}),"getI64Decoder"),sOe=o((t={})=>wo.combineCodec(Pee(t),Lee(t)),"getI64Codec"),Dee=o(()=>mf({name:"i8",range:[-+"0x7f"-1,+"0x7f"],set:o((t,e)=>t.setInt8(0,Number(e)),"set"),size:1}),"getI8Encoder"),Uee=o(()=>gf({get:o(t=>t.getInt8(0),"get"),name:"i8",size:1}),"getI8Decoder"),aOe=o(()=>wo.combineCodec(Dee(),Uee()),"getI8Codec"),Hee=o(()=>wo.createEncoder({getSizeFromValue:o(t=>t<=127?1:t<=16383?2:3,"getSizeFromValue"),maxSize:3,write:o((t,e,r)=>{zC("shortU16",0,65535,t);let n=[0];for(let i=0;;i+=1){let s=Number(t)>>i*7;if(s===0)break;let a=127&s;n[i]=a,i>0&&(n[i-1]|=128)}return e.set(n,r),r+n.length},"write")}),"getShortU16Encoder"),Fee=o(()=>wo.createDecoder({maxSize:3,read:o((t,e)=>{let r=0,n=0;for(;++n;){let i=n-1,s=t[e+i],a=127&s;if(r|=a<<i*7,!(s&128))break}return[r,e+n]},"read")}),"getShortU16Decoder"),cOe=o(()=>wo.combineCodec(Hee(),Fee()),"getShortU16Codec"),qee=o((t={})=>mf({config:t,name:"u128",range:[0n,BigInt("0xffffffffffffffffffffffffffffffff")],set:o((e,r,n)=>{let i=n?8:0,s=n?0:8,a=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(s,BigInt(r)&a,n)},"set"),size:16}),"getU128Encoder"),Vee=o((t={})=>gf({config:t,get:o((e,r)=>{let n=r?8:0,i=r?0:8,s=e.getBigUint64(n,r),a=e.getBigUint64(i,r);return(s<<64n)+a},"get"),name:"u128",size:16}),"getU128Decoder"),fOe=o((t={})=>wo.combineCodec(qee(t),Vee(t)),"getU128Codec"),jee=o((t={})=>mf({config:t,name:"u16",range:[0,+"0xffff"],set:o((e,r,n)=>e.setUint16(0,Number(r),n),"set"),size:2}),"getU16Encoder"),Kee=o((t={})=>gf({config:t,get:o((e,r)=>e.getUint16(0,r),"get"),name:"u16",size:2}),"getU16Decoder"),uOe=o((t={})=>wo.combineCodec(jee(t),Kee(t)),"getU16Codec"),zee=o((t={})=>mf({config:t,name:"u32",range:[0,+"0xffffffff"],set:o((e,r,n)=>e.setUint32(0,Number(r),n),"set"),size:4}),"getU32Encoder"),Gee=o((t={})=>gf({config:t,get:o((e,r)=>e.getUint32(0,r),"get"),name:"u32",size:4}),"getU32Decoder"),lOe=o((t={})=>wo.combineCodec(zee(t),Gee(t)),"getU32Codec"),$ee=o((t={})=>mf({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:o((e,r,n)=>e.setBigUint64(0,BigInt(r),n),"set"),size:8}),"getU64Encoder"),Wee=o((t={})=>gf({config:t,get:o((e,r)=>e.getBigUint64(0,r),"get"),name:"u64",size:8}),"getU64Decoder"),dOe=o((t={})=>wo.combineCodec($ee(t),Wee(t)),"getU64Codec"),Yee=o(()=>mf({name:"u8",range:[0,+"0xff"],set:o((t,e)=>t.setUint8(0,Number(e)),"set"),size:1}),"getU8Encoder"),Xee=o(()=>gf({get:o(t=>t.getUint8(0),"get"),name:"u8",size:1}),"getU8Decoder"),hOe=o(()=>wo.combineCodec(Yee(),Xee()),"getU8Codec");br.Endian=See;br.assertNumberIsBetweenForCodec=zC;br.getF32Codec=tOe;br.getF32Decoder=Iee;br.getF32Encoder=Aee;br.getF64Codec=rOe;br.getF64Decoder=Ree;br.getF64Encoder=Tee;br.getI128Codec=nOe;br.getI128Decoder=Nee;br.getI128Encoder=Oee;br.getI16Codec=iOe;br.getI16Decoder=Cee;br.getI16Encoder=Mee;br.getI32Codec=oOe;br.getI32Decoder=Bee;br.getI32Encoder=kee;br.getI64Codec=sOe;br.getI64Decoder=Lee;br.getI64Encoder=Pee;br.getI8Codec=aOe;br.getI8Decoder=Uee;br.getI8Encoder=Dee;br.getShortU16Codec=cOe;br.getShortU16Decoder=Fee;br.getShortU16Encoder=Hee;br.getU128Codec=fOe;br.getU128Decoder=Vee;br.getU128Encoder=qee;br.getU16Codec=uOe;br.getU16Decoder=Kee;br.getU16Encoder=jee;br.getU32Codec=lOe;br.getU32Decoder=Gee;br.getU32Encoder=zee;br.getU64Codec=dOe;br.getU64Decoder=Wee;br.getU64Encoder=$ee;br.getU8Codec=hOe;br.getU8Decoder=Xee;br.getU8Encoder=Yee});var Qee=V((J6,Jee)=>{m();g();(function(t,e){typeof J6=="object"&&typeof Jee<"u"?e(J6):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.Superstruct={}))})(J6,function(t){"use strict";class e extends TypeError{static{o(this,"StructError")}constructor(J,he){let ne,{message:de,explanation:xt,...xe}=J,{path:Ee}=J,ir=Ee.length===0?de:`At path: ${Ee.join(".")} -- ${de}`;super(xt??ir),xt!=null&&(this.cause=ir),Object.assign(this,xe),this.name=this.constructor.name,this.failures=()=>ne??(ne=[J,...he()])}}function r(Z){return n(Z)&&typeof Z[Symbol.iterator]=="function"}o(r,"isIterable");function n(Z){return typeof Z=="object"&&Z!=null}o(n,"isObject");function i(Z){return n(Z)&&!Array.isArray(Z)}o(i,"isNonArrayObject");function s(Z){if(Object.prototype.toString.call(Z)!=="[object Object]")return!1;let J=Object.getPrototypeOf(Z);return J===null||J===Object.prototype}o(s,"isPlainObject");function a(Z){return typeof Z=="symbol"?Z.toString():typeof Z=="string"?JSON.stringify(Z):`${Z}`}o(a,"print");function f(Z){let{done:J,value:he}=Z.next();return J?void 0:he}o(f,"shiftIterator");function l(Z,J,he,ne){if(Z===!0)return;Z===!1?Z={}:typeof Z=="string"&&(Z={message:Z});let{path:de,branch:xt}=J,{type:xe}=he,{refinement:Ee,message:ir=`Expected a value of type \`${xe}\`${Ee?` with refinement \`${Ee}\``:""}, but received: \`${a(ne)}\``}=Z;return{value:ne,type:xe,refinement:Ee,key:de[de.length-1],path:de,branch:xt,...Z,message:ir}}o(l,"toFailure");function*h(Z,J,he,ne){r(Z)||(Z=[Z]);for(let de of Z){let xt=l(de,J,he,ne);xt&&(yield xt)}}o(h,"toFailures");function*b(Z,J,he={}){let{path:ne=[],branch:de=[Z],coerce:xt=!1,mask:xe=!1}=he,Ee={path:ne,branch:de,mask:xe};xt&&(Z=J.coercer(Z,Ee));let ir="valid";for(let Ae of J.validator(Z,Ee))Ae.explanation=he.message,ir="not_valid",yield[Ae,void 0];for(let[Ae,Ne,ni]of J.entries(Z,Ee)){let Pe=b(Ne,ni,{path:Ae===void 0?ne:[...ne,Ae],branch:Ae===void 0?de:[...de,Ne],coerce:xt,mask:xe,message:he.message});for(let Be of Pe)Be[0]?(ir=Be[0].refinement!=null?"not_refined":"not_valid",yield[Be[0],void 0]):xt&&(Ne=Be[1],Ae===void 0?Z=Ne:Z instanceof Map?Z.set(Ae,Ne):Z instanceof Set?Z.add(Ne):n(Z)&&(Ne!==void 0||Ae in Z)&&(Z[Ae]=Ne))}if(ir!=="not_valid")for(let Ae of J.refiner(Z,Ee))Ae.explanation=he.message,ir="not_refined",yield[Ae,void 0];ir==="valid"&&(yield[void 0,Z])}o(b,"run");class y{static{o(this,"Struct")}constructor(J){let{type:he,schema:ne,validator:de,refiner:xt,coercer:xe=o(ir=>ir,"coercer"),entries:Ee=o(function*(){},"entries")}=J;this.type=he,this.schema=ne,this.entries=Ee,this.coercer=xe,de?this.validator=(ir,Ae)=>{let Ne=de(ir,Ae);return h(Ne,Ae,this,ir)}:this.validator=()=>[],xt?this.refiner=(ir,Ae)=>{let Ne=xt(ir,Ae);return h(Ne,Ae,this,ir)}:this.refiner=()=>[]}assert(J,he){return E(J,this,he)}create(J,he){return I(J,this,he)}is(J){return N(J,this)}mask(J,he){return O(J,this,he)}validate(J,he={}){return k(J,this,he)}}function E(Z,J,he){let ne=k(Z,J,{message:he});if(ne[0])throw ne[0]}o(E,"assert");function I(Z,J,he){let ne=k(Z,J,{coerce:!0,message:he});if(ne[0])throw ne[0];return ne[1]}o(I,"create");function O(Z,J,he){let ne=k(Z,J,{coerce:!0,mask:!0,message:he});if(ne[0])throw ne[0];return ne[1]}o(O,"mask");function N(Z,J){return!k(Z,J)[0]}o(N,"is");function k(Z,J,he={}){let ne=b(Z,J,he),de=f(ne);return de[0]?[new e(de[0],function*(){for(let xe of ne)xe[0]&&(yield xe[0])}),void 0]:[void 0,de[1]]}o(k,"validate");function C(...Z){let J=Z[0].type==="type",he=Z.map(de=>de.schema),ne=Object.assign({},...he);return J?ye(ne):ee(ne)}o(C,"assign");function L(Z,J){return new y({type:Z,schema:null,validator:J})}o(L,"define");function M(Z,J){return new y({...Z,refiner:o((he,ne)=>he===void 0||Z.refiner(he,ne),"refiner"),validator(he,ne){return he===void 0?!0:(J(he,ne),Z.validator(he,ne))}})}o(M,"deprecated");function U(Z){return new y({type:"dynamic",schema:null,*entries(J,he){yield*Z(J,he).entries(J,he)},validator(J,he){return Z(J,he).validator(J,he)},coercer(J,he){return Z(J,he).coercer(J,he)},refiner(J,he){return Z(J,he).refiner(J,he)}})}o(U,"dynamic");function q(Z){let J;return new y({type:"lazy",schema:null,*entries(he,ne){J??(J=Z()),yield*J.entries(he,ne)},validator(he,ne){return J??(J=Z()),J.validator(he,ne)},coercer(he,ne){return J??(J=Z()),J.coercer(he,ne)},refiner(he,ne){return J??(J=Z()),J.refiner(he,ne)}})}o(q,"lazy");function j(Z,J){let{schema:he}=Z,ne={...he};for(let de of J)delete ne[de];switch(Z.type){case"type":return ye(ne);default:return ee(ne)}}o(j,"omit");function re(Z){let J=Z instanceof y,he=J?{...Z.schema}:{...Z};for(let ne in he)he[ne]=te(he[ne]);return J&&Z.type==="type"?ye(he):ee(he)}o(re,"partial");function Y(Z,J){let{schema:he}=Z,ne={};for(let de of J)ne[de]=he[de];switch(Z.type){case"type":return ye(ne);default:return ee(ne)}}o(Y,"pick");function X(Z,J){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),L(Z,J)}o(X,"struct");function S(){return L("any",()=>!0)}o(S,"any");function c(Z){return new y({type:"array",schema:Z,*entries(J){if(Z&&Array.isArray(J))for(let[he,ne]of J.entries())yield[he,ne,Z]},coercer(J){return Array.isArray(J)?J.slice():J},validator(J){return Array.isArray(J)||`Expected an array value, but received: ${a(J)}`}})}o(c,"array");function d(){return L("bigint",Z=>typeof Z=="bigint")}o(d,"bigint");function p(){return L("boolean",Z=>typeof Z=="boolean")}o(p,"boolean");function x(){return L("date",Z=>Z instanceof Date&&!isNaN(Z.getTime())||`Expected a valid \`Date\` object, but received: ${a(Z)}`)}o(x,"date");function v(Z){let J={},he=Z.map(ne=>a(ne)).join();for(let ne of Z)J[ne]=ne;return new y({type:"enums",schema:J,validator(ne){return Z.includes(ne)||`Expected one of \`${he}\`, but received: ${a(ne)}`}})}o(v,"enums");function A(){return L("func",Z=>typeof Z=="function"||`Expected a function, but received: ${a(Z)}`)}o(A,"func");function T(Z){return L("instance",J=>J instanceof Z||`Expected a \`${Z.name}\` instance, but received: ${a(J)}`)}o(T,"instance");function w(){return L("integer",Z=>typeof Z=="number"&&!isNaN(Z)&&Number.isInteger(Z)||`Expected an integer, but received: ${a(Z)}`)}o(w,"integer");function u(Z){return new y({type:"intersection",schema:null,*entries(J,he){for(let ne of Z)yield*ne.entries(J,he)},*validator(J,he){for(let ne of Z)yield*ne.validator(J,he)},*refiner(J,he){for(let ne of Z)yield*ne.refiner(J,he)}})}o(u,"intersection");function _(Z){let J=a(Z),he=typeof Z;return new y({type:"literal",schema:he==="string"||he==="number"||he==="boolean"?Z:null,validator(ne){return ne===Z||`Expected the literal \`${J}\`, but received: ${a(ne)}`}})}o(_,"literal");function F(Z,J){return new y({type:"map",schema:null,*entries(he){if(Z&&J&&he instanceof Map)for(let[ne,de]of he.entries())yield[ne,ne,Z],yield[ne,de,J]},coercer(he){return he instanceof Map?new Map(he):he},validator(he){return he instanceof Map||`Expected a \`Map\` object, but received: ${a(he)}`}})}o(F,"map");function H(){return L("never",()=>!1)}o(H,"never");function D(Z){return new y({...Z,validator:o((J,he)=>J===null||Z.validator(J,he),"validator"),refiner:o((J,he)=>J===null||Z.refiner(J,he),"refiner")})}o(D,"nullable");function $(){return L("number",Z=>typeof Z=="number"&&!isNaN(Z)||`Expected a number, but received: ${a(Z)}`)}o($,"number");function ee(Z){let J=Z?Object.keys(Z):[],he=H();return new y({type:"object",schema:Z||null,*entries(ne){if(Z&&n(ne)){let de=new Set(Object.keys(ne));for(let xt of J)de.delete(xt),yield[xt,ne[xt],Z[xt]];for(let xt of de)yield[xt,ne[xt],he]}},validator(ne){return i(ne)||`Expected an object, but received: ${a(ne)}`},coercer(ne,de){if(!i(ne))return ne;let xt={...ne};if(de.mask&&Z)for(let xe in xt)Z[xe]===void 0&&delete xt[xe];return xt}})}o(ee,"object");function te(Z){return new y({...Z,validator:o((J,he)=>J===void 0||Z.validator(J,he),"validator"),refiner:o((J,he)=>J===void 0||Z.refiner(J,he),"refiner")})}o(te,"optional");function Oe(Z,J){return new y({type:"record",schema:null,*entries(he){if(n(he))for(let ne in he){let de=he[ne];yield[ne,ne,Z],yield[ne,de,J]}},validator(he){return i(he)||`Expected an object, but received: ${a(he)}`},coercer(he){return i(he)?{...he}:he}})}o(Oe,"record");function fe(){return L("regexp",Z=>Z instanceof RegExp)}o(fe,"regexp");function le(Z){return new y({type:"set",schema:null,*entries(J){if(Z&&J instanceof Set)for(let he of J)yield[he,he,Z]},coercer(J){return J instanceof Set?new Set(J):J},validator(J){return J instanceof Set||`Expected a \`Set\` object, but received: ${a(J)}`}})}o(le,"set");function ge(){return L("string",Z=>typeof Z=="string"||`Expected a string, but received: ${a(Z)}`)}o(ge,"string");function pe(Z){let J=H();return new y({type:"tuple",schema:null,*entries(he){if(Array.isArray(he)){let ne=Math.max(Z.length,he.length);for(let de=0;de<ne;de++)yield[de,he[de],Z[de]||J]}},validator(he){return Array.isArray(he)||`Expected an array, but received: ${a(he)}`},coercer(he){return Array.isArray(he)?he.slice():he}})}o(pe,"tuple");function ye(Z){let J=Object.keys(Z);return new y({type:"type",schema:Z,*entries(he){if(n(he))for(let ne of J)yield[ne,he[ne],Z[ne]]},validator(he){return i(he)||`Expected an object, but received: ${a(he)}`},coercer(he){return i(he)?{...he}:he}})}o(ye,"type");function Cr(Z){let J=Z.map(he=>he.type).join(" | ");return new y({type:"union",schema:null,coercer(he,ne){for(let de of Z){let[xt,xe]=de.validate(he,{coerce:!0,mask:ne.mask});if(!xt)return xe}return he},validator(he,ne){let de=[];for(let xt of Z){let[...xe]=b(he,xt,ne),[Ee]=xe;if(Ee[0])for(let[ir]of xe)ir&&de.push(ir);else return[]}return[`Expected the value to satisfy a union of \`${J}\`, but received: ${a(he)}`,...de]}})}o(Cr,"union");function Re(){return L("unknown",()=>!0)}o(Re,"unknown");function Me(Z,J,he){return new y({...Z,coercer:o((ne,de)=>N(ne,J)?Z.coercer(he(ne,de),de):Z.coercer(ne,de),"coercer")})}o(Me,"coerce");function ti(Z,J,he={}){return Me(Z,Re(),ne=>{let de=typeof J=="function"?J():J;if(ne===void 0)return de;if(!he.strict&&s(ne)&&s(de)){let xt={...ne},xe=!1;for(let Ee in de)xt[Ee]===void 0&&(xt[Ee]=de[Ee],xe=!0);if(xe)return xt}return ne})}o(ti,"defaulted");function qe(Z){return Me(Z,ge(),J=>J.trim())}o(qe,"trimmed");function ke(Z){return xn(Z,"empty",J=>{let he=ri(J);return he===0||`Expected an empty ${Z.type} but received one with a size of \`${he}\``})}o(ke,"empty");function ri(Z){return Z instanceof Map||Z instanceof Set?Z.size:Z.length}o(ri,"getSize");function Ve(Z,J,he={}){let{exclusive:ne}=he;return xn(Z,"max",de=>ne?de<J:de<=J||`Expected a ${Z.type} less than ${ne?"":"or equal to "}${J} but received \`${de}\``)}o(Ve,"max");function He(Z,J,he={}){let{exclusive:ne}=he;return xn(Z,"min",de=>ne?de>J:de>=J||`Expected a ${Z.type} greater than ${ne?"":"or equal to "}${J} but received \`${de}\``)}o(He,"min");function Ei(Z){return xn(Z,"nonempty",J=>ri(J)>0||`Expected a nonempty ${Z.type} but received an empty one`)}o(Ei,"nonempty");function De(Z,J){return xn(Z,"pattern",he=>J.test(he)||`Expected a ${Z.type} matching \`/${J.source}/\` but received "${he}"`)}o(De,"pattern");function Fe(Z,J,he=J){let ne=`Expected a ${Z.type}`,de=J===he?`of \`${J}\``:`between \`${J}\` and \`${he}\``;return xn(Z,"size",xt=>{if(typeof xt=="number"||xt instanceof Date)return J<=xt&&xt<=he||`${ne} ${de} but received \`${xt}\``;if(xt instanceof Map||xt instanceof Set){let{size:xe}=xt;return J<=xe&&xe<=he||`${ne} with a size ${de} but received one with a size of \`${xe}\``}else{let{length:xe}=xt;return J<=xe&&xe<=he||`${ne} with a length ${de} but received one with a length of \`${xe}\``}})}o(Fe,"size");function xn(Z,J,he){return new y({...Z,*refiner(ne,de){yield*Z.refiner(ne,de);let xt=he(ne,de),xe=h(xt,de,Z,ne);for(let Ee of xe)yield{...Ee,refinement:J}}})}o(xn,"refine"),t.Struct=y,t.StructError=e,t.any=S,t.array=c,t.assert=E,t.assign=C,t.bigint=d,t.boolean=p,t.coerce=Me,t.create=I,t.date=x,t.defaulted=ti,t.define=L,t.deprecated=M,t.dynamic=U,t.empty=ke,t.enums=v,t.func=A,t.instance=T,t.integer=w,t.intersection=u,t.is=N,t.lazy=q,t.literal=_,t.map=F,t.mask=O,t.max=Ve,t.min=He,t.never=H,t.nonempty=Ei,t.nullable=D,t.number=$,t.object=ee,t.omit=j,t.optional=te,t.partial=re,t.pattern=De,t.pick=Y,t.record=Oe,t.refine=xn,t.regexp=fe,t.set=le,t.size=Fe,t.string=ge,t.struct=X,t.trimmed=qe,t.tuple=pe,t.type=ye,t.union=Cr,t.unknown=Re,t.validate=k})});var $C=V(GC=>{"use strict";m();g();Object.defineProperty(GC,"__esModule",{value:!0});GC.default=mOe;var Q6,pOe=new Uint8Array(16);function mOe(){if(!Q6&&(Q6=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!Q6))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q6(pOe)}o(mOe,"rng")});var ete=V(eA=>{"use strict";m();g();Object.defineProperty(eA,"__esModule",{value:!0});eA.default=void 0;var gOe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;eA.default=gOe});var Z2=V(tA=>{"use strict";m();g();Object.defineProperty(tA,"__esModule",{value:!0});tA.default=void 0;var yOe=bOe(ete());function bOe(t){return t&&t.__esModule?t:{default:t}}o(bOe,"_interopRequireDefault");function xOe(t){return typeof t=="string"&&yOe.default.test(t)}o(xOe,"validate");var vOe=xOe;tA.default=vOe});var Q2=V(J2=>{"use strict";m();g();Object.defineProperty(J2,"__esModule",{value:!0});J2.default=void 0;J2.unsafeStringify=tte;var _Oe=wOe(Z2());function wOe(t){return t&&t.__esModule?t:{default:t}}o(wOe,"_interopRequireDefault");var os=[];for(let t=0;t<256;++t)os.push((t+256).toString(16).slice(1));function tte(t,e=0){return os[t[e+0]]+os[t[e+1]]+os[t[e+2]]+os[t[e+3]]+"-"+os[t[e+4]]+os[t[e+5]]+"-"+os[t[e+6]]+os[t[e+7]]+"-"+os[t[e+8]]+os[t[e+9]]+"-"+os[t[e+10]]+os[t[e+11]]+os[t[e+12]]+os[t[e+13]]+os[t[e+14]]+os[t[e+15]]}o(tte,"unsafeStringify");function SOe(t,e=0){let r=tte(t,e);if(!(0,_Oe.default)(r))throw TypeError("Stringified UUID is invalid");return r}o(SOe,"stringify");var EOe=SOe;J2.default=EOe});var nte=V(rA=>{"use strict";m();g();Object.defineProperty(rA,"__esModule",{value:!0});rA.default=void 0;var AOe=TOe($C()),IOe=Q2();function TOe(t){return t&&t.__esModule?t:{default:t}}o(TOe,"_interopRequireDefault");var rte,WC,YC=0,XC=0;function ROe(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||rte,a=t.clockseq!==void 0?t.clockseq:WC;if(s==null||a==null){let E=t.random||(t.rng||AOe.default)();s==null&&(s=rte=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),a==null&&(a=WC=(E[6]<<8|E[7])&16383)}let f=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:XC+1,h=f-YC+(l-XC)/1e4;if(h<0&&t.clockseq===void 0&&(a=a+1&16383),(h<0||f>YC)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");YC=f,XC=l,WC=a,f+=122192928e5;let b=((f&268435455)*1e4+l)%4294967296;i[n++]=b>>>24&255,i[n++]=b>>>16&255,i[n++]=b>>>8&255,i[n++]=b&255;let y=f/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=y&255,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(let E=0;E<6;++E)i[n+E]=s[E];return e||(0,IOe.unsafeStringify)(i)}o(ROe,"v1");var OOe=ROe;rA.default=OOe});var ZC=V(nA=>{"use strict";m();g();Object.defineProperty(nA,"__esModule",{value:!0});nA.default=void 0;var NOe=MOe(Z2());function MOe(t){return t&&t.__esModule?t:{default:t}}o(MOe,"_interopRequireDefault");function COe(t){if(!(0,NOe.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}o(COe,"parse");var kOe=COe;nA.default=kOe});var JC=V(lg=>{"use strict";m();g();Object.defineProperty(lg,"__esModule",{value:!0});lg.URL=lg.DNS=void 0;lg.default=UOe;var BOe=Q2(),POe=LOe(ZC());function LOe(t){return t&&t.__esModule?t:{default:t}}o(LOe,"_interopRequireDefault");function DOe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}o(DOe,"stringToBytes");var ite="6ba7b810-9dad-11d1-80b4-00c04fd430c8";lg.DNS=ite;var ote="6ba7b811-9dad-11d1-80b4-00c04fd430c8";lg.URL=ote;function UOe(t,e,r){function n(i,s,a,f){var l;if(typeof i=="string"&&(i=DOe(i)),typeof s=="string"&&(s=(0,POe.default)(s)),((l=s)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+i.length);if(h.set(s),h.set(i,s.length),h=r(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,a){f=f||0;for(let b=0;b<16;++b)a[f+b]=h[b];return a}return(0,BOe.unsafeStringify)(h)}o(n,"generateUUID");try{n.name=t}catch{}return n.DNS=ite,n.URL=ote,n}o(UOe,"v35")});var ate=V(oA=>{"use strict";m();g();Object.defineProperty(oA,"__esModule",{value:!0});oA.default=void 0;function HOe(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return FOe(qOe(VOe(t),t.length*8))}o(HOe,"md5");function FOe(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let s=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(a)}return e}o(FOe,"md5ToHexEncodedArray");function ste(t){return(t+64>>>9<<4)+14+1}o(ste,"getOutputLength");function qOe(t,e){t[e>>5]|=128<<e%32,t[ste(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,s=271733878;for(let a=0;a<t.length;a+=16){let f=r,l=n,h=i,b=s;r=Us(r,n,i,s,t[a],7,-680876936),s=Us(s,r,n,i,t[a+1],12,-389564586),i=Us(i,s,r,n,t[a+2],17,606105819),n=Us(n,i,s,r,t[a+3],22,-1044525330),r=Us(r,n,i,s,t[a+4],7,-176418897),s=Us(s,r,n,i,t[a+5],12,1200080426),i=Us(i,s,r,n,t[a+6],17,-1473231341),n=Us(n,i,s,r,t[a+7],22,-45705983),r=Us(r,n,i,s,t[a+8],7,1770035416),s=Us(s,r,n,i,t[a+9],12,-1958414417),i=Us(i,s,r,n,t[a+10],17,-42063),n=Us(n,i,s,r,t[a+11],22,-1990404162),r=Us(r,n,i,s,t[a+12],7,1804603682),s=Us(s,r,n,i,t[a+13],12,-40341101),i=Us(i,s,r,n,t[a+14],17,-1502002290),n=Us(n,i,s,r,t[a+15],22,1236535329),r=Hs(r,n,i,s,t[a+1],5,-165796510),s=Hs(s,r,n,i,t[a+6],9,-1069501632),i=Hs(i,s,r,n,t[a+11],14,643717713),n=Hs(n,i,s,r,t[a],20,-373897302),r=Hs(r,n,i,s,t[a+5],5,-701558691),s=Hs(s,r,n,i,t[a+10],9,38016083),i=Hs(i,s,r,n,t[a+15],14,-660478335),n=Hs(n,i,s,r,t[a+4],20,-405537848),r=Hs(r,n,i,s,t[a+9],5,568446438),s=Hs(s,r,n,i,t[a+14],9,-1019803690),i=Hs(i,s,r,n,t[a+3],14,-187363961),n=Hs(n,i,s,r,t[a+8],20,1163531501),r=Hs(r,n,i,s,t[a+13],5,-1444681467),s=Hs(s,r,n,i,t[a+2],9,-51403784),i=Hs(i,s,r,n,t[a+7],14,1735328473),n=Hs(n,i,s,r,t[a+12],20,-1926607734),r=Fs(r,n,i,s,t[a+5],4,-378558),s=Fs(s,r,n,i,t[a+8],11,-2022574463),i=Fs(i,s,r,n,t[a+11],16,1839030562),n=Fs(n,i,s,r,t[a+14],23,-35309556),r=Fs(r,n,i,s,t[a+1],4,-1530992060),s=Fs(s,r,n,i,t[a+4],11,1272893353),i=Fs(i,s,r,n,t[a+7],16,-155497632),n=Fs(n,i,s,r,t[a+10],23,-1094730640),r=Fs(r,n,i,s,t[a+13],4,681279174),s=Fs(s,r,n,i,t[a],11,-358537222),i=Fs(i,s,r,n,t[a+3],16,-722521979),n=Fs(n,i,s,r,t[a+6],23,76029189),r=Fs(r,n,i,s,t[a+9],4,-640364487),s=Fs(s,r,n,i,t[a+12],11,-421815835),i=Fs(i,s,r,n,t[a+15],16,530742520),n=Fs(n,i,s,r,t[a+2],23,-995338651),r=qs(r,n,i,s,t[a],6,-198630844),s=qs(s,r,n,i,t[a+7],10,1126891415),i=qs(i,s,r,n,t[a+14],15,-1416354905),n=qs(n,i,s,r,t[a+5],21,-57434055),r=qs(r,n,i,s,t[a+12],6,1700485571),s=qs(s,r,n,i,t[a+3],10,-1894986606),i=qs(i,s,r,n,t[a+10],15,-1051523),n=qs(n,i,s,r,t[a+1],21,-2054922799),r=qs(r,n,i,s,t[a+8],6,1873313359),s=qs(s,r,n,i,t[a+15],10,-30611744),i=qs(i,s,r,n,t[a+6],15,-1560198380),n=qs(n,i,s,r,t[a+13],21,1309151649),r=qs(r,n,i,s,t[a+4],6,-145523070),s=qs(s,r,n,i,t[a+11],10,-1120210379),i=qs(i,s,r,n,t[a+2],15,718787259),n=qs(n,i,s,r,t[a+9],21,-343485551),r=Hh(r,f),n=Hh(n,l),i=Hh(i,h),s=Hh(s,b)}return[r,n,i,s]}o(qOe,"wordsToMd5");function VOe(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(ste(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}o(VOe,"bytesToWords");function Hh(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}o(Hh,"safeAdd");function jOe(t,e){return t<<e|t>>>32-e}o(jOe,"bitRotateLeft");function iA(t,e,r,n,i,s){return Hh(jOe(Hh(Hh(e,t),Hh(n,s)),i),r)}o(iA,"md5cmn");function Us(t,e,r,n,i,s,a){return iA(e&r|~e&n,t,e,i,s,a)}o(Us,"md5ff");function Hs(t,e,r,n,i,s,a){return iA(e&n|r&~n,t,e,i,s,a)}o(Hs,"md5gg");function Fs(t,e,r,n,i,s,a){return iA(e^r^n,t,e,i,s,a)}o(Fs,"md5hh");function qs(t,e,r,n,i,s,a){return iA(r^(e|~n),t,e,i,s,a)}o(qs,"md5ii");var KOe=HOe;oA.default=KOe});var fte=V(sA=>{"use strict";m();g();Object.defineProperty(sA,"__esModule",{value:!0});sA.default=void 0;var zOe=cte(JC()),GOe=cte(ate());function cte(t){return t&&t.__esModule?t:{default:t}}o(cte,"_interopRequireDefault");var $Oe=(0,zOe.default)("v3",48,GOe.default),WOe=$Oe;sA.default=WOe});var ute=V(aA=>{"use strict";m();g();Object.defineProperty(aA,"__esModule",{value:!0});aA.default=void 0;var YOe=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),XOe={randomUUID:YOe};aA.default=XOe});var hte=V(cA=>{"use strict";m();g();Object.defineProperty(cA,"__esModule",{value:!0});cA.default=void 0;var lte=dte(ute()),ZOe=dte($C()),JOe=Q2();function dte(t){return t&&t.__esModule?t:{default:t}}o(dte,"_interopRequireDefault");function QOe(t,e,r){if(lte.default.randomUUID&&!e&&!t)return lte.default.randomUUID();t=t||{};let n=t.random||(t.rng||ZOe.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,JOe.unsafeStringify)(n)}o(QOe,"v4");var eNe=QOe;cA.default=eNe});var pte=V(fA=>{"use strict";m();g();Object.defineProperty(fA,"__esModule",{value:!0});fA.default=void 0;function tNe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}o(tNe,"f");function QC(t,e){return t<<e|t>>>32-e}o(QC,"ROTL");function rNe(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let a=unescape(encodeURIComponent(t));t=[];for(let f=0;f<a.length;++f)t.push(a.charCodeAt(f))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,i=Math.ceil(n/16),s=new Array(i);for(let a=0;a<i;++a){let f=new Uint32Array(16);for(let l=0;l<16;++l)f[l]=t[a*64+l*4]<<24|t[a*64+l*4+1]<<16|t[a*64+l*4+2]<<8|t[a*64+l*4+3];s[a]=f}s[i-1][14]=(t.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(t.length-1)*8&4294967295;for(let a=0;a<i;++a){let f=new Uint32Array(80);for(let I=0;I<16;++I)f[I]=s[a][I];for(let I=16;I<80;++I)f[I]=QC(f[I-3]^f[I-8]^f[I-14]^f[I-16],1);let l=r[0],h=r[1],b=r[2],y=r[3],E=r[4];for(let I=0;I<80;++I){let O=Math.floor(I/20),N=QC(l,5)+tNe(O,h,b,y)+E+e[O]+f[I]>>>0;E=y,y=b,b=QC(h,30)>>>0,h=l,l=N}r[0]=r[0]+l>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+E>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}o(rNe,"sha1");var nNe=rNe;fA.default=nNe});var gte=V(uA=>{"use strict";m();g();Object.defineProperty(uA,"__esModule",{value:!0});uA.default=void 0;var iNe=mte(JC()),oNe=mte(pte());function mte(t){return t&&t.__esModule?t:{default:t}}o(mte,"_interopRequireDefault");var sNe=(0,iNe.default)("v5",80,oNe.default),aNe=sNe;uA.default=aNe});var yte=V(lA=>{"use strict";m();g();Object.defineProperty(lA,"__esModule",{value:!0});lA.default=void 0;var cNe="00000000-0000-0000-0000-000000000000";lA.default=cNe});var bte=V(dA=>{"use strict";m();g();Object.defineProperty(dA,"__esModule",{value:!0});dA.default=void 0;var fNe=uNe(Z2());function uNe(t){return t&&t.__esModule?t:{default:t}}o(uNe,"_interopRequireDefault");function lNe(t){if(!(0,fNe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}o(lNe,"version");var dNe=lNe;dA.default=dNe});var hA=V(wu=>{"use strict";m();g();Object.defineProperty(wu,"__esModule",{value:!0});Object.defineProperty(wu,"NIL",{enumerable:!0,get:o(function(){return yNe.default},"get")});Object.defineProperty(wu,"parse",{enumerable:!0,get:o(function(){return _Ne.default},"get")});Object.defineProperty(wu,"stringify",{enumerable:!0,get:o(function(){return vNe.default},"get")});Object.defineProperty(wu,"v1",{enumerable:!0,get:o(function(){return hNe.default},"get")});Object.defineProperty(wu,"v3",{enumerable:!0,get:o(function(){return pNe.default},"get")});Object.defineProperty(wu,"v4",{enumerable:!0,get:o(function(){return mNe.default},"get")});Object.defineProperty(wu,"v5",{enumerable:!0,get:o(function(){return gNe.default},"get")});Object.defineProperty(wu,"validate",{enumerable:!0,get:o(function(){return xNe.default},"get")});Object.defineProperty(wu,"version",{enumerable:!0,get:o(function(){return bNe.default},"get")});var hNe=s0(nte()),pNe=s0(fte()),mNe=s0(hte()),gNe=s0(gte()),yNe=s0(yte()),bNe=s0(bte()),xNe=s0(Z2()),vNe=s0(Q2()),_Ne=s0(ZC());function s0(t){return t&&t.__esModule?t:{default:t}}o(s0,"_interopRequireDefault")});var vte=V(($_t,xte)=>{"use strict";m();g();var wNe=hA().v4,SNe=o(function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){let a=typeof n.generator=="function"?n.generator:function(){return wNe()};s.id=a(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s},"generateRequest");xte.exports=SNe});var wte=V((Z_t,_te)=>{"use strict";m();g();var ENe=hA().v4,ANe=vte(),e_=o(function(t,e){if(!(this instanceof e_))return new e_(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return ENe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t},"ClientBrowser");_te.exports=e_;e_.prototype.request=function(t,e,r,n){let i=this,s=null,a=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);let h=typeof n=="function";try{s=ANe(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(b){if(h)return n(b);throw b}if(!h)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(h){return n(h)}return this.callServer(l,function(h,b){i._parseResponse(h,b,n)}),s};e_.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=o(function(a){return typeof a.error<"u"},"isError"),s=o(function(a){return!i(a)},"isNotError");return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)}});var Ete=V((twt,ek)=>{"use strict";m();g();var INe=Object.prototype.hasOwnProperty,Ta="~";function t_(){}o(t_,"Events");Object.create&&(t_.prototype=Object.create(null),new t_().__proto__||(Ta=!1));function TNe(t,e,r){this.fn=t,this.context=e,this.once=r||!1}o(TNe,"EE");function Ste(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new TNe(r,n||t,i),a=Ta?Ta+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}o(Ste,"addListener");function pA(t,e){--t._eventsCount===0?t._events=new t_:delete t._events[e]}o(pA,"clearEvent");function Vs(){this._events=new t_,this._eventsCount=0}o(Vs,"EventEmitter");Vs.prototype.eventNames=o(function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)INe.call(r,n)&&e.push(Ta?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e},"eventNames");Vs.prototype.listeners=o(function(e){var r=Ta?Ta+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);i<s;i++)a[i]=n[i].fn;return a},"listeners");Vs.prototype.listenerCount=o(function(e){var r=Ta?Ta+e:e,n=this._events[r];return n?n.fn?1:n.length:0},"listenerCount");Vs.prototype.emit=o(function(e,r,n,i,s,a){var f=Ta?Ta+e:e;if(!this._events[f])return!1;var l=this._events[f],h=arguments.length,b,y;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,r),!0;case 3:return l.fn.call(l.context,r,n),!0;case 4:return l.fn.call(l.context,r,n,i),!0;case 5:return l.fn.call(l.context,r,n,i,s),!0;case 6:return l.fn.call(l.context,r,n,i,s,a),!0}for(y=1,b=new Array(h-1);y<h;y++)b[y-1]=arguments[y];l.fn.apply(l.context,b)}else{var E=l.length,I;for(y=0;y<E;y++)switch(l[y].once&&this.removeListener(e,l[y].fn,void 0,!0),h){case 1:l[y].fn.call(l[y].context);break;case 2:l[y].fn.call(l[y].context,r);break;case 3:l[y].fn.call(l[y].context,r,n);break;case 4:l[y].fn.call(l[y].context,r,n,i);break;default:if(!b)for(I=1,b=new Array(h-1);I<h;I++)b[I-1]=arguments[I];l[y].fn.apply(l[y].context,b)}}return!0},"emit");Vs.prototype.on=o(function(e,r,n){return Ste(this,e,r,n,!1)},"on");Vs.prototype.once=o(function(e,r,n){return Ste(this,e,r,n,!0)},"once");Vs.prototype.removeListener=o(function(e,r,n,i){var s=Ta?Ta+e:e;if(!this._events[s])return this;if(!r)return pA(this,s),this;var a=this._events[s];if(a.fn)a.fn===r&&(!i||a.once)&&(!n||a.context===n)&&pA(this,s);else{for(var f=0,l=[],h=a.length;f<h;f++)(a[f].fn!==r||i&&!a[f].once||n&&a[f].context!==n)&&l.push(a[f]);l.length?this._events[s]=l.length===1?l[0]:l:pA(this,s)}return this},"removeListener");Vs.prototype.removeAllListeners=o(function(e){var r;return e?(r=Ta?Ta+e:e,this._events[r]&&pA(this,r)):(this._events=new t_,this._eventsCount=0),this},"removeAllListeners");Vs.prototype.off=Vs.prototype.removeListener;Vs.prototype.addListener=Vs.prototype.on;Vs.prefixed=Ta;Vs.EventEmitter=Vs;typeof ek<"u"&&(ek.exports=Vs)});var Ote=V(r_=>{"use strict";m();g();var RNe=Yi(),Ate=Ete(),ONe=class extends Ate.EventEmitter{static{o(this,"WebSocketBrowserImpl")}socket;constructor(t,e,r){super(),this.socket=new self.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(t,e,r){let n=r||e;try{this.socket.send(t),n()}catch(i){n(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function Ite(t,e){return new ONe(t,e)}o(Ite,"WebSocket");var Tte=class{static{o(this,"DefaultDataPack")}encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Rte=class extends Ate.EventEmitter{static{o(this,"CommonClient")}address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...a}={},f,l){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=f||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new Tte,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,n){return!n&&typeof r=="object"&&(n=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));let a=this.generate_request_id(t,e),f={jsonrpc:"2.0",method:t,params:e||void 0,id:a};this.socket.send(this.dataPack.encode(f),n,l=>{if(l)return s(l);this.queue[a]={promise:[i,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(t){let e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));let i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),s=>{if(s)return n(s);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=RNe.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);let n=[r.notification];if(r.params.constructor===Object)n.push(r.params);else for(let i=0;i<r.params.length;i++)n.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r?.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}},NNe=class extends Rte{static{o(this,"Client")}constructor(t="ws://localhost:8080",{autoconnect:e=!0,reconnect:r=!0,reconnect_interval:n=1e3,max_reconnects:i=5}={},s){super(Ite,t,{autoconnect:e,reconnect:r,reconnect_interval:n,max_reconnects:i},s)}};r_.Client=NNe;r_.CommonClient=Rte;r_.DefaultDataPack=Tte;r_.WebSocket=Ite});var Ute=V(oi=>{"use strict";m();g();Object.defineProperty(oi,"__esModule",{value:!0});oi.shake256=oi.shake128=oi.keccak_512=oi.keccak_384=oi.keccak_256=oi.keccak_224=oi.sha3_512=oi.sha3_384=oi.sha3_256=oi.sha3_224=oi.Keccak=void 0;oi.keccakP=Lte;var i_=DM(),js=El(),MNe=BigInt(0),n_=BigInt(1),CNe=BigInt(2),kNe=BigInt(7),BNe=BigInt(256),PNe=BigInt(113),Cte=[],kte=[],Bte=[];for(let t=0,e=n_,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Cte.push(2*(5*n+r)),kte.push((t+1)*(t+2)/2%64);let i=MNe;for(let s=0;s<7;s++)e=(e<<n_^(e>>kNe)*PNe)%BNe,e&CNe&&(i^=n_<<(n_<<BigInt(s))-n_);Bte.push(i)}var Pte=(0,i_.split)(Bte,!0),LNe=Pte[0],DNe=Pte[1],Nte=o((t,e,r)=>r>32?(0,i_.rotlBH)(t,e,r):(0,i_.rotlSH)(t,e,r),"rotlH"),Mte=o((t,e,r)=>r>32?(0,i_.rotlBL)(t,e,r):(0,i_.rotlSL)(t,e,r),"rotlL");function Lte(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let f=(a+8)%10,l=(a+2)%10,h=r[l],b=r[l+1],y=Nte(h,b,1)^r[f],E=Mte(h,b,1)^r[f+1];for(let I=0;I<50;I+=10)t[a+I]^=y,t[a+I+1]^=E}let i=t[2],s=t[3];for(let a=0;a<24;a++){let f=kte[a],l=Nte(i,s,f),h=Mte(i,s,f),b=Cte[a];i=t[b],s=t[b+1],t[b]=l,t[b+1]=h}for(let a=0;a<50;a+=10){for(let f=0;f<10;f++)r[f]=t[a+f];for(let f=0;f<10;f++)t[a+f]^=~r[(f+2)%10]&r[(f+4)%10]}t[0]^=LNe[n],t[1]^=DNe[n]}(0,js.clean)(r)}o(Lte,"keccakP");var o_=class t extends js.Hash{static{o(this,"Keccak")}constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,(0,js.anumber)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,js.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,js.swap32IfBE)(this.state32),Lte(this.state32,this.rounds),(0,js.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,js.aexists)(this),e=(0,js.toBytes)(e),(0,js.abytes)(e);let{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let f=0;f<a;f++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,js.aexists)(this,!1),(0,js.abytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,js.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,js.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,js.clean)(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};oi.Keccak=o_;var Fh=o((t,e,r)=>(0,js.createHasher)(()=>new o_(e,t,r)),"gen");oi.sha3_224=Fh(6,144,224/8);oi.sha3_256=Fh(6,136,256/8);oi.sha3_384=Fh(6,104,384/8);oi.sha3_512=Fh(6,72,512/8);oi.keccak_224=Fh(1,144,224/8);oi.keccak_256=Fh(1,136,256/8);oi.keccak_384=Fh(1,104,384/8);oi.keccak_512=Fh(1,72,512/8);var Dte=o((t,e,r)=>(0,js.createXOFer)((n={})=>new o_(e,t,n.dkLen===void 0?r:n.dkLen,!0)),"genShake");oi.shake128=Dte(31,168,128/8);oi.shake256=Dte(31,136,256/8)});var Hte=V(hg=>{"use strict";m();g();Object.defineProperty(hg,"__esModule",{value:!0});hg.hmac=hg.HMAC=void 0;var dg=El(),s_=class extends dg.Hash{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,dg.ahash)(e);let n=(0,dg.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),(0,dg.clean)(s)}update(e){return(0,dg.aexists)(this),this.iHash.update(e),this}digestInto(e){(0,dg.aexists)(this),(0,dg.abytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};hg.HMAC=s_;var UNe=o((t,e,r)=>new s_(t,e).update(r).digest(),"hmac");hg.hmac=UNe;hg.hmac.create=(t,e)=>new s_(t,e)});var ok=V(si=>{"use strict";m();g();Object.defineProperty(si,"__esModule",{value:!0});si.DER=si.DERErr=void 0;si._splitEndoScalar=qte;si._normFnElement=qh;si.weierstrassN=ik;si.SWUFpSqrtRatio=jte;si.mapToCurveSimpleSWU=qNe;si.ecdh=zte;si.ecdsa=Gte;si.weierstrassPoints=VNe;si._legacyHelperEquat=Wte;si.weierstrass=GNe;var HNe=Hte(),FNe=El(),Lt=e0(),a0=h6(),Qy=Bh(),Fte=o((t,e)=>(t+(t>=0?e:-e)/Pl)/e,"divNearest");function qte(t,e,r){let[[n,i],[s,a]]=e,f=Fte(a*t,r),l=Fte(-i*t,r),h=t-f*n-l*s,b=-f*i-l*a,y=h<Su,E=b<Su;y&&(h=-h),E&&(b=-b);let I=(0,Lt.bitMask)(Math.ceil((0,Lt.bitLen)(r)/2))+ss;if(h<Su||h>=I||b<Su||b>=I)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:y,k1:h,k2neg:E,k2:b}}o(qte,"_splitEndoScalar");function rk(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}o(rk,"validateSigFormat");function tk(t,e){let r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return(0,Lt._abool2)(r.lowS,"lowS"),(0,Lt._abool2)(r.prehash,"prehash"),r.format!==void 0&&rk(r.format),r}o(tk,"validateSigOpts");var mA=class extends Error{static{o(this,"DERErr")}constructor(e=""){super(e)}};si.DERErr=mA;si.DER={Err:mA,_tlv:{encode:o((t,e)=>{let{Err:r}=si.DER;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=(0,Lt.numberToHexUnpadded)(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?(0,Lt.numberToHexUnpadded)(i.length/2|128):"";return(0,Lt.numberToHexUnpadded)(t)+s+i+e},"encode"),decode(t,e){let{Err:r}=si.DER,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],s=!!(i&128),a=0;if(!s)a=i;else{let l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");let h=e.subarray(n,n+l);if(h.length!==l)throw new r("tlv.decode: length bytes not complete");if(h[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let b of h)a=a<<8|b;if(n+=l,a<128)throw new r("tlv.decode(long): not minimal encoding")}let f=e.subarray(n,n+a);if(f.length!==a)throw new r("tlv.decode: wrong value length");return{v:f,l:e.subarray(n+a)}}},_int:{encode(t){let{Err:e}=si.DER;if(t<Su)throw new e("integer: negative integers are not allowed");let r=(0,Lt.numberToHexUnpadded)(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=si.DER;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return(0,Lt.bytesToNumberBE)(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=si.DER,i=(0,Lt.ensureBytes)("signature",t),{v:s,l:a}=n.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");let{v:f,l}=n.decode(2,s),{v:h,l:b}=n.decode(2,l);if(b.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(f),s:r.decode(h)}},hexFromSig(t){let{_tlv:e,_int:r}=si.DER,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}};var Su=BigInt(0),ss=BigInt(1),Pl=BigInt(2),Jy=BigInt(3),nk=BigInt(4);function qh(t,e){let{BYTES:r}=t,n;if(typeof e=="bigint")n=e;else{let i=(0,Lt.ensureBytes)("private key",e);try{n=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}o(qh,"_normFnElement");function ik(t,e={}){let r=(0,a0._createCurveFields)("weierstrass",t,e),{Fp:n,Fn:i}=r,s=r.CURVE,{h:a,n:f}=s;(0,Lt._validateObject)(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:l}=e;if(l&&(!n.is0(s.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let h=Kte(n,i);function b(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}o(b,"assertCompressionIsSupported");function y(d,p,x){let{x:v,y:A}=p.toAffine(),T=n.toBytes(v);if((0,Lt._abool2)(x,"isCompressed"),x){b();let w=!n.isOdd(A);return(0,Lt.concatBytes)(Vte(w),T)}else return(0,Lt.concatBytes)(Uint8Array.of(4),T,n.toBytes(A))}o(y,"pointToBytes");function E(d){(0,Lt._abytes2)(d,void 0,"Point");let{publicKey:p,publicKeyUncompressed:x}=h,v=d.length,A=d[0],T=d.subarray(1);if(v===p&&(A===2||A===3)){let w=n.fromBytes(T);if(!n.isValid(w))throw new Error("bad point: is not on curve, wrong x");let u=N(w),_;try{_=n.sqrt(u)}catch(D){let $=D instanceof Error?": "+D.message:"";throw new Error("bad point: is not on curve, sqrt error"+$)}b();let F=n.isOdd(_);return(A&1)===1!==F&&(_=n.neg(_)),{x:w,y:_}}else if(v===x&&A===4){let w=n.BYTES,u=n.fromBytes(T.subarray(0,w)),_=n.fromBytes(T.subarray(w,w*2));if(!k(u,_))throw new Error("bad point: is not on curve");return{x:u,y:_}}else throw new Error(`bad point: got length ${v}, expected compressed=${p} or uncompressed=${x}`)}o(E,"pointFromBytes");let I=e.toBytes||y,O=e.fromBytes||E;function N(d){let p=n.sqr(d),x=n.mul(p,d);return n.add(n.add(x,n.mul(d,s.a)),s.b)}o(N,"weierstrassEquation");function k(d,p){let x=n.sqr(p),v=N(d);return n.eql(x,v)}if(o(k,"isValidXY"),!k(s.Gx,s.Gy))throw new Error("bad curve params: generator point");let C=n.mul(n.pow(s.a,Jy),nk),L=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(C,L)))throw new Error("bad curve params: a or b");function M(d,p,x=!1){if(!n.isValid(p)||x&&n.is0(p))throw new Error(`bad point coordinate ${d}`);return p}o(M,"acoord");function U(d){if(!(d instanceof X))throw new Error("ProjectivePoint expected")}o(U,"aprjpoint");function q(d){if(!l||!l.basises)throw new Error("no endo");return qte(d,l.basises,i.ORDER)}o(q,"splitEndoScalarN");let j=(0,Lt.memoized)((d,p)=>{let{X:x,Y:v,Z:A}=d;if(n.eql(A,n.ONE))return{x,y:v};let T=d.is0();p==null&&(p=T?n.ONE:n.inv(A));let w=n.mul(x,p),u=n.mul(v,p),_=n.mul(A,p);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:w,y:u}}),re=(0,Lt.memoized)(d=>{if(d.is0()){if(e.allowInfinityPoint&&!n.is0(d.Y))return;throw new Error("bad point: ZERO")}let{x:p,y:x}=d.toAffine();if(!n.isValid(p)||!n.isValid(x))throw new Error("bad point: x or y not field elements");if(!k(p,x))throw new Error("bad point: equation left != right");if(!d.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function Y(d,p,x,v,A){return x=new X(n.mul(x.X,d),x.Y,x.Z),p=(0,a0.negateCt)(v,p),x=(0,a0.negateCt)(A,x),p.add(x)}o(Y,"finishEndo");class X{static{o(this,"Point")}constructor(p,x,v){this.X=M("x",p),this.Y=M("y",x,!0),this.Z=M("z",v),Object.freeze(this)}static CURVE(){return s}static fromAffine(p){let{x,y:v}=p||{};if(!p||!n.isValid(x)||!n.isValid(v))throw new Error("invalid affine point");if(p instanceof X)throw new Error("projective point not allowed");return n.is0(x)&&n.is0(v)?X.ZERO:new X(x,v,n.ONE)}static fromBytes(p){let x=X.fromAffine(O((0,Lt._abytes2)(p,void 0,"point")));return x.assertValidity(),x}static fromHex(p){return X.fromBytes((0,Lt.ensureBytes)("pointHex",p))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(p=8,x=!0){return c.createCache(this,p),x||this.multiply(Jy),this}assertValidity(){re(this)}hasEvenY(){let{y:p}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(p)}equals(p){U(p);let{X:x,Y:v,Z:A}=this,{X:T,Y:w,Z:u}=p,_=n.eql(n.mul(x,u),n.mul(T,A)),F=n.eql(n.mul(v,u),n.mul(w,A));return _&&F}negate(){return new X(this.X,n.neg(this.Y),this.Z)}double(){let{a:p,b:x}=s,v=n.mul(x,Jy),{X:A,Y:T,Z:w}=this,u=n.ZERO,_=n.ZERO,F=n.ZERO,H=n.mul(A,A),D=n.mul(T,T),$=n.mul(w,w),ee=n.mul(A,T);return ee=n.add(ee,ee),F=n.mul(A,w),F=n.add(F,F),u=n.mul(p,F),_=n.mul(v,$),_=n.add(u,_),u=n.sub(D,_),_=n.add(D,_),_=n.mul(u,_),u=n.mul(ee,u),F=n.mul(v,F),$=n.mul(p,$),ee=n.sub(H,$),ee=n.mul(p,ee),ee=n.add(ee,F),F=n.add(H,H),H=n.add(F,H),H=n.add(H,$),H=n.mul(H,ee),_=n.add(_,H),$=n.mul(T,w),$=n.add($,$),H=n.mul($,ee),u=n.sub(u,H),F=n.mul($,D),F=n.add(F,F),F=n.add(F,F),new X(u,_,F)}add(p){U(p);let{X:x,Y:v,Z:A}=this,{X:T,Y:w,Z:u}=p,_=n.ZERO,F=n.ZERO,H=n.ZERO,D=s.a,$=n.mul(s.b,Jy),ee=n.mul(x,T),te=n.mul(v,w),Oe=n.mul(A,u),fe=n.add(x,v),le=n.add(T,w);fe=n.mul(fe,le),le=n.add(ee,te),fe=n.sub(fe,le),le=n.add(x,A);let ge=n.add(T,u);return le=n.mul(le,ge),ge=n.add(ee,Oe),le=n.sub(le,ge),ge=n.add(v,A),_=n.add(w,u),ge=n.mul(ge,_),_=n.add(te,Oe),ge=n.sub(ge,_),H=n.mul(D,le),_=n.mul($,Oe),H=n.add(_,H),_=n.sub(te,H),H=n.add(te,H),F=n.mul(_,H),te=n.add(ee,ee),te=n.add(te,ee),Oe=n.mul(D,Oe),le=n.mul($,le),te=n.add(te,Oe),Oe=n.sub(ee,Oe),Oe=n.mul(D,Oe),le=n.add(le,Oe),ee=n.mul(te,le),F=n.add(F,ee),ee=n.mul(ge,le),_=n.mul(fe,_),_=n.sub(_,ee),ee=n.mul(fe,te),H=n.mul(ge,H),H=n.add(H,ee),new X(_,F,H)}subtract(p){return this.add(p.negate())}is0(){return this.equals(X.ZERO)}multiply(p){let{endo:x}=e;if(!i.isValidNot0(p))throw new Error("invalid scalar: out of range");let v,A,T=o(w=>c.cached(this,w,u=>(0,a0.normalizeZ)(X,u)),"mul");if(x){let{k1neg:w,k1:u,k2neg:_,k2:F}=q(p),{p:H,f:D}=T(u),{p:$,f:ee}=T(F);A=D.add(ee),v=Y(x.beta,H,$,w,_)}else{let{p:w,f:u}=T(p);v=w,A=u}return(0,a0.normalizeZ)(X,[v,A])[0]}multiplyUnsafe(p){let{endo:x}=e,v=this;if(!i.isValid(p))throw new Error("invalid scalar: out of range");if(p===Su||v.is0())return X.ZERO;if(p===ss)return v;if(c.hasCache(this))return this.multiply(p);if(x){let{k1neg:A,k1:T,k2neg:w,k2:u}=q(p),{p1:_,p2:F}=(0,a0.mulEndoUnsafe)(X,v,T,u);return Y(x.beta,_,F,A,w)}else return c.unsafe(v,p)}multiplyAndAddUnsafe(p,x,v){let A=this.multiplyUnsafe(x).add(p.multiplyUnsafe(v));return A.is0()?void 0:A}toAffine(p){return j(this,p)}isTorsionFree(){let{isTorsionFree:p}=e;return a===ss?!0:p?p(X,this):c.unsafe(this,f).is0()}clearCofactor(){let{clearCofactor:p}=e;return a===ss?this:p?p(X,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(p=!0){return(0,Lt._abool2)(p,"isCompressed"),this.assertValidity(),I(X,this,p)}toHex(p=!0){return(0,Lt.bytesToHex)(this.toBytes(p))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(p=!0){return this.toBytes(p)}_setWindowSize(p){this.precompute(p)}static normalizeZ(p){return(0,a0.normalizeZ)(X,p)}static msm(p,x){return(0,a0.pippenger)(X,i,p,x)}static fromPrivateKey(p){return X.BASE.multiply(qh(i,p))}}X.BASE=new X(s.Gx,s.Gy,n.ONE),X.ZERO=new X(n.ZERO,n.ONE,n.ZERO),X.Fp=n,X.Fn=i;let S=i.BITS,c=new a0.wNAF(X,e.endo?Math.ceil(S/2):S);return X.BASE.precompute(8),X}o(ik,"weierstrassN");function Vte(t){return Uint8Array.of(t?2:3)}o(Vte,"pprefix");function jte(t,e){let r=t.ORDER,n=Su;for(let O=r-ss;O%Pl===Su;O/=Pl)n+=ss;let i=n,s=Pl<<i-ss-ss,a=s*Pl,f=(r-ss)/a,l=(f-ss)/Pl,h=a-ss,b=s,y=t.pow(e,f),E=t.pow(e,(f+ss)/Pl),I=o((O,N)=>{let k=y,C=t.pow(N,h),L=t.sqr(C);L=t.mul(L,N);let M=t.mul(O,L);M=t.pow(M,l),M=t.mul(M,C),C=t.mul(M,N),L=t.mul(M,O);let U=t.mul(L,C);M=t.pow(U,b);let q=t.eql(M,t.ONE);C=t.mul(L,E),M=t.mul(U,k),L=t.cmov(C,L,q),U=t.cmov(M,U,q);for(let j=i;j>ss;j--){let re=j-Pl;re=Pl<<re-ss;let Y=t.pow(U,re),X=t.eql(Y,t.ONE);C=t.mul(L,k),k=t.mul(k,k),Y=t.mul(U,k),L=t.cmov(C,L,X),U=t.cmov(Y,U,X)}return{isValid:q,value:L}},"sqrtRatio");if(t.ORDER%nk===Jy){let O=(t.ORDER-Jy)/nk,N=t.sqrt(t.neg(e));I=o((k,C)=>{let L=t.sqr(C),M=t.mul(k,C);L=t.mul(L,M);let U=t.pow(L,O);U=t.mul(U,M);let q=t.mul(U,N),j=t.mul(t.sqr(U),C),re=t.eql(j,k),Y=t.cmov(q,U,re);return{isValid:re,value:Y}},"sqrtRatio")}return I}o(jte,"SWUFpSqrtRatio");function qNe(t,e){(0,Qy.validateField)(t);let{A:r,B:n,Z:i}=e;if(!t.isValid(r)||!t.isValid(n)||!t.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");let s=jte(t,i);if(!t.isOdd)throw new Error("Field does not have .isOdd()");return a=>{let f,l,h,b,y,E,I,O;f=t.sqr(a),f=t.mul(f,i),l=t.sqr(f),l=t.add(l,f),h=t.add(l,t.ONE),h=t.mul(h,n),b=t.cmov(i,t.neg(l),!t.eql(l,t.ZERO)),b=t.mul(b,r),l=t.sqr(h),E=t.sqr(b),y=t.mul(E,r),l=t.add(l,y),l=t.mul(l,h),E=t.mul(E,b),y=t.mul(E,n),l=t.add(l,y),I=t.mul(f,h);let{isValid:N,value:k}=s(l,E);O=t.mul(f,a),O=t.mul(O,k),I=t.cmov(I,h,N),O=t.cmov(O,k,N);let C=t.isOdd(a)===t.isOdd(O);O=t.cmov(t.neg(O),O,C);let L=(0,Qy.FpInvertBatch)(t,[b],!0)[0];return I=t.mul(I,L),{x:I,y:O}}}o(qNe,"mapToCurveSimpleSWU");function Kte(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}o(Kte,"getWLengths");function zte(t,e={}){let{Fn:r}=t,n=e.randomBytes||Lt.randomBytes,i=Object.assign(Kte(t.Fp,r),{seed:(0,Qy.getMinHashLength)(r.ORDER)});function s(I){try{return!!qh(r,I)}catch{return!1}}o(s,"isValidSecretKey");function a(I,O){let{publicKey:N,publicKeyUncompressed:k}=i;try{let C=I.length;return O===!0&&C!==N||O===!1&&C!==k?!1:!!t.fromBytes(I)}catch{return!1}}o(a,"isValidPublicKey");function f(I=n(i.seed)){return(0,Qy.mapHashToField)((0,Lt._abytes2)(I,i.seed,"seed"),r.ORDER)}o(f,"randomSecretKey");function l(I,O=!0){return t.BASE.multiply(qh(r,I)).toBytes(O)}o(l,"getPublicKey");function h(I){let O=f(I);return{secretKey:O,publicKey:l(O)}}o(h,"keygen");function b(I){if(typeof I=="bigint")return!1;if(I instanceof t)return!0;let{secretKey:O,publicKey:N,publicKeyUncompressed:k}=i;if(r.allowedLengths||O===N)return;let C=(0,Lt.ensureBytes)("key",I).length;return C===N||C===k}o(b,"isProbPub");function y(I,O,N=!0){if(b(I)===!0)throw new Error("first arg must be private key");if(b(O)===!1)throw new Error("second arg must be public key");let k=qh(r,I);return t.fromHex(O).multiply(k).toBytes(N)}return o(y,"getSharedSecret"),Object.freeze({getPublicKey:l,getSharedSecret:y,keygen:h,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:a,randomSecretKey:f,isValidPrivateKey:s,randomPrivateKey:f,normPrivateKeyToScalar:o(I=>qh(r,I),"normPrivateKeyToScalar"),precompute(I=8,O=t.BASE){return O.precompute(I,!1)}},lengths:i})}o(zte,"ecdh");function Gte(t,e,r={}){(0,FNe.ahash)(e),(0,Lt._validateObject)(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||Lt.randomBytes,i=r.hmac||((x,...v)=>(0,HNe.hmac)(e,x,(0,Lt.concatBytes)(...v))),{Fp:s,Fn:a}=t,{ORDER:f,BITS:l}=a,{keygen:h,getPublicKey:b,getSharedSecret:y,utils:E,lengths:I}=zte(t,r),O={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},N="compact";function k(x){let v=f>>ss;return x>v}o(k,"isBiggerThanHalfOrder");function C(x,v){if(!a.isValidNot0(v))throw new Error(`invalid signature ${x}: out of range 1..Point.Fn.ORDER`);return v}o(C,"validateRS");function L(x,v){rk(v);let A=I.signature,T=v==="compact"?A:v==="recovered"?A+1:void 0;return(0,Lt._abytes2)(x,T,`${v} signature`)}o(L,"validateSigLength");class M{static{o(this,"Signature")}constructor(v,A,T){this.r=C("r",v),this.s=C("s",A),T!=null&&(this.recovery=T),Object.freeze(this)}static fromBytes(v,A=N){L(v,A);let T;if(A==="der"){let{r:F,s:H}=si.DER.toSig((0,Lt._abytes2)(v));return new M(F,H)}A==="recovered"&&(T=v[0],A="compact",v=v.subarray(1));let w=a.BYTES,u=v.subarray(0,w),_=v.subarray(w,w*2);return new M(a.fromBytes(u),a.fromBytes(_),T)}static fromHex(v,A){return this.fromBytes((0,Lt.hexToBytes)(v),A)}addRecoveryBit(v){return new M(this.r,this.s,v)}recoverPublicKey(v){let A=s.ORDER,{r:T,s:w,recovery:u}=this;if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");if(f*Pl<A&&u>1)throw new Error("recovery id is ambiguous for h>1 curve");let F=u===2||u===3?T+f:T;if(!s.isValid(F))throw new Error("recovery id 2 or 3 invalid");let H=s.toBytes(F),D=t.fromBytes((0,Lt.concatBytes)(Vte((u&1)===0),H)),$=a.inv(F),ee=q((0,Lt.ensureBytes)("msgHash",v)),te=a.create(-ee*$),Oe=a.create(w*$),fe=t.BASE.multiplyUnsafe(te).add(D.multiplyUnsafe(Oe));if(fe.is0())throw new Error("point at infinify");return fe.assertValidity(),fe}hasHighS(){return k(this.s)}toBytes(v=N){if(rk(v),v==="der")return(0,Lt.hexToBytes)(si.DER.hexFromSig(this));let A=a.toBytes(this.r),T=a.toBytes(this.s);if(v==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return(0,Lt.concatBytes)(Uint8Array.of(this.recovery),A,T)}return(0,Lt.concatBytes)(A,T)}toHex(v){return(0,Lt.bytesToHex)(this.toBytes(v))}assertValidity(){}static fromCompact(v){return M.fromBytes((0,Lt.ensureBytes)("sig",v),"compact")}static fromDER(v){return M.fromBytes((0,Lt.ensureBytes)("sig",v),"der")}normalizeS(){return this.hasHighS()?new M(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,Lt.bytesToHex)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,Lt.bytesToHex)(this.toBytes("compact"))}}let U=r.bits2int||o(function(v){if(v.length>8192)throw new Error("input is too large");let A=(0,Lt.bytesToNumberBE)(v),T=v.length*8-l;return T>0?A>>BigInt(T):A},"bits2int_def"),q=r.bits2int_modN||o(function(v){return a.create(U(v))},"bits2int_modN_def"),j=(0,Lt.bitMask)(l);function re(x){return(0,Lt.aInRange)("num < 2^"+l,x,Su,j),a.toBytes(x)}o(re,"int2octets");function Y(x,v){return(0,Lt._abytes2)(x,void 0,"message"),v?(0,Lt._abytes2)(e(x),void 0,"prehashed message"):x}o(Y,"validateMsgAndHash");function X(x,v,A){if(["recovered","canonical"].some(te=>te in A))throw new Error("sign() legacy options not supported");let{lowS:T,prehash:w,extraEntropy:u}=tk(A,O);x=Y(x,w);let _=q(x),F=qh(a,v),H=[re(F),re(_)];if(u!=null&&u!==!1){let te=u===!0?n(I.secretKey):u;H.push((0,Lt.ensureBytes)("extraEntropy",te))}let D=(0,Lt.concatBytes)(...H),$=_;function ee(te){let Oe=U(te);if(!a.isValidNot0(Oe))return;let fe=a.inv(Oe),le=t.BASE.multiply(Oe).toAffine(),ge=a.create(le.x);if(ge===Su)return;let pe=a.create(fe*a.create($+ge*F));if(pe===Su)return;let ye=(le.x===ge?0:2)|Number(le.y&ss),Cr=pe;return T&&k(pe)&&(Cr=a.neg(pe),ye^=1),new M(ge,Cr,ye)}return o(ee,"k2sig"),{seed:D,k2sig:ee}}o(X,"prepSig");function S(x,v,A={}){x=(0,Lt.ensureBytes)("message",x);let{seed:T,k2sig:w}=X(x,v,A);return(0,Lt.createHmacDrbg)(e.outputLen,a.BYTES,i)(T,w)}o(S,"sign");function c(x){let v,A=typeof x=="string"||(0,Lt.isBytes)(x),T=!A&&x!==null&&typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint";if(!A&&!T)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(T)v=new M(x.r,x.s);else if(A){try{v=M.fromBytes((0,Lt.ensureBytes)("sig",x),"der")}catch(w){if(!(w instanceof si.DER.Err))throw w}if(!v)try{v=M.fromBytes((0,Lt.ensureBytes)("sig",x),"compact")}catch{return!1}}return v||!1}o(c,"tryParsingSig");function d(x,v,A,T={}){let{lowS:w,prehash:u,format:_}=tk(T,O);if(A=(0,Lt.ensureBytes)("publicKey",A),v=Y((0,Lt.ensureBytes)("message",v),u),"strict"in T)throw new Error("options.strict was renamed to lowS");let F=_===void 0?c(x):M.fromBytes((0,Lt.ensureBytes)("sig",x),_);if(F===!1)return!1;try{let H=t.fromBytes(A);if(w&&F.hasHighS())return!1;let{r:D,s:$}=F,ee=q(v),te=a.inv($),Oe=a.create(ee*te),fe=a.create(D*te),le=t.BASE.multiplyUnsafe(Oe).add(H.multiplyUnsafe(fe));return le.is0()?!1:a.create(le.x)===D}catch{return!1}}o(d,"verify");function p(x,v,A={}){let{prehash:T}=tk(A,O);return v=Y(v,T),M.fromBytes(x,"recovered").recoverPublicKey(v).toBytes()}return o(p,"recoverPublicKey"),Object.freeze({keygen:h,getPublicKey:b,getSharedSecret:y,utils:E,lengths:I,Point:t,sign:S,verify:d,recoverPublicKey:p,Signature:M,hash:e})}o(Gte,"ecdsa");function VNe(t){let{CURVE:e,curveOpts:r}=$te(t),n=ik(e,r);return KNe(t,n)}o(VNe,"weierstrassPoints");function $te(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0,i=(0,Qy.Field)(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),s={Fp:r,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}o($te,"_weierstrass_legacy_opts_to_new");function jNe(t){let{CURVE:e,curveOpts:r}=$te(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}o(jNe,"_ecdsa_legacy_opts_to_new");function Wte(t,e,r){function n(i){let s=t.sqr(i),a=t.mul(s,i);return t.add(t.add(a,t.mul(i,e)),r)}return o(n,"weierstrassEquation"),n}o(Wte,"_legacyHelperEquat");function KNe(t,e){let{Fp:r,Fn:n}=e;function i(a){return(0,Lt.inRange)(a,ss,n.ORDER)}o(i,"isWithinCurveOrder");let s=Wte(r,t.a,t.b);return Object.assign({},{CURVE:t,Point:e,ProjectivePoint:e,normPrivateKeyToScalar:o(a=>qh(n,a),"normPrivateKeyToScalar"),weierstrassEquation:s,isWithinCurveOrder:i})}o(KNe,"_weierstrass_new_output_to_legacy");function zNe(t,e){let r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,(0,Qy.nLength)(r.Fn.ORDER,r.Fn.BITS))})}o(zNe,"_ecdsa_new_output_to_legacy");function GNe(t){let{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:i}=jNe(t),s=ik(e,r),a=Gte(s,n,i);return zNe(t,a)}o(GNe,"weierstrass")});var Yte=V(gA=>{"use strict";m();g();Object.defineProperty(gA,"__esModule",{value:!0});gA.getHash=WNe;gA.createCurve=YNe;var $Ne=ok();function WNe(t){return{hash:t}}o(WNe,"getHash");function YNe(t,e){let r=o(n=>(0,$Ne.weierstrass)({...t,hash:n}),"create");return{...r(e),create:r}}o(YNe,"createCurve")});var ore=V(as=>{"use strict";m();g();Object.defineProperty(as,"__esModule",{value:!0});as.encodeToCurve=as.hashToCurve=as.secp256k1_hasher=as.schnorr=as.secp256k1=void 0;var yA=c6(),Qte=El(),XNe=Yte(),ere=QM(),Ra=Bh(),tre=ok(),Pc=e0(),eb={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},ZNe={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},JNe=BigInt(0),Xte=BigInt(1),sk=BigInt(2);function QNe(t){let e=eb.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),f=BigInt(44),l=BigInt(88),h=t*t*t%e,b=h*h*t%e,y=(0,Ra.pow2)(b,r,e)*b%e,E=(0,Ra.pow2)(y,r,e)*b%e,I=(0,Ra.pow2)(E,sk,e)*h%e,O=(0,Ra.pow2)(I,i,e)*I%e,N=(0,Ra.pow2)(O,s,e)*O%e,k=(0,Ra.pow2)(N,f,e)*N%e,C=(0,Ra.pow2)(k,l,e)*k%e,L=(0,Ra.pow2)(C,f,e)*N%e,M=(0,Ra.pow2)(L,r,e)*b%e,U=(0,Ra.pow2)(M,a,e)*O%e,q=(0,Ra.pow2)(U,n,e)*h%e,j=(0,Ra.pow2)(q,sk,e);if(!c0.eql(c0.sqr(j),t))throw new Error("Cannot find square root");return j}o(QNe,"sqrtMod");var c0=(0,Ra.Field)(eb.p,{sqrt:QNe});as.secp256k1=(0,XNe.createCurve)({...eb,Fp:c0,lowS:!0,endo:ZNe},yA.sha256);var Zte={};function bA(t,...e){let r=Zte[t];if(r===void 0){let n=(0,yA.sha256)((0,Pc.utf8ToBytes)(t));r=(0,Pc.concatBytes)(n,n),Zte[t]=r}return(0,yA.sha256)((0,Pc.concatBytes)(r,...e))}o(bA,"taggedHash");var ck=o(t=>t.toBytes(!0).slice(1),"pointToBytes"),tb=as.secp256k1.Point,fk=o(t=>t%sk===JNe,"hasEven");function ak(t){let{Fn:e,BASE:r}=tb,n=(0,tre._normFnElement)(e,t),i=r.multiply(n);return{scalar:fk(i.y)?n:e.neg(n),bytes:ck(i)}}o(ak,"schnorrGetExtPubKey");function rre(t){let e=c0;if(!e.isValidNot0(t))throw new Error("invalid x: Fail if x \u2265 p");let r=e.create(t*t),n=e.create(r*t+BigInt(7)),i=e.sqrt(n);fk(i)||(i=e.neg(i));let s=tb.fromAffine({x:t,y:i});return s.assertValidity(),s}o(rre,"lift_x");var a_=Pc.bytesToNumberBE;function nre(...t){return tb.Fn.create(a_(bA("BIP0340/challenge",...t)))}o(nre,"challenge");function Jte(t){return ak(t).bytes}o(Jte,"schnorrGetPublicKey");function eMe(t,e,r=(0,Qte.randomBytes)(32)){let{Fn:n}=tb,i=(0,Pc.ensureBytes)("message",t),{bytes:s,scalar:a}=ak(e),f=(0,Pc.ensureBytes)("auxRand",r,32),l=n.toBytes(a^a_(bA("BIP0340/aux",f))),h=bA("BIP0340/nonce",l,s,i),{bytes:b,scalar:y}=ak(h),E=nre(b,s,i),I=new Uint8Array(64);if(I.set(b,0),I.set(n.toBytes(n.create(y+E*a)),32),!ire(I,i,s))throw new Error("sign: Invalid signature produced");return I}o(eMe,"schnorrSign");function ire(t,e,r){let{Fn:n,BASE:i}=tb,s=(0,Pc.ensureBytes)("signature",t,64),a=(0,Pc.ensureBytes)("message",e),f=(0,Pc.ensureBytes)("publicKey",r,32);try{let l=rre(a_(f)),h=a_(s.subarray(0,32));if(!(0,Pc.inRange)(h,Xte,eb.p))return!1;let b=a_(s.subarray(32,64));if(!(0,Pc.inRange)(b,Xte,eb.n))return!1;let y=nre(n.toBytes(h),ck(l),a),E=i.multiplyUnsafe(b).add(l.multiplyUnsafe(n.neg(y))),{x:I,y:O}=E.toAffine();return!(E.is0()||!fk(O)||I!==h)}catch{return!1}}o(ire,"schnorrVerify");as.schnorr=(()=>{let r=o((i=(0,Qte.randomBytes)(48))=>(0,Ra.mapHashToField)(i,eb.n),"randomSecretKey");as.secp256k1.utils.randomSecretKey;function n(i){let s=r(i);return{secretKey:s,publicKey:Jte(s)}}return o(n,"keygen"),{keygen:n,getPublicKey:Jte,sign:eMe,verify:ire,Point:tb,utils:{randomSecretKey:r,randomPrivateKey:r,taggedHash:bA,lift_x:rre,pointToBytes:ck,numberToBytesBE:Pc.numberToBytesBE,bytesToNumberBE:Pc.bytesToNumberBE,mod:Ra.mod},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:32*2,seed:48}}})();var tMe=(0,ere.isogenyMap)(c0,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),rMe=(0,tre.mapToCurveSimpleSWU)(c0,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:c0.create(BigInt("-11"))});as.secp256k1_hasher=(0,ere.createHasher)(as.secp256k1.Point,t=>{let{x:e,y:r}=rMe(c0.create(t[0]));return tMe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:c0.ORDER,m:1,k:128,expand:"xmd",hash:yA.sha256});as.hashToCurve=as.secp256k1_hasher.hashToCurve;as.encodeToCurve=as.secp256k1_hasher.encodeToCurve});var PA=V(pt=>{"use strict";m();g();var Qt=Yi(),cb=tX(),nMe=ky(),iMe=bu(),sre=rX(),uk=cX(),Rre=mC(),Ore=Zee(),B=Qee(),oMe=wte(),are=Ote(),cre=Ute(),Lk=ore();function Dk(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}o(Dk,"_interopDefaultCompat");function sMe(t){if(t&&typeof t=="object"&&"default"in t)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:o(function(){return t[r]},"get")})}}),e.default=t,Object.freeze(e)}o(sMe,"_interopNamespaceCompat");var fre=Dk(nMe),cs=Dk(iMe),oe=sMe(Rre),aMe=Dk(oMe),cMe=cb.ed25519.utils.randomPrivateKey,ure=o(()=>{let t=cb.ed25519.utils.randomPrivateKey(),e=wA(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},"generateKeypair"),wA=cb.ed25519.getPublicKey;function lre(t){try{return cb.ed25519.ExtendedPoint.fromHex(t),!0}catch{return!1}}o(lre,"isOnCurve");var Uk=o((t,e)=>cb.ed25519.sign(t,e.slice(0,32)),"sign"),fMe=cb.ed25519.verify,Ir=o(t=>Qt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Qt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Qt.Buffer.from(t),"toBuffer"),u_=class{static{o(this,"Struct")}constructor(e){Object.assign(this,e)}encode(){return Qt.Buffer.from(uk.serialize(f_,this))}static decode(e){return uk.deserialize(f_,this,e)}static decodeUnchecked(e){return uk.deserializeUnchecked(f_,this,e)}},yk=class extends u_{static{o(this,"Enum")}constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},f_=new Map,Nre,Mre=32,Fl=32;function uMe(t){return t._bn!==void 0}o(uMe,"isPublicKeyData");var dre=1,ht=class t extends u_{static{o(this,"PublicKey")}constructor(e){if(super({}),this._bn=void 0,uMe(e))this._bn=e._bn;else{if(typeof e=="string"){let r=cs.default.decode(e);if(r.length!=Fl)throw new Error("Invalid public key input");this._bn=new fre.default(r)}else this._bn=new fre.default(e);if(this._bn.byteLength()>Fl)throw new Error("Invalid public key input")}}static unique(){let e=new t(dre);return dre+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return cs.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Qt.Buffer);if(e.length===Fl)return e;let r=Qt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Qt.Buffer.concat([e.toBuffer(),Qt.Buffer.from(r),n.toBuffer()]),s=sre.sha256(i);return new t(s)}static createProgramAddressSync(e,r){let n=Qt.Buffer.alloc(0);e.forEach(function(s){if(s.length>Mre)throw new TypeError("Max seed length exceeded");n=Qt.Buffer.concat([n,Ir(s)])}),n=Qt.Buffer.concat([n,r.toBuffer(),Qt.Buffer.from("ProgramDerivedAddress")]);let i=sre.sha256(n);if(lre(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let s=e.concat(Qt.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return lre(r.toBytes())}};Nre=ht;ht.default=new Nre("11111111111111111111111111111111");f_.set(ht,{kind:"struct",fields:[["_bn","u256"]]});var bk=class{static{o(this,"Account")}constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Ir(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Ir(cMe()),this._publicKey=Ir(wA(this._secretKey))}get publicKey(){return new ht(this._publicKey)}get secretKey(){return Qt.Buffer.concat([this._secretKey,this._publicKey],64)}},lMe=new ht("BPFLoader1111111111111111111111111111111111"),jh=1232,CA=127,l_=64,d_=class extends Error{static{o(this,"TransactionExpiredBlockheightExceededError")}constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(d_.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var h_=class extends Error{static{o(this,"TransactionExpiredTimeoutError")}constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(h_.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Vh=class extends Error{static{o(this,"TransactionExpiredNonceInvalidError")}constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Vh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var gg=class{static{o(this,"MessageAccountKeys")}constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,a)=>{n.set(s.toBase58(),a)});let i=o(s=>{let a=n.get(s.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a},"findKeyIndex");return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(a=>i(a.pubkey)),data:s.data}))}},Pr=o((t="publicKey")=>oe.blob(32,t),"publicKey"),dMe=o((t="signature")=>oe.blob(64,t),"signature"),mg=o((t="string")=>{let e=oe.struct([oe.u32("length"),oe.u32("lengthPadding"),oe.blob(oe.offset(oe.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,a)=>r(s,a).chars.toString(),i.encode=(s,a,f)=>{let l={chars:Qt.Buffer.from(s,"utf8")};return n(l,a,f)},i.alloc=s=>oe.u32().span+oe.u32().span+Qt.Buffer.from(s,"utf8").length,i},"rustString"),hMe=o((t="authorized")=>oe.struct([Pr("staker"),Pr("withdrawer")],t),"authorized"),pMe=o((t="lockup")=>oe.struct([oe.ns64("unixTimestamp"),oe.ns64("epoch"),Pr("custodian")],t),"lockup"),mMe=o((t="voteInit")=>oe.struct([Pr("nodePubkey"),Pr("authorizedVoter"),Pr("authorizedWithdrawer"),oe.u8("commission")],t),"voteInit"),gMe=o((t="voteAuthorizeWithSeedArgs")=>oe.struct([oe.u32("voteAuthorizationType"),Pr("currentAuthorityDerivedKeyOwnerPubkey"),mg("currentAuthorityDerivedKeySeed"),Pr("newAuthorized")],t),"voteAuthorizeWithSeedArgs");function Cre(t,e){let r=o(i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return Cre({layout:i},e[i.property]);return 0},"getItemAlloc"),n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}o(Cre,"getAlloc");function ec(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}o(ec,"decodeLength");function Lc(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}o(Lc,"encodeLength");function nn(t,e){if(!t)throw new Error(e||"Assertion failed")}o(nn,"assert");var SA=class t{static{o(this,"CompiledKeys")}constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=o(a=>{let f=a.toBase58(),l=n.get(f);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(f,l)),l},"getOrInsertDefault"),s=i(r);s.isSigner=!0,s.isWritable=!0;for(let a of e){i(a.programId).isInvoked=!0;for(let f of a.keys){let l=i(f.pubkey);l.isSigner||=f.isSigner,l.isWritable||=f.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];nn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{nn(r.length>0,"Expected at least one writable signer key");let[l]=r[0];nn(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let f=[...r.map(([l])=>new ht(l)),...n.map(([l])=>new ht(l)),...i.map(([l])=>new ht(l)),...s.map(([l])=>new ht(l))];return[a,f]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[s,a]of this.keyMetaMap.entries())if(r(a)){let f=new ht(s),l=e.findIndex(h=>h.equals(f));l>=0&&(nn(l<256,"Max lookup table index exceeded"),n.push(l),i.push(f),this.keyMetaMap.delete(s))}return[n,i]}},kre="Reached end of buffer unexpectedly";function Dl(t){if(t.length===0)throw new Error(kre);return t.shift()}o(Dl,"guardedShift");function tc(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(kre);return t.splice(...e)}o(tc,"guardedSplice");var ql=class t{static{o(this,"Message")}constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new ht(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:cs.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new gg(this.staticAccountKeys)}static compile(e){let r=SA.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),a=new gg(i).compileInstructions(e.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:cs.default.encode(f.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Lc(r,e);let n=this.instructions.map(y=>{let{accounts:E,programIdIndex:I}=y,O=Array.from(cs.default.decode(y.data)),N=[];Lc(N,E.length);let k=[];return Lc(k,O.length),{programIdIndex:I,keyIndicesCount:Qt.Buffer.from(N),keyIndices:E,dataLength:Qt.Buffer.from(k),data:O}}),i=[];Lc(i,n.length);let s=Qt.Buffer.alloc(jh);Qt.Buffer.from(i).copy(s);let a=i.length;n.forEach(y=>{let I=oe.struct([oe.u8("programIdIndex"),oe.blob(y.keyIndicesCount.length,"keyIndicesCount"),oe.seq(oe.u8("keyIndex"),y.keyIndices.length,"keyIndices"),oe.blob(y.dataLength.length,"dataLength"),oe.seq(oe.u8("userdatum"),y.data.length,"data")]).encode(y,s,a);a+=I}),s=s.slice(0,a);let f=oe.struct([oe.blob(1,"numRequiredSignatures"),oe.blob(1,"numReadonlySignedAccounts"),oe.blob(1,"numReadonlyUnsignedAccounts"),oe.blob(r.length,"keyCount"),oe.seq(Pr("key"),e,"keys"),Pr("recentBlockhash")]),l={numRequiredSignatures:Qt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Qt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Qt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Qt.Buffer.from(r),keys:this.accountKeys.map(y=>Ir(y.toBytes())),recentBlockhash:cs.default.decode(this.recentBlockhash)},h=Qt.Buffer.alloc(2048),b=f.encode(l,h);return s.copy(h,b),h.slice(0,b+s.length)}static from(e){let r=[...e],n=Dl(r);if(n!==(n&CA))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=Dl(r),s=Dl(r),a=ec(r),f=[];for(let E=0;E<a;E++){let I=tc(r,0,Fl);f.push(new ht(Qt.Buffer.from(I)))}let l=tc(r,0,Fl),h=ec(r),b=[];for(let E=0;E<h;E++){let I=Dl(r),O=ec(r),N=tc(r,0,O),k=ec(r),C=tc(r,0,k),L=cs.default.encode(Qt.Buffer.from(C));b.push({programIdIndex:I,accounts:N,data:L})}let y={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:cs.default.encode(Qt.Buffer.from(l)),accountKeys:f,instructions:b};return new t(y)}},rb=class t{static{o(this,"MessageV0")}constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new gg(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,s=this.addressTableLookups.reduce((a,f)=>a+f.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){let i=e-r,a=n-r-this.header.numReadonlyUnsignedAccounts;return i<a}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=SA.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let b of s){let y=r.extractTableLookup(b);if(y!==void 0){let[E,{writable:I,readonly:O}]=y;n.push(E),i.writable.push(...I),i.readonly.push(...O)}}let[a,f]=r.getMessageComponents(),h=new gg(f,i).compileInstructions(e.instructions);return new t({header:a,staticAccountKeys:f,recentBlockhash:e.recentBlockhash,compiledInstructions:h,addressTableLookups:n})}serialize(){let e=Array();Lc(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Lc(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();Lc(s,this.addressTableLookups.length);let a=oe.struct([oe.u8("prefix"),oe.struct([oe.u8("numRequiredSignatures"),oe.u8("numReadonlySignedAccounts"),oe.u8("numReadonlyUnsignedAccounts")],"header"),oe.blob(e.length,"staticAccountKeysLength"),oe.seq(Pr(),this.staticAccountKeys.length,"staticAccountKeys"),Pr("recentBlockhash"),oe.blob(n.length,"instructionsLength"),oe.blob(r.length,"serializedInstructions"),oe.blob(s.length,"addressTableLookupsLength"),oe.blob(i.length,"serializedAddressTableLookups")]),f=new Uint8Array(jh),h=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(b=>b.toBytes()),recentBlockhash:cs.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},f);return f.slice(0,h)}serializeInstructions(){let e=0,r=new Uint8Array(jh);for(let n of this.compiledInstructions){let i=Array();Lc(i,n.accountKeyIndexes.length);let s=Array();Lc(s,n.data.length);let a=oe.struct([oe.u8("programIdIndex"),oe.blob(i.length,"encodedAccountKeyIndexesLength"),oe.seq(oe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),oe.blob(s.length,"encodedDataLength"),oe.blob(n.data.length,"data")]);e+=a.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(jh);for(let n of this.addressTableLookups){let i=Array();Lc(i,n.writableIndexes.length);let s=Array();Lc(s,n.readonlyIndexes.length);let a=oe.struct([Pr("accountKey"),oe.blob(i.length,"encodedWritableIndexesLength"),oe.seq(oe.u8(),n.writableIndexes.length,"writableIndexes"),oe.blob(s.length,"encodedReadonlyIndexesLength"),oe.seq(oe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=Dl(r),i=n&CA;nn(n!==i,"Expected versioned message but received legacy message");let s=i;nn(s===0,`Expected versioned message with version 0 but found version ${s}`);let a={numRequiredSignatures:Dl(r),numReadonlySignedAccounts:Dl(r),numReadonlyUnsignedAccounts:Dl(r)},f=[],l=ec(r);for(let O=0;O<l;O++)f.push(new ht(tc(r,0,Fl)));let h=cs.default.encode(tc(r,0,Fl)),b=ec(r),y=[];for(let O=0;O<b;O++){let N=Dl(r),k=ec(r),C=tc(r,0,k),L=ec(r),M=new Uint8Array(tc(r,0,L));y.push({programIdIndex:N,accountKeyIndexes:C,data:M})}let E=ec(r),I=[];for(let O=0;O<E;O++){let N=new ht(tc(r,0,Fl)),k=ec(r),C=tc(r,0,k),L=ec(r),M=tc(r,0,L);I.push({accountKey:N,writableIndexes:C,readonlyIndexes:M})}return new t({header:a,staticAccountKeys:f,recentBlockhash:h,compiledInstructions:y,addressTableLookups:I})}},Hk={deserializeMessageVersion(t){let e=t[0],r=e&CA;return r===e?"legacy":r},deserialize:o(t=>{let e=Hk.deserializeMessageVersion(t);if(e==="legacy")return ql.from(t);if(e===0)return rb.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)},"deserialize")},f0=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({}),yMe=Qt.Buffer.alloc(l_).fill(0),An=class{static{o(this,"TransactionInstruction")}constructor(e){this.keys=void 0,this.programId=void 0,this.data=Qt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},wn=class t{static{o(this,"Transaction")}get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new An(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let N=0;N<r.length;N++)if(r[N].programId===void 0)throw new Error(`Transaction instruction index ${N} has undefined program id`);let i=[],s=[];r.forEach(N=>{N.keys.forEach(C=>{s.push({...C})});let k=N.programId.toString();i.includes(k)||i.push(k)}),i.forEach(N=>{s.push({pubkey:new ht(N),isSigner:!1,isWritable:!1})});let a=[];s.forEach(N=>{let k=N.pubkey.toString(),C=a.findIndex(L=>L.pubkey.toString()===k);C>-1?(a[C].isWritable=a[C].isWritable||N.isWritable,a[C].isSigner=a[C].isSigner||N.isSigner):a.push(N)}),a.sort(function(N,k){if(N.isSigner!==k.isSigner)return N.isSigner?-1:1;if(N.isWritable!==k.isWritable)return N.isWritable?-1:1;let C={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return N.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",C)});let f=a.findIndex(N=>N.pubkey.equals(n));if(f>-1){let[N]=a.splice(f,1);N.isSigner=!0,N.isWritable=!0,a.unshift(N)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let N of this.signatures){let k=a.findIndex(C=>C.pubkey.equals(N.publicKey));if(k>-1)a[k].isSigner||(a[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${N.publicKey.toString()}`)}let l=0,h=0,b=0,y=[],E=[];a.forEach(({pubkey:N,isSigner:k,isWritable:C})=>{k?(y.push(N.toString()),l+=1,C||(h+=1)):(E.push(N.toString()),C||(b+=1))});let I=y.concat(E),O=r.map(N=>{let{data:k,programId:C}=N;return{programIdIndex:I.indexOf(C.toString()),accounts:N.keys.map(L=>I.indexOf(L.pubkey.toString())),data:cs.default.encode(k)}});return O.forEach(N=>{nn(N.programIdIndex>=0),N.accounts.forEach(k=>nn(k>=0))}),new ql({header:{numRequiredSignatures:l,numReadonlySignedAccounts:h,numReadonlyUnsignedAccounts:b},accountKeys:I,recentBlockhash:e,instructions:O})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let s of e){let a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let s of e){let a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let s=Uk(n,i.secretKey);this._addSignature(i.publicKey,Ir(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){nn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Qt.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){let n={};for(let{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||=[]).push(s):fMe(i,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){let s=this._getMessageSignednessErrors(i,r);if(s){let a="Signature verification failed.";throw s.invalid&&(a+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(f=>f.toBase58()).join("`, `")}\`].`),s.missing&&(a+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(f=>f.toBase58()).join("`, `")}\`].`),new Error(a)}}return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Lc(n,r.length);let i=n.length+r.length*64+e.length,s=Qt.Buffer.alloc(i);return nn(r.length<256),Qt.Buffer.from(n).copy(s,0),r.forEach(({signature:a},f)=>{a!==null&&(nn(a.length===64,"signature has invalid length"),Qt.Buffer.from(a).copy(s,n.length+f*64))}),e.copy(s,n.length+r.length*64),nn(s.length<=jh,`Transaction too large: ${s.length} > ${jh}`),s}get keys(){return nn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return nn(this.instructions.length===1),this.instructions[0].programId}get data(){return nn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=ec(r),i=[];for(let s=0;s<n;s++){let a=tc(r,0,l_);i.push(cs.default.encode(Qt.Buffer.from(a)))}return t.populate(ql.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{let a={signature:i==cs.default.encode(yMe)?null:cs.default.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(a)}),e.instructions.forEach(i=>{let s=i.accounts.map(a=>{let f=e.accountKeys[a];return{pubkey:f,isSigner:n.signatures.some(l=>l.publicKey.toString()===f.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});n.instructions.push(new An({keys:s,programId:e.accountKeys[i.programIdIndex],data:cs.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},xk=class t{static{o(this,"TransactionMessage")}constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:l}=n,h=a-f;nn(h>0,"Message header is invalid");let b=e.staticAccountKeys.length-a-l;nn(b>=0,"Message header is invalid");let y=e.getAccountKeys(r),E=y.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");let I=[];for(let O of i){let N=[];for(let C of O.accountKeyIndexes){let L=y.get(C);if(L===void 0)throw new Error(`Failed to find key for account key index ${C}`);let M=C<a,U;M?U=C<h:C<y.staticAccountKeys.length?U=C-a<b:U=C-y.staticAccountKeys.length<y.accountKeysFromLookups.writable.length,N.push({pubkey:L,isSigner:C<n.numRequiredSignatures,isWritable:U})}let k=y.get(O.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${O.programIdIndex}`);I.push(new An({programId:k,data:Ir(O.data),keys:N}))}return new t({payerKey:E,instructions:I,recentBlockhash:s})}compileToLegacyMessage(){return ql.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return rb.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},vk=class t{static{o(this,"VersionedTransaction")}get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)nn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(l_));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Lc(r,this.signatures.length);let n=oe.struct([oe.blob(r.length,"encodedSignaturesLength"),oe.seq(dMe(),this.signatures.length,"signatures"),oe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e],n=[],i=ec(r);for(let a=0;a<i;a++)n.push(new Uint8Array(tc(r,0,l_)));let s=Hk.deserialize(new Uint8Array(r));return new t(s,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let s=n.findIndex(a=>a.equals(i.publicKey));nn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Uk(r,i.secretKey)}}addSignature(e,r){nn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));nn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},bMe=160,xMe=64,vMe=bMe/xMe,Bre=1e3/vMe,Ll=new ht("SysvarC1ock11111111111111111111111111111111"),_Me=new ht("SysvarEpochSchedu1e111111111111111111111111"),wMe=new ht("Sysvar1nstructions1111111111111111111111111"),vA=new ht("SysvarRecentB1ockHashes11111111111111111111"),nb=new ht("SysvarRent111111111111111111111111111111111"),SMe=new ht("SysvarRewards111111111111111111111111111111"),EMe=new ht("SysvarS1otHashes111111111111111111111111111"),AMe=new ht("SysvarS1otHistory11111111111111111111111111"),_A=new ht("SysvarStakeHistory1111111111111111111111111"),yg=class extends Error{static{o(this,"SendTransactionError")}constructor({action:e,signature:r,transactionMessage:n,logs:i}){let s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",f;switch(e){case"send":f=`Transaction ${r} resulted in an error. 
${n}. `+s+a;break;case"simulate":f=`Simulation failed. 
Message: ${n}. 
`+s+a;break;default:f=`Unknown action '${(l=>l)(e)}'`}super(f),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}},IMe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Bt=class extends Error{static{o(this,"SolanaJSONRPCError")}constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}};async function _k(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i),a;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)a=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:f}=e.nonceInfo,l=f.keys[0].pubkey;a=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),a=(await t.confirmTransaction(s,n&&n.commitment)).value;if(a.err)throw s!=null?new yg({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(a)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(a)})`);return s}o(_k,"sendAndConfirmTransaction");function pg(t){return new Promise(e=>setTimeout(e,t))}o(pg,"sleep");function Wr(t,e){let r=t.layout.span>=0?t.layout.span:Cre(t,e),n=Qt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}o(Wr,"encodeData");function _n(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}o(_n,"decodeData$1");var Pre=oe.nu64("lamportsPerSignature"),Lre=oe.struct([oe.u32("version"),oe.u32("state"),Pr("authorizedPubkey"),Pr("nonce"),oe.struct([Pre],"feeCalculator")]),wk=Lre.span,EA=class t{static{o(this,"NonceAccount")}constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=Lre.decode(Ir(e),0);return new t({authorizedPubkey:new ht(r.authorizedPubkey),nonce:new ht(r.nonce).toString(),feeCalculator:r.feeCalculator})}};function ib(t){let e=Rre.blob(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,s=Ore.getU64Codec();return i.decode=(a,f)=>{let l=r(a,f);return s.decode(l)},i.encode=(a,f,l)=>{let h=s.encode(a);return n(h,f,l)},i}o(ib,"u64");var Sk=class{static{o(this,"SystemInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(zn))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=_n(zn.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new ht(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=_n(zn.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=_n(zn.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new ht(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=_n(zn.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:s}=_n(zn.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ht(r),seed:n,space:i,programId:new ht(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=_n(zn.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ht(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=_n(zn.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ht(r),seed:n,programId:new ht(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:s,programId:a}=_n(zn.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ht(r),seed:n,lamports:i,space:s,programId:new ht(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=_n(zn.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ht(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_n(zn.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=_n(zn.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=_n(zn.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ht(r)}}static checkProgramId(e){if(!e.equals(fs.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},zn=Object.freeze({Create:{index:0,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports"),oe.ns64("space"),Pr("programId")])},Assign:{index:1,layout:oe.struct([oe.u32("instruction"),Pr("programId")])},Transfer:{index:2,layout:oe.struct([oe.u32("instruction"),ib("lamports")])},CreateWithSeed:{index:3,layout:oe.struct([oe.u32("instruction"),Pr("base"),mg("seed"),oe.ns64("lamports"),oe.ns64("space"),Pr("programId")])},AdvanceNonceAccount:{index:4,layout:oe.struct([oe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:oe.struct([oe.u32("instruction"),Pr("authorized")])},AuthorizeNonceAccount:{index:7,layout:oe.struct([oe.u32("instruction"),Pr("authorized")])},Allocate:{index:8,layout:oe.struct([oe.u32("instruction"),oe.ns64("space")])},AllocateWithSeed:{index:9,layout:oe.struct([oe.u32("instruction"),Pr("base"),mg("seed"),oe.ns64("space"),Pr("programId")])},AssignWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),Pr("base"),mg("seed"),Pr("programId")])},TransferWithSeed:{index:11,layout:oe.struct([oe.u32("instruction"),ib("lamports"),mg("seed"),Pr("programId")])},UpgradeNonceAccount:{index:12,layout:oe.struct([oe.u32("instruction")])}}),fs=class t{static{o(this,"SystemProgram")}constructor(){}static createAccount(e){let r=zn.Create,n=Wr(r,{lamports:e.lamports,space:e.space,programId:Ir(e.programId.toBuffer())});return new An({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=zn.TransferWithSeed;r=Wr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=zn.Transfer;r=Wr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new An({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=zn.AssignWithSeed;r=Wr(i,{base:Ir(e.basePubkey.toBuffer()),seed:e.seed,programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=zn.Assign;r=Wr(i,{programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new An({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=zn.CreateWithSeed,n=Wr(r,{base:Ir(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ir(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new An({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new wn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:wk,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:wk,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=zn.InitializeNonceAccount,n=Wr(r,{authorized:Ir(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:vA,isSigner:!1,isWritable:!1},{pubkey:nb,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new An(i)}static nonceAdvance(e){let r=zn.AdvanceNonceAccount,n=Wr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:vA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new An(i)}static nonceWithdraw(e){let r=zn.WithdrawNonceAccount,n=Wr(r,{lamports:e.lamports});return new An({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:vA,isSigner:!1,isWritable:!1},{pubkey:nb,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=zn.AuthorizeNonceAccount,n=Wr(r,{authorized:Ir(e.newAuthorizedPubkey.toBuffer())});return new An({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=zn.AllocateWithSeed;r=Wr(i,{base:Ir(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=zn.Allocate;r=Wr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new An({keys:n,programId:this.programId,data:r})}};fs.programId=new ht("11111111111111111111111111111111");var TMe=jh-300,ob=class t{static{o(this,"Loader")}constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,s){{let y=await e.getMinimumBalanceForRentExemption(s.length),E=await e.getAccountInfo(n.publicKey,"confirmed"),I=null;if(E!==null){if(E.executable)return console.error("Program load failed, account is already executable"),!1;E.data.length!==s.length&&(I=I||new wn,I.add(fs.allocate({accountPubkey:n.publicKey,space:s.length}))),E.owner.equals(i)||(I=I||new wn,I.add(fs.assign({accountPubkey:n.publicKey,programId:i}))),E.lamports<y&&(I=I||new wn,I.add(fs.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:y-E.lamports})))}else I=new wn().add(fs.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:y>0?y:1,space:s.length,programId:i}));I!==null&&await _k(e,I,[r,n],{commitment:"confirmed"})}let a=oe.struct([oe.u32("instruction"),oe.u32("offset"),oe.u32("bytesLength"),oe.u32("bytesLengthPadding"),oe.seq(oe.u8("byte"),oe.offset(oe.u32(),-8),"bytes")]),f=t.chunkSize,l=0,h=s,b=[];for(;h.length>0;){let y=h.slice(0,f),E=Qt.Buffer.alloc(f+16);a.encode({instruction:0,offset:l,bytes:y,bytesLength:0,bytesLengthPadding:0},E);let I=new wn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:E});b.push(_k(e,I,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await pg(1e3/4),l+=f,h=h.slice(f)}await Promise.all(b);{let y=oe.struct([oe.u32("instruction")]),E=Qt.Buffer.alloc(y.span);y.encode({instruction:1},E);let I=new wn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:nb,isSigner:!1,isWritable:!1}],programId:i,data:E}),O="processed",N=await e.sendTransaction(I,[r,n],{preflightCommitment:O}),{context:k,value:C}=await e.confirmTransaction({signature:N,lastValidBlockHeight:I.lastValidBlockHeight,blockhash:I.recentBlockhash},O);if(C.err)throw new Error(`Transaction ${N} failed (${JSON.stringify(C)})`);for(;;){try{if(await e.getSlot({commitment:O})>k.slot)break}catch{}await new Promise(L=>setTimeout(L,Math.round(Bre/2)))}}return!0}};ob.chunkSize=TMe;var RMe=new ht("BPFLoader2111111111111111111111111111111111"),Ek=class{static{o(this,"BpfLoader")}static getMinNumSignatures(e){return ob.getMinNumSignatures(e)}static load(e,r,n,i,s){return ob.load(e,r,n,s,i)}};function OMe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}o(OMe,"getDefaultExportFromCjs");var lk,hre;function NMe(){if(hre)return lk;hre=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,a,f,l,h,b,y;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(y=t.call(n),y==="[object Array]"){for(f="[",a=n.length-1,s=0;s<a;s++)f+=r(n[s],!0)+",";return a>-1&&(f+=r(n[s],!0)),f+"]"}else if(y==="[object Object]"){for(l=e(n).sort(),a=l.length,f="",s=0;s<a;)h=l[s],b=r(n[h],!1),b!==void 0&&(f&&(f+=","),f+=JSON.stringify(h)+":"+b),s++;return"{"+f+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return o(r,"stringify"),lk=o(function(n){var i=r(n,!1);if(i!==void 0)return""+i},"fastStableStringify$1"),lk}o(NMe,"requireFastStableStringify");var MMe=NMe(),pre=OMe(MMe),c_=32;function dk(t){let e=0;for(;t>1;)t/=2,e++;return e}o(dk,"trailingZeros");function CMe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}o(CMe,"nextPowerOfTwo");var AA=class{static{o(this,"EpochSchedule")}constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=dk(CMe(e+c_+1))-dk(c_)-1,n=this.getSlotsInEpoch(r),i=e-(n-c_);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*c_:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+dk(c_)):this.slotsPerEpoch}},kMe=globalThis.fetch,Ak=class extends are.CommonClient{static{o(this,"RpcWebSocketClient")}constructor(e,r,n){let i=o(s=>{let a=are.WebSocket(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a},"webSocketFactory");super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}};function BMe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}o(BMe,"decodeData");var mre=56,p_=class{static{o(this,"AddressLookupTableAccount")}constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=BMe(PMe,e),n=e.length-mre;nn(n>=0,"lookup table is invalid"),nn(n%32===0,"lookup table is invalid");let i=n/32,{addresses:s}=oe.struct([oe.seq(Pr(),i,"addresses")]).decode(e.slice(mre));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new ht(r.authority[0]):void 0,addresses:s.map(a=>new ht(a))}}},PMe={index:1,layout:oe.struct([oe.u32("typeIndex"),ib("deactivationSlot"),oe.nu64("lastExtendedSlot"),oe.u8("lastExtendedStartIndex"),oe.u8(),oe.seq(Pr(),oe.offset(oe.u8(),-1),"authority")])},LMe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function DMe(t){let e=t.match(LMe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,s]=e,a=t.startsWith("https:")?"wss:":"ws:",f=i==null?null:parseInt(i.slice(1),10),l=f==null?"":`:${f+1}`;return`${a}//${n}${l}${s}`}o(DMe,"makeWebsocketUrl");var Ai=B.coerce(B.instance(ht),B.string(),t=>new ht(t)),Dre=B.tuple([B.string(),B.literal("base64")]),Fk=B.coerce(B.instance(Qt.Buffer),Dre,t=>Qt.Buffer.from(t[0],"base64")),Ure=30*1e3;function UMe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}o(UMe,"assertEndpointUrl");function Kn(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}o(Kn,"extractCommitmentFromConfig");function gre(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}o(gre,"applyDefaultMemcmpEncodingToFilters");function Hre(t){return B.union([B.type({jsonrpc:B.literal("2.0"),id:B.string(),result:t}),B.type({jsonrpc:B.literal("2.0"),id:B.string(),error:B.type({code:B.unknown(),message:B.string(),data:B.optional(B.any())})})])}o(Hre,"createRpcResult");var HMe=Hre(B.unknown());function Ar(t){return B.coerce(Hre(t),HMe,e=>"error"in e?e:{...e,result:B.create(e.result,t)})}o(Ar,"jsonRpcResult");function Xi(t){return Ar(B.type({context:B.type({slot:B.number()}),value:t}))}o(Xi,"jsonRpcResultAndContext");function kA(t){return B.type({context:B.type({slot:B.number()}),value:t})}o(kA,"notificationResultAndContext");function hk(t,e){return t===0?new rb({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new ht(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:cs.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new ql(e)}o(hk,"versionedMessageFromResponse");var FMe=B.type({foundation:B.number(),foundationTerm:B.number(),initial:B.number(),taper:B.number(),terminal:B.number()}),qMe=Ar(B.array(B.nullable(B.type({epoch:B.number(),effectiveSlot:B.number(),amount:B.number(),postBalance:B.number(),commission:B.optional(B.nullable(B.number()))})))),VMe=B.array(B.type({slot:B.number(),prioritizationFee:B.number()})),jMe=B.type({total:B.number(),validator:B.number(),foundation:B.number(),epoch:B.number()}),KMe=B.type({epoch:B.number(),slotIndex:B.number(),slotsInEpoch:B.number(),absoluteSlot:B.number(),blockHeight:B.optional(B.number()),transactionCount:B.optional(B.number())}),zMe=B.type({slotsPerEpoch:B.number(),leaderScheduleSlotOffset:B.number(),warmup:B.boolean(),firstNormalEpoch:B.number(),firstNormalSlot:B.number()}),GMe=B.record(B.string(),B.array(B.number())),xg=B.nullable(B.union([B.type({}),B.string()])),$Me=B.type({err:xg}),WMe=B.literal("receivedSignature"),YMe=B.type({"solana-core":B.string(),"feature-set":B.optional(B.number())}),XMe=B.type({program:B.string(),programId:Ai,parsed:B.unknown()}),ZMe=B.type({programId:Ai,accounts:B.array(Ai),data:B.string()}),yre=Xi(B.type({err:B.nullable(B.union([B.type({}),B.string()])),logs:B.nullable(B.array(B.string())),accounts:B.optional(B.nullable(B.array(B.nullable(B.type({executable:B.boolean(),owner:B.string(),lamports:B.number(),data:B.array(B.string()),rentEpoch:B.optional(B.number())}))))),unitsConsumed:B.optional(B.number()),returnData:B.optional(B.nullable(B.type({programId:B.string(),data:B.tuple([B.string(),B.literal("base64")])}))),innerInstructions:B.optional(B.nullable(B.array(B.type({index:B.number(),instructions:B.array(B.union([XMe,ZMe]))}))))})),JMe=Xi(B.type({byIdentity:B.record(B.string(),B.array(B.number())),range:B.type({firstSlot:B.number(),lastSlot:B.number()})}));function QMe(t,e,r,n,i,s){let a=r||kMe,f;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return n&&(l=o(async(b,y)=>{let E=await new Promise((I,O)=>{try{n(b,y,(N,k)=>I([N,k]))}catch(N){O(N)}});return await a(...E)},"fetchWithMiddleware")),new aMe.default(async(b,y)=>{let E={method:"POST",body:b,agent:f,headers:Object.assign({"Content-Type":"application/json"},e||{},QCe)};try{let I=5,O,N=500;for(;l?O=await l(t,E):O=await a(t,E),!(O.status!==429||i===!0||(I-=1,I===0));)console.error(`Server responded with ${O.status} ${O.statusText}.  Retrying after ${N}ms delay...`),await pg(N),N*=2;let k=await O.text();O.ok?y(null,k):y(new Error(`${O.status} ${O.statusText}: ${k}`))}catch(I){I instanceof Error&&y(I)}},{})}o(QMe,"createRpcClient");function eCe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,a)=>{if(s){i(s);return}n(a)})})}o(eCe,"createRpcRequest");function tCe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,a)=>{if(s){n(s);return}r(a)})})}o(tCe,"createRpcBatchRequest");var rCe=Ar(FMe),nCe=Ar(jMe),iCe=Ar(VMe),oCe=Ar(KMe),sCe=Ar(zMe),aCe=Ar(GMe),cCe=Ar(B.number()),fCe=Xi(B.type({total:B.number(),circulating:B.number(),nonCirculating:B.number(),nonCirculatingAccounts:B.array(Ai)})),Ik=B.type({amount:B.string(),uiAmount:B.nullable(B.number()),decimals:B.number(),uiAmountString:B.optional(B.string())}),uCe=Xi(B.array(B.type({address:Ai,amount:B.string(),uiAmount:B.nullable(B.number()),decimals:B.number(),uiAmountString:B.optional(B.string())}))),lCe=Xi(B.array(B.type({pubkey:Ai,account:B.type({executable:B.boolean(),owner:Ai,lamports:B.number(),data:Fk,rentEpoch:B.number()})}))),Tk=B.type({program:B.string(),parsed:B.unknown(),space:B.number()}),dCe=Xi(B.array(B.type({pubkey:Ai,account:B.type({executable:B.boolean(),owner:Ai,lamports:B.number(),data:Tk,rentEpoch:B.number()})}))),hCe=Xi(B.array(B.type({lamports:B.number(),address:Ai}))),m_=B.type({executable:B.boolean(),owner:Ai,lamports:B.number(),data:Fk,rentEpoch:B.number()}),pCe=B.type({pubkey:Ai,account:m_}),mCe=B.coerce(B.union([B.instance(Qt.Buffer),Tk]),B.union([Dre,Tk]),t=>Array.isArray(t)?B.create(t,Fk):t),Rk=B.type({executable:B.boolean(),owner:Ai,lamports:B.number(),data:mCe,rentEpoch:B.number()}),gCe=B.type({pubkey:Ai,account:Rk}),yCe=B.type({state:B.union([B.literal("active"),B.literal("inactive"),B.literal("activating"),B.literal("deactivating")]),active:B.number(),inactive:B.number()}),bCe=Ar(B.array(B.type({signature:B.string(),slot:B.number(),err:xg,memo:B.nullable(B.string()),blockTime:B.optional(B.nullable(B.number()))}))),xCe=Ar(B.array(B.type({signature:B.string(),slot:B.number(),err:xg,memo:B.nullable(B.string()),blockTime:B.optional(B.nullable(B.number()))}))),vCe=B.type({subscription:B.number(),result:kA(m_)}),_Ce=B.type({pubkey:Ai,account:m_}),wCe=B.type({subscription:B.number(),result:kA(_Ce)}),SCe=B.type({parent:B.number(),slot:B.number(),root:B.number()}),ECe=B.type({subscription:B.number(),result:SCe}),ACe=B.union([B.type({type:B.union([B.literal("firstShredReceived"),B.literal("completed"),B.literal("optimisticConfirmation"),B.literal("root")]),slot:B.number(),timestamp:B.number()}),B.type({type:B.literal("createdBank"),parent:B.number(),slot:B.number(),timestamp:B.number()}),B.type({type:B.literal("frozen"),slot:B.number(),timestamp:B.number(),stats:B.type({numTransactionEntries:B.number(),numSuccessfulTransactions:B.number(),numFailedTransactions:B.number(),maxTransactionsPerEntry:B.number()})}),B.type({type:B.literal("dead"),slot:B.number(),timestamp:B.number(),err:B.string()})]),ICe=B.type({subscription:B.number(),result:ACe}),TCe=B.type({subscription:B.number(),result:kA(B.union([$Me,WMe]))}),RCe=B.type({subscription:B.number(),result:B.number()}),OCe=B.type({pubkey:B.string(),gossip:B.nullable(B.string()),tpu:B.nullable(B.string()),rpc:B.nullable(B.string()),version:B.nullable(B.string())}),bre=B.type({votePubkey:B.string(),nodePubkey:B.string(),activatedStake:B.number(),epochVoteAccount:B.boolean(),epochCredits:B.array(B.tuple([B.number(),B.number(),B.number()])),commission:B.number(),lastVote:B.number(),rootSlot:B.nullable(B.number())}),NCe=Ar(B.type({current:B.array(bre),delinquent:B.array(bre)})),MCe=B.union([B.literal("processed"),B.literal("confirmed"),B.literal("finalized")]),CCe=B.type({slot:B.number(),confirmations:B.nullable(B.number()),err:xg,confirmationStatus:B.optional(MCe)}),kCe=Xi(B.array(B.nullable(CCe))),BCe=Ar(B.number()),Fre=B.type({accountKey:Ai,writableIndexes:B.array(B.number()),readonlyIndexes:B.array(B.number())}),qk=B.type({signatures:B.array(B.string()),message:B.type({accountKeys:B.array(B.string()),header:B.type({numRequiredSignatures:B.number(),numReadonlySignedAccounts:B.number(),numReadonlyUnsignedAccounts:B.number()}),instructions:B.array(B.type({accounts:B.array(B.number()),data:B.string(),programIdIndex:B.number()})),recentBlockhash:B.string(),addressTableLookups:B.optional(B.array(Fre))})}),qre=B.type({pubkey:Ai,signer:B.boolean(),writable:B.boolean(),source:B.optional(B.union([B.literal("transaction"),B.literal("lookupTable")]))}),Vre=B.type({accountKeys:B.array(qre),signatures:B.array(B.string())}),jre=B.type({parsed:B.unknown(),program:B.string(),programId:Ai}),Kre=B.type({accounts:B.array(Ai),data:B.string(),programId:Ai}),PCe=B.union([Kre,jre]),LCe=B.union([B.type({parsed:B.unknown(),program:B.string(),programId:B.string()}),B.type({accounts:B.array(B.string()),data:B.string(),programId:B.string()})]),zre=B.coerce(PCe,LCe,t=>"accounts"in t?B.create(t,Kre):B.create(t,jre)),Gre=B.type({signatures:B.array(B.string()),message:B.type({accountKeys:B.array(qre),instructions:B.array(zre),recentBlockhash:B.string(),addressTableLookups:B.optional(B.nullable(B.array(Fre)))})}),IA=B.type({accountIndex:B.number(),mint:B.string(),owner:B.optional(B.string()),programId:B.optional(B.string()),uiTokenAmount:Ik}),$re=B.type({writable:B.array(Ai),readonly:B.array(Ai)}),BA=B.type({err:xg,fee:B.number(),innerInstructions:B.optional(B.nullable(B.array(B.type({index:B.number(),instructions:B.array(B.type({accounts:B.array(B.number()),data:B.string(),programIdIndex:B.number()}))})))),preBalances:B.array(B.number()),postBalances:B.array(B.number()),logMessages:B.optional(B.nullable(B.array(B.string()))),preTokenBalances:B.optional(B.nullable(B.array(IA))),postTokenBalances:B.optional(B.nullable(B.array(IA))),loadedAddresses:B.optional($re),computeUnitsConsumed:B.optional(B.number()),costUnits:B.optional(B.number())}),Vk=B.type({err:xg,fee:B.number(),innerInstructions:B.optional(B.nullable(B.array(B.type({index:B.number(),instructions:B.array(zre)})))),preBalances:B.array(B.number()),postBalances:B.array(B.number()),logMessages:B.optional(B.nullable(B.array(B.string()))),preTokenBalances:B.optional(B.nullable(B.array(IA))),postTokenBalances:B.optional(B.nullable(B.array(IA))),loadedAddresses:B.optional($re),computeUnitsConsumed:B.optional(B.number()),costUnits:B.optional(B.number())}),fb=B.union([B.literal(0),B.literal("legacy")]),vg=B.type({pubkey:B.string(),lamports:B.number(),postBalance:B.nullable(B.number()),rewardType:B.nullable(B.string()),commission:B.optional(B.nullable(B.number()))}),DCe=Ar(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),transactions:B.array(B.type({transaction:qk,meta:B.nullable(BA),version:B.optional(fb)})),rewards:B.optional(B.array(vg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),UCe=Ar(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),rewards:B.optional(B.array(vg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),HCe=Ar(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),transactions:B.array(B.type({transaction:Vre,meta:B.nullable(BA),version:B.optional(fb)})),rewards:B.optional(B.array(vg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),FCe=Ar(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),transactions:B.array(B.type({transaction:Gre,meta:B.nullable(Vk),version:B.optional(fb)})),rewards:B.optional(B.array(vg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),qCe=Ar(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),transactions:B.array(B.type({transaction:Vre,meta:B.nullable(Vk),version:B.optional(fb)})),rewards:B.optional(B.array(vg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),VCe=Ar(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),rewards:B.optional(B.array(vg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),jCe=Ar(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),transactions:B.array(B.type({transaction:qk,meta:B.nullable(BA)})),rewards:B.optional(B.array(vg)),blockTime:B.nullable(B.number())}))),xre=Ar(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),signatures:B.array(B.string()),blockTime:B.nullable(B.number())}))),pk=Ar(B.nullable(B.type({slot:B.number(),meta:B.nullable(BA),blockTime:B.optional(B.nullable(B.number())),transaction:qk,version:B.optional(fb)}))),xA=Ar(B.nullable(B.type({slot:B.number(),transaction:Gre,meta:B.nullable(Vk),blockTime:B.optional(B.nullable(B.number())),version:B.optional(fb)}))),KCe=Xi(B.type({blockhash:B.string(),lastValidBlockHeight:B.number()})),zCe=Xi(B.boolean()),GCe=B.type({slot:B.number(),numTransactions:B.number(),numSlots:B.number(),samplePeriodSecs:B.number()}),$Ce=Ar(B.array(GCe)),WCe=Xi(B.nullable(B.type({feeCalculator:B.type({lamportsPerSignature:B.number()})}))),YCe=Ar(B.string()),XCe=Ar(B.string()),ZCe=B.type({err:xg,logs:B.array(B.string()),signature:B.string()}),JCe=B.type({result:kA(ZCe),subscription:B.number()}),QCe={"solana-client":"js/1.0.0-maintenance"},Ok=class{static{o(this,"Connection")}constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let h={};return async b=>{let{commitment:y,config:E}=Kn(b),I=this._buildArgs([],y,void 0,E),O=pre(I);return h[O]=h[O]??(async()=>{try{let N=await this._rpcRequest("getBlockHeight",I),k=B.create(N,Ar(B.number()));if("error"in k)throw new Bt(k.error,"failed to get block height information");return k.result}finally{delete h[O]}})(),await h[O]}})();let n,i,s,a,f,l;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,f=r.disableRetryOnRateLimit,l=r.httpAgent),this._rpcEndpoint=UMe(e),this._rpcWsEndpoint=n||DMe(e),this._rpcClient=QMe(e,i,s,a,f,l),this._rpcRequest=eCe(this._rpcClient),this._rpcBatchRequest=tCe(this._rpcClient),this._rpcWebSocket=new Ak(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=Kn(r),s=this._buildArgs([e.toBase58()],n,void 0,i),a=await this._rpcRequest("getBalance",s),f=B.create(a,Xi(B.number()));if("error"in f)throw new Bt(f.error,`failed to get balance for ${e.toBase58()}`);return f.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=B.create(r,Ar(B.nullable(B.number())));if("error"in n)throw new Bt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=B.create(e,Ar(B.number()));if("error"in r)throw new Bt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=B.create(e,cCe);if("error"in r)throw new Bt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=B.create(n,fCe);if("error"in i)throw new Bt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=B.create(i,Xi(Ik));if("error"in s)throw new Bt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=B.create(i,Xi(Ik));if("error"in s)throw new Bt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:s}=Kn(n),a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});let f=this._buildArgs(a,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",f),h=B.create(l,lCe);if("error"in h)throw new Bt(h.error,`failed to get token accounts owned by account ${e.toBase58()}`);return h.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let s=this._buildArgs(i,n,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),f=B.create(a,dCe);if("error"in f)throw new Bt(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=B.create(i,hCe);if("error"in s)throw new Bt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=B.create(i,uCe);if("error"in s)throw new Bt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=Kn(r),s=this._buildArgs([e.toBase58()],n,"base64",i),a=await this._rpcRequest("getAccountInfo",s),f=B.create(a,Xi(B.nullable(m_)));if("error"in f)throw new Bt(f.error,`failed to get info about account ${e.toBase58()}`);return f.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=Kn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getAccountInfo",s),f=B.create(a,Xi(B.nullable(Rk)));if("error"in f)throw new Bt(f.error,`failed to get info about account ${e.toBase58()}`);return f.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=Kn(r),s=e.map(h=>h.toBase58()),a=this._buildArgs([s],n,"jsonParsed",i),f=await this._rpcRequest("getMultipleAccounts",a),l=B.create(f,Xi(B.array(B.nullable(Rk))));if("error"in l)throw new Bt(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=Kn(r),s=e.map(h=>h.toBase58()),a=this._buildArgs([s],n,"base64",i),f=await this._rpcRequest("getMultipleAccounts",a),l=B.create(f,Xi(B.array(B.nullable(m_))));if("error"in l)throw new Bt(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:s}=Kn(r),a=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??s?.epoch}),f=await this._rpcRequest("getStakeActivation",a),l=B.create(f,Ar(yCe));if("error"in l)throw new Bt(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=Kn(r),{encoding:s,...a}=i||{},f=this._buildArgs([e.toBase58()],n,s||"base64",{...a,...a.filters?{filters:gre(a.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",f),h=B.array(pCe),b=a.withContext===!0?B.create(l,Xi(h)):B.create(l,Ar(h));if("error"in b)throw new Bt(b.error,`failed to get accounts owned by program ${e.toBase58()}`);return b.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=Kn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getProgramAccounts",s),f=B.create(a,Ar(B.array(gCe)));if("error"in f)throw new Bt(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let s=e;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);n=s.signature}let i;try{i=cs.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return nn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1,a=new Promise((l,h)=>{try{n=this.onSignature(r,(y,E)=>{n=void 0;let I={context:E,value:y};l({__type:f0.PROCESSED,response:I})},e);let b=new Promise(y=>{n==null?y():i=this._onSubscriptionStateChange(n,E=>{E==="subscribed"&&y()})});(async()=>{if(await b,s)return;let y=await this.getSignatureStatus(r);if(s||y==null)return;let{context:E,value:I}=y;if(I!=null)if(I?.err)h(I.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(I.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(I.confirmationStatus==="processed"||I.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:f0.PROCESSED,response:{context:E,value:I}})}})()}catch(b){h(b)}});return{abortConfirmation:o(()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},"abortConfirmation"),confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1,a=new Promise(y=>{let E=o(async()=>{try{return await this.getBlockHeight(e)}catch{return-1}},"checkBlockHeight");(async()=>{let I=await E();if(!s){for(;I<=n;)if(await pg(1e3),s||(I=await E(),s))return;y({__type:f0.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:f,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),h=this.getCancellationPromise(r),b;try{let y=await Promise.race([h,l,a]);if(y.__type===f0.PROCESSED)b=y.response;else throw new d_(i)}finally{s=!0,f()}return b}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:a}}){let f=!1,l=new Promise(I=>{let O=s,N=null,k=o(async()=>{try{let{context:C,value:L}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return N=C.slot,L?.nonce}catch{return O}},"getCurrentNonceValue");(async()=>{if(O=await k(),!f)for(;;){if(s!==O){I({__type:f0.NONCE_INVALID,slotInWhichNonceDidAdvance:N});return}if(await pg(2e3),f||(O=await k(),f))return}})()}),{abortConfirmation:h,confirmationPromise:b}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),y=this.getCancellationPromise(r),E;try{let I=await Promise.race([y,b,l]);if(I.__type===f0.PROCESSED)E=I.response;else{let O;for(;;){let N=await this.getSignatureStatus(a);if(N==null)break;if(N.context.slot<(I.slotInWhichNonceDidAdvance??n)){await pg(400);continue}O=N;break}if(O?.value){let N=e||"finalized",{confirmationStatus:k}=O.value;switch(N){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new Vh(a);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new Vh(a);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new Vh(a);break;default:}E={context:O.context,value:{err:O.value.err}}}else throw new Vh(a)}}finally{f=!0,h()}return E}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(l=>{let h=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{h=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>l({__type:f0.TIMED_OUT,timeoutMs:h}),h)}),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),f;try{let l=await Promise.race([a,i]);if(l.__type===f0.PROCESSED)f=l.response;else throw new h_(r,l.timeoutMs/1e3)}finally{clearTimeout(n),s()}return f}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=B.create(e,Ar(B.array(OCe)));if("error"in r)throw new Bt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=B.create(n,NCe);if("error"in i)throw new Bt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=Kn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),a=B.create(s,Ar(B.number()));if("error"in a)throw new Bt(a.error,"failed to get slot");return a.result}async getSlotLeader(e){let{commitment:r,config:n}=Kn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),a=B.create(s,Ar(B.string()));if("error"in a)throw new Bt(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=B.create(i,Ar(B.array(Ai)));if("error"in s)throw new Bt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);nn(i.length===1);let s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),s=B.create(i,kCe);if("error"in s)throw new Bt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){let{commitment:r,config:n}=Kn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),a=B.create(s,Ar(B.number()));if("error"in a)throw new Bt(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=B.create(n,rCe);if("error"in i)throw new Bt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:s}=Kn(n),a=this._buildArgs([e.map(h=>h.toBase58())],i,void 0,{...s,epoch:r??s?.epoch}),f=await this._rpcRequest("getInflationReward",a),l=B.create(f,qMe);if("error"in l)throw new Bt(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=B.create(e,nCe);if("error"in r)throw new Bt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=Kn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),a=B.create(s,oCe);if("error"in a)throw new Bt(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=B.create(e,sCe);if("error"in r)throw new Bt(r.error,"failed to get epoch schedule");let n=r.result;return new AA(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=B.create(e,aCe);if("error"in r)throw new Bt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=B.create(i,BCe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){let{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=B.create(r,$Ce);if("error"in n)throw new Bt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=B.create(i,WCe);if("error"in s)throw new Bt(s.error,"failed to get fee calculator");let{context:a,value:f}=s.result;return{context:a,value:f!==null?f.feeCalculator:null}}async getFeeForMessage(e,r){let n=Ir(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),a=B.create(s,Xi(B.nullable(B.number())));if("error"in a)throw new Bt(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){let r=e?.lockedWritableAccounts?.map(a=>a.toBase58()),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=B.create(i,iCe);if("error"in s)throw new Bt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=Kn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),a=B.create(s,KCe);if("error"in a)throw new Bt(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,r){let{commitment:n,config:i}=Kn(r),s=this._buildArgs([e],n,void 0,i),a=await this._rpcRequest("isBlockhashValid",s),f=B.create(a,zCe);if("error"in f)throw new Bt(f.error,"failed to determine if the blockhash `"+e+"`is valid");return f.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=B.create(e,Ar(YMe));if("error"in r)throw new Bt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=B.create(e,Ar(B.string()));if("error"in r)throw new Bt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=Kn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{let f=B.create(a,HCe);if("error"in f)throw f.error;return f.result}case"none":{let f=B.create(a,UCe);if("error"in f)throw f.error;return f.result}default:{let f=B.create(a,DCe);if("error"in f)throw f.error;let{result:l}=f;return l?{...l,transactions:l.transactions.map(({transaction:h,meta:b,version:y})=>({meta:b,transaction:{...h,message:hk(y,h.message)},version:y}))}:null}}}catch(f){throw new Bt(f,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=Kn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{let f=B.create(a,qCe);if("error"in f)throw f.error;return f.result}case"none":{let f=B.create(a,VCe);if("error"in f)throw f.error;return f.result}default:{let f=B.create(a,FCe);if("error"in f)throw f.error;return f.result}}}catch(f){throw new Bt(f,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:f,...l}=e;n=f,r=l}let i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),a=B.create(s,JMe);if("error"in a)throw new Bt(a.error,"failed to get block production information");return a.result}async getTransaction(e,r){let{commitment:n,config:i}=Kn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getTransaction",s),f=B.create(a,pk);if("error"in f)throw new Bt(f.error,"failed to get transaction");let l=f.result;return l&&{...l,transaction:{...l.transaction,message:hk(l.version,l.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=Kn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getTransaction",s),f=B.create(a,xA);if("error"in f)throw new Bt(f.error,"failed to get transaction");return f.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=Kn(r),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{let h=B.create(l,xA);if("error"in h)throw new Bt(h.error,"failed to get transactions");return h.result})}async getTransactions(e,r){let{commitment:n,config:i}=Kn(r),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{let h=B.create(l,pk);if("error"in h)throw new Bt(h.error,"failed to get transactions");let b=h.result;return b&&{...b,transaction:{...b.transaction,message:hk(b.version,b.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=B.create(i,jCe);if("error"in s)throw new Bt(s.error,"failed to get confirmed block");let a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");let f={...a,transactions:a.transactions.map(({transaction:l,meta:h})=>{let b=new ql(l.message);return{meta:h,transaction:{...l,message:b}}})};return{...f,transactions:f.transactions.map(({transaction:l,meta:h})=>({meta:h,transaction:wn.populate(l.message,l.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),a=B.create(s,Ar(B.array(B.number())));if("error"in a)throw new Bt(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=B.create(i,xre);if("error"in s)throw new Bt(s.error,"failed to get block");let a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=B.create(i,xre);if("error"in s)throw new Bt(s.error,"failed to get confirmed block");let a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=B.create(i,pk);if("error"in s)throw new Bt(s.error,"failed to get transaction");let a=s.result;if(!a)return a;let f=new ql(a.transaction.message),l=a.transaction.signatures;return{...a,transaction:wn.populate(f,l)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=B.create(i,xA);if("error"in s)throw new Bt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){let n=e.map(a=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([a],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(a=>{let f=B.create(a,xA);if("error"in f)throw new Bt(f.error,"failed to get confirmed transactions");return f.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{let l=await this.getConfirmedBlockSignatures(r,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let a=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>a));)try{let l=await this.getConfirmedBlockSignatures(n);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),a=B.create(s,bCe);if("error"in a)throw new Bt(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),a=B.create(s,xCe);if("error"in a)throw new Bt(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),s=null;return i!==null&&(s=new p_({key:e,state:p_.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),s=null;return i!==null&&(s=EA.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=B.create(n,YCe);if("error"in i)throw new Bt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await pg(100);let n=Date.now()-this._blockhashInfo.lastFetch>=Ure;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await pg(Bre/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=Kn(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),a=B.create(s,Xi(B.number()));if("error"in a)throw new Bt(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,r,n){if("message"in e){let N=e.serialize(),k=Qt.Buffer.from(N).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let C=r||{};C.encoding="base64","commitment"in C||(C.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(C.innerInstructions=r.innerInstructions);let L=[k,C],M=await this._rpcRequest("simulateTransaction",L),U=B.create(M,yre);if("error"in U)throw new Error("failed to simulate transaction: "+U.error.message);return U.result}let i;if(e instanceof wn){let O=e;i=new wn,i.feePayer=O.feePayer,i.instructions=e.instructions,i.nonceInfo=O.nonceInfo,i.signatures=O.signatures}else i=wn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let s=r;if(i.nonceInfo&&s)i.sign(...s);else{let O=this._disableBlockhashCaching;for(;;){let N=await this._blockhashWithExpiryBlockHeight(O);if(i.lastValidBlockHeight=N.lastValidBlockHeight,i.recentBlockhash=N.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");let k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else O=!0}}let a=i._compile(),f=a.serialize(),h=i._serialize(f).toString("base64"),b={encoding:"base64",commitment:this.commitment};if(n){let O=(Array.isArray(n)?n:a.nonProgramIds()).map(N=>N.toBase58());b.accounts={encoding:"base64",addresses:O}}s&&(b.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(b.innerInstructions=r.innerInstructions);let y=[h,b],E=await this._rpcRequest("simulateTransaction",y),I=B.create(E,yre);if("error"in I){let O;if("data"in I.error&&(O=I.error.data.logs,O&&Array.isArray(O))){let N=`
    `,k=N+O.join(N);console.error(I.error.message,k)}throw new yg({action:"simulate",signature:"",transactionMessage:I.error.message,logs:O})}return I.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let a=e.serialize();return await this.sendRawTransaction(a,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let a=this._disableBlockhashCaching;for(;;){let f=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=f.lastValidBlockHeight,e.recentBlockhash=f.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))a=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}let s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){let n=Ir(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);let a=[e,n],f=await this._rpcRequest("sendTransaction",a),l=B.create(f,XCe);if("error"in l){let h;throw"data"in l.error&&(h=l.error.data.logs),new yg({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:h})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(s=>{try{s(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=o(()=>e===this._rpcWebSocketGeneration,"isCurrentConnectionStillActive");await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:s,method:a}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let f=await this._rpcWebSocket.call(a,s);this._setSubscription(n,{...i,serverSubscriptionId:f,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[f]=i.callbacks,await this._updateSubscriptions()}catch(f){if(console.error(`Received ${f instanceof Error?"":"JSON-RPC "}error calling \`${a}\``,{args:s,error:f}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:s,unsubscribeMethod:a}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[s])}catch(f){if(f instanceof Error&&console.error(`${a} error:`,f.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=B.create(e,vCe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=pre([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let a=this._subscriptionsByHash[i];nn(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let{commitment:i,config:s}=Kn(n),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},a)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=B.create(e,wCe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let{commitment:s,config:a}=Kn(n),f=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",a||(i?{filters:gre(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},f)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=B.create(e,JCe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=B.create(e,ECe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=B.create(e,ICe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let s=r||this._commitment;if(s||n||i){let a={};n&&(a.encoding=n),s&&(a.commitment=s),i&&(a=Object.assign(a,i)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=B.create(e,TCe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:o((a,f)=>{if(a.type==="status"){r(a.result,f);try{this.removeSignatureListener(s)}catch{}}},"callback"),method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){let{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],i,void 0,s),f=this._makeSubscription({callback:o((l,h)=>{r(l,h);try{this.removeSignatureListener(f)}catch{}},"callback"),method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return f}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=B.create(e,RCe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},TA=class t{static{o(this,"Keypair")}constructor(e){this._keypair=void 0,this._keypair=e??ure()}static generate(){return new t(ure())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),s=wA(i);for(let a=0;a<32;a++)if(n[a]!==s[a])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=wA(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new ht(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},u0=Object.freeze({CreateLookupTable:{index:0,layout:oe.struct([oe.u32("instruction"),ib("recentSlot"),oe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:oe.struct([oe.u32("instruction")])},ExtendLookupTable:{index:2,layout:oe.struct([oe.u32("instruction"),ib(),oe.seq(Pr(),oe.offset(oe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:oe.struct([oe.u32("instruction")])},CloseLookupTable:{index:4,layout:oe.struct([oe.u32("instruction")])}}),Nk=class{static{o(this,"AddressLookupTableInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(u0))if(a.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=_n(u0.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=_n(u0.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new ht(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(g_.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},g_=class{static{o(this,"AddressLookupTableProgram")}constructor(){}static createLookupTable(e){let[r,n]=ht.findProgramAddressSync([e.authority.toBuffer(),Ore.getU64Encoder().encode(e.recentSlot)],this.programId),i=u0.CreateLookupTable,s=Wr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:fs.programId,isSigner:!1,isWritable:!1}];return[new An({programId:this.programId,keys:a,data:s}),r]}static freezeLookupTable(e){let r=u0.FreezeLookupTable,n=Wr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new An({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=u0.ExtendLookupTable,n=Wr(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:fs.programId,isSigner:!1,isWritable:!1}),new An({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=u0.DeactivateLookupTable,n=Wr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new An({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=u0.CloseLookupTable,n=Wr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new An({programId:this.programId,keys:i,data:n})}};g_.programId=new ht("AddressLookupTab1e1111111111111111111111111");var Mk=class{static{o(this,"ComputeBudgetInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u8("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Ul))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=_n(Ul.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=_n(Ul.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=_n(Ul.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=_n(Ul.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(y_.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Ul=Object.freeze({RequestUnits:{index:0,layout:oe.struct([oe.u8("instruction"),oe.u32("units"),oe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:oe.struct([oe.u8("instruction"),oe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:oe.struct([oe.u8("instruction"),oe.u32("units")])},SetComputeUnitPrice:{index:3,layout:oe.struct([oe.u8("instruction"),ib("microLamports")])}}),y_=class{static{o(this,"ComputeBudgetProgram")}constructor(){}static requestUnits(e){let r=Ul.RequestUnits,n=Wr(r,e);return new An({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Ul.RequestHeapFrame,n=Wr(r,e);return new An({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Ul.SetComputeUnitLimit,n=Wr(r,e);return new An({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Ul.SetComputeUnitPrice,n=Wr(r,{microLamports:BigInt(e.microLamports)});return new An({keys:[],programId:this.programId,data:n})}};y_.programId=new ht("ComputeBudget111111111111111111111111111111");var vre=64,_re=32,wre=64,Sre=oe.struct([oe.u8("numSignatures"),oe.u8("padding"),oe.u16("signatureOffset"),oe.u16("signatureInstructionIndex"),oe.u16("publicKeyOffset"),oe.u16("publicKeyInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u16("messageInstructionIndex")]),RA=class t{static{o(this,"Ed25519Program")}constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:s}=e;nn(r.length===_re,`Public Key must be ${_re} bytes but received ${r.length} bytes`),nn(i.length===wre,`Signature must be ${wre} bytes but received ${i.length} bytes`);let a=Sre.span,f=a+r.length,l=f+i.length,h=1,b=Qt.Buffer.alloc(l+n.length),y=s??65535;return Sre.encode({numSignatures:h,padding:0,signatureOffset:f,signatureInstructionIndex:y,publicKeyOffset:a,publicKeyInstructionIndex:y,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:y},b),b.fill(r,a),b.fill(i,f),b.fill(n,l),new An({keys:[],programId:t.programId,data:b})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;nn(r.length===vre,`Private key must be ${vre} bytes but received ${r.length} bytes`);try{let s=TA.fromSecretKey(r),a=s.publicKey.toBytes(),f=Uk(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:f,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};RA.programId=new ht("Ed25519SigVerify111111111111111111111111111");var eke=o((t,e)=>{let r=Lk.secp256k1.sign(t,e);return[r.toCompactRawBytes(),r.recovery]},"ecdsaSign");Lk.secp256k1.utils.isValidPrivateKey;var tke=Lk.secp256k1.getPublicKey,Ere=32,mk=20,Are=64,rke=11,gk=oe.struct([oe.u8("numSignatures"),oe.u16("signatureOffset"),oe.u8("signatureInstructionIndex"),oe.u16("ethAddressOffset"),oe.u8("ethAddressInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u8("messageInstructionIndex"),oe.blob(20,"ethAddress"),oe.blob(64,"signature"),oe.u8("recoveryId")]),OA=class t{static{o(this,"Secp256k1Program")}constructor(){}static publicKeyToEthAddress(e){nn(e.length===Are,`Public key must be ${Are} bytes but received ${e.length} bytes`);try{return Qt.Buffer.from(cre.keccak_256(Ir(e))).slice(-mk)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:a}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:a=0}=e,f;typeof r=="string"?r.startsWith("0x")?f=Qt.Buffer.from(r.substr(2),"hex"):f=Qt.Buffer.from(r,"hex"):f=r,nn(f.length===mk,`Address must be ${mk} bytes but received ${f.length} bytes`);let l=1+rke,h=l,b=l+f.length,y=b+i.length+1,E=1,I=Qt.Buffer.alloc(gk.span+n.length);return gk.encode({numSignatures:E,signatureOffset:b,signatureInstructionIndex:a,ethAddressOffset:h,ethAddressInstructionIndex:a,messageDataOffset:y,messageDataSize:n.length,messageInstructionIndex:a,signature:Ir(i),ethAddress:Ir(f),recoveryId:s},I),I.fill(Ir(n),gk.span),new An({keys:[],programId:t.programId,data:I})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;nn(r.length===Ere,`Private key must be ${Ere} bytes but received ${r.length} bytes`);try{let s=Ir(r),a=tke(s,!1).slice(1),f=Qt.Buffer.from(cre.keccak_256(Ir(n))),[l,h]=eke(f,s);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:l,recoveryId:h,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};OA.programId=new ht("KeccakSecp256k11111111111111111111111111111");var Wre,Yre=new ht("StakeConfig11111111111111111111111111111111"),NA=class{static{o(this,"Authorized")}constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},bg=class{static{o(this,"Lockup")}constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};Wre=bg;bg.default=new Wre(0,0,ht.default);var Ck=class{static{o(this,"StakeInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(qo))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=_n(qo.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new NA(new ht(r.staker),new ht(r.withdrawer)),lockup:new bg(n.unixTimestamp,n.epoch,new ht(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),_n(qo.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=_n(qo.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ht(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=_n(qo.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ht(s),newAuthorizedPubkey:new ht(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=_n(qo.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_n(qo.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=_n(qo.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_n(qo.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(sb.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},qo=Object.freeze({Initialize:{index:0,layout:oe.struct([oe.u32("instruction"),hMe(),pMe()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Pr("newAuthorized"),oe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:oe.struct([oe.u32("instruction")])},Split:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Withdraw:{index:4,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Deactivate:{index:5,layout:oe.struct([oe.u32("instruction")])},Merge:{index:7,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:oe.struct([oe.u32("instruction"),Pr("newAuthorized"),oe.u32("stakeAuthorizationType"),mg("authoritySeed"),Pr("authorityOwner")])}}),nke=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),sb=class{static{o(this,"StakeProgram")}constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,s=i||bg.default,a=qo.Initialize,f=Wr(a,{authorized:{staker:Ir(n.staker.toBuffer()),withdrawer:Ir(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Ir(s.custodian.toBuffer())}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:nb,isSigner:!1,isWritable:!1}],programId:this.programId,data:f};return new An(l)}static createAccountWithSeed(e){let r=new wn;r.add(fs.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){let r=new wn;r.add(fs.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=qo.Delegate,a=Wr(s);return new wn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Ll,isSigner:!1,isWritable:!1},{pubkey:_A,isSigner:!1,isWritable:!1},{pubkey:Yre,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,f=qo.Authorize,l=Wr(f,{newAuthorized:Ir(i.toBuffer()),stakeAuthorizationType:s.index}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ll,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!0,isWritable:!1}),new wn().add({keys:h,programId:this.programId,data:l})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:f,custodianPubkey:l}=e,h=qo.AuthorizeWithSeed,b=Wr(h,{newAuthorized:Ir(a.toBuffer()),stakeAuthorizationType:f.index,authoritySeed:i,authorityOwner:Ir(s.toBuffer())}),y=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Ll,isSigner:!1,isWritable:!1}];return l&&y.push({pubkey:l,isSigner:!0,isWritable:!1}),new wn().add({keys:y,programId:this.programId,data:b})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,a=qo.Split,f=Wr(a,{lamports:s});return new An({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:f})}static split(e,r){let n=new wn;return n.add(fs.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:a,seed:f,lamports:l}=e,h=new wn;return h.add(fs.allocate({accountPubkey:s,basePubkey:a,seed:f,space:this.space,programId:this.programId})),r&&r>0&&h.add(fs.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),h.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:l}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=qo.Merge,a=Wr(s);return new wn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ll,isSigner:!1,isWritable:!1},{pubkey:_A,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:a}=e,f=qo.Withdraw,l=Wr(f,{lamports:s}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Ll,isSigner:!1,isWritable:!1},{pubkey:_A,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!0,isWritable:!1}),new wn().add({keys:h,programId:this.programId,data:l})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=qo.Deactivate,s=Wr(i);return new wn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ll,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};sb.programId=new ht("Stake11111111111111111111111111111111111111");sb.space=200;var MA=class{static{o(this,"VoteInit")}constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},kk=class{static{o(this,"VoteInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Hl))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=_n(Hl.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new MA(new ht(r.nodePubkey),new ht(r.authorizedVoter),new ht(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=_n(Hl.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ht(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=_n(Hl.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ht(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ht(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=_n(Hl.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ab.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Hl=Object.freeze({InitializeAccount:{index:0,layout:oe.struct([oe.u32("instruction"),mMe()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Pr("newAuthorized"),oe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),gMe()])}}),ike=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),ab=class t{static{o(this,"VoteProgram")}constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=Hl.InitializeAccount,a=Wr(s,{voteInit:{nodePubkey:Ir(i.nodePubkey.toBuffer()),authorizedVoter:Ir(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Ir(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),f={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:nb,isSigner:!1,isWritable:!1},{pubkey:Ll,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new An(f)}static createAccount(e){let r=new wn;return r.add(fs.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,a=Hl.Authorize,f=Wr(a,{newAuthorized:Ir(i.toBuffer()),voteAuthorizationType:s.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ll,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new wn().add({keys:l,programId:this.programId,data:f})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:f}=e,l=Hl.AuthorizeWithSeed,h=Wr(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ir(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Ir(s.toBuffer()),voteAuthorizationType:a.index}}),b=[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:Ll,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new wn().add({keys:b,programId:this.programId,data:h})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,a=Hl.Withdraw,f=Wr(a,{lamports:i}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new wn().add({keys:l,programId:this.programId,data:f})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=Hl.UpdateValidatorIdentity,a=Wr(s),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new wn().add({keys:f,programId:this.programId,data:a})}};ab.programId=new ht("Vote111111111111111111111111111111111111111");ab.space=3762;var Xre=new ht("Va1idator1nfo111111111111111111111111111111"),oke=B.type({name:B.string(),website:B.optional(B.string()),details:B.optional(B.string()),iconUrl:B.optional(B.string()),keybaseUsername:B.optional(B.string())}),Bk=class t{static{o(this,"ValidatorInfo")}constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(ec(r)!==2)return null;let i=[];for(let s=0;s<2;s++){let a=new ht(tc(r,0,Fl)),f=Dl(r)===1;i.push({publicKey:a,isSigner:f})}if(i[0].publicKey.equals(Xre)&&i[1].isSigner){let s=mg().decode(Qt.Buffer.from(r)),a=JSON.parse(s);return B.assert(a,oke),new t(i[1].publicKey,a)}return null}},ske=new ht("Vote111111111111111111111111111111111111111"),ake=oe.struct([Pr("nodePubkey"),Pr("authorizedWithdrawer"),oe.u8("commission"),oe.nu64(),oe.seq(oe.struct([oe.nu64("slot"),oe.u32("confirmationCount")]),oe.offset(oe.u32(),-8),"votes"),oe.u8("rootSlotValid"),oe.nu64("rootSlot"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),Pr("authorizedVoter")]),oe.offset(oe.u32(),-8),"authorizedVoters"),oe.struct([oe.seq(oe.struct([Pr("authorizedPubkey"),oe.nu64("epochOfLastAuthorizedSwitch"),oe.nu64("targetEpoch")]),32,"buf"),oe.nu64("idx"),oe.u8("isEmpty")],"priorVoters"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),oe.nu64("credits"),oe.nu64("prevCredits")]),oe.offset(oe.u32(),-8),"epochCredits"),oe.struct([oe.nu64("slot"),oe.nu64("timestamp")],"lastTimestamp")]),Pk=class t{static{o(this,"VoteAccount")}constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=ake.decode(Ir(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new ht(n.nodePubkey),authorizedWithdrawer:new ht(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(cke),priorVoters:fke(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function cke({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new ht(t)}}o(cke,"parseAuthorizedVoter");function Ire({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new ht(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}o(Ire,"parsePriorVoters");function fke({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(Ire),...t.slice(0,e).map(Ire)]}o(fke,"getPriorVoters");var Tre={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function uke(t,e){let r=e===!1?"http":"https";if(!t)return Tre[r].devnet;let n=Tre[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}o(uke,"clusterApiUrl");async function lke(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;let a=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},f=await t.sendRawTransaction(e,a),l=s&&s.commitment,b=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(f,l))).value;if(b.err)throw f!=null?new yg({action:a?.skipPreflight?"send":"simulate",signature:f,transactionMessage:`Status: (${JSON.stringify(b)})`}):new Error(`Raw transaction ${f} failed (${JSON.stringify(b)})`);return f}o(lke,"sendAndConfirmRawTransaction");var dke=1e9;pt.Account=bk;pt.AddressLookupTableAccount=p_;pt.AddressLookupTableInstruction=Nk;pt.AddressLookupTableProgram=g_;pt.Authorized=NA;pt.BLOCKHASH_CACHE_TIMEOUT_MS=Ure;pt.BPF_LOADER_DEPRECATED_PROGRAM_ID=lMe;pt.BPF_LOADER_PROGRAM_ID=RMe;pt.BpfLoader=Ek;pt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Ul;pt.ComputeBudgetInstruction=Mk;pt.ComputeBudgetProgram=y_;pt.Connection=Ok;pt.Ed25519Program=RA;pt.Enum=yk;pt.EpochSchedule=AA;pt.FeeCalculatorLayout=Pre;pt.Keypair=TA;pt.LAMPORTS_PER_SOL=dke;pt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=u0;pt.Loader=ob;pt.Lockup=bg;pt.MAX_SEED_LENGTH=Mre;pt.Message=ql;pt.MessageAccountKeys=gg;pt.MessageV0=rb;pt.NONCE_ACCOUNT_LENGTH=wk;pt.NonceAccount=EA;pt.PACKET_DATA_SIZE=jh;pt.PUBLIC_KEY_LENGTH=Fl;pt.PublicKey=ht;pt.SIGNATURE_LENGTH_IN_BYTES=l_;pt.SOLANA_SCHEMA=f_;pt.STAKE_CONFIG_ID=Yre;pt.STAKE_INSTRUCTION_LAYOUTS=qo;pt.SYSTEM_INSTRUCTION_LAYOUTS=zn;pt.SYSVAR_CLOCK_PUBKEY=Ll;pt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=_Me;pt.SYSVAR_INSTRUCTIONS_PUBKEY=wMe;pt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=vA;pt.SYSVAR_RENT_PUBKEY=nb;pt.SYSVAR_REWARDS_PUBKEY=SMe;pt.SYSVAR_SLOT_HASHES_PUBKEY=EMe;pt.SYSVAR_SLOT_HISTORY_PUBKEY=AMe;pt.SYSVAR_STAKE_HISTORY_PUBKEY=_A;pt.Secp256k1Program=OA;pt.SendTransactionError=yg;pt.SolanaJSONRPCError=Bt;pt.SolanaJSONRPCErrorCode=IMe;pt.StakeAuthorizationLayout=nke;pt.StakeInstruction=Ck;pt.StakeProgram=sb;pt.Struct=u_;pt.SystemInstruction=Sk;pt.SystemProgram=fs;pt.Transaction=wn;pt.TransactionExpiredBlockheightExceededError=d_;pt.TransactionExpiredNonceInvalidError=Vh;pt.TransactionExpiredTimeoutError=h_;pt.TransactionInstruction=An;pt.TransactionMessage=xk;pt.TransactionStatus=f0;pt.VALIDATOR_INFO_KEY=Xre;pt.VERSION_PREFIX_MASK=CA;pt.VOTE_PROGRAM_ID=ske;pt.ValidatorInfo=Bk;pt.VersionedMessage=Hk;pt.VersionedTransaction=vk;pt.VoteAccount=Pk;pt.VoteAuthorizationLayout=ike;pt.VoteInit=MA;pt.VoteInstruction=kk;pt.VoteProgram=ab;pt.clusterApiUrl=uke;pt.sendAndConfirmRawTransaction=lke;pt.sendAndConfirmTransaction=_k});var gne=V(Te=>{"use strict";m();g();Object.defineProperty(Te,"__esModule",{value:!0});Te.s16=Te.s8=Te.nu64be=Te.u48be=Te.u40be=Te.u32be=Te.u24be=Te.u16be=Te.nu64=Te.u48=Te.u40=Te.u32=Te.u24=Te.u16=Te.u8=Te.offset=Te.greedy=Te.Constant=Te.UTF8=Te.CString=Te.Blob=Te.Boolean=Te.BitField=Te.BitStructure=Te.VariantLayout=Te.Union=Te.UnionLayoutDiscriminator=Te.UnionDiscriminator=Te.Structure=Te.Sequence=Te.DoubleBE=Te.Double=Te.FloatBE=Te.Float=Te.NearInt64BE=Te.NearInt64=Te.NearUInt64BE=Te.NearUInt64=Te.IntBE=Te.Int=Te.UIntBE=Te.UInt=Te.OffsetLayout=Te.GreedyCount=Te.ExternalLayout=Te.bindConstructorLayout=Te.nameWithProperty=Te.Layout=Te.uint8ArrayToBuffer=Te.checkUint8Array=void 0;Te.constant=Te.utf8=Te.cstr=Te.blob=Te.unionLayoutDiscriminator=Te.union=Te.seq=Te.bits=Te.struct=Te.f64be=Te.f64=Te.f32be=Te.f32=Te.ns64be=Te.s48be=Te.s40be=Te.s32be=Te.s24be=Te.s16be=Te.ns64=Te.s48=Te.s40=Te.s32=Te.s24=void 0;var Zk=Yi();function hb(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o(hb,"checkUint8Array");Te.checkUint8Array=hb;function on(t){return hb(t),Zk.Buffer.from(t.buffer,t.byteOffset,t.length)}o(on,"uint8ArrayToBuffer");Te.uint8ArrayToBuffer=on;var gn=class{static{o(this,"Layout")}constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Te.Layout=gn;function Jk(t,e){return e.property?t+"["+e.property+"]":t}o(Jk,"nameWithProperty");Te.nameWithProperty=Jk;function mke(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof gn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}o(mke,"bindConstructorLayout");Te.bindConstructorLayout=mke;var Ks=class extends gn{static{o(this,"ExternalLayout")}isCount(){throw new Error("ExternalLayout is abstract")}};Te.ExternalLayout=Ks;var UA=class extends Ks{static{o(this,"GreedyCount")}constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){hb(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Te.GreedyCount=UA;var b_=class extends Ks{static{o(this,"OffsetLayout")}constructor(e,r=0,n){if(!(e instanceof gn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof rc||this.layout instanceof Dc}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Te.OffsetLayout=b_;var rc=class extends gn{static{o(this,"UInt")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return on(e).readUIntLE(r,this.span)}encode(e,r,n=0){return on(r).writeUIntLE(e,n,this.span),this.span}};Te.UInt=rc;var Dc=class extends gn{static{o(this,"UIntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return on(e).readUIntBE(r,this.span)}encode(e,r,n=0){return on(r).writeUIntBE(e,n,this.span),this.span}};Te.UIntBE=Dc;var d0=class extends gn{static{o(this,"Int")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return on(e).readIntLE(r,this.span)}encode(e,r,n=0){return on(r).writeIntLE(e,n,this.span),this.span}};Te.Int=d0;var Kh=class extends gn{static{o(this,"IntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return on(e).readIntBE(r,this.span)}encode(e,r,n=0){return on(r).writeIntBE(e,n,this.span),this.span}};Te.IntBE=Kh;var Xk=Math.pow(2,32);function t4(t){let e=Math.floor(t/Xk),r=t-e*Xk;return{hi32:e,lo32:r}}o(t4,"divmodInt64");function r4(t,e){return t*Xk+e}o(r4,"roundedInt64");var HA=class extends gn{static{o(this,"NearUInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=on(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return r4(s,i)}encode(e,r,n=0){let i=t4(e),s=on(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Te.NearUInt64=HA;var FA=class extends gn{static{o(this,"NearUInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=on(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return r4(i,s)}encode(e,r,n=0){let i=t4(e),s=on(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Te.NearUInt64BE=FA;var qA=class extends gn{static{o(this,"NearInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=on(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return r4(s,i)}encode(e,r,n=0){let i=t4(e),s=on(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Te.NearInt64=qA;var VA=class extends gn{static{o(this,"NearInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=on(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return r4(i,s)}encode(e,r,n=0){let i=t4(e),s=on(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Te.NearInt64BE=VA;var jA=class extends gn{static{o(this,"Float")}constructor(e){super(4,e)}decode(e,r=0){return on(e).readFloatLE(r)}encode(e,r,n=0){return on(r).writeFloatLE(e,n),4}};Te.Float=jA;var KA=class extends gn{static{o(this,"FloatBE")}constructor(e){super(4,e)}decode(e,r=0){return on(e).readFloatBE(r)}encode(e,r,n=0){return on(r).writeFloatBE(e,n),4}};Te.FloatBE=KA;var zA=class extends gn{static{o(this,"Double")}constructor(e){super(8,e)}decode(e,r=0){return on(e).readDoubleLE(r)}encode(e,r,n=0){return on(r).writeDoubleLE(e,n),8}};Te.Double=zA;var GA=class extends gn{static{o(this,"DoubleBE")}constructor(e){super(8,e)}decode(e,r=0){return on(e).readDoubleBE(r)}encode(e,r,n=0){return on(r).writeDoubleBE(e,n),8}};Te.DoubleBE=GA;var $A=class extends gn{static{o(this,"Sequence")}constructor(e,r,n){if(!(e instanceof gn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Ks&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Ks)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Ks&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){let n=[],i=0,s=this.count;for(s instanceof Ks&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,s=e.reduce((a,f)=>a+i.encode(f,r,n+a),0);return this.count instanceof Ks&&this.count.encode(e.length,r,n),s}};Te.Sequence=$A;var WA=class extends gn{static{o(this,"Structure")}constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof gn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let a=s.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){hb(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,s=0,a=0;for(let f of this.fields){let l=f.span;if(a=0<l?l:0,f.property!==void 0){let h=e[f.property];h!==void 0&&(a=f.encode(h,r,n),0>l&&(l=f.getSpan(r,n)))}s=n,n+=l}return s+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Te.Structure=WA;var x_=class{static{o(this,"UnionDiscriminator")}constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Te.UnionDiscriminator=x_;var db=class extends x_{static{o(this,"UnionLayoutDiscriminator")}constructor(e,r){if(!(e instanceof Ks&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Te.UnionLayoutDiscriminator=db;var v_=class extends gn{static{o(this,"Union")}constructor(e,r,n){let i;if(e instanceof rc||e instanceof Dc)i=new db(new b_(e));else if(e instanceof Ks&&e.isCount())i=new db(e);else if(e instanceof x_)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof gn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof rc||e instanceof Dc)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof rc||e instanceof Dc,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return a(f)},this.configGetSourceVariant=function(f){a=f.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,s=i.decode(e,r),a=this.registry[s];if(a===void 0){let f=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[f.property]=f.decode(e,r+l)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,a=this.defaultLayout,f=0;return this.usesPrefixDiscriminator&&(f=s.layout.span),s.encode(e[s.property],r,n),f+a.encode(e[a.property],r,n+f)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new YA(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Te.Union=v_;var YA=class extends gn{static{o(this,"VariantLayout")}constructor(e,r,n,i){if(!(e instanceof v_))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof gn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Te.VariantLayout=YA;function lb(t){return 0>t&&(t+=4294967296),t}o(lb,"fixBitwiseResult");var __=class extends gn{static{o(this,"BitStructure")}constructor(e,r,n){if(!(e instanceof rc||e instanceof Dc))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=lb(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new w_(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new XA(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};Te.BitStructure=__;var w_=class{static{o(this,"BitField")}constructor(e,r,n){if(!(e instanceof __))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((a,f)=>a+f.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=lb(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return lb(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==lb(e&this.valueMask))throw new TypeError(Jk("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=lb(e<<this.start);this.container._packedSetValue(lb(r&~this.wordMask)|n)}};Te.BitField=w_;var XA=class extends w_{static{o(this,"Boolean")}constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Te.Boolean=XA;var ZA=class extends gn{static{o(this,"Blob")}constructor(e,r){if(!(e instanceof Ks&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ks||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),on(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Ks&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Jk("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let s=on(e);return on(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Ks&&this.length.encode(i,r,n),i}};Te.Blob=ZA;var JA=class extends gn{static{o(this,"CString")}constructor(e){super(-1,e)}getSpan(e,r=0){hb(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return on(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=Zk.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");let a=on(r);return i.copy(a,n),a[n+s]=0,s+1}};Te.CString=JA;var QA=class extends gn{static{o(this,"UTF8")}constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return hb(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return on(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=Zk.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(on(r),n),s}};Te.UTF8=QA;var e4=class extends gn{static{o(this,"Constant")}constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Te.Constant=e4;Te.greedy=(t,e)=>new UA(t,e);Te.offset=(t,e,r)=>new b_(t,e,r);Te.u8=t=>new rc(1,t);Te.u16=t=>new rc(2,t);Te.u24=t=>new rc(3,t);Te.u32=t=>new rc(4,t);Te.u40=t=>new rc(5,t);Te.u48=t=>new rc(6,t);Te.nu64=t=>new HA(t);Te.u16be=t=>new Dc(2,t);Te.u24be=t=>new Dc(3,t);Te.u32be=t=>new Dc(4,t);Te.u40be=t=>new Dc(5,t);Te.u48be=t=>new Dc(6,t);Te.nu64be=t=>new FA(t);Te.s8=t=>new d0(1,t);Te.s16=t=>new d0(2,t);Te.s24=t=>new d0(3,t);Te.s32=t=>new d0(4,t);Te.s40=t=>new d0(5,t);Te.s48=t=>new d0(6,t);Te.ns64=t=>new qA(t);Te.s16be=t=>new Kh(2,t);Te.s24be=t=>new Kh(3,t);Te.s32be=t=>new Kh(4,t);Te.s40be=t=>new Kh(5,t);Te.s48be=t=>new Kh(6,t);Te.ns64be=t=>new VA(t);Te.f32=t=>new jA(t);Te.f32be=t=>new KA(t);Te.f64=t=>new zA(t);Te.f64be=t=>new GA(t);Te.struct=(t,e,r)=>new WA(t,e,r);Te.bits=(t,e,r)=>new __(t,e,r);Te.seq=(t,e,r)=>new $A(t,e,r);Te.union=(t,e,r)=>new v_(t,e,r);Te.unionLayoutDiscriminator=(t,e)=>new db(t,e);Te.blob=(t,e)=>new ZA(t,e);Te.cstr=t=>new JA(t);Te.utf8=(t,e)=>new QA(t,e);Te.constant=(t,e)=>new e4(t,e)});var Eg=V((BSt,oB)=>{"use strict";m();g();var iB=65536,xke=4294967295;function vke(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}o(vke,"oldBrowser");var _ke=yr().Buffer,o4=self.crypto||self.msCrypto;o4&&o4.getRandomValues?oB.exports=wke:oB.exports=vke;function wke(t,e){if(t>xke)throw new RangeError("requested too many random bytes");var r=_ke.allocUnsafe(t);if(t>0)if(t>iB)for(var n=0;n<t;n+=iB)o4.getRandomValues(r.slice(n,n+iB));else o4.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}o(wke,"randomBytes")});var hr=V((USt,sB)=>{m();g();typeof Object.create=="function"?sB.exports=o(function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):sB.exports=o(function(e,r){if(r){e.super_=r;var n=o(function(){},"TempCtor");n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}},"inherits")});var c4=V((VSt,aB)=>{"use strict";m();g();var mb=typeof Reflect=="object"?Reflect:null,xne=mb&&typeof mb.apply=="function"?mb.apply:o(function(e,r,n){return Function.prototype.apply.call(e,r,n)},"ReflectApply"),s4;mb&&typeof mb.ownKeys=="function"?s4=mb.ownKeys:Object.getOwnPropertySymbols?s4=o(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):s4=o(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys");function Ske(t){console&&console.warn&&console.warn(t)}o(Ske,"ProcessEmitWarning");var _ne=Number.isNaN||o(function(e){return e!==e},"NumberIsNaN");function Mn(){Mn.init.call(this)}o(Mn,"EventEmitter");aB.exports=Mn;aB.exports.once=Tke;Mn.EventEmitter=Mn;Mn.prototype._events=void 0;Mn.prototype._eventsCount=0;Mn.prototype._maxListeners=void 0;var vne=10;function a4(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}o(a4,"checkListener");Object.defineProperty(Mn,"defaultMaxListeners",{enumerable:!0,get:o(function(){return vne},"get"),set:o(function(t){if(typeof t!="number"||t<0||_ne(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");vne=t},"set")});Mn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Mn.prototype.setMaxListeners=o(function(e){if(typeof e!="number"||e<0||_ne(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners");function wne(t){return t._maxListeners===void 0?Mn.defaultMaxListeners:t._maxListeners}o(wne,"_getMaxListeners");Mn.prototype.getMaxListeners=o(function(){return wne(this)},"getMaxListeners");Mn.prototype.emit=o(function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var f=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw f.context=a,f}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")xne(l,this,r);else for(var h=l.length,b=Tne(l,h),n=0;n<h;++n)xne(b[n],this,r);return!0},"emit");function Sne(t,e,r,n){var i,s,a;if(a4(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=wne(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=a.length,Ske(f)}return t}o(Sne,"_addListener");Mn.prototype.addListener=o(function(e,r){return Sne(this,e,r,!1)},"addListener");Mn.prototype.on=Mn.prototype.addListener;Mn.prototype.prependListener=o(function(e,r){return Sne(this,e,r,!0)},"prependListener");function Eke(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}o(Eke,"onceWrapper");function Ene(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Eke.bind(n);return i.listener=r,n.wrapFn=i,i}o(Ene,"_onceWrap");Mn.prototype.once=o(function(e,r){return a4(r),this.on(e,Ene(this,e,r)),this},"once");Mn.prototype.prependOnceListener=o(function(e,r){return a4(r),this.prependListener(e,Ene(this,e,r)),this},"prependOnceListener");Mn.prototype.removeListener=o(function(e,r){var n,i,s,a,f;if(a4(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){f=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():Ake(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,f||r)}return this},"removeListener");Mn.prototype.off=Mn.prototype.removeListener;Mn.prototype.removeAllListeners=o(function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this},"removeAllListeners");function Ane(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Ike(i):Tne(i,i.length)}o(Ane,"_listeners");Mn.prototype.listeners=o(function(e){return Ane(this,e,!0)},"listeners");Mn.prototype.rawListeners=o(function(e){return Ane(this,e,!1)},"rawListeners");Mn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Ine.call(t,e)};Mn.prototype.listenerCount=Ine;function Ine(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}o(Ine,"listenerCount");Mn.prototype.eventNames=o(function(){return this._eventsCount>0?s4(this._events):[]},"eventNames");function Tne(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}o(Tne,"arrayClone");function Ake(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}o(Ake,"spliceOne");function Ike(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}o(Ike,"unwrapListeners");function Tke(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,s),n(a)}o(i,"errorListener");function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}o(s,"resolver"),Rne(t,e,s,{once:!0}),e!=="error"&&Rke(t,i,{once:!0})})}o(Tke,"once");function Rke(t,e,r){typeof t.on=="function"&&Rne(t,"error",e,r)}o(Rke,"addErrorHandlerIfEventEmitter");function Rne(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,o(function i(s){n.once&&t.removeEventListener(e,i),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}o(Rne,"eventTargetAgnosticAddListener")});var cB=V((GSt,One)=>{m();g();One.exports=c4().EventEmitter});var fB=V(()=>{m();g()});var Pne=V((QSt,Bne)=>{"use strict";m();g();function Nne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}o(Nne,"ownKeys");function Mne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nne(Object(r),!0).forEach(function(n){Oke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nne(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}o(Mne,"_objectSpread");function Oke(t,e,r){return e=kne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(Oke,"_defineProperty");function Nke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(Nke,"_classCallCheck");function Cne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kne(n.key),n)}}o(Cne,"_defineProperties");function Mke(t,e,r){return e&&Cne(t.prototype,e),r&&Cne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}o(Mke,"_createClass");function kne(t){var e=Cke(t,"string");return typeof e=="symbol"?e:String(e)}o(kne,"_toPropertyKey");function Cke(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(Cke,"_toPrimitive");var kke=Yi(),f4=kke.Buffer,Bke=fB(),uB=Bke.inspect,Pke=uB&&uB.custom||"inspect";function Lke(t,e,r){f4.prototype.copy.call(t,e,r)}o(Lke,"copyBuffer");Bne.exports=function(){function t(){Nke(this,t),this.head=null,this.tail=null,this.length=0}return o(t,"BufferList"),Mke(t,[{key:"push",value:o(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:o(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:o(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:o(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:o(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:o(function(r){if(this.length===0)return f4.alloc(0);for(var n=f4.allocUnsafe(r>>>0),i=this.head,s=0;i;)Lke(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:o(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:o(function(){return this.head.data},"first")},{key:"_getString",value:o(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,f=r>a.length?a.length:r;if(f===a.length?s+=a:s+=a.slice(0,r),r-=f,r===0){f===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(f));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:o(function(r){var n=f4.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,f=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,f),r-=f,r===0){f===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(f));break}++s}return this.length-=s,n},"_getBuffer")},{key:Pke,value:o(function(r,n){return uB(this,Mne(Mne({},n),{},{depth:0,customInspect:!1}))},"value")}]),t}()});var dB=V((nEt,Dne)=>{"use strict";m();g();function Dke(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(lB,this,t)):process.nextTick(lB,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(u4,r):(r._writableState.errorEmitted=!0,process.nextTick(Lne,r,s)):process.nextTick(Lne,r,s):e?(process.nextTick(u4,r),e(s)):process.nextTick(u4,r)}),this)}o(Dke,"destroy");function Lne(t,e){lB(t,e),u4(t)}o(Lne,"emitErrorAndCloseNT");function u4(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}o(u4,"emitCloseNT");function Uke(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}o(Uke,"undestroy");function lB(t,e){t.emit("error",e)}o(lB,"emitErrorNT");function Hke(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}o(Hke,"errorOrDestroy");Dne.exports={destroy:Dke,undestroy:Uke,errorOrDestroy:Hke}});var Ag=V((aEt,Fne)=>{"use strict";m();g();function Fke(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}o(Fke,"_inheritsLoose");var Hne={};function xf(t,e,r){r||(r=Error);function n(s,a,f){return typeof e=="string"?e:e(s,a,f)}o(n,"getMessage");var i=function(s){Fke(a,s);function a(f,l,h){return s.call(this,n(f,l,h))||this}return o(a,"NodeError"),a}(r);i.prototype.name=r.name,i.prototype.code=t,Hne[t]=i}o(xf,"createErrorType");function Une(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(Une,"oneOf");function qke(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(qke,"startsWith");function Vke(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(Vke,"endsWith");function jke(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(jke,"includes");xf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);xf("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&qke(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Vke(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Une(e,"type"));else{var s=jke(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Une(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);xf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");xf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});xf("ERR_STREAM_PREMATURE_CLOSE","Premature close");xf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});xf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");xf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");xf("ERR_STREAM_WRITE_AFTER_END","write after end");xf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);xf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);xf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Fne.exports.codes=Hne});var hB=V((lEt,qne)=>{"use strict";m();g();var Kke=Ag().codes.ERR_INVALID_OPT_VALUE;function zke(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}o(zke,"highWaterMarkFrom");function Gke(t,e,r,n){var i=zke(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Kke(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}o(Gke,"getHighWaterMark");qne.exports={getHighWaterMark:Gke}});var jne=V((mEt,Vne)=>{m();g();Vne.exports=$ke;function $ke(t,e){if(pB("noDeprecation"))return t;var r=!1;function n(){if(!r){if(pB("throwDeprecation"))throw new Error(e);pB("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return o(n,"deprecated"),n}o($ke,"deprecate");function pB(t){try{if(!self.localStorage)return!1}catch{return!1}var e=self.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}o(pB,"config")});var h4=V((xEt,Yne)=>{"use strict";m();g();Yne.exports=Fi;function zne(t){var e=this;this.next=null,this.entry=null,this.finish=function(){vBe(e,t)}}o(zne,"CorkedRequest");var gb;Fi.WritableState=A_;var Wke={deprecate:jne()},Gne=cB(),d4=Yi().Buffer,Yke=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function Xke(t){return d4.from(t)}o(Xke,"_uint8ArrayToBuffer");function Zke(t){return d4.isBuffer(t)||t instanceof Yke}o(Zke,"_isUint8Array");var gB=dB(),Jke=hB(),Qke=Jke.getHighWaterMark,Wh=Ag().codes,eBe=Wh.ERR_INVALID_ARG_TYPE,tBe=Wh.ERR_METHOD_NOT_IMPLEMENTED,rBe=Wh.ERR_MULTIPLE_CALLBACK,nBe=Wh.ERR_STREAM_CANNOT_PIPE,iBe=Wh.ERR_STREAM_DESTROYED,oBe=Wh.ERR_STREAM_NULL_VALUES,sBe=Wh.ERR_STREAM_WRITE_AFTER_END,aBe=Wh.ERR_UNKNOWN_ENCODING,yb=gB.errorOrDestroy;hr()(Fi,Gne);function cBe(){}o(cBe,"nop");function A_(t,e,r){gb=gb||Yh(),t=t||{},typeof r!="boolean"&&(r=e instanceof gb),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Qke(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){mBe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new zne(this)}o(A_,"WritableState");A_.prototype.getBuffer=o(function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},"getBuffer");(function(){try{Object.defineProperty(A_.prototype,"buffer",{get:Wke.deprecate(o(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var l4;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(l4=Function.prototype[Symbol.hasInstance],Object.defineProperty(Fi,Symbol.hasInstance,{value:o(function(e){return l4.call(this,e)?!0:this!==Fi?!1:e&&e._writableState instanceof A_},"value")})):l4=o(function(e){return e instanceof this},"realHasInstance");function Fi(t){gb=gb||Yh();var e=this instanceof gb;if(!e&&!l4.call(Fi,this))return new Fi(t);this._writableState=new A_(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Gne.call(this)}o(Fi,"Writable");Fi.prototype.pipe=function(){yb(this,new nBe)};function fBe(t,e){var r=new sBe;yb(t,r),process.nextTick(e,r)}o(fBe,"writeAfterEnd");function uBe(t,e,r,n){var i;return r===null?i=new oBe:typeof r!="string"&&!e.objectMode&&(i=new eBe("chunk",["string","Buffer"],r)),i?(yb(t,i),process.nextTick(n,i),!1):!0}o(uBe,"validChunk");Fi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&Zke(t);return s&&!d4.isBuffer(t)&&(t=Xke(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=cBe),n.ending?fBe(this,r):(s||uBe(this,n,t,r))&&(n.pendingcb++,i=dBe(this,n,s,t,e,r)),i};Fi.prototype.cork=function(){this._writableState.corked++};Fi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&$ne(this,t))};Fi.prototype.setDefaultEncoding=o(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new aBe(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(Fi.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function lBe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=d4.from(e,r)),e}o(lBe,"decodeChunk");Object.defineProperty(Fi.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});function dBe(t,e,r,n,i,s){if(!r){var a=lBe(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var f=e.objectMode?1:n.length;e.length+=f;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else mB(t,e,!1,f,n,i,s);return l}o(dBe,"writeOrBuffer");function mB(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new iBe("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}o(mB,"doWrite");function hBe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(E_,t,e),t._writableState.errorEmitted=!0,yb(t,n)):(i(n),t._writableState.errorEmitted=!0,yb(t,n),E_(t,e))}o(hBe,"onwriteError");function pBe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}o(pBe,"onwriteStateUpdate");function mBe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new rBe;if(pBe(r),e)hBe(t,r,n,e,i);else{var s=Wne(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&$ne(t,r),n?process.nextTick(Kne,t,r,s,i):Kne(t,r,s,i)}}o(mBe,"onwrite");function Kne(t,e,r,n){r||gBe(t,e),e.pendingcb--,n(),E_(t,e)}o(Kne,"afterWrite");function gBe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}o(gBe,"onwriteDrain");function $ne(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,f=!0;r;)i[a]=r,r.isBuf||(f=!1),r=r.next,a+=1;i.allBuffers=f,mB(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new zne(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,b=r.callback,y=e.objectMode?1:l.length;if(mB(t,e,!1,y,l,h,b),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}o($ne,"clearBuffer");Fi.prototype._write=function(t,e,r){r(new tBe("_write()"))};Fi.prototype._writev=null;Fi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||xBe(this,n,r),this};Object.defineProperty(Fi.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function Wne(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}o(Wne,"needFinish");function yBe(t,e){t._final(function(r){e.pendingcb--,r&&yb(t,r),e.prefinished=!0,t.emit("prefinish"),E_(t,e)})}o(yBe,"callFinal");function bBe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(yBe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}o(bBe,"prefinish");function E_(t,e){var r=Wne(e);if(r&&(bBe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}o(E_,"finishMaybe");function xBe(t,e,r){e.ending=!0,E_(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}o(xBe,"endWritable");function vBe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}o(vBe,"onCorkedFinish");Object.defineProperty(Fi.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:o(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});Fi.prototype.destroy=gB.destroy;Fi.prototype._undestroy=gB.undestroy;Fi.prototype._destroy=function(t,e){e(t)}});var Yh=V((SEt,Zne)=>{"use strict";m();g();var _Be=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Zne.exports=Vl;var Xne=g4(),bB=h4();hr()(Vl,Xne);for(yB=_Be(bB.prototype),p4=0;p4<yB.length;p4++)m4=yB[p4],Vl.prototype[m4]||(Vl.prototype[m4]=bB.prototype[m4]);var yB,m4,p4;function Vl(t){if(!(this instanceof Vl))return new Vl(t);Xne.call(this,t),bB.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",wBe)))}o(Vl,"Duplex");Object.defineProperty(Vl.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(Vl.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(Vl.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function wBe(){this._writableState.ended||process.nextTick(SBe,this)}o(wBe,"onend");function SBe(t){t.end()}o(SBe,"onEndNT");Object.defineProperty(Vl.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:o(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var y4=V(Qne=>{"use strict";m();g();var vB=yr().Buffer,Jne=vB.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function EBe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}o(EBe,"_normalizeEncoding");function ABe(t){var e=EBe(t);if(typeof e!="string"&&(vB.isEncoding===Jne||!Jne(t)))throw new Error("Unknown encoding: "+t);return e||t}o(ABe,"normalizeEncoding");Qne.StringDecoder=I_;function I_(t){this.encoding=ABe(t);var e;switch(this.encoding){case"utf16le":this.text=MBe,this.end=CBe,e=4;break;case"utf8":this.fillLast=RBe,e=4;break;case"base64":this.text=kBe,this.end=BBe,e=3;break;default:this.write=PBe,this.end=LBe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=vB.allocUnsafe(e)}o(I_,"StringDecoder");I_.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};I_.prototype.end=NBe;I_.prototype.text=OBe;I_.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function xB(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}o(xB,"utf8CheckByte");function IBe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=xB(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=xB(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=xB(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}o(IBe,"utf8CheckIncomplete");function TBe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}o(TBe,"utf8CheckExtraBytes");function RBe(t){var e=this.lastTotal-this.lastNeed,r=TBe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}o(RBe,"utf8FillLast");function OBe(t,e){var r=IBe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}o(OBe,"utf8Text");function NBe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}o(NBe,"utf8End");function MBe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}o(MBe,"utf16Text");function CBe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}o(CBe,"utf16End");function kBe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}o(kBe,"base64Text");function BBe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}o(BBe,"base64End");function PBe(t){return t.toString(this.encoding)}o(PBe,"simpleWrite");function LBe(t){return t&&t.length?this.write(t):""}o(LBe,"simpleEnd")});var T_=V((MEt,rie)=>{"use strict";m();g();var eie=Ag().codes.ERR_STREAM_PREMATURE_CLOSE;function DBe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}o(DBe,"once");function UBe(){}o(UBe,"noop");function HBe(t){return t.setHeader&&typeof t.abort=="function"}o(HBe,"isRequest");function tie(t,e,r){if(typeof e=="function")return tie(t,null,e);e||(e={}),r=DBe(r||UBe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=o(function(){t.writable||f()},"onlegacyfinish"),a=t._writableState&&t._writableState.finished,f=o(function(){i=!1,a=!0,n||r.call(t)},"onfinish"),l=t._readableState&&t._readableState.endEmitted,h=o(function(){n=!1,l=!0,i||r.call(t)},"onend"),b=o(function(O){r.call(t,O)},"onerror"),y=o(function(){var O;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(O=new eie),r.call(t,O);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(O=new eie),r.call(t,O)},"onclose"),E=o(function(){t.req.on("finish",f)},"onrequest");return HBe(t)?(t.on("complete",f),t.on("abort",y),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",f),e.error!==!1&&t.on("error",b),t.on("close",y),function(){t.removeListener("complete",f),t.removeListener("abort",y),t.removeListener("request",E),t.req&&t.req.removeListener("finish",f),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",f),t.removeListener("end",h),t.removeListener("error",b),t.removeListener("close",y)}}o(tie,"eos");rie.exports=tie});var iie=V((PEt,nie)=>{"use strict";m();g();var b4;function Xh(t,e,r){return e=FBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(Xh,"_defineProperty");function FBe(t){var e=qBe(t,"string");return typeof e=="symbol"?e:String(e)}o(FBe,"_toPropertyKey");function qBe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(qBe,"_toPrimitive");var VBe=T_(),Zh=Symbol("lastResolve"),Ig=Symbol("lastReject"),R_=Symbol("error"),x4=Symbol("ended"),Tg=Symbol("lastPromise"),_B=Symbol("handlePromise"),Rg=Symbol("stream");function Jh(t,e){return{value:t,done:e}}o(Jh,"createIterResult");function jBe(t){var e=t[Zh];if(e!==null){var r=t[Rg].read();r!==null&&(t[Tg]=null,t[Zh]=null,t[Ig]=null,e(Jh(r,!1)))}}o(jBe,"readAndResolve");function KBe(t){process.nextTick(jBe,t)}o(KBe,"onReadable");function zBe(t,e){return function(r,n){t.then(function(){if(e[x4]){r(Jh(void 0,!0));return}e[_B](r,n)},n)}}o(zBe,"wrapForNext");var GBe=Object.getPrototypeOf(function(){}),$Be=Object.setPrototypeOf((b4={get stream(){return this[Rg]},next:o(function(){var e=this,r=this[R_];if(r!==null)return Promise.reject(r);if(this[x4])return Promise.resolve(Jh(void 0,!0));if(this[Rg].destroyed)return new Promise(function(a,f){process.nextTick(function(){e[R_]?f(e[R_]):a(Jh(void 0,!0))})});var n=this[Tg],i;if(n)i=new Promise(zBe(n,this));else{var s=this[Rg].read();if(s!==null)return Promise.resolve(Jh(s,!1));i=new Promise(this[_B])}return this[Tg]=i,i},"next")},Xh(b4,Symbol.asyncIterator,function(){return this}),Xh(b4,"return",o(function(){var e=this;return new Promise(function(r,n){e[Rg].destroy(null,function(i){if(i){n(i);return}r(Jh(void 0,!0))})})},"_return")),b4),GBe),WBe=o(function(e){var r,n=Object.create($Be,(r={},Xh(r,Rg,{value:e,writable:!0}),Xh(r,Zh,{value:null,writable:!0}),Xh(r,Ig,{value:null,writable:!0}),Xh(r,R_,{value:null,writable:!0}),Xh(r,x4,{value:e._readableState.endEmitted,writable:!0}),Xh(r,_B,{value:o(function(s,a){var f=n[Rg].read();f?(n[Tg]=null,n[Zh]=null,n[Ig]=null,s(Jh(f,!1))):(n[Zh]=s,n[Ig]=a)},"value"),writable:!0}),r));return n[Tg]=null,VBe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Ig];s!==null&&(n[Tg]=null,n[Zh]=null,n[Ig]=null,s(i)),n[R_]=i;return}var a=n[Zh];a!==null&&(n[Tg]=null,n[Zh]=null,n[Ig]=null,a(Jh(void 0,!0))),n[x4]=!0}),e.on("readable",KBe.bind(null,n)),n},"createReadableStreamAsyncIterator");nie.exports=WBe});var sie=V((HEt,oie)=>{m();g();oie.exports=function(){throw new Error("Readable.from is not available in the browser")}});var g4=V((jEt,gie)=>{"use strict";m();g();gie.exports=Jr;var bb;Jr.ReadableState=uie;var VEt=c4().EventEmitter,fie=o(function(e,r){return e.listeners(r).length},"EElistenerCount"),N_=cB(),v4=Yi().Buffer,YBe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function XBe(t){return v4.from(t)}o(XBe,"_uint8ArrayToBuffer");function ZBe(t){return v4.isBuffer(t)||t instanceof YBe}o(ZBe,"_isUint8Array");var wB=fB(),Br;wB&&wB.debuglog?Br=wB.debuglog("stream"):Br=o(function(){},"debug");var JBe=Pne(),OB=dB(),QBe=hB(),ePe=QBe.getHighWaterMark,_4=Ag().codes,tPe=_4.ERR_INVALID_ARG_TYPE,rPe=_4.ERR_STREAM_PUSH_AFTER_EOF,nPe=_4.ERR_METHOD_NOT_IMPLEMENTED,iPe=_4.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,xb,SB,EB;hr()(Jr,N_);var O_=OB.errorOrDestroy,AB=["error","close","destroy","pause","resume"];function oPe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}o(oPe,"prependListener");function uie(t,e,r){bb=bb||Yh(),t=t||{},typeof r!="boolean"&&(r=e instanceof bb),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=ePe(this,t,"readableHighWaterMark",r),this.buffer=new JBe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(xb||(xb=y4().StringDecoder),this.decoder=new xb(t.encoding),this.encoding=t.encoding)}o(uie,"ReadableState");function Jr(t){if(bb=bb||Yh(),!(this instanceof Jr))return new Jr(t);var e=this instanceof bb;this._readableState=new uie(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),N_.call(this)}o(Jr,"Readable");Object.defineProperty(Jr.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:o(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});Jr.prototype.destroy=OB.destroy;Jr.prototype._undestroy=OB.undestroy;Jr.prototype._destroy=function(t,e){e(t)};Jr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=v4.from(t,e),e=""),n=!0),lie(this,t,e,!1,n)};Jr.prototype.unshift=function(t){return lie(this,t,null,!0,!1)};function lie(t,e,r,n,i){Br("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,cPe(t,s);else{var a;if(i||(a=sPe(s,e)),a)O_(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==v4.prototype&&(e=XBe(e)),n)s.endEmitted?O_(t,new iPe):IB(t,s,e,!0);else if(s.ended)O_(t,new rPe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?IB(t,s,e,!1):RB(t,s)):IB(t,s,e,!1)}else n||(s.reading=!1,RB(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}o(lie,"readableAddChunk");function IB(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&w4(t)),RB(t,e)}o(IB,"addChunk");function sPe(t,e){var r;return!ZBe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new tPe("chunk",["string","Buffer","Uint8Array"],e)),r}o(sPe,"chunkInvalid");Jr.prototype.isPaused=function(){return this._readableState.flowing===!1};Jr.prototype.setEncoding=function(t){xb||(xb=y4().StringDecoder);var e=new xb(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var aie=1073741824;function aPe(t){return t>=aie?t=aie:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}o(aPe,"computeNewHighWaterMark");function cie(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=aPe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}o(cie,"howMuchToRead");Jr.prototype.read=function(t){Br("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Br("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?TB(this):w4(this),null;if(t=cie(t,e),t===0&&e.ended)return e.length===0&&TB(this),null;var n=e.needReadable;Br("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Br("length less than watermark",n)),e.ended||e.reading?(n=!1,Br("reading or ended",n)):n&&(Br("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=cie(r,e)));var i;return t>0?i=pie(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&TB(this)),i!==null&&this.emit("data",i),i};function cPe(t,e){if(Br("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?w4(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,die(t)))}}o(cPe,"onEofChunk");function w4(t){var e=t._readableState;Br("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Br("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(die,t))}o(w4,"emitReadable");function die(t){var e=t._readableState;Br("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,NB(t)}o(die,"emitReadable_");function RB(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(fPe,t,e))}o(RB,"maybeReadMore");function fPe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Br("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}o(fPe,"maybeReadMore_");Jr.prototype._read=function(t){O_(this,new nPe("_read()"))};Jr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Br("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?f:N;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(k,C){Br("onunpipe"),k===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,b())}o(a,"onunpipe");function f(){Br("onend"),t.end()}o(f,"onend");var l=uPe(r);t.on("drain",l);var h=!1;function b(){Br("cleanup"),t.removeListener("close",I),t.removeListener("finish",O),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",a),r.removeListener("end",f),r.removeListener("end",N),r.removeListener("data",y),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}o(b,"cleanup"),r.on("data",y);function y(k){Br("ondata");var C=t.write(k);Br("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&mie(n.pipes,t)!==-1)&&!h&&(Br("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}o(y,"ondata");function E(k){Br("onerror",k),N(),t.removeListener("error",E),fie(t,"error")===0&&O_(t,k)}o(E,"onerror"),oPe(t,"error",E);function I(){t.removeListener("finish",O),N()}o(I,"onclose"),t.once("close",I);function O(){Br("onfinish"),t.removeListener("close",I),N()}o(O,"onfinish"),t.once("finish",O);function N(){Br("unpipe"),r.unpipe(t)}return o(N,"unpipe"),t.emit("pipe",r),n.flowing||(Br("pipe resume"),r.resume()),t};function uPe(t){return o(function(){var r=t._readableState;Br("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&fie(t,"data")&&(r.flowing=!0,NB(t))},"pipeOnDrainFunctionResult")}o(uPe,"pipeOnDrain");Jr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=mie(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Jr.prototype.on=function(t,e){var r=N_.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Br("on readable",n.length,n.reading),n.length?w4(this):n.reading||process.nextTick(lPe,this)),r};Jr.prototype.addListener=Jr.prototype.on;Jr.prototype.removeListener=function(t,e){var r=N_.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(hie,this),r};Jr.prototype.removeAllListeners=function(t){var e=N_.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(hie,this),e};function hie(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}o(hie,"updateReadableListening");function lPe(t){Br("readable nexttick read 0"),t.read(0)}o(lPe,"nReadingNextTick");Jr.prototype.resume=function(){var t=this._readableState;return t.flowing||(Br("resume"),t.flowing=!t.readableListening,dPe(this,t)),t.paused=!1,this};function dPe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(hPe,t,e))}o(dPe,"resume");function hPe(t,e){Br("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),NB(t),e.flowing&&!e.reading&&t.read(0)}o(hPe,"resume_");Jr.prototype.pause=function(){return Br("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Br("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function NB(t){var e=t._readableState;for(Br("flow",e.flowing);e.flowing&&t.read()!==null;);}o(NB,"flow");Jr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Br("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(Br("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var f=e.push(a);f||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=o(function(f){return o(function(){return t[f].apply(t,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<AB.length;s++)t.on(AB[s],this.emit.bind(this,AB[s]));return this._read=function(a){Br("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Jr.prototype[Symbol.asyncIterator]=function(){return SB===void 0&&(SB=iie()),SB(this)});Object.defineProperty(Jr.prototype,"readableHighWaterMark",{enumerable:!1,get:o(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(Jr.prototype,"readableBuffer",{enumerable:!1,get:o(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(Jr.prototype,"readableFlowing",{enumerable:!1,get:o(function(){return this._readableState.flowing},"get"),set:o(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});Jr._fromList=pie;Object.defineProperty(Jr.prototype,"readableLength",{enumerable:!1,get:o(function(){return this._readableState.length},"get")});function pie(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}o(pie,"fromList");function TB(t){var e=t._readableState;Br("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(pPe,e,t))}o(TB,"endReadable");function pPe(t,e){if(Br("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}o(pPe,"endReadableNT");typeof Symbol=="function"&&(Jr.from=function(t,e){return EB===void 0&&(EB=sie()),EB(Jr,t,e)});function mie(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}o(mie,"indexOf")});var A4=V(($Et,bie)=>{"use strict";m();g();bie.exports=m0;var S4=Ag().codes,mPe=S4.ERR_METHOD_NOT_IMPLEMENTED,gPe=S4.ERR_MULTIPLE_CALLBACK,yPe=S4.ERR_TRANSFORM_ALREADY_TRANSFORMING,bPe=S4.ERR_TRANSFORM_WITH_LENGTH_0,E4=Yh();hr()(m0,E4);function xPe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new gPe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}o(xPe,"afterTransform");function m0(t){if(!(this instanceof m0))return new m0(t);E4.call(this,t),this._transformState={afterTransform:xPe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",vPe)}o(m0,"Transform");function vPe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){yie(t,e,r)}):yie(this,null,null)}o(vPe,"prefinish");m0.prototype.push=function(t,e){return this._transformState.needTransform=!1,E4.prototype.push.call(this,t,e)};m0.prototype._transform=function(t,e,r){r(new mPe("_transform()"))};m0.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};m0.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};m0.prototype._destroy=function(t,e){E4.prototype._destroy.call(this,t,function(r){e(r)})};function yie(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new bPe;if(t._transformState.transforming)throw new yPe;return t.push(null)}o(yie,"done")});var MB=V((ZEt,vie)=>{"use strict";m();g();vie.exports=M_;var xie=A4();hr()(M_,xie);function M_(t){if(!(this instanceof M_))return new M_(t);xie.call(this,t)}o(M_,"PassThrough");M_.prototype._transform=function(t,e,r){r(null,t)}});var kB=V((t3t,Eie)=>{"use strict";m();g();var CB;function _Pe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}o(_Pe,"once");var Sie=Ag().codes,wPe=Sie.ERR_MISSING_ARGS,SPe=Sie.ERR_STREAM_DESTROYED;function _ie(t){if(t)throw t}o(_ie,"noop");function EPe(t){return t.setHeader&&typeof t.abort=="function"}o(EPe,"isRequest");function APe(t,e,r,n){n=_Pe(n);var i=!1;t.on("close",function(){i=!0}),CB===void 0&&(CB=T_()),CB(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,EPe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new SPe("pipe"))}}}o(APe,"destroyer");function wie(t){t()}o(wie,"call");function IPe(t,e){return t.pipe(e)}o(IPe,"pipe");function TPe(t){return!t.length||typeof t[t.length-1]!="function"?_ie:t.pop()}o(TPe,"popCallback");function RPe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=TPe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new wPe("streams");var i,s=e.map(function(a,f){var l=f<e.length-1,h=f>0;return APe(a,l,h,function(b){i||(i=b),b&&s.forEach(wie),!l&&(s.forEach(wie),n(i))})});return e.reduce(IPe)}o(RPe,"pipeline");Eie.exports=RPe});var BB=V((vf,Aie)=>{m();g();vf=Aie.exports=g4();vf.Stream=vf;vf.Readable=vf;vf.Writable=h4();vf.Duplex=Yh();vf.Transform=A4();vf.PassThrough=MB();vf.finished=T_();vf.pipeline=kB()});var PB=V((a3t,Tie)=>{"use strict";m();g();var I4=yr().Buffer,Iie=BB().Transform,OPe=hr();function NPe(t,e){if(!I4.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}o(NPe,"throwIfNotStringOrBuffer");function Qh(t){Iie.call(this),this._block=I4.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(Qh,"HashBase");OPe(Qh,Iie);Qh.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Qh.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Qh.prototype.update=function(t,e){if(NPe(t,"Data"),this._finalized)throw new Error("Digest already called");I4.isBuffer(t)||(t=I4.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};Qh.prototype._update=function(){throw new Error("_update is not implemented")};Qh.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Qh.prototype._digest=function(){throw new Error("_digest is not implemented")};Tie.exports=Qh});var O4=V((l3t,Oie)=>{"use strict";m();g();var MPe=hr(),Rie=PB(),CPe=yr().Buffer,kPe=new Array(16);function T4(){Rie.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}o(T4,"MD5");MPe(T4,Rie);T4.prototype._update=function(){for(var t=kPe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=zs(r,n,i,s,t[0],3614090360,7),s=zs(s,r,n,i,t[1],3905402710,12),i=zs(i,s,r,n,t[2],606105819,17),n=zs(n,i,s,r,t[3],3250441966,22),r=zs(r,n,i,s,t[4],4118548399,7),s=zs(s,r,n,i,t[5],1200080426,12),i=zs(i,s,r,n,t[6],2821735955,17),n=zs(n,i,s,r,t[7],4249261313,22),r=zs(r,n,i,s,t[8],1770035416,7),s=zs(s,r,n,i,t[9],2336552879,12),i=zs(i,s,r,n,t[10],4294925233,17),n=zs(n,i,s,r,t[11],2304563134,22),r=zs(r,n,i,s,t[12],1804603682,7),s=zs(s,r,n,i,t[13],4254626195,12),i=zs(i,s,r,n,t[14],2792965006,17),n=zs(n,i,s,r,t[15],1236535329,22),r=Gs(r,n,i,s,t[1],4129170786,5),s=Gs(s,r,n,i,t[6],3225465664,9),i=Gs(i,s,r,n,t[11],643717713,14),n=Gs(n,i,s,r,t[0],3921069994,20),r=Gs(r,n,i,s,t[5],3593408605,5),s=Gs(s,r,n,i,t[10],38016083,9),i=Gs(i,s,r,n,t[15],3634488961,14),n=Gs(n,i,s,r,t[4],3889429448,20),r=Gs(r,n,i,s,t[9],568446438,5),s=Gs(s,r,n,i,t[14],3275163606,9),i=Gs(i,s,r,n,t[3],4107603335,14),n=Gs(n,i,s,r,t[8],1163531501,20),r=Gs(r,n,i,s,t[13],2850285829,5),s=Gs(s,r,n,i,t[2],4243563512,9),i=Gs(i,s,r,n,t[7],1735328473,14),n=Gs(n,i,s,r,t[12],2368359562,20),r=$s(r,n,i,s,t[5],4294588738,4),s=$s(s,r,n,i,t[8],2272392833,11),i=$s(i,s,r,n,t[11],1839030562,16),n=$s(n,i,s,r,t[14],4259657740,23),r=$s(r,n,i,s,t[1],2763975236,4),s=$s(s,r,n,i,t[4],1272893353,11),i=$s(i,s,r,n,t[7],4139469664,16),n=$s(n,i,s,r,t[10],3200236656,23),r=$s(r,n,i,s,t[13],681279174,4),s=$s(s,r,n,i,t[0],3936430074,11),i=$s(i,s,r,n,t[3],3572445317,16),n=$s(n,i,s,r,t[6],76029189,23),r=$s(r,n,i,s,t[9],3654602809,4),s=$s(s,r,n,i,t[12],3873151461,11),i=$s(i,s,r,n,t[15],530742520,16),n=$s(n,i,s,r,t[2],3299628645,23),r=Ws(r,n,i,s,t[0],4096336452,6),s=Ws(s,r,n,i,t[7],1126891415,10),i=Ws(i,s,r,n,t[14],2878612391,15),n=Ws(n,i,s,r,t[5],4237533241,21),r=Ws(r,n,i,s,t[12],1700485571,6),s=Ws(s,r,n,i,t[3],2399980690,10),i=Ws(i,s,r,n,t[10],4293915773,15),n=Ws(n,i,s,r,t[1],2240044497,21),r=Ws(r,n,i,s,t[8],1873313359,6),s=Ws(s,r,n,i,t[15],4264355552,10),i=Ws(i,s,r,n,t[6],2734768916,15),n=Ws(n,i,s,r,t[13],1309151649,21),r=Ws(r,n,i,s,t[4],4149444226,6),s=Ws(s,r,n,i,t[11],3174756917,10),i=Ws(i,s,r,n,t[2],718787259,15),n=Ws(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};T4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=CPe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function R4(t,e){return t<<e|t>>>32-e}o(R4,"rotl");function zs(t,e,r,n,i,s,a){return R4(t+(e&r|~e&n)+i+s|0,a)+e|0}o(zs,"fnF");function Gs(t,e,r,n,i,s,a){return R4(t+(e&n|r&~n)+i+s|0,a)+e|0}o(Gs,"fnG");function $s(t,e,r,n,i,s,a){return R4(t+(e^r^n)+i+s|0,a)+e|0}o($s,"fnH");function Ws(t,e,r,n,i,s,a){return R4(t+(r^(e|~n))+i+s|0,a)+e|0}o(Ws,"fnI");Oie.exports=T4});var DB=V((m3t,Lie)=>{"use strict";m();g();var LB=Yi().Buffer,BPe=hr(),Pie=PB(),PPe=new Array(16),C_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],B_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],P_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],L_=[0,1518500249,1859775393,2400959708,2840853838],D_=[1352829926,1548603684,1836072691,2053994217,0];function N4(){Pie.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(N4,"RIPEMD160");BPe(N4,Pie);N4.prototype._update=function(){for(var t=PPe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,f=this._a|0,l=this._b|0,h=this._c|0,b=this._d|0,y=this._e|0,E=0;E<80;E+=1){var I,O;E<16?(I=Nie(r,n,i,s,a,t[C_[E]],L_[0],B_[E]),O=Bie(f,l,h,b,y,t[k_[E]],D_[0],P_[E])):E<32?(I=Mie(r,n,i,s,a,t[C_[E]],L_[1],B_[E]),O=kie(f,l,h,b,y,t[k_[E]],D_[1],P_[E])):E<48?(I=Cie(r,n,i,s,a,t[C_[E]],L_[2],B_[E]),O=Cie(f,l,h,b,y,t[k_[E]],D_[2],P_[E])):E<64?(I=kie(r,n,i,s,a,t[C_[E]],L_[3],B_[E]),O=Mie(f,l,h,b,y,t[k_[E]],D_[3],P_[E])):(I=Bie(r,n,i,s,a,t[C_[E]],L_[4],B_[E]),O=Nie(f,l,h,b,y,t[k_[E]],D_[4],P_[E])),r=a,a=s,s=Og(i,10),i=n,n=I,f=y,y=b,b=Og(h,10),h=l,l=O}var N=this._b+i+b|0;this._b=this._c+s+y|0,this._c=this._d+a+f|0,this._d=this._e+r+l|0,this._e=this._a+n+h|0,this._a=N};N4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=LB.alloc?LB.alloc(20):new LB(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Og(t,e){return t<<e|t>>>32-e}o(Og,"rotl");function Nie(t,e,r,n,i,s,a,f){return Og(t+(e^r^n)+s+a|0,f)+i|0}o(Nie,"fn1");function Mie(t,e,r,n,i,s,a,f){return Og(t+(e&r|~e&n)+s+a|0,f)+i|0}o(Mie,"fn2");function Cie(t,e,r,n,i,s,a,f){return Og(t+((e|~r)^n)+s+a|0,f)+i|0}o(Cie,"fn3");function kie(t,e,r,n,i,s,a,f){return Og(t+(e&n|r&~n)+s+a|0,f)+i|0}o(kie,"fn4");function Bie(t,e,r,n,i,s,a,f){return Og(t+(e^(r|~n))+s+a|0,f)+i|0}o(Bie,"fn5");Lie.exports=N4});var Uie=V((x3t,Die)=>{m();g();var LPe={}.toString;Die.exports=Array.isArray||function(t){return LPe.call(t)=="[object Array]"}});var vb=V((w3t,Hie)=>{"use strict";m();g();Hie.exports=TypeError});var UB=V((A3t,Fie)=>{"use strict";m();g();Fie.exports=Object});var Vie=V((R3t,qie)=>{"use strict";m();g();qie.exports=Error});var Kie=V((M3t,jie)=>{"use strict";m();g();jie.exports=EvalError});var Gie=V((B3t,zie)=>{"use strict";m();g();zie.exports=RangeError});var Wie=V((D3t,$ie)=>{"use strict";m();g();$ie.exports=ReferenceError});var HB=V((F3t,Yie)=>{"use strict";m();g();Yie.exports=SyntaxError});var Zie=V((j3t,Xie)=>{"use strict";m();g();Xie.exports=URIError});var Qie=V((G3t,Jie)=>{"use strict";m();g();Jie.exports=Math.abs});var toe=V((Y3t,eoe)=>{"use strict";m();g();eoe.exports=Math.floor});var noe=V((J3t,roe)=>{"use strict";m();g();roe.exports=Math.max});var ooe=V((t6t,ioe)=>{"use strict";m();g();ioe.exports=Math.min});var aoe=V((i6t,soe)=>{"use strict";m();g();soe.exports=Math.pow});var foe=V((a6t,coe)=>{"use strict";m();g();coe.exports=Math.round});var loe=V((u6t,uoe)=>{"use strict";m();g();uoe.exports=Number.isNaN||o(function(e){return e!==e},"isNaN")});var hoe=V((p6t,doe)=>{"use strict";m();g();var DPe=loe();doe.exports=o(function(e){return DPe(e)||e===0?e:e<0?-1:1},"sign")});var moe=V((b6t,poe)=>{"use strict";m();g();poe.exports=Object.getOwnPropertyDescriptor});var _b=V((_6t,goe)=>{"use strict";m();g();var M4=moe();if(M4)try{M4([],"length")}catch{M4=null}goe.exports=M4});var U_=V((E6t,yoe)=>{"use strict";m();g();var C4=Object.defineProperty||!1;if(C4)try{C4({},"a",{value:1})}catch{C4=!1}yoe.exports=C4});var k4=V((T6t,boe)=>{"use strict";m();g();boe.exports=o(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(e,r);if(f.value!==i||f.enumerable!==!0)return!1}return!0},"hasSymbols")});var _oe=V((M6t,voe)=>{"use strict";m();g();var xoe=typeof Symbol<"u"&&Symbol,UPe=k4();voe.exports=o(function(){return typeof xoe!="function"||typeof Symbol!="function"||typeof xoe("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:UPe()},"hasNativeSymbols")});var FB=V((P6t,woe)=>{"use strict";m();g();woe.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var qB=V((U6t,Soe)=>{"use strict";m();g();var HPe=UB();Soe.exports=HPe.getPrototypeOf||null});var Ioe=V((q6t,Aoe)=>{"use strict";m();g();var FPe="Function.prototype.bind called on incompatible ",qPe=Object.prototype.toString,VPe=Math.max,jPe="[object Function]",Eoe=o(function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},"concatty"),KPe=o(function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},"slicy"),zPe=o(function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},"joiny");Aoe.exports=o(function(e){var r=this;if(typeof r!="function"||qPe.apply(r)!==jPe)throw new TypeError(FPe+r);for(var n=KPe(arguments,1),i,s=o(function(){if(this instanceof i){var b=r.apply(this,Eoe(n,arguments));return Object(b)===b?b:this}return r.apply(e,Eoe(n,arguments))},"binder"),a=VPe(0,r.length-n.length),f=[],l=0;l<a;l++)f[l]="$"+l;if(i=Function("binder","return function ("+zPe(f,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=o(function(){},"Empty");h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},"bind")});var wb=V((z6t,Toe)=>{"use strict";m();g();var GPe=Ioe();Toe.exports=Function.prototype.bind||GPe});var B4=V((W6t,Roe)=>{"use strict";m();g();Roe.exports=Function.prototype.call});var P4=V((Z6t,Ooe)=>{"use strict";m();g();Ooe.exports=Function.prototype.apply});var Moe=V((eAt,Noe)=>{"use strict";m();g();Noe.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var VB=V((nAt,Coe)=>{"use strict";m();g();var $Pe=wb(),WPe=P4(),YPe=B4(),XPe=Moe();Coe.exports=XPe||$Pe.call(YPe,WPe)});var L4=V((sAt,koe)=>{"use strict";m();g();var ZPe=wb(),JPe=vb(),QPe=B4(),eLe=VB();koe.exports=o(function(e){if(e.length<1||typeof e[0]!="function")throw new JPe("a function is required");return eLe(ZPe,QPe,e)},"callBindBasic")});var Hoe=V((uAt,Uoe)=>{"use strict";m();g();var tLe=L4(),Boe=_b(),Loe;try{Loe=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var jB=!!Loe&&Boe&&Boe(Object.prototype,"__proto__"),Doe=Object,Poe=Doe.getPrototypeOf;Uoe.exports=jB&&typeof jB.get=="function"?tLe([jB.get]):typeof Poe=="function"?o(function(e){return Poe(e==null?e:Doe(e))},"getDunder"):!1});var KB=V((pAt,joe)=>{"use strict";m();g();var Foe=FB(),qoe=qB(),Voe=Hoe();joe.exports=Foe?o(function(e){return Foe(e)},"getProto"):qoe?o(function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return qoe(e)},"getProto"):Voe?o(function(e){return Voe(e)},"getProto"):null});var zoe=V((bAt,Koe)=>{"use strict";m();g();var rLe=Function.prototype.call,nLe=Object.prototype.hasOwnProperty,iLe=wb();Koe.exports=iLe.call(rLe,nLe)});var H4=V((_At,Zoe)=>{"use strict";m();g();var Lr,oLe=UB(),sLe=Vie(),aLe=Kie(),cLe=Gie(),fLe=Wie(),Ib=HB(),Ab=vb(),uLe=Zie(),lLe=Qie(),dLe=toe(),hLe=noe(),pLe=ooe(),mLe=aoe(),gLe=foe(),yLe=hoe(),Yoe=Function,zB=o(function(t){try{return Yoe('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),H_=_b(),bLe=U_(),GB=o(function(){throw new Ab},"throwTypeError"),xLe=H_?function(){try{return arguments.callee,GB}catch{try{return H_(arguments,"callee").get}catch{return GB}}}():GB,Sb=_oe()(),Vo=KB(),vLe=qB(),_Le=FB(),Xoe=P4(),F_=B4(),Eb={},wLe=typeof Uint8Array>"u"||!Vo?Lr:Vo(Uint8Array),Ng={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Lr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Lr:ArrayBuffer,"%ArrayIteratorPrototype%":Sb&&Vo?Vo([][Symbol.iterator]()):Lr,"%AsyncFromSyncIteratorPrototype%":Lr,"%AsyncFunction%":Eb,"%AsyncGenerator%":Eb,"%AsyncGeneratorFunction%":Eb,"%AsyncIteratorPrototype%":Eb,"%Atomics%":typeof Atomics>"u"?Lr:Atomics,"%BigInt%":typeof BigInt>"u"?Lr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Lr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Lr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Lr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":sLe,"%eval%":eval,"%EvalError%":aLe,"%Float16Array%":typeof Float16Array>"u"?Lr:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Lr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Lr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Lr:FinalizationRegistry,"%Function%":Yoe,"%GeneratorFunction%":Eb,"%Int8Array%":typeof Int8Array>"u"?Lr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Lr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Lr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Sb&&Vo?Vo(Vo([][Symbol.iterator]())):Lr,"%JSON%":typeof JSON=="object"?JSON:Lr,"%Map%":typeof Map>"u"?Lr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Sb||!Vo?Lr:Vo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":oLe,"%Object.getOwnPropertyDescriptor%":H_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Lr:Promise,"%Proxy%":typeof Proxy>"u"?Lr:Proxy,"%RangeError%":cLe,"%ReferenceError%":fLe,"%Reflect%":typeof Reflect>"u"?Lr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Lr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Sb||!Vo?Lr:Vo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Lr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Sb&&Vo?Vo(""[Symbol.iterator]()):Lr,"%Symbol%":Sb?Symbol:Lr,"%SyntaxError%":Ib,"%ThrowTypeError%":xLe,"%TypedArray%":wLe,"%TypeError%":Ab,"%Uint8Array%":typeof Uint8Array>"u"?Lr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Lr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Lr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Lr:Uint32Array,"%URIError%":uLe,"%WeakMap%":typeof WeakMap>"u"?Lr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Lr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Lr:WeakSet,"%Function.prototype.call%":F_,"%Function.prototype.apply%":Xoe,"%Object.defineProperty%":bLe,"%Object.getPrototypeOf%":vLe,"%Math.abs%":lLe,"%Math.floor%":dLe,"%Math.max%":hLe,"%Math.min%":pLe,"%Math.pow%":mLe,"%Math.round%":gLe,"%Math.sign%":yLe,"%Reflect.getPrototypeOf%":_Le};if(Vo)try{null.error}catch(t){Goe=Vo(Vo(t)),Ng["%Error.prototype%"]=Goe}var Goe,SLe=o(function t(e){var r;if(e==="%AsyncFunction%")r=zB("async function () {}");else if(e==="%GeneratorFunction%")r=zB("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=zB("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Vo&&(r=Vo(i.prototype))}return Ng[e]=r,r},"doEval"),$oe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},q_=wb(),D4=zoe(),ELe=q_.call(F_,Array.prototype.concat),ALe=q_.call(Xoe,Array.prototype.splice),Woe=q_.call(F_,String.prototype.replace),U4=q_.call(F_,String.prototype.slice),ILe=q_.call(F_,RegExp.prototype.exec),TLe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,RLe=/\\(\\)?/g,OLe=o(function(e){var r=U4(e,0,1),n=U4(e,-1);if(r==="%"&&n!=="%")throw new Ib("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ib("invalid intrinsic syntax, expected opening `%`");var i=[];return Woe(e,TLe,function(s,a,f,l){i[i.length]=f?Woe(l,RLe,"$1"):a||s}),i},"stringToPath"),NLe=o(function(e,r){var n=e,i;if(D4($oe,n)&&(i=$oe[n],n="%"+i[0]+"%"),D4(Ng,n)){var s=Ng[n];if(s===Eb&&(s=SLe(n)),typeof s>"u"&&!r)throw new Ab("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ib("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");Zoe.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new Ab("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ab('"allowMissing" argument must be a boolean');if(ILe(/^%?[^%]*%?$/,e)===null)throw new Ib("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=OLe(e),i=n.length>0?n[0]:"",s=NLe("%"+i+"%",r),a=s.name,f=s.value,l=!1,h=s.alias;h&&(i=h[0],ALe(n,ELe([0,1],h)));for(var b=1,y=!0;b<n.length;b+=1){var E=n[b],I=U4(E,0,1),O=U4(E,-1);if((I==='"'||I==="'"||I==="`"||O==='"'||O==="'"||O==="`")&&I!==O)throw new Ib("property names with quotes must have matching quotes");if((E==="constructor"||!y)&&(l=!0),i+="."+E,a="%"+i+"%",D4(Ng,a))f=Ng[a];else if(f!=null){if(!(E in f)){if(!r)throw new Ab("base intrinsic for "+e+" exists, but the property is not available.");return}if(H_&&b+1>=n.length){var N=H_(f,E);y=!!N,y&&"get"in N&&!("originalValue"in N.get)?f=N.get:f=f[E]}else y=D4(f,E),f=f[E];y&&!l&&(Ng[a]=f)}}return f},"GetIntrinsic")});var $B=V((AAt,ese)=>{"use strict";m();g();var Joe=H4(),Qoe=L4(),MLe=Qoe([Joe("%String.prototype.indexOf%")]);ese.exports=o(function(e,r){var n=Joe(e,!!r);return typeof n=="function"&&MLe(e,".prototype.")>-1?Qoe([n]):n},"callBoundIntrinsic")});var ise=V((OAt,nse)=>{"use strict";m();g();var rse=Function.prototype.toString,Tb=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,YB,F4;if(typeof Tb=="function"&&typeof Object.defineProperty=="function")try{YB=Object.defineProperty({},"length",{get:o(function(){throw F4},"get")}),F4={},Tb(function(){throw 42},null,YB)}catch(t){t!==F4&&(Tb=null)}else Tb=null;var CLe=/^\s*class\b/,XB=o(function(e){try{var r=rse.call(e);return CLe.test(r)}catch{return!1}},"isES6ClassFunction"),WB=o(function(e){try{return XB(e)?!1:(rse.call(e),!0)}catch{return!1}},"tryFunctionToStr"),q4=Object.prototype.toString,kLe="[object Object]",BLe="[object Function]",PLe="[object GeneratorFunction]",LLe="[object HTMLAllCollection]",DLe="[object HTML document.all class]",ULe="[object HTMLCollection]",HLe=typeof Symbol=="function"&&!!Symbol.toStringTag,FLe=!(0 in[,]),ZB=o(function(){return!1},"isDocumentDotAll");typeof document=="object"&&(tse=document.all,q4.call(tse)===q4.call(document.all)&&(ZB=o(function(e){if((FLe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=q4.call(e);return(r===LLe||r===DLe||r===ULe||r===kLe)&&e("")==null}catch{}return!1},"isDocumentDotAll")));var tse;nse.exports=o(Tb?function(e){if(ZB(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Tb(e,null,YB)}catch(r){if(r!==F4)return!1}return!XB(e)&&WB(e)}:function(e){if(ZB(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(HLe)return WB(e);if(XB(e))return!1;var r=q4.call(e);return r!==BLe&&r!==PLe&&!/^\[object HTML/.test(r)?!1:WB(e)},"isCallable")});var ase=V((kAt,sse)=>{"use strict";m();g();var qLe=ise(),VLe=Object.prototype.toString,ose=Object.prototype.hasOwnProperty,jLe=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)ose.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachArray"),KLe=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},"forEachString"),zLe=o(function(e,r,n){for(var i in e)ose.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachObject");function GLe(t){return VLe.call(t)==="[object Array]"}o(GLe,"isArray");sse.exports=o(function(e,r,n){if(!qLe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),GLe(e)?jLe(e,r,i):typeof e=="string"?KLe(e,r,i):zLe(e,r,i)},"forEach")});var fse=V((DAt,cse)=>{"use strict";m();g();cse.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var lse=V((FAt,use)=>{"use strict";m();g();var JB=fse(),$Le=typeof globalThis>"u"?self:globalThis;use.exports=o(function(){for(var e=[],r=0;r<JB.length;r++)typeof $Le[JB[r]]=="function"&&(e[e.length]=JB[r]);return e},"availableTypedArrays")});var QB=V((KAt,pse)=>{"use strict";m();g();var dse=U_(),WLe=HB(),Rb=vb(),hse=_b();pse.exports=o(function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Rb("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Rb("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Rb("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Rb("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Rb("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Rb("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,l=!!hse&&hse(e,r);if(dse)dse(e,r,{configurable:a===null&&l?l.configurable:!a,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(f||!i&&!s&&!a)e[r]=n;else throw new WLe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},"defineDataProperty")});var tP=V((WAt,gse)=>{"use strict";m();g();var eP=U_(),mse=o(function(){return!!eP},"hasPropertyDescriptors");mse.hasArrayLengthDefineBug=o(function(){if(!eP)return null;try{return eP([],"length",{value:1}).length!==1}catch{return!0}},"hasArrayLengthDefineBug");gse.exports=mse});var _se=V((JAt,vse)=>{"use strict";m();g();var YLe=H4(),yse=QB(),XLe=tP()(),bse=_b(),xse=vb(),ZLe=YLe("%Math.floor%");vse.exports=o(function(e,r){if(typeof e!="function")throw new xse("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||ZLe(r)!==r)throw new xse("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&bse){var a=bse(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(s=!1)}return(i||s||!n)&&(XLe?yse(e,"length",r,!0,!0):yse(e,"length",r)),e},"setFunctionLength")});var Sse=V((r4t,wse)=>{"use strict";m();g();var JLe=wb(),QLe=P4(),eDe=VB();wse.exports=o(function(){return eDe(JLe,QLe,arguments)},"applyBind")});var V_=V((s4t,V4)=>{"use strict";m();g();var tDe=_se(),Ese=U_(),rDe=L4(),Ase=Sse();V4.exports=o(function(e){var r=rDe(arguments),n=e.length-(arguments.length-1);return tDe(r,1+(n>0?n:0),!0)},"callBind");Ese?Ese(V4.exports,"apply",{value:Ase}):V4.exports.apply=Ase});var j4=V((u4t,Ise)=>{"use strict";m();g();var nDe=k4();Ise.exports=o(function(){return nDe()&&!!Symbol.toStringTag},"hasToStringTagShams")});var oP=V((p4t,Nse)=>{"use strict";m();g();var G4=ase(),iDe=lse(),Tse=V_(),nP=$B(),z4=_b(),K4=KB(),oDe=nP("Object.prototype.toString"),Ose=j4()(),Rse=typeof globalThis>"u"?self:globalThis,rP=iDe(),iP=nP("String.prototype.slice"),sDe=nP("Array.prototype.indexOf",!0)||o(function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},"indexOf"),$4={__proto__:null};Ose&&z4&&K4?G4(rP,function(t){var e=new Rse[t];if(Symbol.toStringTag in e&&K4){var r=K4(e),n=z4(r,Symbol.toStringTag);if(!n&&r){var i=K4(r);n=z4(i,Symbol.toStringTag)}$4["$"+t]=Tse(n.get)}}):G4(rP,function(t){var e=new Rse[t],r=e.slice||e.set;r&&($4["$"+t]=Tse(r))});var aDe=o(function(e){var r=!1;return G4($4,function(n,i){if(!r)try{"$"+n(e)===i&&(r=iP(i,1))}catch{}}),r},"tryAllTypedArrays"),cDe=o(function(e){var r=!1;return G4($4,function(n,i){if(!r)try{n(e),r=iP(i,1)}catch{}}),r},"tryAllSlices");Nse.exports=o(function(e){if(!e||typeof e!="object")return!1;if(!Ose){var r=iP(oDe(e),8,-1);return sDe(rP,r)>-1?r:r!=="Object"?!1:cDe(e)}return z4?aDe(e):null},"whichTypedArray")});var sP=V((b4t,Mse)=>{"use strict";m();g();var fDe=oP();Mse.exports=o(function(e){return!!fDe(e)},"isTypedArray")});var kse=V((w4t,Cse)=>{"use strict";m();g();var uDe=vb(),lDe=$B(),dDe=lDe("TypedArray.prototype.buffer",!0),hDe=sP();Cse.exports=dDe||o(function(e){if(!hDe(e))throw new uDe("Not a Typed Array");return e.buffer},"typedArrayBuffer")});var W4=V((I4t,Pse)=>{"use strict";m();g();var Eu=yr().Buffer,pDe=Uie(),mDe=kse(),gDe=ArrayBuffer.isView||o(function(e){try{return mDe(e),!0}catch{return!1}},"isView"),yDe=typeof Uint8Array<"u",Bse=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",bDe=Bse&&(Eu.prototype instanceof Uint8Array||Eu.TYPED_ARRAY_SUPPORT);Pse.exports=o(function(e,r){if(Eu.isBuffer(e))return e.constructor&&!("isBuffer"in e)?Eu.from(e):e;if(typeof e=="string")return Eu.from(e,r);if(Bse&&gDe(e)){if(e.byteLength===0)return Eu.alloc(0);if(bDe){var n=Eu.from(e.buffer,e.byteOffset,e.byteLength);if(n.byteLength===e.byteLength)return n}var i=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=Eu.from(i);if(s.length===e.byteLength)return s}if(yDe&&e instanceof Uint8Array)return Eu.from(e);var a=pDe(e);if(a)for(var f=0;f<e.length;f+=1){var l=e[f];if(typeof l!="number"||l<0||l>255||~~l!==l)throw new RangeError("Array items must be numbers in the range 0-255.")}if(a||Eu.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return Eu.from(e);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},"toBuffer")});var Mg=V((N4t,Lse)=>{"use strict";m();g();var xDe=yr().Buffer,vDe=W4();function Y4(t,e){this._block=xDe.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}o(Y4,"Hash");Y4.prototype.update=function(t,e){t=vDe(t,e||"utf8");for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,a=0;a<i;){for(var f=s%n,l=Math.min(i-a,n-f),h=0;h<l;h++)r[f+h]=t[a+h];s+=l,a+=l,s%n===0&&this._update(r)}return this._len+=i,this};Y4.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Y4.prototype._update=function(){throw new Error("_update must be implemented by subclass")};Lse.exports=Y4});var Hse=V((B4t,Use)=>{"use strict";m();g();var _De=hr(),Dse=Mg(),wDe=yr().Buffer,SDe=[1518500249,1859775393,-1894007588,-899497514],EDe=new Array(80);function j_(){this.init(),this._w=EDe,Dse.call(this,64,56)}o(j_,"Sha");_De(j_,Dse);j_.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ADe(t){return t<<5|t>>>27}o(ADe,"rotl5");function IDe(t){return t<<30|t>>>2}o(IDe,"rotl30");function TDe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}o(TDe,"ft");j_.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=e[f-3]^e[f-8]^e[f-14]^e[f-16];for(var l=0;l<80;++l){var h=~~(l/20),b=ADe(r)+TDe(h,n,i,s)+a+e[l]+SDe[h]|0;a=s,s=i,i=IDe(n),n=r,r=b}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};j_.prototype._hash=function(){var t=wDe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Use.exports=j_});var Vse=V((U4t,qse)=>{"use strict";m();g();var RDe=hr(),Fse=Mg(),ODe=yr().Buffer,NDe=[1518500249,1859775393,-1894007588,-899497514],MDe=new Array(80);function K_(){this.init(),this._w=MDe,Fse.call(this,64,56)}o(K_,"Sha1");RDe(K_,Fse);K_.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function CDe(t){return t<<1|t>>>31}o(CDe,"rotl1");function kDe(t){return t<<5|t>>>27}o(kDe,"rotl5");function BDe(t){return t<<30|t>>>2}o(BDe,"rotl30");function PDe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}o(PDe,"ft");K_.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=CDe(e[f-3]^e[f-8]^e[f-14]^e[f-16]);for(var l=0;l<80;++l){var h=~~(l/20),b=kDe(r)+PDe(h,n,i,s)+a+e[l]+NDe[h]|0;a=s,s=i,i=BDe(n),n=r,r=b}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};K_.prototype._hash=function(){var t=ODe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};qse.exports=K_});var aP=V((V4t,Kse)=>{"use strict";m();g();var LDe=hr(),jse=Mg(),DDe=yr().Buffer,UDe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],HDe=new Array(64);function z_(){this.init(),this._w=HDe,jse.call(this,64,56)}o(z_,"Sha256");LDe(z_,jse);z_.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function FDe(t,e,r){return r^t&(e^r)}o(FDe,"ch");function qDe(t,e,r){return t&e|r&(t|e)}o(qDe,"maj");function VDe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}o(VDe,"sigma0");function jDe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}o(jDe,"sigma1");function KDe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}o(KDe,"gamma0");function zDe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}o(zDe,"gamma1");z_.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,f=this._f|0,l=this._g|0,h=this._h|0,b=0;b<16;++b)e[b]=t.readInt32BE(b*4);for(;b<64;++b)e[b]=zDe(e[b-2])+e[b-7]+KDe(e[b-15])+e[b-16]|0;for(var y=0;y<64;++y){var E=h+jDe(a)+FDe(a,f,l)+UDe[y]+e[y]|0,I=VDe(r)+qDe(r,n,i)|0;h=l,l=f,f=a,a=s+E|0,s=i,i=n,n=r,r=E+I|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=f+this._f|0,this._g=l+this._g|0,this._h=h+this._h|0};z_.prototype._hash=function(){var t=DDe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};Kse.exports=z_});var Gse=V((G4t,zse)=>{"use strict";m();g();var GDe=hr(),$De=aP(),WDe=Mg(),YDe=yr().Buffer,XDe=new Array(64);function X4(){this.init(),this._w=XDe,WDe.call(this,64,56)}o(X4,"Sha224");GDe(X4,$De);X4.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};X4.prototype._hash=function(){var t=YDe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};zse.exports=X4});var cP=V((X4t,Qse)=>{"use strict";m();g();var ZDe=hr(),Jse=Mg(),JDe=yr().Buffer,$se=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],QDe=new Array(160);function G_(){this.init(),this._w=QDe,Jse.call(this,128,112)}o(G_,"Sha512");ZDe(G_,Jse);G_.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Wse(t,e,r){return r^t&(e^r)}o(Wse,"Ch");function Yse(t,e,r){return t&e|r&(t|e)}o(Yse,"maj");function Xse(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}o(Xse,"sigma0");function Zse(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}o(Zse,"sigma1");function eUe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}o(eUe,"Gamma0");function tUe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}o(tUe,"Gamma0l");function rUe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}o(rUe,"Gamma1");function nUe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}o(nUe,"Gamma1l");function jo(t,e){return t>>>0<e>>>0?1:0}o(jo,"getCarry");G_.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,a=this._eh|0,f=this._fh|0,l=this._gh|0,h=this._hh|0,b=this._al|0,y=this._bl|0,E=this._cl|0,I=this._dl|0,O=this._el|0,N=this._fl|0,k=this._gl|0,C=this._hl|0,L=0;L<32;L+=2)e[L]=t.readInt32BE(L*4),e[L+1]=t.readInt32BE(L*4+4);for(;L<160;L+=2){var M=e[L-30],U=e[L-15*2+1],q=eUe(M,U),j=tUe(U,M);M=e[L-2*2],U=e[L-2*2+1];var re=rUe(M,U),Y=nUe(U,M),X=e[L-7*2],S=e[L-7*2+1],c=e[L-16*2],d=e[L-16*2+1],p=j+S|0,x=q+X+jo(p,j)|0;p=p+Y|0,x=x+re+jo(p,Y)|0,p=p+d|0,x=x+c+jo(p,d)|0,e[L]=x,e[L+1]=p}for(var v=0;v<160;v+=2){x=e[v],p=e[v+1];var A=Yse(r,n,i),T=Yse(b,y,E),w=Xse(r,b),u=Xse(b,r),_=Zse(a,O),F=Zse(O,a),H=$se[v],D=$se[v+1],$=Wse(a,f,l),ee=Wse(O,N,k),te=C+F|0,Oe=h+_+jo(te,C)|0;te=te+ee|0,Oe=Oe+$+jo(te,ee)|0,te=te+D|0,Oe=Oe+H+jo(te,D)|0,te=te+p|0,Oe=Oe+x+jo(te,p)|0;var fe=u+T|0,le=w+A+jo(fe,u)|0;h=l,C=k,l=f,k=N,f=a,N=O,O=I+te|0,a=s+Oe+jo(O,I)|0,s=i,I=E,i=n,E=y,n=r,y=b,b=te+fe|0,r=Oe+le+jo(b,te)|0}this._al=this._al+b|0,this._bl=this._bl+y|0,this._cl=this._cl+E|0,this._dl=this._dl+I|0,this._el=this._el+O|0,this._fl=this._fl+N|0,this._gl=this._gl+k|0,this._hl=this._hl+C|0,this._ah=this._ah+r+jo(this._al,b)|0,this._bh=this._bh+n+jo(this._bl,y)|0,this._ch=this._ch+i+jo(this._cl,E)|0,this._dh=this._dh+s+jo(this._dl,I)|0,this._eh=this._eh+a+jo(this._el,O)|0,this._fh=this._fh+f+jo(this._fl,N)|0,this._gh=this._gh+l+jo(this._gl,k)|0,this._hh=this._hh+h+jo(this._hl,C)|0};G_.prototype._hash=function(){var t=JDe.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return o(e,"writeInt64BE"),e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};Qse.exports=G_});var tae=V((e8t,eae)=>{"use strict";m();g();var iUe=hr(),oUe=cP(),sUe=Mg(),aUe=yr().Buffer,cUe=new Array(160);function Z4(){this.init(),this._w=cUe,sUe.call(this,128,112)}o(Z4,"Sha384");iUe(Z4,oUe);Z4.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Z4.prototype._hash=function(){var t=aUe.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return o(e,"writeInt64BE"),e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};eae.exports=Z4});var J4=V((i8t,g0)=>{"use strict";m();g();g0.exports=o(function(e){var r=e.toLowerCase(),n=g0.exports[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n},"SHA");g0.exports.sha=Hse();g0.exports.sha1=Vse();g0.exports.sha224=Gse();g0.exports.sha256=aP();g0.exports.sha384=tae();g0.exports.sha512=cP()});var uP=V((c8t,rae)=>{m();g();rae.exports=_f;var fP=c4().EventEmitter,fUe=hr();fUe(_f,fP);_f.Readable=g4();_f.Writable=h4();_f.Duplex=Yh();_f.Transform=A4();_f.PassThrough=MB();_f.finished=T_();_f.pipeline=kB();_f.Stream=_f;function _f(){fP.call(this)}o(_f,"Stream");_f.prototype.pipe=function(t,e){var r=this;function n(b){t.writable&&t.write(b)===!1&&r.pause&&r.pause()}o(n,"ondata"),r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}o(i,"ondrain"),t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",f));var s=!1;function a(){s||(s=!0,t.end())}o(a,"onend");function f(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}o(f,"onclose");function l(b){if(h(),fP.listenerCount(this,"error")===0)throw b}o(l,"onerror"),r.on("error",l),t.on("error",l);function h(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",f),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",h),r.removeListener("close",h),t.removeListener("close",h)}return o(h,"cleanup"),r.on("end",h),r.on("close",h),t.on("close",h),t.emit("pipe",r),t}});var y0=V((d8t,iae)=>{"use strict";m();g();var uUe=yr().Buffer,nae=uP().Transform,lUe=y4().StringDecoder,dUe=hr(),hUe=W4();function Au(t){nae.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}o(Au,"CipherBase");dUe(Au,nae);Au.prototype.update=function(t,e,r){var n=hUe(t,e),i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};Au.prototype.setAutoPadding=function(){};Au.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Au.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Au.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Au.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};Au.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Au.prototype._finalOrDigest=function(t){var e=this.__final()||uUe.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Au.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new lUe(e),this._encoding=e),this._encoding!==e)throw new Error("can\u2019t switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};iae.exports=Au});var Cg=V((g8t,sae)=>{"use strict";m();g();var pUe=hr(),mUe=O4(),gUe=DB(),yUe=J4(),oae=y0();function Q4(t){oae.call(this,"digest"),this._hash=t}o(Q4,"Hash");pUe(Q4,oae);Q4.prototype._update=function(t){this._hash.update(t)};Q4.prototype._final=function(){return this._hash.digest()};sae.exports=o(function(e){return e=e.toLowerCase(),e==="md5"?new mUe:e==="rmd160"||e==="ripemd160"?new gUe:new Q4(yUe(e))},"createHash")});var fae=V((v8t,cae)=>{"use strict";m();g();var bUe=hr(),kg=yr().Buffer,aae=y0(),xUe=kg.alloc(128),Ob=64;function e8(t,e){aae.call(this,"digest"),typeof e=="string"&&(e=kg.from(e)),this._alg=t,this._key=e,e.length>Ob?e=t(e):e.length<Ob&&(e=kg.concat([e,xUe],Ob));for(var r=this._ipad=kg.allocUnsafe(Ob),n=this._opad=kg.allocUnsafe(Ob),i=0;i<Ob;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}o(e8,"Hmac");bUe(e8,aae);e8.prototype._update=function(t){this._hash.push(t)};e8.prototype._final=function(){var t=this._alg(kg.concat(this._hash));return this._alg(kg.concat([this._opad,t]))};cae.exports=e8});var lae=V((E8t,uae)=>{m();g();var vUe=O4();uae.exports=function(t){return new vUe().update(t).digest()}});var hP=V((T8t,hae)=>{"use strict";m();g();var _Ue=hr(),wUe=fae(),dae=y0(),$_=yr().Buffer,SUe=lae(),lP=DB(),dP=J4(),EUe=$_.alloc(128);function W_(t,e){dae.call(this,"digest"),typeof e=="string"&&(e=$_.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new lP:dP(t);e=n.update(e).digest()}else e.length<r&&(e=$_.concat([e,EUe],r));for(var i=this._ipad=$_.allocUnsafe(r),s=this._opad=$_.allocUnsafe(r),a=0;a<r;a++)i[a]=e[a]^54,s[a]=e[a]^92;this._hash=t==="rmd160"?new lP:dP(t),this._hash.update(i)}o(W_,"Hmac");_Ue(W_,dae);W_.prototype._update=function(t){this._hash.update(t)};W_.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new lP:dP(this._alg);return e.update(this._opad).update(t).digest()};hae.exports=o(function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new W_("rmd160",r):e==="md5"?new wUe(SUe,r):new W_(e,r)},"createHmac")});var pP=V((M8t,AUe)=>{AUe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var mae=V((C8t,pae)=>{"use strict";m();g();pae.exports=pP()});var mP=V((P8t,gae)=>{"use strict";m();g();var IUe=Math.pow(2,30)-1;gae.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>IUe||e!==e)throw new TypeError("Bad key length")}});var gP=V((U8t,bae)=>{"use strict";m();g();var t8;self.process&&self.process.browser?t8="utf-8":self.process&&self.process.version?(yae=parseInt(process.version.split(".")[0].slice(1),10),t8=yae>=6?"utf-8":"binary"):t8="utf-8";var yae;bae.exports=t8});var _ae=V((q8t,vae)=>{"use strict";m();g();var Y_=4,xae=new Buffer(Y_);xae.fill(0);var TUe=8,RUe=16;function OUe(t){if(t.length%Y_!==0){var e=t.length+(Y_-t.length%Y_);t=Buffer.concat([t,xae],e)}for(var r=new Array(t.length>>>2),n=0,i=0;n<t.length;n+=Y_,i++)r[i]=t.readInt32LE(n);return r}o(OUe,"toArray");vae.exports=o(function(e,r){var n=r(OUe(e),e.length*TUe);e=new Buffer(RUe);for(var i=0;i<n.length;i++)e.writeInt32LE(n[i],i<<2,!0);return e},"hash")});var Sae=V((z8t,wae)=>{"use strict";m();g();var NUe=_ae();function MUe(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,a=0;a<t.length;a+=16){var f=r,l=n,h=i,b=s;r=Ys(r,n,i,s,t[a+0],7,-680876936),s=Ys(s,r,n,i,t[a+1],12,-389564586),i=Ys(i,s,r,n,t[a+2],17,606105819),n=Ys(n,i,s,r,t[a+3],22,-1044525330),r=Ys(r,n,i,s,t[a+4],7,-176418897),s=Ys(s,r,n,i,t[a+5],12,1200080426),i=Ys(i,s,r,n,t[a+6],17,-1473231341),n=Ys(n,i,s,r,t[a+7],22,-45705983),r=Ys(r,n,i,s,t[a+8],7,1770035416),s=Ys(s,r,n,i,t[a+9],12,-1958414417),i=Ys(i,s,r,n,t[a+10],17,-42063),n=Ys(n,i,s,r,t[a+11],22,-1990404162),r=Ys(r,n,i,s,t[a+12],7,1804603682),s=Ys(s,r,n,i,t[a+13],12,-40341101),i=Ys(i,s,r,n,t[a+14],17,-1502002290),n=Ys(n,i,s,r,t[a+15],22,1236535329),r=Xs(r,n,i,s,t[a+1],5,-165796510),s=Xs(s,r,n,i,t[a+6],9,-1069501632),i=Xs(i,s,r,n,t[a+11],14,643717713),n=Xs(n,i,s,r,t[a+0],20,-373897302),r=Xs(r,n,i,s,t[a+5],5,-701558691),s=Xs(s,r,n,i,t[a+10],9,38016083),i=Xs(i,s,r,n,t[a+15],14,-660478335),n=Xs(n,i,s,r,t[a+4],20,-405537848),r=Xs(r,n,i,s,t[a+9],5,568446438),s=Xs(s,r,n,i,t[a+14],9,-1019803690),i=Xs(i,s,r,n,t[a+3],14,-187363961),n=Xs(n,i,s,r,t[a+8],20,1163531501),r=Xs(r,n,i,s,t[a+13],5,-1444681467),s=Xs(s,r,n,i,t[a+2],9,-51403784),i=Xs(i,s,r,n,t[a+7],14,1735328473),n=Xs(n,i,s,r,t[a+12],20,-1926607734),r=Zs(r,n,i,s,t[a+5],4,-378558),s=Zs(s,r,n,i,t[a+8],11,-2022574463),i=Zs(i,s,r,n,t[a+11],16,1839030562),n=Zs(n,i,s,r,t[a+14],23,-35309556),r=Zs(r,n,i,s,t[a+1],4,-1530992060),s=Zs(s,r,n,i,t[a+4],11,1272893353),i=Zs(i,s,r,n,t[a+7],16,-155497632),n=Zs(n,i,s,r,t[a+10],23,-1094730640),r=Zs(r,n,i,s,t[a+13],4,681279174),s=Zs(s,r,n,i,t[a+0],11,-358537222),i=Zs(i,s,r,n,t[a+3],16,-722521979),n=Zs(n,i,s,r,t[a+6],23,76029189),r=Zs(r,n,i,s,t[a+9],4,-640364487),s=Zs(s,r,n,i,t[a+12],11,-421815835),i=Zs(i,s,r,n,t[a+15],16,530742520),n=Zs(n,i,s,r,t[a+2],23,-995338651),r=Js(r,n,i,s,t[a+0],6,-198630844),s=Js(s,r,n,i,t[a+7],10,1126891415),i=Js(i,s,r,n,t[a+14],15,-1416354905),n=Js(n,i,s,r,t[a+5],21,-57434055),r=Js(r,n,i,s,t[a+12],6,1700485571),s=Js(s,r,n,i,t[a+3],10,-1894986606),i=Js(i,s,r,n,t[a+10],15,-1051523),n=Js(n,i,s,r,t[a+1],21,-2054922799),r=Js(r,n,i,s,t[a+8],6,1873313359),s=Js(s,r,n,i,t[a+15],10,-30611744),i=Js(i,s,r,n,t[a+6],15,-1560198380),n=Js(n,i,s,r,t[a+13],21,1309151649),r=Js(r,n,i,s,t[a+4],6,-145523070),s=Js(s,r,n,i,t[a+11],10,-1120210379),i=Js(i,s,r,n,t[a+2],15,718787259),n=Js(n,i,s,r,t[a+9],21,-343485551),r=ep(r,f),n=ep(n,l),i=ep(i,h),s=ep(s,b)}return[r,n,i,s]}o(MUe,"core_md5");function r8(t,e,r,n,i,s){return ep(CUe(ep(ep(e,t),ep(n,s)),i),r)}o(r8,"md5_cmn");function Ys(t,e,r,n,i,s,a){return r8(e&r|~e&n,t,e,i,s,a)}o(Ys,"md5_ff");function Xs(t,e,r,n,i,s,a){return r8(e&n|r&~n,t,e,i,s,a)}o(Xs,"md5_gg");function Zs(t,e,r,n,i,s,a){return r8(e^r^n,t,e,i,s,a)}o(Zs,"md5_hh");function Js(t,e,r,n,i,s,a){return r8(r^(e|~n),t,e,i,s,a)}o(Js,"md5_ii");function ep(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}o(ep,"safe_add");function CUe(t,e){return t<<e|t>>>32-e}o(CUe,"bit_rol");wae.exports=o(function(e){return NUe(e,MUe)},"md5")});var Iae=V((Y8t,Aae)=>{"use strict";m();g();var Eae=uP().Transform,kUe=hr();function tp(t){Eae.call(this),this._block=new Buffer(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(tp,"HashBase");kUe(tp,Eae);tp.prototype._transform=function(t,e,r){var n=null;try{e!=="buffer"&&(t=new Buffer(t,e)),this.update(t)}catch(i){n=i}r(n)};tp.prototype._flush=function(t){var e=null;try{this.push(this._digest())}catch(r){e=r}t(e)};tp.prototype.update=function(t,e){if(!Buffer.isBuffer(t)&&typeof t!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer.isBuffer(t)||(t=new Buffer(t,e||"binary"));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};tp.prototype._update=function(t){throw new Error("_update is not implemented")};tp.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return t!==void 0&&(e=e.toString(t)),e};tp.prototype._digest=function(){throw new Error("_digest is not implemented")};Aae.exports=tp});var Oae=V((Q8t,Rae)=>{"use strict";m();g();var BUe=hr(),Tae=Iae();function n8(){Tae.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(n8,"RIPEMD160");BUe(n8,Tae);n8.prototype._update=function(){for(var t=new Array(16),e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d,a=this._e;r=sn(r,n,i,s,a,t[0],0,11),i=be(i,10),a=sn(a,r,n,i,s,t[1],0,14),n=be(n,10),s=sn(s,a,r,n,i,t[2],0,15),r=be(r,10),i=sn(i,s,a,r,n,t[3],0,12),a=be(a,10),n=sn(n,i,s,a,r,t[4],0,5),s=be(s,10),r=sn(r,n,i,s,a,t[5],0,8),i=be(i,10),a=sn(a,r,n,i,s,t[6],0,7),n=be(n,10),s=sn(s,a,r,n,i,t[7],0,9),r=be(r,10),i=sn(i,s,a,r,n,t[8],0,11),a=be(a,10),n=sn(n,i,s,a,r,t[9],0,13),s=be(s,10),r=sn(r,n,i,s,a,t[10],0,14),i=be(i,10),a=sn(a,r,n,i,s,t[11],0,15),n=be(n,10),s=sn(s,a,r,n,i,t[12],0,6),r=be(r,10),i=sn(i,s,a,r,n,t[13],0,7),a=be(a,10),n=sn(n,i,s,a,r,t[14],0,9),s=be(s,10),r=sn(r,n,i,s,a,t[15],0,8),i=be(i,10),a=an(a,r,n,i,s,t[7],1518500249,7),n=be(n,10),s=an(s,a,r,n,i,t[4],1518500249,6),r=be(r,10),i=an(i,s,a,r,n,t[13],1518500249,8),a=be(a,10),n=an(n,i,s,a,r,t[1],1518500249,13),s=be(s,10),r=an(r,n,i,s,a,t[10],1518500249,11),i=be(i,10),a=an(a,r,n,i,s,t[6],1518500249,9),n=be(n,10),s=an(s,a,r,n,i,t[15],1518500249,7),r=be(r,10),i=an(i,s,a,r,n,t[3],1518500249,15),a=be(a,10),n=an(n,i,s,a,r,t[12],1518500249,7),s=be(s,10),r=an(r,n,i,s,a,t[0],1518500249,12),i=be(i,10),a=an(a,r,n,i,s,t[9],1518500249,15),n=be(n,10),s=an(s,a,r,n,i,t[5],1518500249,9),r=be(r,10),i=an(i,s,a,r,n,t[2],1518500249,11),a=be(a,10),n=an(n,i,s,a,r,t[14],1518500249,7),s=be(s,10),r=an(r,n,i,s,a,t[11],1518500249,13),i=be(i,10),a=an(a,r,n,i,s,t[8],1518500249,12),n=be(n,10),s=cn(s,a,r,n,i,t[3],1859775393,11),r=be(r,10),i=cn(i,s,a,r,n,t[10],1859775393,13),a=be(a,10),n=cn(n,i,s,a,r,t[14],1859775393,6),s=be(s,10),r=cn(r,n,i,s,a,t[4],1859775393,7),i=be(i,10),a=cn(a,r,n,i,s,t[9],1859775393,14),n=be(n,10),s=cn(s,a,r,n,i,t[15],1859775393,9),r=be(r,10),i=cn(i,s,a,r,n,t[8],1859775393,13),a=be(a,10),n=cn(n,i,s,a,r,t[1],1859775393,15),s=be(s,10),r=cn(r,n,i,s,a,t[2],1859775393,14),i=be(i,10),a=cn(a,r,n,i,s,t[7],1859775393,8),n=be(n,10),s=cn(s,a,r,n,i,t[0],1859775393,13),r=be(r,10),i=cn(i,s,a,r,n,t[6],1859775393,6),a=be(a,10),n=cn(n,i,s,a,r,t[13],1859775393,5),s=be(s,10),r=cn(r,n,i,s,a,t[11],1859775393,12),i=be(i,10),a=cn(a,r,n,i,s,t[5],1859775393,7),n=be(n,10),s=cn(s,a,r,n,i,t[12],1859775393,5),r=be(r,10),i=fn(i,s,a,r,n,t[1],2400959708,11),a=be(a,10),n=fn(n,i,s,a,r,t[9],2400959708,12),s=be(s,10),r=fn(r,n,i,s,a,t[11],2400959708,14),i=be(i,10),a=fn(a,r,n,i,s,t[10],2400959708,15),n=be(n,10),s=fn(s,a,r,n,i,t[0],2400959708,14),r=be(r,10),i=fn(i,s,a,r,n,t[8],2400959708,15),a=be(a,10),n=fn(n,i,s,a,r,t[12],2400959708,9),s=be(s,10),r=fn(r,n,i,s,a,t[4],2400959708,8),i=be(i,10),a=fn(a,r,n,i,s,t[13],2400959708,9),n=be(n,10),s=fn(s,a,r,n,i,t[3],2400959708,14),r=be(r,10),i=fn(i,s,a,r,n,t[7],2400959708,5),a=be(a,10),n=fn(n,i,s,a,r,t[15],2400959708,6),s=be(s,10),r=fn(r,n,i,s,a,t[14],2400959708,8),i=be(i,10),a=fn(a,r,n,i,s,t[5],2400959708,6),n=be(n,10),s=fn(s,a,r,n,i,t[6],2400959708,5),r=be(r,10),i=fn(i,s,a,r,n,t[2],2400959708,12),a=be(a,10),n=un(n,i,s,a,r,t[4],2840853838,9),s=be(s,10),r=un(r,n,i,s,a,t[0],2840853838,15),i=be(i,10),a=un(a,r,n,i,s,t[5],2840853838,5),n=be(n,10),s=un(s,a,r,n,i,t[9],2840853838,11),r=be(r,10),i=un(i,s,a,r,n,t[7],2840853838,6),a=be(a,10),n=un(n,i,s,a,r,t[12],2840853838,8),s=be(s,10),r=un(r,n,i,s,a,t[2],2840853838,13),i=be(i,10),a=un(a,r,n,i,s,t[10],2840853838,12),n=be(n,10),s=un(s,a,r,n,i,t[14],2840853838,5),r=be(r,10),i=un(i,s,a,r,n,t[1],2840853838,12),a=be(a,10),n=un(n,i,s,a,r,t[3],2840853838,13),s=be(s,10),r=un(r,n,i,s,a,t[8],2840853838,14),i=be(i,10),a=un(a,r,n,i,s,t[11],2840853838,11),n=be(n,10),s=un(s,a,r,n,i,t[6],2840853838,8),r=be(r,10),i=un(i,s,a,r,n,t[15],2840853838,5),a=be(a,10),n=un(n,i,s,a,r,t[13],2840853838,6),s=be(s,10);var f=this._a,l=this._b,h=this._c,b=this._d,y=this._e;f=un(f,l,h,b,y,t[5],1352829926,8),h=be(h,10),y=un(y,f,l,h,b,t[14],1352829926,9),l=be(l,10),b=un(b,y,f,l,h,t[7],1352829926,9),f=be(f,10),h=un(h,b,y,f,l,t[0],1352829926,11),y=be(y,10),l=un(l,h,b,y,f,t[9],1352829926,13),b=be(b,10),f=un(f,l,h,b,y,t[2],1352829926,15),h=be(h,10),y=un(y,f,l,h,b,t[11],1352829926,15),l=be(l,10),b=un(b,y,f,l,h,t[4],1352829926,5),f=be(f,10),h=un(h,b,y,f,l,t[13],1352829926,7),y=be(y,10),l=un(l,h,b,y,f,t[6],1352829926,7),b=be(b,10),f=un(f,l,h,b,y,t[15],1352829926,8),h=be(h,10),y=un(y,f,l,h,b,t[8],1352829926,11),l=be(l,10),b=un(b,y,f,l,h,t[1],1352829926,14),f=be(f,10),h=un(h,b,y,f,l,t[10],1352829926,14),y=be(y,10),l=un(l,h,b,y,f,t[3],1352829926,12),b=be(b,10),f=un(f,l,h,b,y,t[12],1352829926,6),h=be(h,10),y=fn(y,f,l,h,b,t[6],1548603684,9),l=be(l,10),b=fn(b,y,f,l,h,t[11],1548603684,13),f=be(f,10),h=fn(h,b,y,f,l,t[3],1548603684,15),y=be(y,10),l=fn(l,h,b,y,f,t[7],1548603684,7),b=be(b,10),f=fn(f,l,h,b,y,t[0],1548603684,12),h=be(h,10),y=fn(y,f,l,h,b,t[13],1548603684,8),l=be(l,10),b=fn(b,y,f,l,h,t[5],1548603684,9),f=be(f,10),h=fn(h,b,y,f,l,t[10],1548603684,11),y=be(y,10),l=fn(l,h,b,y,f,t[14],1548603684,7),b=be(b,10),f=fn(f,l,h,b,y,t[15],1548603684,7),h=be(h,10),y=fn(y,f,l,h,b,t[8],1548603684,12),l=be(l,10),b=fn(b,y,f,l,h,t[12],1548603684,7),f=be(f,10),h=fn(h,b,y,f,l,t[4],1548603684,6),y=be(y,10),l=fn(l,h,b,y,f,t[9],1548603684,15),b=be(b,10),f=fn(f,l,h,b,y,t[1],1548603684,13),h=be(h,10),y=fn(y,f,l,h,b,t[2],1548603684,11),l=be(l,10),b=cn(b,y,f,l,h,t[15],1836072691,9),f=be(f,10),h=cn(h,b,y,f,l,t[5],1836072691,7),y=be(y,10),l=cn(l,h,b,y,f,t[1],1836072691,15),b=be(b,10),f=cn(f,l,h,b,y,t[3],1836072691,11),h=be(h,10),y=cn(y,f,l,h,b,t[7],1836072691,8),l=be(l,10),b=cn(b,y,f,l,h,t[14],1836072691,6),f=be(f,10),h=cn(h,b,y,f,l,t[6],1836072691,6),y=be(y,10),l=cn(l,h,b,y,f,t[9],1836072691,14),b=be(b,10),f=cn(f,l,h,b,y,t[11],1836072691,12),h=be(h,10),y=cn(y,f,l,h,b,t[8],1836072691,13),l=be(l,10),b=cn(b,y,f,l,h,t[12],1836072691,5),f=be(f,10),h=cn(h,b,y,f,l,t[2],1836072691,14),y=be(y,10),l=cn(l,h,b,y,f,t[10],1836072691,13),b=be(b,10),f=cn(f,l,h,b,y,t[0],1836072691,13),h=be(h,10),y=cn(y,f,l,h,b,t[4],1836072691,7),l=be(l,10),b=cn(b,y,f,l,h,t[13],1836072691,5),f=be(f,10),h=an(h,b,y,f,l,t[8],2053994217,15),y=be(y,10),l=an(l,h,b,y,f,t[6],2053994217,5),b=be(b,10),f=an(f,l,h,b,y,t[4],2053994217,8),h=be(h,10),y=an(y,f,l,h,b,t[1],2053994217,11),l=be(l,10),b=an(b,y,f,l,h,t[3],2053994217,14),f=be(f,10),h=an(h,b,y,f,l,t[11],2053994217,14),y=be(y,10),l=an(l,h,b,y,f,t[15],2053994217,6),b=be(b,10),f=an(f,l,h,b,y,t[0],2053994217,14),h=be(h,10),y=an(y,f,l,h,b,t[5],2053994217,6),l=be(l,10),b=an(b,y,f,l,h,t[12],2053994217,9),f=be(f,10),h=an(h,b,y,f,l,t[2],2053994217,12),y=be(y,10),l=an(l,h,b,y,f,t[13],2053994217,9),b=be(b,10),f=an(f,l,h,b,y,t[9],2053994217,12),h=be(h,10),y=an(y,f,l,h,b,t[7],2053994217,5),l=be(l,10),b=an(b,y,f,l,h,t[10],2053994217,15),f=be(f,10),h=an(h,b,y,f,l,t[14],2053994217,8),y=be(y,10),l=sn(l,h,b,y,f,t[12],0,8),b=be(b,10),f=sn(f,l,h,b,y,t[15],0,5),h=be(h,10),y=sn(y,f,l,h,b,t[10],0,12),l=be(l,10),b=sn(b,y,f,l,h,t[4],0,9),f=be(f,10),h=sn(h,b,y,f,l,t[1],0,12),y=be(y,10),l=sn(l,h,b,y,f,t[5],0,5),b=be(b,10),f=sn(f,l,h,b,y,t[8],0,14),h=be(h,10),y=sn(y,f,l,h,b,t[7],0,6),l=be(l,10),b=sn(b,y,f,l,h,t[6],0,8),f=be(f,10),h=sn(h,b,y,f,l,t[2],0,13),y=be(y,10),l=sn(l,h,b,y,f,t[13],0,6),b=be(b,10),f=sn(f,l,h,b,y,t[14],0,5),h=be(h,10),y=sn(y,f,l,h,b,t[0],0,15),l=be(l,10),b=sn(b,y,f,l,h,t[3],0,13),f=be(f,10),h=sn(h,b,y,f,l,t[9],0,11),y=be(y,10),l=sn(l,h,b,y,f,t[11],0,11),b=be(b,10);var E=this._b+i+b|0;this._b=this._c+s+y|0,this._c=this._d+a+f|0,this._d=this._e+r+l|0,this._e=this._a+n+h|0,this._a=E};n8.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new Buffer(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function be(t,e){return t<<e|t>>>32-e}o(be,"rotl");function sn(t,e,r,n,i,s,a,f){return be(t+(e^r^n)+s+a|0,f)+i|0}o(sn,"fn1");function an(t,e,r,n,i,s,a,f){return be(t+(e&r|~e&n)+s+a|0,f)+i|0}o(an,"fn2");function cn(t,e,r,n,i,s,a,f){return be(t+((e|~r)^n)+s+a|0,f)+i|0}o(cn,"fn3");function fn(t,e,r,n,i,s,a,f){return be(t+(e&n|r&~n)+s+a|0,f)+i|0}o(fn,"fn4");function un(t,e,r,n,i,s,a,f){return be(t+(e^(r|~n))+s+a|0,f)+i|0}o(un,"fn5");Rae.exports=n8});var yP=V((n5t,Cae)=>{"use strict";m();g();var PUe=yr().Buffer,LUe=W4(),Mae=typeof Uint8Array<"u",DUe=Mae&&typeof ArrayBuffer<"u",Nae=DUe&&ArrayBuffer.isView;Cae.exports=function(t,e,r){if(typeof t=="string"||PUe.isBuffer(t)||Mae&&t instanceof Uint8Array||Nae&&Nae(t))return LUe(t,e);throw new TypeError(r+" must be a string, a Buffer, a Uint8Array, or a DataView")}});var bP=V((s5t,Lae)=>{"use strict";m();g();var UUe=Sae(),HUe=Oae(),FUe=J4(),Bg=yr().Buffer,qUe=mP(),kae=gP(),Bae=yP(),VUe=Bg.alloc(128),i8={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},jUe={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function KUe(t){return new HUe().update(t).digest()}o(KUe,"rmd160Func");function zUe(t){function e(r){return FUe(t).update(r).digest()}return o(e,"shaFunc"),t==="rmd160"||t==="ripemd160"?KUe:t==="md5"?UUe:e}o(zUe,"getDigest");function Pae(t,e,r){var n=zUe(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Bg.concat([e,VUe],i));for(var s=Bg.allocUnsafe(i+i8[t]),a=Bg.allocUnsafe(i+i8[t]),f=0;f<i;f++)s[f]=e[f]^54,a[f]=e[f]^92;var l=Bg.allocUnsafe(i+r+4);s.copy(l,0,0,i),this.ipad1=l,this.ipad2=s,this.opad=a,this.alg=t,this.blocksize=i,this.hash=n,this.size=i8[t]}o(Pae,"Hmac");Pae.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function GUe(t,e,r,n,i){qUe(r,n),t=Bae(t,kae,"Password"),e=Bae(e,kae,"Salt");var s=(i||"sha1").toLowerCase(),a=jUe[s]||s,f=i8[a];if(typeof f!="number"||!f)throw new TypeError("Digest algorithm not supported: "+i);var l=new Pae(a,t,e.length),h=Bg.allocUnsafe(n),b=Bg.allocUnsafe(e.length+4);e.copy(b,0,0,e.length);for(var y=0,E=f,I=Math.ceil(n/E),O=1;O<=I;O++){b.writeUInt32BE(O,e.length);for(var N=l.run(b,l.ipad1),k=N,C=1;C<r;C++){k=l.run(k,l.ipad2);for(var L=0;L<E;L++)N[L]^=k[L]}N.copy(h,y),y+=E}return h}o(GUe,"pbkdf2");Lae.exports=GUe});var jae=V((u5t,Vae)=>{"use strict";m();g();var Fae=yr().Buffer,$Ue=mP(),Dae=gP(),Uae=bP(),Hae=yP(),o8,X_=self.crypto&&self.crypto.subtle,WUe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},xP=[],Pg;function vP(){return Pg||(self.process&&self.process.nextTick?Pg=self.process.nextTick:self.queueMicrotask?Pg=self.queueMicrotask:self.setImmediate?Pg=self.setImmediate:Pg=self.setTimeout,Pg)}o(vP,"getNextTick");function qae(t,e,r,n,i){return X_.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return X_.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return Fae.from(s)})}o(qae,"browserPbkdf2");function YUe(t){if(self.process&&!self.process.browser||!X_||!X_.importKey||!X_.deriveBits)return Promise.resolve(!1);if(xP[t]!==void 0)return xP[t];o8=o8||Fae.alloc(8);var e=qae(o8,o8,10,128,t).then(function(){return!0},function(){return!1});return xP[t]=e,e}o(YUe,"checkNative");function XUe(t,e){t.then(function(r){vP()(function(){e(null,r)})},function(r){vP()(function(){e(r)})})}o(XUe,"resolvePromise");Vae.exports=function(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var a=WUe[i.toLowerCase()];if(!a||typeof self.Promise!="function"){vP()(function(){var f;try{f=Uae(t,e,r,n,i)}catch(l){s(l);return}s(null,f)});return}if($Ue(r,n),t=Hae(t,Dae,"Password"),e=Hae(e,Dae,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");XUe(YUe(a).then(function(f){return f?qae(t,e,r,n,a):Uae(t,e,r,n,i)}),s)}});var s8=V(_P=>{"use strict";m();g();_P.pbkdf2=jae();_P.pbkdf2Sync=bP()});var wP=V(wf=>{"use strict";m();g();wf.readUInt32BE=o(function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0},"readUInt32BE");wf.writeUInt32BE=o(function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255},"writeUInt32BE");wf.ip=o(function(e,r,n,i){for(var s=0,a=0,f=6;f>=0;f-=2){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>>l+f&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>>l+f&1}for(var f=6;f>=0;f-=2){for(var l=1;l<=25;l+=8)a<<=1,a|=r>>>l+f&1;for(var l=1;l<=25;l+=8)a<<=1,a|=e>>>l+f&1}n[i+0]=s>>>0,n[i+1]=a>>>0},"ip");wf.rip=o(function(e,r,n,i){for(var s=0,a=0,f=0;f<4;f++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+f&1,s<<=1,s|=e>>>l+f&1;for(var f=4;f<8;f++)for(var l=24;l>=0;l-=8)a<<=1,a|=r>>>l+f&1,a<<=1,a|=e>>>l+f&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"rip");wf.pc1=o(function(e,r,n,i){for(var s=0,a=0,f=7;f>=5;f--){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+f&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+f&1}for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+f&1;for(var f=1;f<=3;f++){for(var l=0;l<=24;l+=8)a<<=1,a|=r>>l+f&1;for(var l=0;l<=24;l+=8)a<<=1,a|=e>>l+f&1}for(var l=0;l<=24;l+=8)a<<=1,a|=e>>l+f&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"pc1");wf.r28shl=o(function(e,r){return e<<r&268435455|e>>>28-r},"r28shl");var a8=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];wf.pc2=o(function(e,r,n,i){for(var s=0,a=0,f=a8.length>>>1,l=0;l<f;l++)s<<=1,s|=e>>>a8[l]&1;for(var l=f;l<a8.length;l++)a<<=1,a|=r>>>a8[l]&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"pc2");wf.expand=o(function(e,r,n){var i=0,s=0;i=(e&1)<<5|e>>>27;for(var a=23;a>=15;a-=4)i<<=6,i|=e>>>a&63;for(var a=11;a>=3;a-=4)s|=e>>>a&63,s<<=6;s|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0},"expand");var Kae=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];wf.substitute=o(function(e,r){for(var n=0,i=0;i<4;i++){var s=e>>>18-i*6&63,a=Kae[i*64+s];n<<=4,n|=a}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,a=Kae[4*64+i*64+s];n<<=4,n|=a}return n>>>0},"substitute");var zae=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];wf.permute=o(function(e){for(var r=0,n=0;n<zae.length;n++)r<<=1,r|=e>>>zae[n]&1;return r>>>0},"permute");wf.padSplit=o(function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var s=[],a=0;a<r;a+=n)s.push(i.slice(a,a+n));return s.join(" ")},"padSplit")});var jc=V((_5t,$ae)=>{m();g();$ae.exports=Gae;function Gae(t,e){if(!t)throw new Error(e||"Assertion failed")}o(Gae,"assert");Gae.equal=o(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual")});var c8=V((A5t,Wae)=>{"use strict";m();g();var ZUe=jc();function Sf(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}o(Sf,"Cipher");Wae.exports=Sf;Sf.prototype._init=o(function(){},"_init");Sf.prototype.update=o(function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)},"update");Sf.prototype._buffer=o(function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n},"_buffer");Sf.prototype._flushBuffer=o(function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize},"_flushBuffer");Sf.prototype._updateEncrypt=o(function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var a=e.length-(e.length-r)%this.blockSize;r<a;r+=this.blockSize)this._update(e,r,s,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s},"_updateEncrypt");Sf.prototype._updateDecrypt=o(function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(s,n);return r+=this._buffer(e,r),s},"_updateDecrypt");Sf.prototype.final=o(function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n},"final");Sf.prototype._pad=o(function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0},"_pad");Sf.prototype._finalEncrypt=o(function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},"_finalEncrypt");Sf.prototype._unpad=o(function(e){return e},"_unpad");Sf.prototype._finalDecrypt=o(function(){ZUe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)},"_finalDecrypt")});var SP=V((O5t,Zae)=>{"use strict";m();g();var Yae=jc(),JUe=hr(),So=wP(),Xae=c8();function QUe(){this.tmp=new Array(2),this.keys=null}o(QUe,"DESState");function jl(t){Xae.call(this,t);var e=new QUe;this._desState=e,this.deriveKeys(e,t.key)}o(jl,"DES");JUe(jl,Xae);Zae.exports=jl;jl.create=o(function(e){return new jl(e)},"create");var eHe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];jl.prototype.deriveKeys=o(function(e,r){e.keys=new Array(16*2),Yae.equal(r.length,this.blockSize,"Invalid key length");var n=So.readUInt32BE(r,0),i=So.readUInt32BE(r,4);So.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=eHe[s>>>1];n=So.r28shl(n,a),i=So.r28shl(i,a),So.pc2(n,i,e.keys,s)}},"deriveKeys");jl.prototype._update=o(function(e,r,n,i){var s=this._desState,a=So.readUInt32BE(e,r),f=So.readUInt32BE(e,r+4);So.ip(a,f,s.tmp,0),a=s.tmp[0],f=s.tmp[1],this.type==="encrypt"?this._encrypt(s,a,f,s.tmp,0):this._decrypt(s,a,f,s.tmp,0),a=s.tmp[0],f=s.tmp[1],So.writeUInt32BE(n,a,i),So.writeUInt32BE(n,f,i+4)},"_update");jl.prototype._pad=o(function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0},"_pad");jl.prototype._unpad=o(function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)Yae.equal(e[n],r);return e.slice(0,e.length-r)},"_unpad");jl.prototype._encrypt=o(function(e,r,n,i,s){for(var a=r,f=n,l=0;l<e.keys.length;l+=2){var h=e.keys[l],b=e.keys[l+1];So.expand(f,e.tmp,0),h^=e.tmp[0],b^=e.tmp[1];var y=So.substitute(h,b),E=So.permute(y),I=f;f=(a^E)>>>0,a=I}So.rip(f,a,i,s)},"_encrypt");jl.prototype._decrypt=o(function(e,r,n,i,s){for(var a=n,f=r,l=e.keys.length-2;l>=0;l-=2){var h=e.keys[l],b=e.keys[l+1];So.expand(a,e.tmp,0),h^=e.tmp[0],b^=e.tmp[1];var y=So.substitute(h,b),E=So.permute(y),I=a;a=(f^E)>>>0,f=I}So.rip(a,f,i,s)},"_decrypt")});var Qae=V(Jae=>{"use strict";m();g();var tHe=jc(),rHe=hr(),f8={};function nHe(t){tHe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}o(nHe,"CBCState");function iHe(t){function e(s){t.call(this,s),this._cbcInit()}o(e,"CBC"),rHe(e,t);for(var r=Object.keys(f8),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=f8[i]}return e.create=o(function(a){return new e(a)},"create"),e}o(iHe,"instantiate");Jae.instantiate=iHe;f8._cbcInit=o(function(){var e=new nHe(this.options.iv);this._cbcState=e},"_cbcInit");f8._update=o(function(e,r,n,i){var s=this._cbcState,a=this.constructor.super_.prototype,f=s.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)f[l]^=e[r+l];a._update.call(this,f,0,n,i);for(var l=0;l<this.blockSize;l++)f[l]=n[i+l]}else{a._update.call(this,e,r,n,i);for(var l=0;l<this.blockSize;l++)n[i+l]^=f[l];for(var l=0;l<this.blockSize;l++)f[l]=e[r+l]}},"_update")});var rce=V((D5t,tce)=>{"use strict";m();g();var oHe=jc(),sHe=hr(),ece=c8(),rp=SP();function aHe(t,e){oHe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[rp.create({type:"encrypt",key:r}),rp.create({type:"decrypt",key:n}),rp.create({type:"encrypt",key:i})]:this.ciphers=[rp.create({type:"decrypt",key:i}),rp.create({type:"encrypt",key:n}),rp.create({type:"decrypt",key:r})]}o(aHe,"EDEState");function Lg(t){ece.call(this,t);var e=new aHe(this.type,this.options.key);this._edeState=e}o(Lg,"EDE");sHe(Lg,ece);tce.exports=Lg;Lg.create=o(function(e){return new Lg(e)},"create");Lg.prototype._update=o(function(e,r,n,i){var s=this._edeState;s.ciphers[0]._update(e,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)},"_update");Lg.prototype._pad=rp.prototype._pad;Lg.prototype._unpad=rp.prototype._unpad});var nce=V(Nb=>{"use strict";m();g();Nb.utils=wP();Nb.Cipher=c8();Nb.DES=SP();Nb.CBC=Qae();Nb.EDE=rce()});var sce=V((K5t,oce)=>{m();g();var ice=y0(),b0=nce(),cHe=hr(),Dg=yr().Buffer,Z_={"des-ede3-cbc":b0.CBC.instantiate(b0.EDE),"des-ede3":b0.EDE,"des-ede-cbc":b0.CBC.instantiate(b0.EDE),"des-ede":b0.EDE,"des-cbc":b0.CBC.instantiate(b0.DES),"des-ecb":b0.DES};Z_.des=Z_["des-cbc"];Z_.des3=Z_["des-ede3-cbc"];oce.exports=u8;cHe(u8,ice);function u8(t){ice.call(this);var e=t.mode.toLowerCase(),r=Z_[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;Dg.isBuffer(i)||(i=Dg.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=Dg.concat([i,i.slice(0,8)]));var s=t.iv;Dg.isBuffer(s)||(s=Dg.from(s)),this._des=r.create({key:i,iv:s,type:n})}o(u8,"DES");u8.prototype._update=function(t){return Dg.from(this._des.update(t))};u8.prototype._final=function(){return Dg.from(this._des.final())}});var ace=V(EP=>{m();g();EP.encrypt=function(t,e){return t._cipher.encryptBlock(e)};EP.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Mb=V((Z5t,cce)=>{m();g();cce.exports=o(function(e,r){for(var n=Math.min(e.length,r.length),i=new Buffer(n),s=0;s<n;++s)i[s]=e[s]^r[s];return i},"xor")});var uce=V(AP=>{m();g();var fce=Mb();AP.encrypt=function(t,e){var r=fce(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};AP.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return fce(n,r)}});var hce=V(dce=>{m();g();var J_=yr().Buffer,fHe=Mb();function lce(t,e,r){var n=e.length,i=fHe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=J_.concat([t._prev,r?e:i]),i}o(lce,"encryptStart");dce.encrypt=function(t,e,r){for(var n=J_.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=J_.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=J_.concat([n,lce(t,e.slice(0,i),r)]),e=e.slice(i);else{n=J_.concat([n,lce(t,e,r)]);break}return n}});var mce=V(pce=>{m();g();var IP=yr().Buffer;function uHe(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=IP.concat([t._prev.slice(1),IP.from([r?e:i])]),i}o(uHe,"encryptByte");pce.encrypt=function(t,e,r){for(var n=e.length,i=IP.allocUnsafe(n),s=-1;++s<n;)i[s]=uHe(t,e[s],r);return i}});var yce=V(gce=>{m();g();var l8=yr().Buffer;function lHe(t,e,r){for(var n,i=-1,s=8,a=0,f,l;++i<s;)n=t._cipher.encryptBlock(t._prev),f=e&1<<7-i?128:0,l=n[0]^f,a+=(l&128)>>i%8,t._prev=dHe(t._prev,r?f:l);return a}o(lHe,"encryptByte");function dHe(t,e){var r=t.length,n=-1,i=l8.allocUnsafe(t.length);for(t=l8.concat([t,l8.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}o(dHe,"shiftIn");gce.encrypt=function(t,e,r){for(var n=e.length,i=l8.allocUnsafe(n),s=-1;++s<n;)i[s]=lHe(t,e[s],r);return i}});var xce=V(bce=>{m();g();var hHe=Mb();function pHe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}o(pHe,"getBlock");bce.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,pHe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),hHe(e,r)}});var TP=V((vIt,vce)=>{m();g();function mHe(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}o(mHe,"incr32");vce.exports=mHe});var OP=V(wce=>{m();g();var gHe=Mb(),_ce=yr().Buffer,yHe=TP();function bHe(t){var e=t._cipher.encryptBlockRaw(t._prev);return yHe(t._prev),e}o(bHe,"getBlock");var RP=16;wce.encrypt=function(t,e){var r=Math.ceil(e.length/RP),n=t._cache.length;t._cache=_ce.concat([t._cache,_ce.allocUnsafe(r*RP)]);for(var i=0;i<r;i++){var s=bHe(t),a=n+i*RP;t._cache.writeUInt32BE(s[0],a+0),t._cache.writeUInt32BE(s[1],a+4),t._cache.writeUInt32BE(s[2],a+8),t._cache.writeUInt32BE(s[3],a+12)}var f=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),gHe(e,f)}});var NP=V((RIt,xHe)=>{xHe.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var h8=V((OIt,Sce)=>{m();g();var vHe={ECB:ace(),CBC:uce(),CFB:hce(),CFB8:mce(),CFB1:yce(),OFB:xce(),CTR:OP(),GCM:OP()},d8=NP();for(MP in d8)d8[MP].module=vHe[d8[MP].mode];var MP;Sce.exports=d8});var Q_=V((CIt,Ace)=>{m();g();var p8=yr().Buffer;function kP(t){p8.isBuffer(t)||(t=p8.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}o(kP,"asUInt32Array");function CP(t){for(var e=0;e<t.length;t++)t[e]=0}o(CP,"scrubVec");function Ece(t,e,r,n,i){for(var s=r[0],a=r[1],f=r[2],l=r[3],h=t[0]^e[0],b=t[1]^e[1],y=t[2]^e[2],E=t[3]^e[3],I,O,N,k,C=4,L=1;L<i;L++)I=s[h>>>24]^a[b>>>16&255]^f[y>>>8&255]^l[E&255]^e[C++],O=s[b>>>24]^a[y>>>16&255]^f[E>>>8&255]^l[h&255]^e[C++],N=s[y>>>24]^a[E>>>16&255]^f[h>>>8&255]^l[b&255]^e[C++],k=s[E>>>24]^a[h>>>16&255]^f[b>>>8&255]^l[y&255]^e[C++],h=I,b=O,y=N,E=k;return I=(n[h>>>24]<<24|n[b>>>16&255]<<16|n[y>>>8&255]<<8|n[E&255])^e[C++],O=(n[b>>>24]<<24|n[y>>>16&255]<<16|n[E>>>8&255]<<8|n[h&255])^e[C++],N=(n[y>>>24]<<24|n[E>>>16&255]<<16|n[h>>>8&255]<<8|n[b&255])^e[C++],k=(n[E>>>24]<<24|n[h>>>16&255]<<16|n[b>>>8&255]<<8|n[y&255])^e[C++],I=I>>>0,O=O>>>0,N=N>>>0,k=k>>>0,[I,O,N,k]}o(Ece,"cryptBlock");var _He=[0,1,2,4,8,16,32,64,128,27,54],uo=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],a=0,f=0,l=0;l<256;++l){var h=f^f<<1^f<<2^f<<3^f<<4;h=h>>>8^h&255^99,r[a]=h,n[h]=a;var b=t[a],y=t[b],E=t[y],I=t[h]*257^h*16843008;i[0][a]=I<<24|I>>>8,i[1][a]=I<<16|I>>>16,i[2][a]=I<<8|I>>>24,i[3][a]=I,I=E*16843009^y*65537^b*257^a*16843008,s[0][h]=I<<24|I>>>8,s[1][h]=I<<16|I>>>16,s[2][h]=I<<8|I>>>24,s[3][h]=I,a===0?a=f=1:(a=b^t[t[t[E^b]]],f^=t[t[f]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function Ef(t){this._key=kP(t),this._reset()}o(Ef,"AES");Ef.blockSize=4*4;Ef.keySize=256/8;Ef.prototype.blockSize=Ef.blockSize;Ef.prototype.keySize=Ef.keySize;Ef.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var a=i[s-1];s%e===0?(a=a<<8|a>>>24,a=uo.SBOX[a>>>24]<<24|uo.SBOX[a>>>16&255]<<16|uo.SBOX[a>>>8&255]<<8|uo.SBOX[a&255],a^=_He[s/e|0]<<24):e>6&&s%e===4&&(a=uo.SBOX[a>>>24]<<24|uo.SBOX[a>>>16&255]<<16|uo.SBOX[a>>>8&255]<<8|uo.SBOX[a&255]),i[s]=i[s-e]^a}for(var f=[],l=0;l<n;l++){var h=n-l,b=i[h-(l%4?0:4)];l<4||h<=4?f[l]=b:f[l]=uo.INV_SUB_MIX[0][uo.SBOX[b>>>24]]^uo.INV_SUB_MIX[1][uo.SBOX[b>>>16&255]]^uo.INV_SUB_MIX[2][uo.SBOX[b>>>8&255]]^uo.INV_SUB_MIX[3][uo.SBOX[b&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=f};Ef.prototype.encryptBlockRaw=function(t){return t=kP(t),Ece(t,this._keySchedule,uo.SUB_MIX,uo.SBOX,this._nRounds)};Ef.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=p8.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Ef.prototype.decryptBlock=function(t){t=kP(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Ece(t,this._invKeySchedule,uo.INV_SUB_MIX,uo.INV_SBOX,this._nRounds),n=p8.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Ef.prototype.scrub=function(){CP(this._keySchedule),CP(this._invKeySchedule),CP(this._key)};Ace.exports.AES=Ef});var Rce=V((LIt,Tce)=>{m();g();var Cb=yr().Buffer,wHe=Cb.alloc(16,0);function SHe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}o(SHe,"toArray");function Ice(t){var e=Cb.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}o(Ice,"fromArray");function ew(t){this.h=t,this.state=Cb.alloc(16,0),this.cache=Cb.allocUnsafe(0)}o(ew,"GHASH");ew.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};ew.prototype._multiply=function(){for(var t=SHe(this.h),e=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=Ice(e)};ew.prototype.update=function(t){this.cache=Cb.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};ew.prototype.final=function(t,e){return this.cache.length&&this.ghash(Cb.concat([this.cache,wHe],16)),this.ghash(Ice([0,t,0,e])),this.state};Tce.exports=ew});var BP=V((FIt,Mce)=>{m();g();var EHe=Q_(),cc=yr().Buffer,Oce=y0(),AHe=hr(),Nce=Rce(),IHe=Mb(),THe=TP();function RHe(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}o(RHe,"xorTest");function OHe(t,e,r){if(e.length===12)return t._finID=cc.concat([e,cc.from([0,0,0,1])]),cc.concat([e,cc.from([0,0,0,2])]);var n=new Nce(r),i=e.length,s=i%16;n.update(e),s&&(s=16-s,n.update(cc.alloc(s,0))),n.update(cc.alloc(8,0));var a=i*8,f=cc.alloc(8);f.writeUIntBE(a,0,8),n.update(f),t._finID=n.state;var l=cc.from(t._finID);return THe(l),l}o(OHe,"calcIv");function Ug(t,e,r,n){Oce.call(this);var i=cc.alloc(4,0);this._cipher=new EHe.AES(e);var s=this._cipher.encryptBlock(i);this._ghash=new Nce(s),r=OHe(this,r,s),this._prev=cc.from(r),this._cache=cc.allocUnsafe(0),this._secCache=cc.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(Ug,"StreamCipher");AHe(Ug,Oce);Ug.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=cc.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Ug.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=IHe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&RHe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Ug.prototype.getAuthTag=o(function(){if(this._decrypt||!cc.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},"getAuthTag");Ug.prototype.setAuthTag=o(function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},"setAuthTag");Ug.prototype.setAAD=o(function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},"setAAD");Mce.exports=Ug});var LP=V((KIt,kce)=>{m();g();var NHe=Q_(),PP=yr().Buffer,Cce=y0(),MHe=hr();function m8(t,e,r,n){Cce.call(this),this._cipher=new NHe.AES(e),this._prev=PP.from(r),this._cache=PP.allocUnsafe(0),this._secCache=PP.allocUnsafe(0),this._decrypt=n,this._mode=t}o(m8,"StreamCipher");MHe(m8,Cce);m8.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};m8.prototype._final=function(){this._cipher.scrub()};kce.exports=m8});var tw=V((WIt,Bce)=>{m();g();var Hg=yr().Buffer,CHe=O4();function kHe(t,e,r,n){if(Hg.isBuffer(t)||(t=Hg.from(t,"binary")),e&&(Hg.isBuffer(e)||(e=Hg.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=Hg.alloc(i),a=Hg.alloc(n||0),f=Hg.alloc(0);i>0||n>0;){var l=new CHe;l.update(f),l.update(t),e&&l.update(e),f=l.digest();var h=0;if(i>0){var b=s.length-i;h=Math.min(i,f.length),f.copy(s,b,0,h),i-=h}if(h<f.length&&n>0){var y=a.length-n,E=Math.min(n,f.length-h);f.copy(a,y,h,h+E),n-=E}}return f.fill(0),{key:s,iv:a}}o(kHe,"EVP_BytesToKey");Bce.exports=kHe});var Uce=V(DP=>{m();g();var Pce=h8(),BHe=BP(),x0=yr().Buffer,PHe=LP(),Lce=y0(),LHe=Q_(),DHe=tw(),UHe=hr();function rw(t,e,r){Lce.call(this),this._cache=new g8,this._cipher=new LHe.AES(e),this._prev=x0.from(r),this._mode=t,this._autopadding=!0}o(rw,"Cipher");UHe(rw,Lce);rw.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return x0.concat(n)};var HHe=x0.alloc(16,16);rw.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(HHe))throw this._cipher.scrub(),new Error("data not multiple of block length")};rw.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function g8(){this.cache=x0.allocUnsafe(0)}o(g8,"Splitter");g8.prototype.add=function(t){this.cache=x0.concat([this.cache,t])};g8.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};g8.prototype.flush=function(){for(var t=16-this.cache.length,e=x0.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return x0.concat([this.cache,e])};function Dce(t,e,r){var n=Pce[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=x0.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=x0.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new PHe(n.module,e,r):n.type==="auth"?new BHe(n.module,e,r):new rw(n.module,e,r)}o(Dce,"createCipheriv");function FHe(t,e){var r=Pce[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=DHe(e,!1,r.key,r.iv);return Dce(t,n.key,n.iv)}o(FHe,"createCipher");DP.createCipheriv=Dce;DP.createCipher=FHe});var Vce=V(UP=>{m();g();var qHe=BP(),kb=yr().Buffer,Hce=h8(),VHe=LP(),Fce=y0(),jHe=Q_(),KHe=tw(),zHe=hr();function nw(t,e,r){Fce.call(this),this._cache=new y8,this._last=void 0,this._cipher=new jHe.AES(e),this._prev=kb.from(r),this._mode=t,this._autopadding=!0}o(nw,"Decipher");zHe(nw,Fce);nw.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return kb.concat(n)};nw.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return GHe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};nw.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function y8(){this.cache=kb.allocUnsafe(0)}o(y8,"Splitter");y8.prototype.add=function(t){this.cache=kb.concat([this.cache,t])};y8.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};y8.prototype.flush=function(){if(this.cache.length)return this.cache};function GHe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}o(GHe,"unpad");function qce(t,e,r){var n=Hce[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=kb.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=kb.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new VHe(n.module,e,r,!0):n.type==="auth"?new qHe(n.module,e,r,!0):new nw(n.module,e,r)}o(qce,"createDecipheriv");function $He(t,e){var r=Hce[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=KHe(e,!1,r.key,r.iv);return qce(t,n.key,n.iv)}o($He,"createDecipher");UP.createDecipher=$He;UP.createDecipheriv=qce});var b8=V(Iu=>{m();g();var jce=Uce(),Kce=Vce(),WHe=NP();function YHe(){return Object.keys(WHe)}o(YHe,"getCiphers");Iu.createCipher=Iu.Cipher=jce.createCipher;Iu.createCipheriv=Iu.Cipheriv=jce.createCipheriv;Iu.createDecipher=Iu.Decipher=Kce.createDecipher;Iu.createDecipheriv=Iu.Decipheriv=Kce.createDecipheriv;Iu.listCiphers=Iu.getCiphers=YHe});var zce=V(v0=>{m();g();v0["des-ecb"]={key:8,iv:0};v0["des-cbc"]=v0.des={key:8,iv:8};v0["des-ede3-cbc"]=v0.des3={key:24,iv:8};v0["des-ede3"]={key:24,iv:0};v0["des-ede-cbc"]={key:16,iv:8};v0["des-ede"]={key:16,iv:0}});var Xce=V(Tu=>{m();g();var Gce=sce(),HP=b8(),np=h8(),_0=zce(),$ce=tw();function XHe(t,e){t=t.toLowerCase();var r,n;if(np[t])r=np[t].key,n=np[t].iv;else if(_0[t])r=_0[t].key*8,n=_0[t].iv;else throw new TypeError("invalid suite type");var i=$ce(e,!1,r,n);return Wce(t,i.key,i.iv)}o(XHe,"createCipher");function ZHe(t,e){t=t.toLowerCase();var r,n;if(np[t])r=np[t].key,n=np[t].iv;else if(_0[t])r=_0[t].key*8,n=_0[t].iv;else throw new TypeError("invalid suite type");var i=$ce(e,!1,r,n);return Yce(t,i.key,i.iv)}o(ZHe,"createDecipher");function Wce(t,e,r){if(t=t.toLowerCase(),np[t])return HP.createCipheriv(t,e,r);if(_0[t])return new Gce({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}o(Wce,"createCipheriv");function Yce(t,e,r){if(t=t.toLowerCase(),np[t])return HP.createDecipheriv(t,e,r);if(_0[t])return new Gce({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}o(Yce,"createDecipheriv");function JHe(){return Object.keys(_0).concat(HP.getCiphers())}o(JHe,"getCiphers");Tu.createCipher=Tu.Cipher=XHe;Tu.createCipheriv=Tu.Cipheriv=Wce;Tu.createDecipher=Tu.Decipher=ZHe;Tu.createDecipheriv=Tu.Decipheriv=Yce;Tu.listCiphers=Tu.getCiphers=JHe});var qP=V((Zce,FP)=>{m();g();(function(t,e){"use strict";function r(S,c){if(!S)throw new Error(c||"Assertion failed")}o(r,"assert");function n(S,c){S.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,c,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(S||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=Cy().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,p){if(typeof c=="number")return this._initNumber(c,d,p);if(typeof c=="object")return this._initArray(c,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var x=0;c[0]==="-"&&(x++,this.negative=1),x<c.length&&(d===16?this._parseHex(c,x,p):(this._parseBase(c,d,x),p==="le"&&this._initArray(this.toArray(),d,p)))},"init"),i.prototype._initNumber=o(function(c,d,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},"_initNumber"),i.prototype._initArray=o(function(c,d,p){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v,A,T=0;if(p==="be")for(x=c.length-1,v=0;x>=0;x-=3)A=c[x]|c[x-1]<<8|c[x-2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(x=0,v=0;x<c.length;x+=3)A=c[x]|c[x+1]<<8|c[x+2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()},"_initArray");function a(S,c){var d=S.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(S,c,d){var p=a(S,d);return d-1>=c&&(p|=a(S,d-1)<<4),p}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,p){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v=0,A=0,T;if(p==="be")for(x=c.length-1;x>=d;x-=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8;else{var w=c.length-d;for(x=w%2===0?d+1:d;x<c.length;x+=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8}this.strip()},"_parseHex");function l(S,c,d,p){for(var x=0,v=Math.min(S.length,d),A=c;A<v;A++){var T=S.charCodeAt(A)-48;x*=p,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,p){this.words=[0],this.length=1;for(var x=0,v=1;v<=67108863;v*=d)x++;x--,v=v/d|0;for(var A=c.length-p,T=A%x,w=Math.min(A,A-T)+p,u=0,_=p;_<w;_+=x)u=l(c,_,_+x,d),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var F=1;for(u=l(c,_,c.length,d),_=0;_<T;_++)F*=d;this.imuln(F),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var p;if(c===16||c==="hex"){p="";for(var x=0,v=0,A=0;A<this.length;A++){var T=this.words[A],w=((T<<x|v)&16777215).toString(16);v=T>>>24-x&16777215,v!==0||A!==this.length-1?p=h[6-w.length]+w+p:p=w+p,x+=2,x>=26&&(x-=26,A--)}for(v!==0&&(p=v.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var u=b[c],_=y[c];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var H=F.modn(_).toString(c);F=F.idivn(_),F.isZero()?p=H+p:p=h[u-H.length]+H+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,p){var x=this.byteLength(),v=p||Math.max(1,x);r(x<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new c(v),w,u,_=this.clone();if(A){for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[u]=w;for(;u<v;u++)T[u]=0}else{for(u=0;u<v-x;u++)T[u]=0;for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[v-u-1]=w}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,p=0;return d&8191||(p+=13,d>>>=13),d&127||(p+=7,d>>>=7),d&15||(p+=4,d>>>=4),d&3||(p+=2,d>>>=2),d&1||p++,p},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function E(S){for(var c=new Array(S.bitLength()),d=0;d<c.length;d++){var p=d/26|0,x=d%26;c[d]=(S.words[p]&1<<x)>>>x}return c}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(c+=p,p!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,p;this.length>c.length?(d=this,p=c):(d=c,p=this);for(var x=0;x<p.length;x++)this.words[x]=d.words[x]^p.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,p=c%26;this._expand(d),p>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return p>0&&(this.words[x]=~this.words[x]&67108863>>26-p),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var p=c/26|0,x=c%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<x:this.words[p]=this.words[p]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var p,x;this.length>c.length?(p=this,x=c):(p=c,x=this);for(var v=0,A=0;A<x.length;A++)d=(p.words[A]|0)+(x.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;for(;v!==0&&A<p.length;A++)d=(p.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,v;p>0?(x=this,v=c):(x=c,v=this);for(var A=0,T=0;T<v.length;T++)d=(x.words[T]|0)-(v.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function I(S,c,d){d.negative=c.negative^S.negative;var p=S.length+c.length|0;d.length=p,p=p-1|0;var x=S.words[0]|0,v=c.words[0]|0,A=x*v,T=A&67108863,w=A/67108864|0;d.words[0]=T;for(var u=1;u<p;u++){for(var _=w>>>26,F=w&67108863,H=Math.min(u,c.length-1),D=Math.max(0,u-S.length+1);D<=H;D++){var $=u-D|0;x=S.words[$]|0,v=c.words[D]|0,A=x*v+F,_+=A/67108864|0,F=A&67108863}d.words[u]=F|0,w=_|0}return w!==0?d.words[u]=w|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(c,d,p){var x=c.words,v=d.words,A=p.words,T=0,w,u,_,F=x[0]|0,H=F&8191,D=F>>>13,$=x[1]|0,ee=$&8191,te=$>>>13,Oe=x[2]|0,fe=Oe&8191,le=Oe>>>13,ge=x[3]|0,pe=ge&8191,ye=ge>>>13,Cr=x[4]|0,Re=Cr&8191,Me=Cr>>>13,ti=x[5]|0,qe=ti&8191,ke=ti>>>13,ri=x[6]|0,Ve=ri&8191,He=ri>>>13,Ei=x[7]|0,De=Ei&8191,Fe=Ei>>>13,xn=x[8]|0,Z=xn&8191,J=xn>>>13,he=x[9]|0,ne=he&8191,de=he>>>13,xt=v[0]|0,xe=xt&8191,Ee=xt>>>13,ir=v[1]|0,Ae=ir&8191,Ne=ir>>>13,ni=v[2]|0,Pe=ni&8191,Be=ni>>>13,oo=v[3]|0,Ge=oo&8191,$e=oo>>>13,Un=v[4]|0,Le=Un&8191,Ue=Un>>>13,$i=v[5]|0,je=$i&8191,Ke=$i>>>13,vo=v[6]|0,Ce=vo&8191,ze=vo>>>13,K=v[7]|0,G=K&8191,z=K>>>13,P=v[8]|0,W=P&8191,Q=P>>>13,me=v[9]|0,se=me&8191,ue=me>>>13;p.negative=c.negative^d.negative,p.length=19,w=Math.imul(H,xe),u=Math.imul(H,Ee),u=u+Math.imul(D,xe)|0,_=Math.imul(D,Ee);var lt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(ee,xe),u=Math.imul(ee,Ee),u=u+Math.imul(te,xe)|0,_=Math.imul(te,Ee),w=w+Math.imul(H,Ae)|0,u=u+Math.imul(H,Ne)|0,u=u+Math.imul(D,Ae)|0,_=_+Math.imul(D,Ne)|0;var nt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(fe,xe),u=Math.imul(fe,Ee),u=u+Math.imul(le,xe)|0,_=Math.imul(le,Ee),w=w+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(te,Ae)|0,_=_+Math.imul(te,Ne)|0,w=w+Math.imul(H,Pe)|0,u=u+Math.imul(H,Be)|0,u=u+Math.imul(D,Pe)|0,_=_+Math.imul(D,Be)|0;var Pt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(pe,xe),u=Math.imul(pe,Ee),u=u+Math.imul(ye,xe)|0,_=Math.imul(ye,Ee),w=w+Math.imul(fe,Ae)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Ae)|0,_=_+Math.imul(le,Ne)|0,w=w+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Be)|0,u=u+Math.imul(te,Pe)|0,_=_+Math.imul(te,Be)|0,w=w+Math.imul(H,Ge)|0,u=u+Math.imul(H,$e)|0,u=u+Math.imul(D,Ge)|0,_=_+Math.imul(D,$e)|0;var st=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(Re,xe),u=Math.imul(Re,Ee),u=u+Math.imul(Me,xe)|0,_=Math.imul(Me,Ee),w=w+Math.imul(pe,Ae)|0,u=u+Math.imul(pe,Ne)|0,u=u+Math.imul(ye,Ae)|0,_=_+Math.imul(ye,Ne)|0,w=w+Math.imul(fe,Pe)|0,u=u+Math.imul(fe,Be)|0,u=u+Math.imul(le,Pe)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(te,Ge)|0,_=_+Math.imul(te,$e)|0,w=w+Math.imul(H,Le)|0,u=u+Math.imul(H,Ue)|0,u=u+Math.imul(D,Le)|0,_=_+Math.imul(D,Ue)|0;var bt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(qe,xe),u=Math.imul(qe,Ee),u=u+Math.imul(ke,xe)|0,_=Math.imul(ke,Ee),w=w+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Me,Ae)|0,_=_+Math.imul(Me,Ne)|0,w=w+Math.imul(pe,Pe)|0,u=u+Math.imul(pe,Be)|0,u=u+Math.imul(ye,Pe)|0,_=_+Math.imul(ye,Be)|0,w=w+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,w=w+Math.imul(ee,Le)|0,u=u+Math.imul(ee,Ue)|0,u=u+Math.imul(te,Le)|0,_=_+Math.imul(te,Ue)|0,w=w+Math.imul(H,je)|0,u=u+Math.imul(H,Ke)|0,u=u+Math.imul(D,je)|0,_=_+Math.imul(D,Ke)|0;var vt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,w=Math.imul(Ve,xe),u=Math.imul(Ve,Ee),u=u+Math.imul(He,xe)|0,_=Math.imul(He,Ee),w=w+Math.imul(qe,Ae)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Ae)|0,_=_+Math.imul(ke,Ne)|0,w=w+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Be)|0,u=u+Math.imul(Me,Pe)|0,_=_+Math.imul(Me,Be)|0,w=w+Math.imul(pe,Ge)|0,u=u+Math.imul(pe,$e)|0,u=u+Math.imul(ye,Ge)|0,_=_+Math.imul(ye,$e)|0,w=w+Math.imul(fe,Le)|0,u=u+Math.imul(fe,Ue)|0,u=u+Math.imul(le,Le)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ee,je)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(te,je)|0,_=_+Math.imul(te,Ke)|0,w=w+Math.imul(H,Ce)|0,u=u+Math.imul(H,ze)|0,u=u+Math.imul(D,Ce)|0,_=_+Math.imul(D,ze)|0;var It=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(It>>>26)|0,It&=67108863,w=Math.imul(De,xe),u=Math.imul(De,Ee),u=u+Math.imul(Fe,xe)|0,_=Math.imul(Fe,Ee),w=w+Math.imul(Ve,Ae)|0,u=u+Math.imul(Ve,Ne)|0,u=u+Math.imul(He,Ae)|0,_=_+Math.imul(He,Ne)|0,w=w+Math.imul(qe,Pe)|0,u=u+Math.imul(qe,Be)|0,u=u+Math.imul(ke,Pe)|0,_=_+Math.imul(ke,Be)|0,w=w+Math.imul(Re,Ge)|0,u=u+Math.imul(Re,$e)|0,u=u+Math.imul(Me,Ge)|0,_=_+Math.imul(Me,$e)|0,w=w+Math.imul(pe,Le)|0,u=u+Math.imul(pe,Ue)|0,u=u+Math.imul(ye,Le)|0,_=_+Math.imul(ye,Ue)|0,w=w+Math.imul(fe,je)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,Ke)|0,w=w+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(te,Ce)|0,_=_+Math.imul(te,ze)|0,w=w+Math.imul(H,G)|0,u=u+Math.imul(H,z)|0,u=u+Math.imul(D,G)|0,_=_+Math.imul(D,z)|0;var At=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(Z,xe),u=Math.imul(Z,Ee),u=u+Math.imul(J,xe)|0,_=Math.imul(J,Ee),w=w+Math.imul(De,Ae)|0,u=u+Math.imul(De,Ne)|0,u=u+Math.imul(Fe,Ae)|0,_=_+Math.imul(Fe,Ne)|0,w=w+Math.imul(Ve,Pe)|0,u=u+Math.imul(Ve,Be)|0,u=u+Math.imul(He,Pe)|0,_=_+Math.imul(He,Be)|0,w=w+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,_=_+Math.imul(ke,$e)|0,w=w+Math.imul(Re,Le)|0,u=u+Math.imul(Re,Ue)|0,u=u+Math.imul(Me,Le)|0,_=_+Math.imul(Me,Ue)|0,w=w+Math.imul(pe,je)|0,u=u+Math.imul(pe,Ke)|0,u=u+Math.imul(ye,je)|0,_=_+Math.imul(ye,Ke)|0,w=w+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ee,G)|0,u=u+Math.imul(ee,z)|0,u=u+Math.imul(te,G)|0,_=_+Math.imul(te,z)|0,w=w+Math.imul(H,W)|0,u=u+Math.imul(H,Q)|0,u=u+Math.imul(D,W)|0,_=_+Math.imul(D,Q)|0;var _t=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,w=Math.imul(ne,xe),u=Math.imul(ne,Ee),u=u+Math.imul(de,xe)|0,_=Math.imul(de,Ee),w=w+Math.imul(Z,Ae)|0,u=u+Math.imul(Z,Ne)|0,u=u+Math.imul(J,Ae)|0,_=_+Math.imul(J,Ne)|0,w=w+Math.imul(De,Pe)|0,u=u+Math.imul(De,Be)|0,u=u+Math.imul(Fe,Pe)|0,_=_+Math.imul(Fe,Be)|0,w=w+Math.imul(Ve,Ge)|0,u=u+Math.imul(Ve,$e)|0,u=u+Math.imul(He,Ge)|0,_=_+Math.imul(He,$e)|0,w=w+Math.imul(qe,Le)|0,u=u+Math.imul(qe,Ue)|0,u=u+Math.imul(ke,Le)|0,_=_+Math.imul(ke,Ue)|0,w=w+Math.imul(Re,je)|0,u=u+Math.imul(Re,Ke)|0,u=u+Math.imul(Me,je)|0,_=_+Math.imul(Me,Ke)|0,w=w+Math.imul(pe,Ce)|0,u=u+Math.imul(pe,ze)|0,u=u+Math.imul(ye,Ce)|0,_=_+Math.imul(ye,ze)|0,w=w+Math.imul(fe,G)|0,u=u+Math.imul(fe,z)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,z)|0,w=w+Math.imul(ee,W)|0,u=u+Math.imul(ee,Q)|0,u=u+Math.imul(te,W)|0,_=_+Math.imul(te,Q)|0,w=w+Math.imul(H,se)|0,u=u+Math.imul(H,ue)|0,u=u+Math.imul(D,se)|0,_=_+Math.imul(D,ue)|0;var St=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(St>>>26)|0,St&=67108863,w=Math.imul(ne,Ae),u=Math.imul(ne,Ne),u=u+Math.imul(de,Ae)|0,_=Math.imul(de,Ne),w=w+Math.imul(Z,Pe)|0,u=u+Math.imul(Z,Be)|0,u=u+Math.imul(J,Pe)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(De,Ge)|0,u=u+Math.imul(De,$e)|0,u=u+Math.imul(Fe,Ge)|0,_=_+Math.imul(Fe,$e)|0,w=w+Math.imul(Ve,Le)|0,u=u+Math.imul(Ve,Ue)|0,u=u+Math.imul(He,Le)|0,_=_+Math.imul(He,Ue)|0,w=w+Math.imul(qe,je)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,je)|0,_=_+Math.imul(ke,Ke)|0,w=w+Math.imul(Re,Ce)|0,u=u+Math.imul(Re,ze)|0,u=u+Math.imul(Me,Ce)|0,_=_+Math.imul(Me,ze)|0,w=w+Math.imul(pe,G)|0,u=u+Math.imul(pe,z)|0,u=u+Math.imul(ye,G)|0,_=_+Math.imul(ye,z)|0,w=w+Math.imul(fe,W)|0,u=u+Math.imul(fe,Q)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,Q)|0,w=w+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(te,se)|0,_=_+Math.imul(te,ue)|0;var wt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,w=Math.imul(ne,Pe),u=Math.imul(ne,Be),u=u+Math.imul(de,Pe)|0,_=Math.imul(de,Be),w=w+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(J,Ge)|0,_=_+Math.imul(J,$e)|0,w=w+Math.imul(De,Le)|0,u=u+Math.imul(De,Ue)|0,u=u+Math.imul(Fe,Le)|0,_=_+Math.imul(Fe,Ue)|0,w=w+Math.imul(Ve,je)|0,u=u+Math.imul(Ve,Ke)|0,u=u+Math.imul(He,je)|0,_=_+Math.imul(He,Ke)|0,w=w+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,Ce)|0,_=_+Math.imul(ke,ze)|0,w=w+Math.imul(Re,G)|0,u=u+Math.imul(Re,z)|0,u=u+Math.imul(Me,G)|0,_=_+Math.imul(Me,z)|0,w=w+Math.imul(pe,W)|0,u=u+Math.imul(pe,Q)|0,u=u+Math.imul(ye,W)|0,_=_+Math.imul(ye,Q)|0,w=w+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),w=w+Math.imul(Z,Le)|0,u=u+Math.imul(Z,Ue)|0,u=u+Math.imul(J,Le)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(De,je)|0,u=u+Math.imul(De,Ke)|0,u=u+Math.imul(Fe,je)|0,_=_+Math.imul(Fe,Ke)|0,w=w+Math.imul(Ve,Ce)|0,u=u+Math.imul(Ve,ze)|0,u=u+Math.imul(He,Ce)|0,_=_+Math.imul(He,ze)|0,w=w+Math.imul(qe,G)|0,u=u+Math.imul(qe,z)|0,u=u+Math.imul(ke,G)|0,_=_+Math.imul(ke,z)|0,w=w+Math.imul(Re,W)|0,u=u+Math.imul(Re,Q)|0,u=u+Math.imul(Me,W)|0,_=_+Math.imul(Me,Q)|0,w=w+Math.imul(pe,se)|0,u=u+Math.imul(pe,ue)|0,u=u+Math.imul(ye,se)|0,_=_+Math.imul(ye,ue)|0;var dt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(ne,Le),u=Math.imul(ne,Ue),u=u+Math.imul(de,Le)|0,_=Math.imul(de,Ue),w=w+Math.imul(Z,je)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(J,je)|0,_=_+Math.imul(J,Ke)|0,w=w+Math.imul(De,Ce)|0,u=u+Math.imul(De,ze)|0,u=u+Math.imul(Fe,Ce)|0,_=_+Math.imul(Fe,ze)|0,w=w+Math.imul(Ve,G)|0,u=u+Math.imul(Ve,z)|0,u=u+Math.imul(He,G)|0,_=_+Math.imul(He,z)|0,w=w+Math.imul(qe,W)|0,u=u+Math.imul(qe,Q)|0,u=u+Math.imul(ke,W)|0,_=_+Math.imul(ke,Q)|0,w=w+Math.imul(Re,se)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Me,se)|0,_=_+Math.imul(Me,ue)|0;var ot=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,w=Math.imul(ne,je),u=Math.imul(ne,Ke),u=u+Math.imul(de,je)|0,_=Math.imul(de,Ke),w=w+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(J,Ce)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(De,G)|0,u=u+Math.imul(De,z)|0,u=u+Math.imul(Fe,G)|0,_=_+Math.imul(Fe,z)|0,w=w+Math.imul(Ve,W)|0,u=u+Math.imul(Ve,Q)|0,u=u+Math.imul(He,W)|0,_=_+Math.imul(He,Q)|0,w=w+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,_=_+Math.imul(ke,ue)|0;var ft=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(ne,Ce),u=Math.imul(ne,ze),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,ze),w=w+Math.imul(Z,G)|0,u=u+Math.imul(Z,z)|0,u=u+Math.imul(J,G)|0,_=_+Math.imul(J,z)|0,w=w+Math.imul(De,W)|0,u=u+Math.imul(De,Q)|0,u=u+Math.imul(Fe,W)|0,_=_+Math.imul(Fe,Q)|0,w=w+Math.imul(Ve,se)|0,u=u+Math.imul(Ve,ue)|0,u=u+Math.imul(He,se)|0,_=_+Math.imul(He,ue)|0;var ut=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(ne,G),u=Math.imul(ne,z),u=u+Math.imul(de,G)|0,_=Math.imul(de,z),w=w+Math.imul(Z,W)|0,u=u+Math.imul(Z,Q)|0,u=u+Math.imul(J,W)|0,_=_+Math.imul(J,Q)|0,w=w+Math.imul(De,se)|0,u=u+Math.imul(De,ue)|0,u=u+Math.imul(Fe,se)|0,_=_+Math.imul(Fe,ue)|0;var rt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(ne,W),u=Math.imul(ne,Q),u=u+Math.imul(de,W)|0,_=Math.imul(de,Q),w=w+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(J,se)|0,_=_+Math.imul(J,ue)|0;var ve=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,w=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(T+w|0)+((u&8191)<<13)|0;return T=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=bt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=ve,A[18]=_e,T!==0&&(A[19]=T,p.length++),p},"comb10MulTo");Math.imul||(O=I);function N(S,c,d){d.negative=c.negative^S.negative,d.length=S.length+c.length;for(var p=0,x=0,v=0;v<d.length-1;v++){var A=x;x=0;for(var T=p&67108863,w=Math.min(v,c.length-1),u=Math.max(0,v-S.length+1);u<=w;u++){var _=v-u,F=S.words[_]|0,H=c.words[u]|0,D=F*H,$=D&67108863;A=A+(D/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[v]=T,p=A,A=x}return p!==0?d.words[v]=p:d.length--,d.strip()}o(N,"bigMulTo");function k(S,c,d){var p=new C;return p.mulp(S,c,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var p,x=this.length+c.length;return this.length===10&&c.length===10?p=O(this,c,d):x<63?p=I(this,c,d):x<1024?p=N(this,c,d):p=k(this,c,d),p},"mulTo");function C(S,c){this.x=S,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),p=i.prototype._countBits(c)-1,x=0;x<c;x++)d[x]=this.revBin(x,p,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,p){if(c===0||c===p-1)return c;for(var x=0,v=0;v<d;v++)x|=(c&1)<<d-v-1,c>>=1;return x},"revBin"),C.prototype.permute=o(function(c,d,p,x,v,A){for(var T=0;T<A;T++)x[T]=d[c[T]],v[T]=p[c[T]]},"permute"),C.prototype.transform=o(function(c,d,p,x,v,A){this.permute(A,c,d,p,x,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,u=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),F=0;F<v;F+=w)for(var H=u,D=_,$=0;$<T;$++){var ee=p[F+$],te=x[F+$],Oe=p[F+$+T],fe=x[F+$+T],le=H*Oe-D*fe;fe=H*fe+D*Oe,Oe=le,p[F+$]=ee+Oe,x[F+$]=te+fe,p[F+$+T]=ee-Oe,x[F+$+T]=te-fe,$!==w&&(le=u*H-_*D,D=u*D+_*H,H=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var p=Math.max(d,c)|1,x=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+x},"guessLen13b"),C.prototype.conjugate=o(function(c,d,p){if(!(p<=1))for(var x=0;x<p/2;x++){var v=c[x];c[x]=c[p-x-1],c[p-x-1]=v,v=d[x],d[x]=-d[p-x-1],d[p-x-1]=-v}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var p=0,x=0;x<d/2;x++){var v=Math.round(c[2*x+1]/d)*8192+Math.round(c[2*x]/d)+p;c[x]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,p,x){for(var v=0,A=0;A<d;A++)v=v+(c[A]|0),p[2*A]=v&8191,v=v>>>13,p[2*A+1]=v&8191,v=v>>>13;for(A=2*d;A<x;++A)p[A]=0;r(v===0),r((v&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),p=0;p<c;p++)d[p]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,p){var x=2*this.guessLen13b(c.length,d.length),v=this.makeRBT(x),A=this.stub(x),T=new Array(x),w=new Array(x),u=new Array(x),_=new Array(x),F=new Array(x),H=new Array(x),D=p.words;D.length=x,this.convert13b(c.words,c.length,T,x),this.convert13b(d.words,d.length,_,x),this.transform(T,A,w,u,x,v),this.transform(_,A,F,H,x,v);for(var $=0;$<x;$++){var ee=w[$]*F[$]-u[$]*H[$];u[$]=w[$]*H[$]+u[$]*F[$],w[$]=ee}return this.conjugate(w,u,x),this.transform(w,u,D,A,x,v),this.conjugate(D,A,x),this.normalize13b(D,x),p.negative=c.negative^d.negative,p.length=c.length+d.length,p.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),k(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,p=0;p<this.length;p++){var x=(this.words[p]|0)*c,v=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=v>>>26,this.words[p]=v&67108863}return d!==0&&(this.words[p]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=E(c);if(d.length===0)return new i(1);for(var p=this,x=0;x<d.length&&d[x]===0;x++,p=p.sqr());if(++x<d.length)for(var v=p.sqr();x<d.length;x++,v=v.sqr())d[x]!==0&&(p=p.mul(v));return p},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=67108863>>>26-d<<26-d,v;if(d!==0){var A=0;for(v=0;v<this.length;v++){var T=this.words[v]&x,w=(this.words[v]|0)-T<<d;this.words[v]=w|A,A=T>>>26-d}A&&(this.words[v]=A,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,p){r(typeof c=="number"&&c>=0);var x;d?x=(d-d%26)/26:x=0;var v=c%26,A=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(x-=A,x=Math.max(0,x),w){for(var u=0;u<A;u++)w.words[u]=this.words[u];w.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=x);u--){var F=this.words[u]|0;this.words[u]=_<<26-v|F>>>v,_=F&T}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,p){return r(this.negative===0),this.iushrn(c,d,p)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return!1;var v=this.words[p];return!!(v&x)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,p){var x=c.length+p,v;this._expand(x);var A,T=0;for(v=0;v<c.length;v++){A=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*d;A-=w&67108863,T=(A>>26)-(w/67108864|0),this.words[v+p]=A&67108863}for(;v<this.length-p;v++)A=(this.words[v+p]|0)+T,T=A>>26,this.words[v+p]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,v=0;v<this.length;v++)A=-(this.words[v]|0)+T,T=A>>26,this.words[v]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var p=this.length-c.length,x=this.clone(),v=c,A=v.words[v.length-1]|0,T=this._countBits(A);p=26-T,p!==0&&(v=v.ushln(p),x.iushln(p),A=v.words[v.length-1]|0);var w=x.length-v.length,u;if(d!=="mod"){u=new i(null),u.length=w+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var F=x.clone()._ishlnsubmul(v,1,w);F.negative===0&&(x=F,u&&(u.words[w]=1));for(var H=w-1;H>=0;H--){var D=(x.words[v.length+H]|0)*67108864+(x.words[v.length+H-1]|0);for(D=Math.min(D/A|0,67108863),x._ishlnsubmul(v,D,H);x.negative!==0;)D--,x.negative=0,x._ishlnsubmul(v,1,H),x.isZero()||(x.negative^=1);u&&(u.words[H]=D)}return u&&u.strip(),x.strip(),d!=="div"&&p!==0&&x.iushrn(p),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(c,d,p){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,v,A;return this.negative!==0&&c.negative===0?(A=this.neg().divmod(c,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:x,mod:v}):this.negative===0&&c.negative!==0?(A=this.divmod(c.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&c.negative?(A=this.neg().divmod(c.neg(),d),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:A.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(c):d.mod,x=c.ushrn(1),v=c.andln(1),A=p.cmp(x);return A<0||v===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,p=0,x=this.length-1;x>=0;x--)p=(d*p+(this.words[x]|0))%c;return p},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,p=this.length-1;p>=0;p--){var x=(this.words[p]|0)+d*67108864;this.words[p]=x/c|0,d=x%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=new i(0),T=new i(1),w=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++w;for(var u=p.clone(),_=d.clone();!d.isZero();){for(var F=0,H=1;!(d.words[0]&H)&&F<26;++F,H<<=1);if(F>0)for(d.iushrn(F);F-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(u),v.isub(_)),x.iushrn(1),v.iushrn(1);for(var D=0,$=1;!(p.words[0]&$)&&D<26;++D,$<<=1);if(D>0)for(p.iushrn(D);D-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(_)),A.iushrn(1),T.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(A),v.isub(T)):(p.isub(d),A.isub(x),T.isub(v))}return{a:A,b:T,gcd:p.iushln(w)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(d.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,_=1;!(p.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(p.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(v)):(p.isub(d),v.isub(x))}var F;return d.cmpn(1)===0?F=x:F=v,F.cmpn(0)<0&&F.iadd(c),F},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),p=c.clone();d.negative=0,p.negative=0;for(var x=0;d.isEven()&&p.isEven();x++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=d.cmp(p);if(v<0){var A=d;d=p,p=A}else if(v===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(x)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=x,this;for(var v=x,A=p;v!==0&&A<this.length;A++){var T=this.words[A]|0;T+=v,v=T>>>26,T&=67108863,this.words[A]=T}return v!==0&&(this.words[A]=v,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var p;if(this.length>1)p=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var x=this.words[0]|0;p=x===c?0:x<c?-1:1}return this.negative!==0?-p|0:p},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var x=this.words[p]|0,v=c.words[p]|0;if(x!==v){x<v?d=-1:x>v&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,c){this.name=S,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var x=p<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var p=4194303,x=Math.min(c.length,9),v=0;v<x;v++)d.words[v]=c.words[v];if(d.length=x,c.length<=9){c.words[0]=0,c.length=1;return}var A=c.words[9];for(d.words[d.length++]=A&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|A>>>22,A=T}A>>>=22,c.words[v-10]=A,A===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,p=0;p<c.length;p++){var x=c.words[p]|0;d+=x*977,c.words[p]=d&67108863,d=x*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function q(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(q,"P224"),n(q,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function re(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(re,"P25519"),n(re,M),re.prototype.imulK=o(function(c){for(var d=0,p=0;p<c.length;p++){var x=(c.words[p]|0)*19+d,v=x&67108863;x>>>=26,c.words[p]=v,d=x}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(L[c])return L[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new q;else if(c==="p192")d=new j;else if(c==="p25519")d=new re;else throw new Error("Unknown prime "+c);return L[c]=d,d},"prime");function Y(S){if(typeof S=="string"){var c=i._prime(S);this.m=c.p,this.prime=c}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var p=c.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var p=c.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var p=c.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var p=c.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(c,p)}for(var x=this.m.subn(1),v=0;!x.isZero()&&x.andln(1)===0;)v++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),w=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,w).cmp(T)!==0;)u.redIAdd(T);for(var _=this.pow(u,x),F=this.pow(c,x.addn(1).iushrn(1)),H=this.pow(c,x),D=v;H.cmp(A)!==0;){for(var $=H,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<D);var te=this.pow(_,new i(1).iushln(D-ee-1));F=F.redMul(te),_=te.redSqr(),H=H.redMul(_),D=ee}return F},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var p=4,x=new Array(1<<p);x[0]=new i(1).toRed(this),x[1]=c;for(var v=2;v<x.length;v++)x[v]=this.mul(x[v-1],c);var A=x[0],T=0,w=0,u=d.bitLength()%26;for(u===0&&(u=26),v=d.length-1;v>=0;v--){for(var _=d.words[v],F=u-1;F>=0;F--){var H=_>>F&1;if(A!==x[0]&&(A=this.sqr(A)),H===0&&T===0){w=0;continue}T<<=1,T|=H,w++,!(w!==p&&(v!==0||F!==0))&&(A=this.mul(A,x[T]),w=0,T=0)}u=26}return A},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new X(c)},"mont");function X(S){Y.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,Y),X.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var p=c.mul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof FP>"u"||FP,Zce)});var Qce=V((Jce,VP)=>{m();g();(function(t,e){"use strict";function r(S,c){if(!S)throw new Error(c||"Assertion failed")}o(r,"assert");function n(S,c){S.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,c,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(S||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=Cy().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,p){if(typeof c=="number")return this._initNumber(c,d,p);if(typeof c=="object")return this._initArray(c,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var x=0;c[0]==="-"&&(x++,this.negative=1),x<c.length&&(d===16?this._parseHex(c,x,p):(this._parseBase(c,d,x),p==="le"&&this._initArray(this.toArray(),d,p)))},"init"),i.prototype._initNumber=o(function(c,d,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},"_initNumber"),i.prototype._initArray=o(function(c,d,p){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v,A,T=0;if(p==="be")for(x=c.length-1,v=0;x>=0;x-=3)A=c[x]|c[x-1]<<8|c[x-2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(x=0,v=0;x<c.length;x+=3)A=c[x]|c[x+1]<<8|c[x+2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()},"_initArray");function a(S,c){var d=S.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(S,c,d){var p=a(S,d);return d-1>=c&&(p|=a(S,d-1)<<4),p}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,p){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v=0,A=0,T;if(p==="be")for(x=c.length-1;x>=d;x-=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8;else{var w=c.length-d;for(x=w%2===0?d+1:d;x<c.length;x+=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8}this.strip()},"_parseHex");function l(S,c,d,p){for(var x=0,v=Math.min(S.length,d),A=c;A<v;A++){var T=S.charCodeAt(A)-48;x*=p,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,p){this.words=[0],this.length=1;for(var x=0,v=1;v<=67108863;v*=d)x++;x--,v=v/d|0;for(var A=c.length-p,T=A%x,w=Math.min(A,A-T)+p,u=0,_=p;_<w;_+=x)u=l(c,_,_+x,d),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var F=1;for(u=l(c,_,c.length,d),_=0;_<T;_++)F*=d;this.imuln(F),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var p;if(c===16||c==="hex"){p="";for(var x=0,v=0,A=0;A<this.length;A++){var T=this.words[A],w=((T<<x|v)&16777215).toString(16);v=T>>>24-x&16777215,v!==0||A!==this.length-1?p=h[6-w.length]+w+p:p=w+p,x+=2,x>=26&&(x-=26,A--)}for(v!==0&&(p=v.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var u=b[c],_=y[c];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var H=F.modn(_).toString(c);F=F.idivn(_),F.isZero()?p=H+p:p=h[u-H.length]+H+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,p){var x=this.byteLength(),v=p||Math.max(1,x);r(x<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new c(v),w,u,_=this.clone();if(A){for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[u]=w;for(;u<v;u++)T[u]=0}else{for(u=0;u<v-x;u++)T[u]=0;for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[v-u-1]=w}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,p=0;return d&8191||(p+=13,d>>>=13),d&127||(p+=7,d>>>=7),d&15||(p+=4,d>>>=4),d&3||(p+=2,d>>>=2),d&1||p++,p},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function E(S){for(var c=new Array(S.bitLength()),d=0;d<c.length;d++){var p=d/26|0,x=d%26;c[d]=(S.words[p]&1<<x)>>>x}return c}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(c+=p,p!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,p;this.length>c.length?(d=this,p=c):(d=c,p=this);for(var x=0;x<p.length;x++)this.words[x]=d.words[x]^p.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,p=c%26;this._expand(d),p>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return p>0&&(this.words[x]=~this.words[x]&67108863>>26-p),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var p=c/26|0,x=c%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<x:this.words[p]=this.words[p]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var p,x;this.length>c.length?(p=this,x=c):(p=c,x=this);for(var v=0,A=0;A<x.length;A++)d=(p.words[A]|0)+(x.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;for(;v!==0&&A<p.length;A++)d=(p.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,v;p>0?(x=this,v=c):(x=c,v=this);for(var A=0,T=0;T<v.length;T++)d=(x.words[T]|0)-(v.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function I(S,c,d){d.negative=c.negative^S.negative;var p=S.length+c.length|0;d.length=p,p=p-1|0;var x=S.words[0]|0,v=c.words[0]|0,A=x*v,T=A&67108863,w=A/67108864|0;d.words[0]=T;for(var u=1;u<p;u++){for(var _=w>>>26,F=w&67108863,H=Math.min(u,c.length-1),D=Math.max(0,u-S.length+1);D<=H;D++){var $=u-D|0;x=S.words[$]|0,v=c.words[D]|0,A=x*v+F,_+=A/67108864|0,F=A&67108863}d.words[u]=F|0,w=_|0}return w!==0?d.words[u]=w|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(c,d,p){var x=c.words,v=d.words,A=p.words,T=0,w,u,_,F=x[0]|0,H=F&8191,D=F>>>13,$=x[1]|0,ee=$&8191,te=$>>>13,Oe=x[2]|0,fe=Oe&8191,le=Oe>>>13,ge=x[3]|0,pe=ge&8191,ye=ge>>>13,Cr=x[4]|0,Re=Cr&8191,Me=Cr>>>13,ti=x[5]|0,qe=ti&8191,ke=ti>>>13,ri=x[6]|0,Ve=ri&8191,He=ri>>>13,Ei=x[7]|0,De=Ei&8191,Fe=Ei>>>13,xn=x[8]|0,Z=xn&8191,J=xn>>>13,he=x[9]|0,ne=he&8191,de=he>>>13,xt=v[0]|0,xe=xt&8191,Ee=xt>>>13,ir=v[1]|0,Ae=ir&8191,Ne=ir>>>13,ni=v[2]|0,Pe=ni&8191,Be=ni>>>13,oo=v[3]|0,Ge=oo&8191,$e=oo>>>13,Un=v[4]|0,Le=Un&8191,Ue=Un>>>13,$i=v[5]|0,je=$i&8191,Ke=$i>>>13,vo=v[6]|0,Ce=vo&8191,ze=vo>>>13,K=v[7]|0,G=K&8191,z=K>>>13,P=v[8]|0,W=P&8191,Q=P>>>13,me=v[9]|0,se=me&8191,ue=me>>>13;p.negative=c.negative^d.negative,p.length=19,w=Math.imul(H,xe),u=Math.imul(H,Ee),u=u+Math.imul(D,xe)|0,_=Math.imul(D,Ee);var lt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(ee,xe),u=Math.imul(ee,Ee),u=u+Math.imul(te,xe)|0,_=Math.imul(te,Ee),w=w+Math.imul(H,Ae)|0,u=u+Math.imul(H,Ne)|0,u=u+Math.imul(D,Ae)|0,_=_+Math.imul(D,Ne)|0;var nt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(fe,xe),u=Math.imul(fe,Ee),u=u+Math.imul(le,xe)|0,_=Math.imul(le,Ee),w=w+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(te,Ae)|0,_=_+Math.imul(te,Ne)|0,w=w+Math.imul(H,Pe)|0,u=u+Math.imul(H,Be)|0,u=u+Math.imul(D,Pe)|0,_=_+Math.imul(D,Be)|0;var Pt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(pe,xe),u=Math.imul(pe,Ee),u=u+Math.imul(ye,xe)|0,_=Math.imul(ye,Ee),w=w+Math.imul(fe,Ae)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Ae)|0,_=_+Math.imul(le,Ne)|0,w=w+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Be)|0,u=u+Math.imul(te,Pe)|0,_=_+Math.imul(te,Be)|0,w=w+Math.imul(H,Ge)|0,u=u+Math.imul(H,$e)|0,u=u+Math.imul(D,Ge)|0,_=_+Math.imul(D,$e)|0;var st=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(Re,xe),u=Math.imul(Re,Ee),u=u+Math.imul(Me,xe)|0,_=Math.imul(Me,Ee),w=w+Math.imul(pe,Ae)|0,u=u+Math.imul(pe,Ne)|0,u=u+Math.imul(ye,Ae)|0,_=_+Math.imul(ye,Ne)|0,w=w+Math.imul(fe,Pe)|0,u=u+Math.imul(fe,Be)|0,u=u+Math.imul(le,Pe)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(te,Ge)|0,_=_+Math.imul(te,$e)|0,w=w+Math.imul(H,Le)|0,u=u+Math.imul(H,Ue)|0,u=u+Math.imul(D,Le)|0,_=_+Math.imul(D,Ue)|0;var bt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(qe,xe),u=Math.imul(qe,Ee),u=u+Math.imul(ke,xe)|0,_=Math.imul(ke,Ee),w=w+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Me,Ae)|0,_=_+Math.imul(Me,Ne)|0,w=w+Math.imul(pe,Pe)|0,u=u+Math.imul(pe,Be)|0,u=u+Math.imul(ye,Pe)|0,_=_+Math.imul(ye,Be)|0,w=w+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,w=w+Math.imul(ee,Le)|0,u=u+Math.imul(ee,Ue)|0,u=u+Math.imul(te,Le)|0,_=_+Math.imul(te,Ue)|0,w=w+Math.imul(H,je)|0,u=u+Math.imul(H,Ke)|0,u=u+Math.imul(D,je)|0,_=_+Math.imul(D,Ke)|0;var vt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,w=Math.imul(Ve,xe),u=Math.imul(Ve,Ee),u=u+Math.imul(He,xe)|0,_=Math.imul(He,Ee),w=w+Math.imul(qe,Ae)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Ae)|0,_=_+Math.imul(ke,Ne)|0,w=w+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Be)|0,u=u+Math.imul(Me,Pe)|0,_=_+Math.imul(Me,Be)|0,w=w+Math.imul(pe,Ge)|0,u=u+Math.imul(pe,$e)|0,u=u+Math.imul(ye,Ge)|0,_=_+Math.imul(ye,$e)|0,w=w+Math.imul(fe,Le)|0,u=u+Math.imul(fe,Ue)|0,u=u+Math.imul(le,Le)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ee,je)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(te,je)|0,_=_+Math.imul(te,Ke)|0,w=w+Math.imul(H,Ce)|0,u=u+Math.imul(H,ze)|0,u=u+Math.imul(D,Ce)|0,_=_+Math.imul(D,ze)|0;var It=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(It>>>26)|0,It&=67108863,w=Math.imul(De,xe),u=Math.imul(De,Ee),u=u+Math.imul(Fe,xe)|0,_=Math.imul(Fe,Ee),w=w+Math.imul(Ve,Ae)|0,u=u+Math.imul(Ve,Ne)|0,u=u+Math.imul(He,Ae)|0,_=_+Math.imul(He,Ne)|0,w=w+Math.imul(qe,Pe)|0,u=u+Math.imul(qe,Be)|0,u=u+Math.imul(ke,Pe)|0,_=_+Math.imul(ke,Be)|0,w=w+Math.imul(Re,Ge)|0,u=u+Math.imul(Re,$e)|0,u=u+Math.imul(Me,Ge)|0,_=_+Math.imul(Me,$e)|0,w=w+Math.imul(pe,Le)|0,u=u+Math.imul(pe,Ue)|0,u=u+Math.imul(ye,Le)|0,_=_+Math.imul(ye,Ue)|0,w=w+Math.imul(fe,je)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,Ke)|0,w=w+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(te,Ce)|0,_=_+Math.imul(te,ze)|0,w=w+Math.imul(H,G)|0,u=u+Math.imul(H,z)|0,u=u+Math.imul(D,G)|0,_=_+Math.imul(D,z)|0;var At=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(Z,xe),u=Math.imul(Z,Ee),u=u+Math.imul(J,xe)|0,_=Math.imul(J,Ee),w=w+Math.imul(De,Ae)|0,u=u+Math.imul(De,Ne)|0,u=u+Math.imul(Fe,Ae)|0,_=_+Math.imul(Fe,Ne)|0,w=w+Math.imul(Ve,Pe)|0,u=u+Math.imul(Ve,Be)|0,u=u+Math.imul(He,Pe)|0,_=_+Math.imul(He,Be)|0,w=w+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,_=_+Math.imul(ke,$e)|0,w=w+Math.imul(Re,Le)|0,u=u+Math.imul(Re,Ue)|0,u=u+Math.imul(Me,Le)|0,_=_+Math.imul(Me,Ue)|0,w=w+Math.imul(pe,je)|0,u=u+Math.imul(pe,Ke)|0,u=u+Math.imul(ye,je)|0,_=_+Math.imul(ye,Ke)|0,w=w+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ee,G)|0,u=u+Math.imul(ee,z)|0,u=u+Math.imul(te,G)|0,_=_+Math.imul(te,z)|0,w=w+Math.imul(H,W)|0,u=u+Math.imul(H,Q)|0,u=u+Math.imul(D,W)|0,_=_+Math.imul(D,Q)|0;var _t=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,w=Math.imul(ne,xe),u=Math.imul(ne,Ee),u=u+Math.imul(de,xe)|0,_=Math.imul(de,Ee),w=w+Math.imul(Z,Ae)|0,u=u+Math.imul(Z,Ne)|0,u=u+Math.imul(J,Ae)|0,_=_+Math.imul(J,Ne)|0,w=w+Math.imul(De,Pe)|0,u=u+Math.imul(De,Be)|0,u=u+Math.imul(Fe,Pe)|0,_=_+Math.imul(Fe,Be)|0,w=w+Math.imul(Ve,Ge)|0,u=u+Math.imul(Ve,$e)|0,u=u+Math.imul(He,Ge)|0,_=_+Math.imul(He,$e)|0,w=w+Math.imul(qe,Le)|0,u=u+Math.imul(qe,Ue)|0,u=u+Math.imul(ke,Le)|0,_=_+Math.imul(ke,Ue)|0,w=w+Math.imul(Re,je)|0,u=u+Math.imul(Re,Ke)|0,u=u+Math.imul(Me,je)|0,_=_+Math.imul(Me,Ke)|0,w=w+Math.imul(pe,Ce)|0,u=u+Math.imul(pe,ze)|0,u=u+Math.imul(ye,Ce)|0,_=_+Math.imul(ye,ze)|0,w=w+Math.imul(fe,G)|0,u=u+Math.imul(fe,z)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,z)|0,w=w+Math.imul(ee,W)|0,u=u+Math.imul(ee,Q)|0,u=u+Math.imul(te,W)|0,_=_+Math.imul(te,Q)|0,w=w+Math.imul(H,se)|0,u=u+Math.imul(H,ue)|0,u=u+Math.imul(D,se)|0,_=_+Math.imul(D,ue)|0;var St=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(St>>>26)|0,St&=67108863,w=Math.imul(ne,Ae),u=Math.imul(ne,Ne),u=u+Math.imul(de,Ae)|0,_=Math.imul(de,Ne),w=w+Math.imul(Z,Pe)|0,u=u+Math.imul(Z,Be)|0,u=u+Math.imul(J,Pe)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(De,Ge)|0,u=u+Math.imul(De,$e)|0,u=u+Math.imul(Fe,Ge)|0,_=_+Math.imul(Fe,$e)|0,w=w+Math.imul(Ve,Le)|0,u=u+Math.imul(Ve,Ue)|0,u=u+Math.imul(He,Le)|0,_=_+Math.imul(He,Ue)|0,w=w+Math.imul(qe,je)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,je)|0,_=_+Math.imul(ke,Ke)|0,w=w+Math.imul(Re,Ce)|0,u=u+Math.imul(Re,ze)|0,u=u+Math.imul(Me,Ce)|0,_=_+Math.imul(Me,ze)|0,w=w+Math.imul(pe,G)|0,u=u+Math.imul(pe,z)|0,u=u+Math.imul(ye,G)|0,_=_+Math.imul(ye,z)|0,w=w+Math.imul(fe,W)|0,u=u+Math.imul(fe,Q)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,Q)|0,w=w+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(te,se)|0,_=_+Math.imul(te,ue)|0;var wt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,w=Math.imul(ne,Pe),u=Math.imul(ne,Be),u=u+Math.imul(de,Pe)|0,_=Math.imul(de,Be),w=w+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(J,Ge)|0,_=_+Math.imul(J,$e)|0,w=w+Math.imul(De,Le)|0,u=u+Math.imul(De,Ue)|0,u=u+Math.imul(Fe,Le)|0,_=_+Math.imul(Fe,Ue)|0,w=w+Math.imul(Ve,je)|0,u=u+Math.imul(Ve,Ke)|0,u=u+Math.imul(He,je)|0,_=_+Math.imul(He,Ke)|0,w=w+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,Ce)|0,_=_+Math.imul(ke,ze)|0,w=w+Math.imul(Re,G)|0,u=u+Math.imul(Re,z)|0,u=u+Math.imul(Me,G)|0,_=_+Math.imul(Me,z)|0,w=w+Math.imul(pe,W)|0,u=u+Math.imul(pe,Q)|0,u=u+Math.imul(ye,W)|0,_=_+Math.imul(ye,Q)|0,w=w+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),w=w+Math.imul(Z,Le)|0,u=u+Math.imul(Z,Ue)|0,u=u+Math.imul(J,Le)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(De,je)|0,u=u+Math.imul(De,Ke)|0,u=u+Math.imul(Fe,je)|0,_=_+Math.imul(Fe,Ke)|0,w=w+Math.imul(Ve,Ce)|0,u=u+Math.imul(Ve,ze)|0,u=u+Math.imul(He,Ce)|0,_=_+Math.imul(He,ze)|0,w=w+Math.imul(qe,G)|0,u=u+Math.imul(qe,z)|0,u=u+Math.imul(ke,G)|0,_=_+Math.imul(ke,z)|0,w=w+Math.imul(Re,W)|0,u=u+Math.imul(Re,Q)|0,u=u+Math.imul(Me,W)|0,_=_+Math.imul(Me,Q)|0,w=w+Math.imul(pe,se)|0,u=u+Math.imul(pe,ue)|0,u=u+Math.imul(ye,se)|0,_=_+Math.imul(ye,ue)|0;var dt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(ne,Le),u=Math.imul(ne,Ue),u=u+Math.imul(de,Le)|0,_=Math.imul(de,Ue),w=w+Math.imul(Z,je)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(J,je)|0,_=_+Math.imul(J,Ke)|0,w=w+Math.imul(De,Ce)|0,u=u+Math.imul(De,ze)|0,u=u+Math.imul(Fe,Ce)|0,_=_+Math.imul(Fe,ze)|0,w=w+Math.imul(Ve,G)|0,u=u+Math.imul(Ve,z)|0,u=u+Math.imul(He,G)|0,_=_+Math.imul(He,z)|0,w=w+Math.imul(qe,W)|0,u=u+Math.imul(qe,Q)|0,u=u+Math.imul(ke,W)|0,_=_+Math.imul(ke,Q)|0,w=w+Math.imul(Re,se)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Me,se)|0,_=_+Math.imul(Me,ue)|0;var ot=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,w=Math.imul(ne,je),u=Math.imul(ne,Ke),u=u+Math.imul(de,je)|0,_=Math.imul(de,Ke),w=w+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(J,Ce)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(De,G)|0,u=u+Math.imul(De,z)|0,u=u+Math.imul(Fe,G)|0,_=_+Math.imul(Fe,z)|0,w=w+Math.imul(Ve,W)|0,u=u+Math.imul(Ve,Q)|0,u=u+Math.imul(He,W)|0,_=_+Math.imul(He,Q)|0,w=w+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,_=_+Math.imul(ke,ue)|0;var ft=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(ne,Ce),u=Math.imul(ne,ze),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,ze),w=w+Math.imul(Z,G)|0,u=u+Math.imul(Z,z)|0,u=u+Math.imul(J,G)|0,_=_+Math.imul(J,z)|0,w=w+Math.imul(De,W)|0,u=u+Math.imul(De,Q)|0,u=u+Math.imul(Fe,W)|0,_=_+Math.imul(Fe,Q)|0,w=w+Math.imul(Ve,se)|0,u=u+Math.imul(Ve,ue)|0,u=u+Math.imul(He,se)|0,_=_+Math.imul(He,ue)|0;var ut=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(ne,G),u=Math.imul(ne,z),u=u+Math.imul(de,G)|0,_=Math.imul(de,z),w=w+Math.imul(Z,W)|0,u=u+Math.imul(Z,Q)|0,u=u+Math.imul(J,W)|0,_=_+Math.imul(J,Q)|0,w=w+Math.imul(De,se)|0,u=u+Math.imul(De,ue)|0,u=u+Math.imul(Fe,se)|0,_=_+Math.imul(Fe,ue)|0;var rt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(ne,W),u=Math.imul(ne,Q),u=u+Math.imul(de,W)|0,_=Math.imul(de,Q),w=w+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(J,se)|0,_=_+Math.imul(J,ue)|0;var ve=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,w=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(T+w|0)+((u&8191)<<13)|0;return T=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=bt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=ve,A[18]=_e,T!==0&&(A[19]=T,p.length++),p},"comb10MulTo");Math.imul||(O=I);function N(S,c,d){d.negative=c.negative^S.negative,d.length=S.length+c.length;for(var p=0,x=0,v=0;v<d.length-1;v++){var A=x;x=0;for(var T=p&67108863,w=Math.min(v,c.length-1),u=Math.max(0,v-S.length+1);u<=w;u++){var _=v-u,F=S.words[_]|0,H=c.words[u]|0,D=F*H,$=D&67108863;A=A+(D/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[v]=T,p=A,A=x}return p!==0?d.words[v]=p:d.length--,d.strip()}o(N,"bigMulTo");function k(S,c,d){var p=new C;return p.mulp(S,c,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var p,x=this.length+c.length;return this.length===10&&c.length===10?p=O(this,c,d):x<63?p=I(this,c,d):x<1024?p=N(this,c,d):p=k(this,c,d),p},"mulTo");function C(S,c){this.x=S,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),p=i.prototype._countBits(c)-1,x=0;x<c;x++)d[x]=this.revBin(x,p,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,p){if(c===0||c===p-1)return c;for(var x=0,v=0;v<d;v++)x|=(c&1)<<d-v-1,c>>=1;return x},"revBin"),C.prototype.permute=o(function(c,d,p,x,v,A){for(var T=0;T<A;T++)x[T]=d[c[T]],v[T]=p[c[T]]},"permute"),C.prototype.transform=o(function(c,d,p,x,v,A){this.permute(A,c,d,p,x,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,u=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),F=0;F<v;F+=w)for(var H=u,D=_,$=0;$<T;$++){var ee=p[F+$],te=x[F+$],Oe=p[F+$+T],fe=x[F+$+T],le=H*Oe-D*fe;fe=H*fe+D*Oe,Oe=le,p[F+$]=ee+Oe,x[F+$]=te+fe,p[F+$+T]=ee-Oe,x[F+$+T]=te-fe,$!==w&&(le=u*H-_*D,D=u*D+_*H,H=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var p=Math.max(d,c)|1,x=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+x},"guessLen13b"),C.prototype.conjugate=o(function(c,d,p){if(!(p<=1))for(var x=0;x<p/2;x++){var v=c[x];c[x]=c[p-x-1],c[p-x-1]=v,v=d[x],d[x]=-d[p-x-1],d[p-x-1]=-v}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var p=0,x=0;x<d/2;x++){var v=Math.round(c[2*x+1]/d)*8192+Math.round(c[2*x]/d)+p;c[x]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,p,x){for(var v=0,A=0;A<d;A++)v=v+(c[A]|0),p[2*A]=v&8191,v=v>>>13,p[2*A+1]=v&8191,v=v>>>13;for(A=2*d;A<x;++A)p[A]=0;r(v===0),r((v&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),p=0;p<c;p++)d[p]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,p){var x=2*this.guessLen13b(c.length,d.length),v=this.makeRBT(x),A=this.stub(x),T=new Array(x),w=new Array(x),u=new Array(x),_=new Array(x),F=new Array(x),H=new Array(x),D=p.words;D.length=x,this.convert13b(c.words,c.length,T,x),this.convert13b(d.words,d.length,_,x),this.transform(T,A,w,u,x,v),this.transform(_,A,F,H,x,v);for(var $=0;$<x;$++){var ee=w[$]*F[$]-u[$]*H[$];u[$]=w[$]*H[$]+u[$]*F[$],w[$]=ee}return this.conjugate(w,u,x),this.transform(w,u,D,A,x,v),this.conjugate(D,A,x),this.normalize13b(D,x),p.negative=c.negative^d.negative,p.length=c.length+d.length,p.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),k(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,p=0;p<this.length;p++){var x=(this.words[p]|0)*c,v=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=v>>>26,this.words[p]=v&67108863}return d!==0&&(this.words[p]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=E(c);if(d.length===0)return new i(1);for(var p=this,x=0;x<d.length&&d[x]===0;x++,p=p.sqr());if(++x<d.length)for(var v=p.sqr();x<d.length;x++,v=v.sqr())d[x]!==0&&(p=p.mul(v));return p},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=67108863>>>26-d<<26-d,v;if(d!==0){var A=0;for(v=0;v<this.length;v++){var T=this.words[v]&x,w=(this.words[v]|0)-T<<d;this.words[v]=w|A,A=T>>>26-d}A&&(this.words[v]=A,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,p){r(typeof c=="number"&&c>=0);var x;d?x=(d-d%26)/26:x=0;var v=c%26,A=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(x-=A,x=Math.max(0,x),w){for(var u=0;u<A;u++)w.words[u]=this.words[u];w.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=x);u--){var F=this.words[u]|0;this.words[u]=_<<26-v|F>>>v,_=F&T}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,p){return r(this.negative===0),this.iushrn(c,d,p)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return!1;var v=this.words[p];return!!(v&x)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,p){var x=c.length+p,v;this._expand(x);var A,T=0;for(v=0;v<c.length;v++){A=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*d;A-=w&67108863,T=(A>>26)-(w/67108864|0),this.words[v+p]=A&67108863}for(;v<this.length-p;v++)A=(this.words[v+p]|0)+T,T=A>>26,this.words[v+p]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,v=0;v<this.length;v++)A=-(this.words[v]|0)+T,T=A>>26,this.words[v]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var p=this.length-c.length,x=this.clone(),v=c,A=v.words[v.length-1]|0,T=this._countBits(A);p=26-T,p!==0&&(v=v.ushln(p),x.iushln(p),A=v.words[v.length-1]|0);var w=x.length-v.length,u;if(d!=="mod"){u=new i(null),u.length=w+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var F=x.clone()._ishlnsubmul(v,1,w);F.negative===0&&(x=F,u&&(u.words[w]=1));for(var H=w-1;H>=0;H--){var D=(x.words[v.length+H]|0)*67108864+(x.words[v.length+H-1]|0);for(D=Math.min(D/A|0,67108863),x._ishlnsubmul(v,D,H);x.negative!==0;)D--,x.negative=0,x._ishlnsubmul(v,1,H),x.isZero()||(x.negative^=1);u&&(u.words[H]=D)}return u&&u.strip(),x.strip(),d!=="div"&&p!==0&&x.iushrn(p),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(c,d,p){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,v,A;return this.negative!==0&&c.negative===0?(A=this.neg().divmod(c,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:x,mod:v}):this.negative===0&&c.negative!==0?(A=this.divmod(c.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&c.negative?(A=this.neg().divmod(c.neg(),d),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:A.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(c):d.mod,x=c.ushrn(1),v=c.andln(1),A=p.cmp(x);return A<0||v===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,p=0,x=this.length-1;x>=0;x--)p=(d*p+(this.words[x]|0))%c;return p},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,p=this.length-1;p>=0;p--){var x=(this.words[p]|0)+d*67108864;this.words[p]=x/c|0,d=x%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=new i(0),T=new i(1),w=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++w;for(var u=p.clone(),_=d.clone();!d.isZero();){for(var F=0,H=1;!(d.words[0]&H)&&F<26;++F,H<<=1);if(F>0)for(d.iushrn(F);F-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(u),v.isub(_)),x.iushrn(1),v.iushrn(1);for(var D=0,$=1;!(p.words[0]&$)&&D<26;++D,$<<=1);if(D>0)for(p.iushrn(D);D-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(_)),A.iushrn(1),T.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(A),v.isub(T)):(p.isub(d),A.isub(x),T.isub(v))}return{a:A,b:T,gcd:p.iushln(w)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(d.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,_=1;!(p.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(p.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(v)):(p.isub(d),v.isub(x))}var F;return d.cmpn(1)===0?F=x:F=v,F.cmpn(0)<0&&F.iadd(c),F},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),p=c.clone();d.negative=0,p.negative=0;for(var x=0;d.isEven()&&p.isEven();x++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=d.cmp(p);if(v<0){var A=d;d=p,p=A}else if(v===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(x)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=x,this;for(var v=x,A=p;v!==0&&A<this.length;A++){var T=this.words[A]|0;T+=v,v=T>>>26,T&=67108863,this.words[A]=T}return v!==0&&(this.words[A]=v,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var p;if(this.length>1)p=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var x=this.words[0]|0;p=x===c?0:x<c?-1:1}return this.negative!==0?-p|0:p},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var x=this.words[p]|0,v=c.words[p]|0;if(x!==v){x<v?d=-1:x>v&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,c){this.name=S,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var x=p<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var p=4194303,x=Math.min(c.length,9),v=0;v<x;v++)d.words[v]=c.words[v];if(d.length=x,c.length<=9){c.words[0]=0,c.length=1;return}var A=c.words[9];for(d.words[d.length++]=A&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|A>>>22,A=T}A>>>=22,c.words[v-10]=A,A===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,p=0;p<c.length;p++){var x=c.words[p]|0;d+=x*977,c.words[p]=d&67108863,d=x*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function q(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(q,"P224"),n(q,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function re(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(re,"P25519"),n(re,M),re.prototype.imulK=o(function(c){for(var d=0,p=0;p<c.length;p++){var x=(c.words[p]|0)*19+d,v=x&67108863;x>>>=26,c.words[p]=v,d=x}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(L[c])return L[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new q;else if(c==="p192")d=new j;else if(c==="p25519")d=new re;else throw new Error("Unknown prime "+c);return L[c]=d,d},"prime");function Y(S){if(typeof S=="string"){var c=i._prime(S);this.m=c.p,this.prime=c}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var p=c.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var p=c.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var p=c.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var p=c.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(c,p)}for(var x=this.m.subn(1),v=0;!x.isZero()&&x.andln(1)===0;)v++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),w=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,w).cmp(T)!==0;)u.redIAdd(T);for(var _=this.pow(u,x),F=this.pow(c,x.addn(1).iushrn(1)),H=this.pow(c,x),D=v;H.cmp(A)!==0;){for(var $=H,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<D);var te=this.pow(_,new i(1).iushln(D-ee-1));F=F.redMul(te),_=te.redSqr(),H=H.redMul(_),D=ee}return F},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var p=4,x=new Array(1<<p);x[0]=new i(1).toRed(this),x[1]=c;for(var v=2;v<x.length;v++)x[v]=this.mul(x[v-1],c);var A=x[0],T=0,w=0,u=d.bitLength()%26;for(u===0&&(u=26),v=d.length-1;v>=0;v--){for(var _=d.words[v],F=u-1;F>=0;F--){var H=_>>F&1;if(A!==x[0]&&(A=this.sqr(A)),H===0&&T===0){w=0;continue}T<<=1,T|=H,w++,!(w!==p&&(v!==0||F!==0))&&(A=this.mul(A,x[T]),w=0,T=0)}u=26}return A},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new X(c)},"mont");function X(S){Y.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,Y),X.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var p=c.mul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof VP>"u"||VP,Jce)});var x8=V((STt,zP)=>{m();g();var jP;zP.exports=o(function(e){return jP||(jP=new ip(null)),jP.generate(e)},"rand");function ip(t){this.rand=t}o(ip,"Rand");zP.exports.Rand=ip;ip.prototype.generate=o(function(e){return this._rand(e)},"generate");ip.prototype._rand=o(function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r},"_rand");if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?ip.prototype._rand=o(function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r},"_rand"):self.msCrypto&&self.msCrypto.getRandomValues?ip.prototype._rand=o(function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r},"_rand"):typeof self=="object"&&(ip.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(KP=Bb(),typeof KP.randomBytes!="function")throw new Error("Not supported");ip.prototype._rand=o(function(e){return KP.randomBytes(e)},"_rand")}catch{}var KP});var GP=V((TTt,efe)=>{m();g();var Fg=Qce(),QHe=x8();function qg(t){this.rand=t||new QHe.Rand}o(qg,"MillerRabin");efe.exports=qg;qg.create=o(function(e){return new qg(e)},"create");qg.prototype._randbelow=o(function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new Fg(this.rand.generate(n));while(i.cmp(e)>=0);return i},"_randbelow");qg.prototype._randrange=o(function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))},"_randrange");qg.prototype.test=o(function(e,r,n){var i=e.bitLength(),s=Fg.mont(e),a=new Fg(1).toRed(s);r||(r=Math.max(1,i/48|0));for(var f=e.subn(1),l=0;!f.testn(l);l++);for(var h=e.shrn(l),b=f.toRed(s),y=!0;r>0;r--){var E=this._randrange(new Fg(2),f);n&&n(E);var I=E.toRed(s).redPow(h);if(!(I.cmp(a)===0||I.cmp(b)===0)){for(var O=1;O<l;O++){if(I=I.redSqr(),I.cmp(a)===0)return!1;if(I.cmp(b)===0)break}if(O===l)return!1}}return y},"test");qg.prototype.getDivisor=o(function(e,r){var n=e.bitLength(),i=Fg.mont(e),s=new Fg(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var a=e.subn(1),f=0;!a.testn(f);f++);for(var l=e.shrn(f),h=a.toRed(i);r>0;r--){var b=this._randrange(new Fg(2),a),y=e.gcd(b);if(y.cmpn(1)!==0)return y;var E=b.toRed(i).redPow(l);if(!(E.cmp(s)===0||E.cmp(h)===0)){for(var I=1;I<f;I++){if(E=E.redSqr(),E.cmp(s)===0)return E.fromRed().subn(1).gcd(e);if(E.cmp(h)===0)break}if(I===f)return E=E.redSqr(),E.fromRed().subn(1).gcd(e)}}return!1},"getDivisor")});var JP=V((PTt,nfe)=>{m();g();var eFe=Eg();nfe.exports=ZP;ZP.simpleSieve=YP;ZP.fermatTest=XP;var us=qP(),tFe=new us(24),rFe=GP(),tfe=new rFe,nFe=new us(1),WP=new us(2),iFe=new us(5),MTt=new us(16),CTt=new us(8),oFe=new us(10),sFe=new us(3),kTt=new us(7),aFe=new us(11),rfe=new us(4),BTt=new us(12),$P=null;function cFe(){if($P!==null)return $P;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),s=0;s<r&&e[s]<=i&&n%e[s]!==0;s++);r!==s&&e[s]<=i||(e[r++]=n)}return $P=e,e}o(cFe,"_getPrimes");function YP(t){for(var e=cFe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}o(YP,"simpleSieve");function XP(t){var e=us.mont(t);return WP.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}o(XP,"fermatTest");function ZP(t,e){if(t<16)return e===2||e===5?new us([140,123]):new us([140,39]);e=new us(e);for(var r,n;;){for(r=new us(eFe(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(nFe),r.testn(1)||r.iadd(WP),e.cmp(WP)){if(!e.cmp(iFe))for(;r.mod(oFe).cmp(sFe);)r.iadd(rfe)}else for(;r.mod(tFe).cmp(aFe);)r.iadd(rfe);if(n=r.shrn(1),YP(n)&&YP(r)&&XP(n)&&XP(r)&&tfe.test(n)&&tfe.test(r))return r}}o(ZP,"findPrime")});var ife=V((HTt,fFe)=>{fFe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var cfe=V((FTt,afe)=>{m();g();var Af=qP(),uFe=GP(),ofe=new uFe,lFe=new Af(24),dFe=new Af(11),hFe=new Af(10),pFe=new Af(3),mFe=new Af(7),sfe=JP(),gFe=Eg();afe.exports=w0;function yFe(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new Af(t),this}o(yFe,"setPublicKey");function bFe(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new Af(t),this}o(bFe,"setPrivateKey");var v8={};function xFe(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in v8)return v8[n];var i=0;if(t.isEven()||!sfe.simpleSieve||!sfe.fermatTest(t)||!ofe.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,v8[n]=i,i;ofe.test(t.shrn(1))||(i+=2);var s;switch(r){case"02":t.mod(lFe).cmp(dFe)&&(i+=8);break;case"05":s=t.mod(hFe),s.cmp(pFe)&&s.cmp(mFe)&&(i+=8);break;default:i+=4}return v8[n]=i,i}o(xFe,"checkPrime");function w0(t,e,r){this.setGenerator(e),this.__prime=new Af(t),this._prime=Af.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=yFe,this.setPrivateKey=bFe):this._primeCode=8}o(w0,"DH");Object.defineProperty(w0.prototype,"verifyError",{enumerable:!0,get:o(function(){return typeof this._primeCode!="number"&&(this._primeCode=xFe(this.__prime,this.__gen)),this._primeCode},"get")});w0.prototype.generateKeys=function(){return this._priv||(this._priv=new Af(gFe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};w0.prototype.computeSecret=function(t){t=new Af(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new Buffer(n.length-r.length);i.fill(0),r=Buffer.concat([i,r])}return r};w0.prototype.getPublicKey=o(function(e){return _8(this._pub,e)},"getPublicKey");w0.prototype.getPrivateKey=o(function(e){return _8(this._priv,e)},"getPrivateKey");w0.prototype.getPrime=function(t){return _8(this.__prime,t)};w0.prototype.getGenerator=function(t){return _8(this._gen,t)};w0.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new Af(t),this};function _8(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}o(_8,"formatReturnValue")});var lfe=V(Pb=>{m();g();var vFe=JP(),ffe=ife(),QP=cfe();function _Fe(t){var e=new Buffer(ffe[t].prime,"hex"),r=new Buffer(ffe[t].gen,"hex");return new QP(e,r)}o(_Fe,"getDiffieHellman");var wFe={binary:!0,hex:!0,base64:!0};function ufe(t,e,r,n){return Buffer.isBuffer(e)||wFe[e]===void 0?ufe(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,n)),typeof t=="number"?new QP(vFe(t,r),r,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,e)),new QP(t,r,!0)))}o(ufe,"createDiffieHellman");Pb.DiffieHellmanGroup=Pb.createDiffieHellmanGroup=Pb.getDiffieHellman=_Fe;Pb.createDiffieHellman=Pb.DiffieHellman=ufe});var w8=V((WTt,pfe)=>{m();g();var Lb=ky(),SFe=Eg();function EFe(t){var e=dfe(t),r=e.toRed(Lb.mont(t.modulus)).redPow(new Lb(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}o(EFe,"blind");function dfe(t){var e=t.modulus.byteLength(),r;do r=new Lb(SFe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}o(dfe,"getr");function hfe(t,e){var r=EFe(e),n=e.modulus.byteLength(),i=new Lb(t).mul(r.blinder).umod(e.modulus),s=i.toRed(Lb.mont(e.prime1)),a=i.toRed(Lb.mont(e.prime2)),f=e.coefficient,l=e.prime1,h=e.prime2,b=s.redPow(e.exponent1).fromRed(),y=a.redPow(e.exponent2).fromRed(),E=b.isub(y).imul(f).umod(l).imul(h);return y.iadd(E).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",n)}o(hfe,"crt");hfe.getr=dfe;pfe.exports=hfe});var mfe=V((JTt,AFe)=>{AFe.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Kl=V((gfe,eL)=>{m();g();(function(t,e){"use strict";function r(S,c){if(!S)throw new Error(c||"Assertion failed")}o(r,"assert");function n(S,c){S.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,c,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(S||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=Cy().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,p){if(typeof c=="number")return this._initNumber(c,d,p);if(typeof c=="object")return this._initArray(c,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var x=0;c[0]==="-"&&(x++,this.negative=1),x<c.length&&(d===16?this._parseHex(c,x,p):(this._parseBase(c,d,x),p==="le"&&this._initArray(this.toArray(),d,p)))},"init"),i.prototype._initNumber=o(function(c,d,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},"_initNumber"),i.prototype._initArray=o(function(c,d,p){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v,A,T=0;if(p==="be")for(x=c.length-1,v=0;x>=0;x-=3)A=c[x]|c[x-1]<<8|c[x-2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(x=0,v=0;x<c.length;x+=3)A=c[x]|c[x+1]<<8|c[x+2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()},"_initArray");function a(S,c){var d=S.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(S,c,d){var p=a(S,d);return d-1>=c&&(p|=a(S,d-1)<<4),p}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,p){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v=0,A=0,T;if(p==="be")for(x=c.length-1;x>=d;x-=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8;else{var w=c.length-d;for(x=w%2===0?d+1:d;x<c.length;x+=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8}this.strip()},"_parseHex");function l(S,c,d,p){for(var x=0,v=Math.min(S.length,d),A=c;A<v;A++){var T=S.charCodeAt(A)-48;x*=p,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,p){this.words=[0],this.length=1;for(var x=0,v=1;v<=67108863;v*=d)x++;x--,v=v/d|0;for(var A=c.length-p,T=A%x,w=Math.min(A,A-T)+p,u=0,_=p;_<w;_+=x)u=l(c,_,_+x,d),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var F=1;for(u=l(c,_,c.length,d),_=0;_<T;_++)F*=d;this.imuln(F),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var p;if(c===16||c==="hex"){p="";for(var x=0,v=0,A=0;A<this.length;A++){var T=this.words[A],w=((T<<x|v)&16777215).toString(16);v=T>>>24-x&16777215,v!==0||A!==this.length-1?p=h[6-w.length]+w+p:p=w+p,x+=2,x>=26&&(x-=26,A--)}for(v!==0&&(p=v.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var u=b[c],_=y[c];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var H=F.modn(_).toString(c);F=F.idivn(_),F.isZero()?p=H+p:p=h[u-H.length]+H+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,p){var x=this.byteLength(),v=p||Math.max(1,x);r(x<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new c(v),w,u,_=this.clone();if(A){for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[u]=w;for(;u<v;u++)T[u]=0}else{for(u=0;u<v-x;u++)T[u]=0;for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[v-u-1]=w}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,p=0;return d&8191||(p+=13,d>>>=13),d&127||(p+=7,d>>>=7),d&15||(p+=4,d>>>=4),d&3||(p+=2,d>>>=2),d&1||p++,p},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function E(S){for(var c=new Array(S.bitLength()),d=0;d<c.length;d++){var p=d/26|0,x=d%26;c[d]=(S.words[p]&1<<x)>>>x}return c}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(c+=p,p!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,p;this.length>c.length?(d=this,p=c):(d=c,p=this);for(var x=0;x<p.length;x++)this.words[x]=d.words[x]^p.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,p=c%26;this._expand(d),p>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return p>0&&(this.words[x]=~this.words[x]&67108863>>26-p),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var p=c/26|0,x=c%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<x:this.words[p]=this.words[p]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var p,x;this.length>c.length?(p=this,x=c):(p=c,x=this);for(var v=0,A=0;A<x.length;A++)d=(p.words[A]|0)+(x.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;for(;v!==0&&A<p.length;A++)d=(p.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,v;p>0?(x=this,v=c):(x=c,v=this);for(var A=0,T=0;T<v.length;T++)d=(x.words[T]|0)-(v.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function I(S,c,d){d.negative=c.negative^S.negative;var p=S.length+c.length|0;d.length=p,p=p-1|0;var x=S.words[0]|0,v=c.words[0]|0,A=x*v,T=A&67108863,w=A/67108864|0;d.words[0]=T;for(var u=1;u<p;u++){for(var _=w>>>26,F=w&67108863,H=Math.min(u,c.length-1),D=Math.max(0,u-S.length+1);D<=H;D++){var $=u-D|0;x=S.words[$]|0,v=c.words[D]|0,A=x*v+F,_+=A/67108864|0,F=A&67108863}d.words[u]=F|0,w=_|0}return w!==0?d.words[u]=w|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(c,d,p){var x=c.words,v=d.words,A=p.words,T=0,w,u,_,F=x[0]|0,H=F&8191,D=F>>>13,$=x[1]|0,ee=$&8191,te=$>>>13,Oe=x[2]|0,fe=Oe&8191,le=Oe>>>13,ge=x[3]|0,pe=ge&8191,ye=ge>>>13,Cr=x[4]|0,Re=Cr&8191,Me=Cr>>>13,ti=x[5]|0,qe=ti&8191,ke=ti>>>13,ri=x[6]|0,Ve=ri&8191,He=ri>>>13,Ei=x[7]|0,De=Ei&8191,Fe=Ei>>>13,xn=x[8]|0,Z=xn&8191,J=xn>>>13,he=x[9]|0,ne=he&8191,de=he>>>13,xt=v[0]|0,xe=xt&8191,Ee=xt>>>13,ir=v[1]|0,Ae=ir&8191,Ne=ir>>>13,ni=v[2]|0,Pe=ni&8191,Be=ni>>>13,oo=v[3]|0,Ge=oo&8191,$e=oo>>>13,Un=v[4]|0,Le=Un&8191,Ue=Un>>>13,$i=v[5]|0,je=$i&8191,Ke=$i>>>13,vo=v[6]|0,Ce=vo&8191,ze=vo>>>13,K=v[7]|0,G=K&8191,z=K>>>13,P=v[8]|0,W=P&8191,Q=P>>>13,me=v[9]|0,se=me&8191,ue=me>>>13;p.negative=c.negative^d.negative,p.length=19,w=Math.imul(H,xe),u=Math.imul(H,Ee),u=u+Math.imul(D,xe)|0,_=Math.imul(D,Ee);var lt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(ee,xe),u=Math.imul(ee,Ee),u=u+Math.imul(te,xe)|0,_=Math.imul(te,Ee),w=w+Math.imul(H,Ae)|0,u=u+Math.imul(H,Ne)|0,u=u+Math.imul(D,Ae)|0,_=_+Math.imul(D,Ne)|0;var nt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(fe,xe),u=Math.imul(fe,Ee),u=u+Math.imul(le,xe)|0,_=Math.imul(le,Ee),w=w+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(te,Ae)|0,_=_+Math.imul(te,Ne)|0,w=w+Math.imul(H,Pe)|0,u=u+Math.imul(H,Be)|0,u=u+Math.imul(D,Pe)|0,_=_+Math.imul(D,Be)|0;var Pt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(pe,xe),u=Math.imul(pe,Ee),u=u+Math.imul(ye,xe)|0,_=Math.imul(ye,Ee),w=w+Math.imul(fe,Ae)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Ae)|0,_=_+Math.imul(le,Ne)|0,w=w+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Be)|0,u=u+Math.imul(te,Pe)|0,_=_+Math.imul(te,Be)|0,w=w+Math.imul(H,Ge)|0,u=u+Math.imul(H,$e)|0,u=u+Math.imul(D,Ge)|0,_=_+Math.imul(D,$e)|0;var st=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(Re,xe),u=Math.imul(Re,Ee),u=u+Math.imul(Me,xe)|0,_=Math.imul(Me,Ee),w=w+Math.imul(pe,Ae)|0,u=u+Math.imul(pe,Ne)|0,u=u+Math.imul(ye,Ae)|0,_=_+Math.imul(ye,Ne)|0,w=w+Math.imul(fe,Pe)|0,u=u+Math.imul(fe,Be)|0,u=u+Math.imul(le,Pe)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(te,Ge)|0,_=_+Math.imul(te,$e)|0,w=w+Math.imul(H,Le)|0,u=u+Math.imul(H,Ue)|0,u=u+Math.imul(D,Le)|0,_=_+Math.imul(D,Ue)|0;var bt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(qe,xe),u=Math.imul(qe,Ee),u=u+Math.imul(ke,xe)|0,_=Math.imul(ke,Ee),w=w+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Me,Ae)|0,_=_+Math.imul(Me,Ne)|0,w=w+Math.imul(pe,Pe)|0,u=u+Math.imul(pe,Be)|0,u=u+Math.imul(ye,Pe)|0,_=_+Math.imul(ye,Be)|0,w=w+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,w=w+Math.imul(ee,Le)|0,u=u+Math.imul(ee,Ue)|0,u=u+Math.imul(te,Le)|0,_=_+Math.imul(te,Ue)|0,w=w+Math.imul(H,je)|0,u=u+Math.imul(H,Ke)|0,u=u+Math.imul(D,je)|0,_=_+Math.imul(D,Ke)|0;var vt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,w=Math.imul(Ve,xe),u=Math.imul(Ve,Ee),u=u+Math.imul(He,xe)|0,_=Math.imul(He,Ee),w=w+Math.imul(qe,Ae)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Ae)|0,_=_+Math.imul(ke,Ne)|0,w=w+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Be)|0,u=u+Math.imul(Me,Pe)|0,_=_+Math.imul(Me,Be)|0,w=w+Math.imul(pe,Ge)|0,u=u+Math.imul(pe,$e)|0,u=u+Math.imul(ye,Ge)|0,_=_+Math.imul(ye,$e)|0,w=w+Math.imul(fe,Le)|0,u=u+Math.imul(fe,Ue)|0,u=u+Math.imul(le,Le)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ee,je)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(te,je)|0,_=_+Math.imul(te,Ke)|0,w=w+Math.imul(H,Ce)|0,u=u+Math.imul(H,ze)|0,u=u+Math.imul(D,Ce)|0,_=_+Math.imul(D,ze)|0;var It=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(It>>>26)|0,It&=67108863,w=Math.imul(De,xe),u=Math.imul(De,Ee),u=u+Math.imul(Fe,xe)|0,_=Math.imul(Fe,Ee),w=w+Math.imul(Ve,Ae)|0,u=u+Math.imul(Ve,Ne)|0,u=u+Math.imul(He,Ae)|0,_=_+Math.imul(He,Ne)|0,w=w+Math.imul(qe,Pe)|0,u=u+Math.imul(qe,Be)|0,u=u+Math.imul(ke,Pe)|0,_=_+Math.imul(ke,Be)|0,w=w+Math.imul(Re,Ge)|0,u=u+Math.imul(Re,$e)|0,u=u+Math.imul(Me,Ge)|0,_=_+Math.imul(Me,$e)|0,w=w+Math.imul(pe,Le)|0,u=u+Math.imul(pe,Ue)|0,u=u+Math.imul(ye,Le)|0,_=_+Math.imul(ye,Ue)|0,w=w+Math.imul(fe,je)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,Ke)|0,w=w+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(te,Ce)|0,_=_+Math.imul(te,ze)|0,w=w+Math.imul(H,G)|0,u=u+Math.imul(H,z)|0,u=u+Math.imul(D,G)|0,_=_+Math.imul(D,z)|0;var At=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(Z,xe),u=Math.imul(Z,Ee),u=u+Math.imul(J,xe)|0,_=Math.imul(J,Ee),w=w+Math.imul(De,Ae)|0,u=u+Math.imul(De,Ne)|0,u=u+Math.imul(Fe,Ae)|0,_=_+Math.imul(Fe,Ne)|0,w=w+Math.imul(Ve,Pe)|0,u=u+Math.imul(Ve,Be)|0,u=u+Math.imul(He,Pe)|0,_=_+Math.imul(He,Be)|0,w=w+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,_=_+Math.imul(ke,$e)|0,w=w+Math.imul(Re,Le)|0,u=u+Math.imul(Re,Ue)|0,u=u+Math.imul(Me,Le)|0,_=_+Math.imul(Me,Ue)|0,w=w+Math.imul(pe,je)|0,u=u+Math.imul(pe,Ke)|0,u=u+Math.imul(ye,je)|0,_=_+Math.imul(ye,Ke)|0,w=w+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ee,G)|0,u=u+Math.imul(ee,z)|0,u=u+Math.imul(te,G)|0,_=_+Math.imul(te,z)|0,w=w+Math.imul(H,W)|0,u=u+Math.imul(H,Q)|0,u=u+Math.imul(D,W)|0,_=_+Math.imul(D,Q)|0;var _t=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,w=Math.imul(ne,xe),u=Math.imul(ne,Ee),u=u+Math.imul(de,xe)|0,_=Math.imul(de,Ee),w=w+Math.imul(Z,Ae)|0,u=u+Math.imul(Z,Ne)|0,u=u+Math.imul(J,Ae)|0,_=_+Math.imul(J,Ne)|0,w=w+Math.imul(De,Pe)|0,u=u+Math.imul(De,Be)|0,u=u+Math.imul(Fe,Pe)|0,_=_+Math.imul(Fe,Be)|0,w=w+Math.imul(Ve,Ge)|0,u=u+Math.imul(Ve,$e)|0,u=u+Math.imul(He,Ge)|0,_=_+Math.imul(He,$e)|0,w=w+Math.imul(qe,Le)|0,u=u+Math.imul(qe,Ue)|0,u=u+Math.imul(ke,Le)|0,_=_+Math.imul(ke,Ue)|0,w=w+Math.imul(Re,je)|0,u=u+Math.imul(Re,Ke)|0,u=u+Math.imul(Me,je)|0,_=_+Math.imul(Me,Ke)|0,w=w+Math.imul(pe,Ce)|0,u=u+Math.imul(pe,ze)|0,u=u+Math.imul(ye,Ce)|0,_=_+Math.imul(ye,ze)|0,w=w+Math.imul(fe,G)|0,u=u+Math.imul(fe,z)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,z)|0,w=w+Math.imul(ee,W)|0,u=u+Math.imul(ee,Q)|0,u=u+Math.imul(te,W)|0,_=_+Math.imul(te,Q)|0,w=w+Math.imul(H,se)|0,u=u+Math.imul(H,ue)|0,u=u+Math.imul(D,se)|0,_=_+Math.imul(D,ue)|0;var St=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(St>>>26)|0,St&=67108863,w=Math.imul(ne,Ae),u=Math.imul(ne,Ne),u=u+Math.imul(de,Ae)|0,_=Math.imul(de,Ne),w=w+Math.imul(Z,Pe)|0,u=u+Math.imul(Z,Be)|0,u=u+Math.imul(J,Pe)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(De,Ge)|0,u=u+Math.imul(De,$e)|0,u=u+Math.imul(Fe,Ge)|0,_=_+Math.imul(Fe,$e)|0,w=w+Math.imul(Ve,Le)|0,u=u+Math.imul(Ve,Ue)|0,u=u+Math.imul(He,Le)|0,_=_+Math.imul(He,Ue)|0,w=w+Math.imul(qe,je)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,je)|0,_=_+Math.imul(ke,Ke)|0,w=w+Math.imul(Re,Ce)|0,u=u+Math.imul(Re,ze)|0,u=u+Math.imul(Me,Ce)|0,_=_+Math.imul(Me,ze)|0,w=w+Math.imul(pe,G)|0,u=u+Math.imul(pe,z)|0,u=u+Math.imul(ye,G)|0,_=_+Math.imul(ye,z)|0,w=w+Math.imul(fe,W)|0,u=u+Math.imul(fe,Q)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,Q)|0,w=w+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(te,se)|0,_=_+Math.imul(te,ue)|0;var wt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,w=Math.imul(ne,Pe),u=Math.imul(ne,Be),u=u+Math.imul(de,Pe)|0,_=Math.imul(de,Be),w=w+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(J,Ge)|0,_=_+Math.imul(J,$e)|0,w=w+Math.imul(De,Le)|0,u=u+Math.imul(De,Ue)|0,u=u+Math.imul(Fe,Le)|0,_=_+Math.imul(Fe,Ue)|0,w=w+Math.imul(Ve,je)|0,u=u+Math.imul(Ve,Ke)|0,u=u+Math.imul(He,je)|0,_=_+Math.imul(He,Ke)|0,w=w+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,Ce)|0,_=_+Math.imul(ke,ze)|0,w=w+Math.imul(Re,G)|0,u=u+Math.imul(Re,z)|0,u=u+Math.imul(Me,G)|0,_=_+Math.imul(Me,z)|0,w=w+Math.imul(pe,W)|0,u=u+Math.imul(pe,Q)|0,u=u+Math.imul(ye,W)|0,_=_+Math.imul(ye,Q)|0,w=w+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),w=w+Math.imul(Z,Le)|0,u=u+Math.imul(Z,Ue)|0,u=u+Math.imul(J,Le)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(De,je)|0,u=u+Math.imul(De,Ke)|0,u=u+Math.imul(Fe,je)|0,_=_+Math.imul(Fe,Ke)|0,w=w+Math.imul(Ve,Ce)|0,u=u+Math.imul(Ve,ze)|0,u=u+Math.imul(He,Ce)|0,_=_+Math.imul(He,ze)|0,w=w+Math.imul(qe,G)|0,u=u+Math.imul(qe,z)|0,u=u+Math.imul(ke,G)|0,_=_+Math.imul(ke,z)|0,w=w+Math.imul(Re,W)|0,u=u+Math.imul(Re,Q)|0,u=u+Math.imul(Me,W)|0,_=_+Math.imul(Me,Q)|0,w=w+Math.imul(pe,se)|0,u=u+Math.imul(pe,ue)|0,u=u+Math.imul(ye,se)|0,_=_+Math.imul(ye,ue)|0;var dt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(ne,Le),u=Math.imul(ne,Ue),u=u+Math.imul(de,Le)|0,_=Math.imul(de,Ue),w=w+Math.imul(Z,je)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(J,je)|0,_=_+Math.imul(J,Ke)|0,w=w+Math.imul(De,Ce)|0,u=u+Math.imul(De,ze)|0,u=u+Math.imul(Fe,Ce)|0,_=_+Math.imul(Fe,ze)|0,w=w+Math.imul(Ve,G)|0,u=u+Math.imul(Ve,z)|0,u=u+Math.imul(He,G)|0,_=_+Math.imul(He,z)|0,w=w+Math.imul(qe,W)|0,u=u+Math.imul(qe,Q)|0,u=u+Math.imul(ke,W)|0,_=_+Math.imul(ke,Q)|0,w=w+Math.imul(Re,se)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Me,se)|0,_=_+Math.imul(Me,ue)|0;var ot=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,w=Math.imul(ne,je),u=Math.imul(ne,Ke),u=u+Math.imul(de,je)|0,_=Math.imul(de,Ke),w=w+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(J,Ce)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(De,G)|0,u=u+Math.imul(De,z)|0,u=u+Math.imul(Fe,G)|0,_=_+Math.imul(Fe,z)|0,w=w+Math.imul(Ve,W)|0,u=u+Math.imul(Ve,Q)|0,u=u+Math.imul(He,W)|0,_=_+Math.imul(He,Q)|0,w=w+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,_=_+Math.imul(ke,ue)|0;var ft=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(ne,Ce),u=Math.imul(ne,ze),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,ze),w=w+Math.imul(Z,G)|0,u=u+Math.imul(Z,z)|0,u=u+Math.imul(J,G)|0,_=_+Math.imul(J,z)|0,w=w+Math.imul(De,W)|0,u=u+Math.imul(De,Q)|0,u=u+Math.imul(Fe,W)|0,_=_+Math.imul(Fe,Q)|0,w=w+Math.imul(Ve,se)|0,u=u+Math.imul(Ve,ue)|0,u=u+Math.imul(He,se)|0,_=_+Math.imul(He,ue)|0;var ut=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(ne,G),u=Math.imul(ne,z),u=u+Math.imul(de,G)|0,_=Math.imul(de,z),w=w+Math.imul(Z,W)|0,u=u+Math.imul(Z,Q)|0,u=u+Math.imul(J,W)|0,_=_+Math.imul(J,Q)|0,w=w+Math.imul(De,se)|0,u=u+Math.imul(De,ue)|0,u=u+Math.imul(Fe,se)|0,_=_+Math.imul(Fe,ue)|0;var rt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(ne,W),u=Math.imul(ne,Q),u=u+Math.imul(de,W)|0,_=Math.imul(de,Q),w=w+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(J,se)|0,_=_+Math.imul(J,ue)|0;var ve=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,w=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(T+w|0)+((u&8191)<<13)|0;return T=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=bt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=ve,A[18]=_e,T!==0&&(A[19]=T,p.length++),p},"comb10MulTo");Math.imul||(O=I);function N(S,c,d){d.negative=c.negative^S.negative,d.length=S.length+c.length;for(var p=0,x=0,v=0;v<d.length-1;v++){var A=x;x=0;for(var T=p&67108863,w=Math.min(v,c.length-1),u=Math.max(0,v-S.length+1);u<=w;u++){var _=v-u,F=S.words[_]|0,H=c.words[u]|0,D=F*H,$=D&67108863;A=A+(D/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[v]=T,p=A,A=x}return p!==0?d.words[v]=p:d.length--,d.strip()}o(N,"bigMulTo");function k(S,c,d){var p=new C;return p.mulp(S,c,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var p,x=this.length+c.length;return this.length===10&&c.length===10?p=O(this,c,d):x<63?p=I(this,c,d):x<1024?p=N(this,c,d):p=k(this,c,d),p},"mulTo");function C(S,c){this.x=S,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),p=i.prototype._countBits(c)-1,x=0;x<c;x++)d[x]=this.revBin(x,p,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,p){if(c===0||c===p-1)return c;for(var x=0,v=0;v<d;v++)x|=(c&1)<<d-v-1,c>>=1;return x},"revBin"),C.prototype.permute=o(function(c,d,p,x,v,A){for(var T=0;T<A;T++)x[T]=d[c[T]],v[T]=p[c[T]]},"permute"),C.prototype.transform=o(function(c,d,p,x,v,A){this.permute(A,c,d,p,x,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,u=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),F=0;F<v;F+=w)for(var H=u,D=_,$=0;$<T;$++){var ee=p[F+$],te=x[F+$],Oe=p[F+$+T],fe=x[F+$+T],le=H*Oe-D*fe;fe=H*fe+D*Oe,Oe=le,p[F+$]=ee+Oe,x[F+$]=te+fe,p[F+$+T]=ee-Oe,x[F+$+T]=te-fe,$!==w&&(le=u*H-_*D,D=u*D+_*H,H=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var p=Math.max(d,c)|1,x=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+x},"guessLen13b"),C.prototype.conjugate=o(function(c,d,p){if(!(p<=1))for(var x=0;x<p/2;x++){var v=c[x];c[x]=c[p-x-1],c[p-x-1]=v,v=d[x],d[x]=-d[p-x-1],d[p-x-1]=-v}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var p=0,x=0;x<d/2;x++){var v=Math.round(c[2*x+1]/d)*8192+Math.round(c[2*x]/d)+p;c[x]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,p,x){for(var v=0,A=0;A<d;A++)v=v+(c[A]|0),p[2*A]=v&8191,v=v>>>13,p[2*A+1]=v&8191,v=v>>>13;for(A=2*d;A<x;++A)p[A]=0;r(v===0),r((v&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),p=0;p<c;p++)d[p]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,p){var x=2*this.guessLen13b(c.length,d.length),v=this.makeRBT(x),A=this.stub(x),T=new Array(x),w=new Array(x),u=new Array(x),_=new Array(x),F=new Array(x),H=new Array(x),D=p.words;D.length=x,this.convert13b(c.words,c.length,T,x),this.convert13b(d.words,d.length,_,x),this.transform(T,A,w,u,x,v),this.transform(_,A,F,H,x,v);for(var $=0;$<x;$++){var ee=w[$]*F[$]-u[$]*H[$];u[$]=w[$]*H[$]+u[$]*F[$],w[$]=ee}return this.conjugate(w,u,x),this.transform(w,u,D,A,x,v),this.conjugate(D,A,x),this.normalize13b(D,x),p.negative=c.negative^d.negative,p.length=c.length+d.length,p.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),k(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,p=0;p<this.length;p++){var x=(this.words[p]|0)*c,v=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=v>>>26,this.words[p]=v&67108863}return d!==0&&(this.words[p]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=E(c);if(d.length===0)return new i(1);for(var p=this,x=0;x<d.length&&d[x]===0;x++,p=p.sqr());if(++x<d.length)for(var v=p.sqr();x<d.length;x++,v=v.sqr())d[x]!==0&&(p=p.mul(v));return p},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=67108863>>>26-d<<26-d,v;if(d!==0){var A=0;for(v=0;v<this.length;v++){var T=this.words[v]&x,w=(this.words[v]|0)-T<<d;this.words[v]=w|A,A=T>>>26-d}A&&(this.words[v]=A,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,p){r(typeof c=="number"&&c>=0);var x;d?x=(d-d%26)/26:x=0;var v=c%26,A=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(x-=A,x=Math.max(0,x),w){for(var u=0;u<A;u++)w.words[u]=this.words[u];w.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=x);u--){var F=this.words[u]|0;this.words[u]=_<<26-v|F>>>v,_=F&T}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,p){return r(this.negative===0),this.iushrn(c,d,p)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return!1;var v=this.words[p];return!!(v&x)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,p){var x=c.length+p,v;this._expand(x);var A,T=0;for(v=0;v<c.length;v++){A=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*d;A-=w&67108863,T=(A>>26)-(w/67108864|0),this.words[v+p]=A&67108863}for(;v<this.length-p;v++)A=(this.words[v+p]|0)+T,T=A>>26,this.words[v+p]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,v=0;v<this.length;v++)A=-(this.words[v]|0)+T,T=A>>26,this.words[v]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var p=this.length-c.length,x=this.clone(),v=c,A=v.words[v.length-1]|0,T=this._countBits(A);p=26-T,p!==0&&(v=v.ushln(p),x.iushln(p),A=v.words[v.length-1]|0);var w=x.length-v.length,u;if(d!=="mod"){u=new i(null),u.length=w+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var F=x.clone()._ishlnsubmul(v,1,w);F.negative===0&&(x=F,u&&(u.words[w]=1));for(var H=w-1;H>=0;H--){var D=(x.words[v.length+H]|0)*67108864+(x.words[v.length+H-1]|0);for(D=Math.min(D/A|0,67108863),x._ishlnsubmul(v,D,H);x.negative!==0;)D--,x.negative=0,x._ishlnsubmul(v,1,H),x.isZero()||(x.negative^=1);u&&(u.words[H]=D)}return u&&u.strip(),x.strip(),d!=="div"&&p!==0&&x.iushrn(p),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(c,d,p){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,v,A;return this.negative!==0&&c.negative===0?(A=this.neg().divmod(c,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:x,mod:v}):this.negative===0&&c.negative!==0?(A=this.divmod(c.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&c.negative?(A=this.neg().divmod(c.neg(),d),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:A.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(c):d.mod,x=c.ushrn(1),v=c.andln(1),A=p.cmp(x);return A<0||v===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,p=0,x=this.length-1;x>=0;x--)p=(d*p+(this.words[x]|0))%c;return p},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,p=this.length-1;p>=0;p--){var x=(this.words[p]|0)+d*67108864;this.words[p]=x/c|0,d=x%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=new i(0),T=new i(1),w=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++w;for(var u=p.clone(),_=d.clone();!d.isZero();){for(var F=0,H=1;!(d.words[0]&H)&&F<26;++F,H<<=1);if(F>0)for(d.iushrn(F);F-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(u),v.isub(_)),x.iushrn(1),v.iushrn(1);for(var D=0,$=1;!(p.words[0]&$)&&D<26;++D,$<<=1);if(D>0)for(p.iushrn(D);D-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(_)),A.iushrn(1),T.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(A),v.isub(T)):(p.isub(d),A.isub(x),T.isub(v))}return{a:A,b:T,gcd:p.iushln(w)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(d.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,_=1;!(p.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(p.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(v)):(p.isub(d),v.isub(x))}var F;return d.cmpn(1)===0?F=x:F=v,F.cmpn(0)<0&&F.iadd(c),F},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),p=c.clone();d.negative=0,p.negative=0;for(var x=0;d.isEven()&&p.isEven();x++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=d.cmp(p);if(v<0){var A=d;d=p,p=A}else if(v===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(x)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=x,this;for(var v=x,A=p;v!==0&&A<this.length;A++){var T=this.words[A]|0;T+=v,v=T>>>26,T&=67108863,this.words[A]=T}return v!==0&&(this.words[A]=v,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var p;if(this.length>1)p=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var x=this.words[0]|0;p=x===c?0:x<c?-1:1}return this.negative!==0?-p|0:p},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var x=this.words[p]|0,v=c.words[p]|0;if(x!==v){x<v?d=-1:x>v&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,c){this.name=S,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var x=p<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var p=4194303,x=Math.min(c.length,9),v=0;v<x;v++)d.words[v]=c.words[v];if(d.length=x,c.length<=9){c.words[0]=0,c.length=1;return}var A=c.words[9];for(d.words[d.length++]=A&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|A>>>22,A=T}A>>>=22,c.words[v-10]=A,A===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,p=0;p<c.length;p++){var x=c.words[p]|0;d+=x*977,c.words[p]=d&67108863,d=x*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function q(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(q,"P224"),n(q,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function re(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(re,"P25519"),n(re,M),re.prototype.imulK=o(function(c){for(var d=0,p=0;p<c.length;p++){var x=(c.words[p]|0)*19+d,v=x&67108863;x>>>=26,c.words[p]=v,d=x}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(L[c])return L[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new q;else if(c==="p192")d=new j;else if(c==="p25519")d=new re;else throw new Error("Unknown prime "+c);return L[c]=d,d},"prime");function Y(S){if(typeof S=="string"){var c=i._prime(S);this.m=c.p,this.prime=c}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var p=c.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var p=c.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var p=c.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var p=c.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(c,p)}for(var x=this.m.subn(1),v=0;!x.isZero()&&x.andln(1)===0;)v++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),w=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,w).cmp(T)!==0;)u.redIAdd(T);for(var _=this.pow(u,x),F=this.pow(c,x.addn(1).iushrn(1)),H=this.pow(c,x),D=v;H.cmp(A)!==0;){for(var $=H,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<D);var te=this.pow(_,new i(1).iushln(D-ee-1));F=F.redMul(te),_=te.redSqr(),H=H.redMul(_),D=ee}return F},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var p=4,x=new Array(1<<p);x[0]=new i(1).toRed(this),x[1]=c;for(var v=2;v<x.length;v++)x[v]=this.mul(x[v-1],c);var A=x[0],T=0,w=0,u=d.bitLength()%26;for(u===0&&(u=26),v=d.length-1;v>=0;v--){for(var _=d.words[v],F=u-1;F>=0;F--){var H=_>>F&1;if(A!==x[0]&&(A=this.sqr(A)),H===0&&T===0){w=0;continue}T<<=1,T|=H,w++,!(w!==p&&(v!==0||F!==0))&&(A=this.mul(A,x[T]),w=0,T=0)}u=26}return A},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new X(c)},"mont");function X(S){Y.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,Y),X.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var p=c.mul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof eL>"u"||eL,gfe)});var tL=V(xfe=>{"use strict";m();g();var S8=xfe;function IFe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,a=i&255;s?r.push(s,a):r.push(a)}return r}o(IFe,"toArray");S8.toArray=IFe;function yfe(t){return t.length===1?"0"+t:t}o(yfe,"zero2");S8.zero2=yfe;function bfe(t){for(var e="",r=0;r<t.length;r++)e+=yfe(t[r].toString(16));return e}o(bfe,"toHex");S8.toHex=bfe;S8.encode=o(function(e,r){return r==="hex"?bfe(e):e},"encode")});var Kc=V(vfe=>{"use strict";m();g();var Ru=vfe,TFe=Kl(),RFe=jc(),E8=tL();Ru.assert=RFe;Ru.toArray=E8.toArray;Ru.zero2=E8.zero2;Ru.toHex=E8.toHex;Ru.encode=E8.encode;function OFe(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var s=1<<e+1,a=t.clone();for(i=0;i<n.length;i++){var f,l=a.andln(s-1);a.isOdd()?(l>(s>>1)-1?f=(s>>1)-l:f=l,a.isubn(f)):f=0,n[i]=f,a.iushrn(1)}return n}o(OFe,"getNAF");Ru.getNAF=OFe;function NFe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var a=t.andln(3)+n&3,f=e.andln(3)+i&3;a===3&&(a=-1),f===3&&(f=-1);var l;a&1?(s=t.andln(7)+n&7,(s===3||s===5)&&f===2?l=-a:l=a):l=0,r[0].push(l);var h;f&1?(s=e.andln(7)+i&7,(s===3||s===5)&&a===2?h=-f:h=f):h=0,r[1].push(h),2*n===l+1&&(n=1-n),2*i===h+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}o(NFe,"getJSF");Ru.getJSF=NFe;function MFe(t,e,r){var n="_"+e;t.prototype[e]=o(function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)},"cachedProperty")}o(MFe,"cachedProperty");Ru.cachedProperty=MFe;function CFe(t){return typeof t=="string"?Ru.toArray(t,"hex"):t}o(CFe,"parseBytes");Ru.parseBytes=CFe;function kFe(t){return new TFe(t,"hex","le")}o(kFe,"intFromLE");Ru.intFromLE=kFe});var ow=V((uRt,_fe)=>{"use strict";m();g();var Vg=Kl(),iw=Kc(),A8=iw.getNAF,BFe=iw.getJSF,I8=iw.assert;function op(t,e){this.type=t,this.p=new Vg(e.p,16),this.red=e.prime?Vg.red(e.prime):Vg.mont(this.p),this.zero=new Vg(0).toRed(this.red),this.one=new Vg(1).toRed(this.red),this.two=new Vg(2).toRed(this.red),this.n=e.n&&new Vg(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}o(op,"BaseCurve");_fe.exports=op;op.prototype.point=o(function(){throw new Error("Not implemented")},"point");op.prototype.validate=o(function(){throw new Error("Not implemented")},"validate");op.prototype._fixedNafMul=o(function(e,r){I8(e.precomputed);var n=e._getDoubles(),i=A8(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],f,l;for(f=0;f<i.length;f+=n.step){l=0;for(var h=f+n.step-1;h>=f;h--)l=(l<<1)+i[h];a.push(l)}for(var b=this.jpoint(null,null,null),y=this.jpoint(null,null,null),E=s;E>0;E--){for(f=0;f<a.length;f++)l=a[f],l===E?y=y.mixedAdd(n.points[f]):l===-E&&(y=y.mixedAdd(n.points[f].neg()));b=b.add(y)}return b.toP()},"_fixedNafMul");op.prototype._wnafMul=o(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=A8(r,n,this._bitLength),f=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var h=0;l>=0&&a[l]===0;l--)h++;if(l>=0&&h++,f=f.dblp(h),l<0)break;var b=a[l];I8(b!==0),e.type==="affine"?b>0?f=f.mixedAdd(s[b-1>>1]):f=f.mixedAdd(s[-b-1>>1].neg()):b>0?f=f.add(s[b-1>>1]):f=f.add(s[-b-1>>1].neg())}return e.type==="affine"?f.toP():f},"_wnafMul");op.prototype._wnafMulAdd=o(function(e,r,n,i,s){var a=this._wnafT1,f=this._wnafT2,l=this._wnafT3,h=0,b,y,E;for(b=0;b<i;b++){E=r[b];var I=E._getNAFPoints(e);a[b]=I.wnd,f[b]=I.points}for(b=i-1;b>=1;b-=2){var O=b-1,N=b;if(a[O]!==1||a[N]!==1){l[O]=A8(n[O],a[O],this._bitLength),l[N]=A8(n[N],a[N],this._bitLength),h=Math.max(l[O].length,h),h=Math.max(l[N].length,h);continue}var k=[r[O],null,null,r[N]];r[O].y.cmp(r[N].y)===0?(k[1]=r[O].add(r[N]),k[2]=r[O].toJ().mixedAdd(r[N].neg())):r[O].y.cmp(r[N].y.redNeg())===0?(k[1]=r[O].toJ().mixedAdd(r[N]),k[2]=r[O].add(r[N].neg())):(k[1]=r[O].toJ().mixedAdd(r[N]),k[2]=r[O].toJ().mixedAdd(r[N].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],L=BFe(n[O],n[N]);for(h=Math.max(L[0].length,h),l[O]=new Array(h),l[N]=new Array(h),y=0;y<h;y++){var M=L[0][y]|0,U=L[1][y]|0;l[O][y]=C[(M+1)*3+(U+1)],l[N][y]=0,f[O]=k}}var q=this.jpoint(null,null,null),j=this._wnafT4;for(b=h;b>=0;b--){for(var re=0;b>=0;){var Y=!0;for(y=0;y<i;y++)j[y]=l[y][b]|0,j[y]!==0&&(Y=!1);if(!Y)break;re++,b--}if(b>=0&&re++,q=q.dblp(re),b<0)break;for(y=0;y<i;y++){var X=j[y];X!==0&&(X>0?E=f[y][X-1>>1]:X<0&&(E=f[y][-X-1>>1].neg()),E.type==="affine"?q=q.mixedAdd(E):q=q.add(E))}}for(b=0;b<i;b++)f[b]=null;return s?q:q.toP()},"_wnafMulAdd");function If(t,e){this.curve=t,this.type=e,this.precomputed=null}o(If,"BasePoint");op.BasePoint=If;If.prototype.eq=o(function(){throw new Error("Not implemented")},"eq");If.prototype.validate=o(function(){return this.curve.validate(this)},"validate");op.prototype.decodePoint=o(function(e,r){e=iw.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?I8(e[e.length-1]%2===0):e[0]===7&&I8(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");If.prototype.encodeCompressed=o(function(e){return this.encode(e,!0)},"encodeCompressed");If.prototype._encode=o(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");If.prototype.encode=o(function(e,r){return iw.encode(this._encode(r),e)},"encode");If.prototype.precompute=o(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");If.prototype._hasDoubles=o(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");If.prototype._getDoubles=o(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");If.prototype._getNAFPoints=o(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");If.prototype._getBeta=o(function(){return null},"_getBeta");If.prototype.dblp=o(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp")});var Sfe=V((pRt,wfe)=>{"use strict";m();g();var PFe=Kc(),qi=Kl(),rL=hr(),Db=ow(),LFe=PFe.assert;function Tf(t){Db.call(this,"short",t),this.a=new qi(t.a,16).toRed(this.red),this.b=new qi(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(Tf,"ShortCurve");rL(Tf,Db);wfe.exports=Tf;Tf.prototype._getEndomorphism=o(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new qi(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new qi(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],LFe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new qi(f.a,16),b:new qi(f.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},"_getEndomorphism");Tf.prototype._getEndoRoots=o(function(e){var r=e===this.p?this.red:qi.mont(e),n=new qi(2).toRed(r).redInvm(),i=n.redNeg(),s=new qi(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),f=i.redSub(s).fromRed();return[a,f]},"_getEndoRoots");Tf.prototype._getEndoBasis=o(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new qi(1),a=new qi(0),f=new qi(0),l=new qi(1),h,b,y,E,I,O,N,k=0,C,L;n.cmpn(0)!==0;){var M=i.div(n);C=i.sub(M.mul(n)),L=f.sub(M.mul(s));var U=l.sub(M.mul(a));if(!y&&C.cmp(r)<0)h=N.neg(),b=s,y=C.neg(),E=L;else if(y&&++k===2)break;N=C,i=n,n=C,f=s,s=L,l=a,a=U}I=C.neg(),O=L;var q=y.sqr().add(E.sqr()),j=I.sqr().add(O.sqr());return j.cmp(q)>=0&&(I=h,O=b),y.negative&&(y=y.neg(),E=E.neg()),I.negative&&(I=I.neg(),O=O.neg()),[{a:y,b:E},{a:I,b:O}]},"_getEndoBasis");Tf.prototype._endoSplit=o(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),f=s.mul(n.a),l=a.mul(i.a),h=s.mul(n.b),b=a.mul(i.b),y=e.sub(f).sub(l),E=h.add(b).neg();return{k1:y,k2:E}},"_endoSplit");Tf.prototype.pointFromX=o(function(e,r){e=new qi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");Tf.prototype.validate=o(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");Tf.prototype._endoWnafMulAdd=o(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(r[a]),l=e[a],h=l._getBeta();f.k1.negative&&(f.k1.ineg(),l=l.neg(!0)),f.k2.negative&&(f.k2.ineg(),h=h.neg(!0)),i[a*2]=l,i[a*2+1]=h,s[a*2]=f.k1,s[a*2+1]=f.k2}for(var b=this._wnafMulAdd(1,i,s,a*2,n),y=0;y<a*2;y++)i[y]=null,s[y]=null;return b},"_endoWnafMulAdd");function Ko(t,e,r,n){Db.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new qi(e,16),this.y=new qi(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(Ko,"Point");rL(Ko,Db.BasePoint);Tf.prototype.point=o(function(e,r,n){return new Ko(this,e,r,n)},"point");Tf.prototype.pointFromJSON=o(function(e,r){return Ko.fromJSON(this,e,r)},"pointFromJSON");Ko.prototype._getBeta=o(function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=o(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");Ko.prototype.toJSON=o(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");Ko.fromJSON=o(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(f){return e.point(f[0],f[1],n)}o(s,"obj2point");var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},"fromJSON");Ko.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");Ko.prototype.isInfinity=o(function(){return this.inf},"isInfinity");Ko.prototype.add=o(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");Ko.prototype.dbl=o(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),f=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)},"dbl");Ko.prototype.getX=o(function(){return this.x.fromRed()},"getX");Ko.prototype.getY=o(function(){return this.y.fromRed()},"getY");Ko.prototype.mul=o(function(e){return e=new qi(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");Ko.prototype.mulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");Ko.prototype.jmulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");Ko.prototype.eq=o(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");Ko.prototype.neg=o(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=o(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");Ko.prototype.toJ=o(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function ls(t,e,r,n){Db.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new qi(0)):(this.x=new qi(e,16),this.y=new qi(r,16),this.z=new qi(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(ls,"JPoint");rL(ls,Db.BasePoint);Tf.prototype.jpoint=o(function(e,r,n){return new ls(this,e,r,n)},"jpoint");ls.prototype.toP=o(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");ls.prototype.neg=o(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");ls.prototype.add=o(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),h=a.redSub(f);if(l.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=l.redSqr(),y=b.redMul(l),E=i.redMul(b),I=h.redSqr().redIAdd(y).redISub(E).redISub(E),O=h.redMul(E.redISub(I)).redISub(a.redMul(y)),N=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(I,O,N)},"add");ls.prototype.mixedAdd=o(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),f=n.redSub(i),l=s.redSub(a);if(f.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=f.redSqr(),b=h.redMul(f),y=n.redMul(h),E=l.redSqr().redIAdd(b).redISub(y).redISub(y),I=l.redMul(y.redISub(E)).redISub(s.redMul(b)),O=this.z.redMul(f);return this.curve.jpoint(E,I,O)},"mixedAdd");ls.prototype.dblp=o(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,f=this.y,l=this.z,h=l.redSqr().redSqr(),b=f.redAdd(f);for(r=0;r<e;r++){var y=a.redSqr(),E=b.redSqr(),I=E.redSqr(),O=y.redAdd(y).redIAdd(y).redIAdd(i.redMul(h)),N=a.redMul(E),k=O.redSqr().redISub(N.redAdd(N)),C=N.redISub(k),L=O.redMul(C);L=L.redIAdd(L).redISub(I);var M=b.redMul(l);r+1<e&&(h=h.redMul(I)),a=k,l=M,b=L}return this.curve.jpoint(a,b.redMul(s),l)},"dblp");ls.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");ls.prototype._zeroDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i),h=l.redSqr().redISub(f).redISub(f),b=a.redIAdd(a);b=b.redIAdd(b),b=b.redIAdd(b),e=h,r=l.redMul(f.redISub(h)).redISub(b),n=this.y.redAdd(this.y)}else{var y=this.x.redSqr(),E=this.y.redSqr(),I=E.redSqr(),O=this.x.redAdd(E).redSqr().redISub(y).redISub(I);O=O.redIAdd(O);var N=y.redAdd(y).redIAdd(y),k=N.redSqr(),C=I.redIAdd(I);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(O).redISub(O),r=N.redMul(O.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");ls.prototype._threeDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=l.redSqr().redISub(f).redISub(f);e=h;var b=a.redIAdd(a);b=b.redIAdd(b),b=b.redIAdd(b),r=l.redMul(f.redISub(h)).redISub(b),n=this.y.redAdd(this.y)}else{var y=this.z.redSqr(),E=this.y.redSqr(),I=this.x.redMul(E),O=this.x.redSub(y).redMul(this.x.redAdd(y));O=O.redAdd(O).redIAdd(O);var N=I.redIAdd(I);N=N.redIAdd(N);var k=N.redAdd(N);e=O.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(y);var C=E.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=O.redMul(N.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},"_threeDbl");ls.prototype._dbl=o(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),f=n.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var b=h.redMul(f),y=l.redSqr().redISub(b.redAdd(b)),E=b.redISub(y),I=f.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var O=l.redMul(E).redISub(I),N=n.redAdd(n).redMul(i);return this.curve.jpoint(y,O,N)},"_dbl");ls.prototype.trpl=o(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var l=f.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var b=s.redIAdd(f).redSqr().redISub(a).redISub(l).redISub(h),y=r.redMul(b);y=y.redIAdd(y),y=y.redIAdd(y);var E=this.x.redMul(l).redISub(y);E=E.redIAdd(E),E=E.redIAdd(E);var I=this.y.redMul(b.redMul(h.redISub(b)).redISub(f.redMul(l)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var O=this.z.redAdd(f).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,I,O)},"trpl");ls.prototype.mul=o(function(e,r){return e=new qi(e,r),this.curve._wnafMul(this,e)},"mul");ls.prototype.eq=o(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");ls.prototype.eqXToP=o(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");ls.prototype.inspect=o(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");ls.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity")});var Ife=V((bRt,Afe)=>{"use strict";m();g();var Ub=Kl(),Efe=hr(),T8=ow(),DFe=Kc();function Hb(t){T8.call(this,"mont",t),this.a=new Ub(t.a,16).toRed(this.red),this.b=new Ub(t.b,16).toRed(this.red),this.i4=new Ub(4).toRed(this.red).redInvm(),this.two=new Ub(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}o(Hb,"MontCurve");Efe(Hb,T8);Afe.exports=Hb;Hb.prototype.validate=o(function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0},"validate");function zo(t,e,r){T8.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Ub(e,16),this.z=new Ub(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(zo,"Point");Efe(zo,T8.BasePoint);Hb.prototype.decodePoint=o(function(e,r){return this.point(DFe.toArray(e,r),1)},"decodePoint");Hb.prototype.point=o(function(e,r){return new zo(this,e,r)},"point");Hb.prototype.pointFromJSON=o(function(e){return zo.fromJSON(this,e)},"pointFromJSON");zo.prototype.precompute=o(function(){},"precompute");zo.prototype._encode=o(function(){return this.getX().toArray("be",this.curve.p.byteLength())},"_encode");zo.fromJSON=o(function(e,r){return new zo(e,r[0],r[1]||e.one)},"fromJSON");zo.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");zo.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity");zo.prototype.dbl=o(function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),a=r.redMul(i),f=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,f)},"dbl");zo.prototype.add=o(function(){throw new Error("Not supported on Montgomery curve")},"add");zo.prototype.diffAdd=o(function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),f=a.redMul(n),l=s.redMul(i),h=r.z.redMul(f.redAdd(l).redSqr()),b=r.x.redMul(f.redISub(l).redSqr());return this.curve.point(h,b)},"diffAdd");zo.prototype.mul=o(function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var f=a.length-1;f>=0;f--)a[f]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i},"mul");zo.prototype.mulAdd=o(function(){throw new Error("Not supported on Montgomery curve")},"mulAdd");zo.prototype.jumlAdd=o(function(){throw new Error("Not supported on Montgomery curve")},"jumlAdd");zo.prototype.eq=o(function(e){return this.getX().cmp(e.getX())===0},"eq");zo.prototype.normalize=o(function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},"normalize");zo.prototype.getX=o(function(){return this.normalize(),this.x.fromRed()},"getX")});var Ofe=V((wRt,Rfe)=>{"use strict";m();g();var UFe=Kc(),S0=Kl(),Tfe=hr(),R8=ow(),HFe=UFe.assert;function zl(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,R8.call(this,"edwards",t),this.a=new S0(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new S0(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new S0(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),HFe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}o(zl,"EdwardsCurve");Tfe(zl,R8);Rfe.exports=zl;zl.prototype._mulA=o(function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},"_mulA");zl.prototype._mulC=o(function(e){return this.oneC?e:this.c.redMul(e)},"_mulC");zl.prototype.jpoint=o(function(e,r,n,i){return this.point(e,r,n,i)},"jpoint");zl.prototype.pointFromX=o(function(e,r){e=new S0(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(s.redInvm()),f=a.redSqrt();if(f.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var l=f.fromRed().isOdd();return(r&&!l||!r&&l)&&(f=f.redNeg()),this.point(e,f)},"pointFromX");zl.prototype.pointFromY=o(function(e,r){e=new S0(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var f=a.redSqrt();if(f.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==r&&(f=f.redNeg()),this.point(f,e)},"pointFromY");zl.prototype.validate=o(function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0},"validate");function Gn(t,e,r,n,i){R8.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new S0(e,16),this.y=new S0(r,16),this.z=n?new S0(n,16):this.curve.one,this.t=i&&new S0(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(Gn,"Point");Tfe(Gn,R8.BasePoint);zl.prototype.pointFromJSON=o(function(e){return Gn.fromJSON(this,e)},"pointFromJSON");zl.prototype.point=o(function(e,r,n,i){return new Gn(this,e,r,n,i)},"point");Gn.fromJSON=o(function(e,r){return new Gn(e,r[0],r[1],r[2])},"fromJSON");Gn.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");Gn.prototype.isInfinity=o(function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},"isInfinity");Gn.prototype._extDbl=o(function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=i.redAdd(r),f=a.redSub(n),l=i.redSub(r),h=s.redMul(f),b=a.redMul(l),y=s.redMul(l),E=f.redMul(a);return this.curve.point(h,b,E,y)},"_extDbl");Gn.prototype._projDbl=o(function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,a,f,l,h;if(this.curve.twisted){f=this.curve._mulA(r);var b=f.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(b.redSub(this.curve.two)),s=b.redMul(f.redSub(n)),a=b.redSqr().redSub(b).redSub(b)):(l=this.z.redSqr(),h=b.redSub(l).redISub(l),i=e.redSub(r).redISub(n).redMul(h),s=b.redMul(f.redSub(n)),a=b.redMul(h))}else f=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),h=f.redSub(l).redSub(l),i=this.curve._mulC(e.redISub(f)).redMul(h),s=this.curve._mulC(f).redMul(r.redISub(n)),a=f.redMul(h);return this.curve.point(i,s,a)},"_projDbl");Gn.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},"dbl");Gn.prototype._extAdd=o(function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),f=s.redSub(i),l=s.redAdd(i),h=n.redAdd(r),b=a.redMul(f),y=l.redMul(h),E=a.redMul(h),I=f.redMul(l);return this.curve.point(b,y,I,E)},"_extAdd");Gn.prototype._projAdd=o(function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(s),f=n.redSub(a),l=n.redAdd(a),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),b=r.redMul(f).redMul(h),y,E;return this.curve.twisted?(y=r.redMul(l).redMul(s.redSub(this.curve._mulA(i))),E=f.redMul(l)):(y=r.redMul(l).redMul(s.redSub(i)),E=this.curve._mulC(f).redMul(l)),this.curve.point(b,y,E)},"_projAdd");Gn.prototype.add=o(function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},"add");Gn.prototype.mul=o(function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},"mul");Gn.prototype.mulAdd=o(function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)},"mulAdd");Gn.prototype.jmulAdd=o(function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)},"jmulAdd");Gn.prototype.normalize=o(function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},"normalize");Gn.prototype.neg=o(function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},"neg");Gn.prototype.getX=o(function(){return this.normalize(),this.x.fromRed()},"getX");Gn.prototype.getY=o(function(){return this.normalize(),this.y.fromRed()},"getY");Gn.prototype.eq=o(function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0},"eq");Gn.prototype.eqXToP=o(function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},"eqXToP");Gn.prototype.toP=Gn.prototype.normalize;Gn.prototype.mixedAdd=Gn.prototype.add});var nL=V(Nfe=>{"use strict";m();g();var O8=Nfe;O8.base=ow();O8.short=Sfe();O8.mont=Ife();O8.edwards=Ofe()});var Ou=V(Hn=>{"use strict";m();g();var FFe=jc(),qFe=hr();Hn.inherits=qFe;function VFe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}o(VFe,"isSurrogatePair");function jFe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):VFe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}o(jFe,"toArray");Hn.toArray=jFe;function KFe(t){for(var e="",r=0;r<t.length;r++)e+=Cfe(t[r].toString(16));return e}o(KFe,"toHex");Hn.toHex=KFe;function Mfe(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}o(Mfe,"htonl");Hn.htonl=Mfe;function zFe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=Mfe(i)),r+=kfe(i.toString(16))}return r}o(zFe,"toHex32");Hn.toHex32=zFe;function Cfe(t){return t.length===1?"0"+t:t}o(Cfe,"zero2");Hn.zero2=Cfe;function kfe(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}o(kfe,"zero8");Hn.zero8=kfe;function GFe(t,e,r,n){var i=r-e;FFe(i%4===0);for(var s=new Array(i/4),a=0,f=e;a<s.length;a++,f+=4){var l;n==="big"?l=t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:l=t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],s[a]=l>>>0}return s}o(GFe,"join32");Hn.join32=GFe;function $Fe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}o($Fe,"split32");Hn.split32=$Fe;function WFe(t,e){return t>>>e|t<<32-e}o(WFe,"rotr32");Hn.rotr32=WFe;function YFe(t,e){return t<<e|t>>>32-e}o(YFe,"rotl32");Hn.rotl32=YFe;function XFe(t,e){return t+e>>>0}o(XFe,"sum32");Hn.sum32=XFe;function ZFe(t,e,r){return t+e+r>>>0}o(ZFe,"sum32_3");Hn.sum32_3=ZFe;function JFe(t,e,r,n){return t+e+r+n>>>0}o(JFe,"sum32_4");Hn.sum32_4=JFe;function QFe(t,e,r,n,i){return t+e+r+n+i>>>0}o(QFe,"sum32_5");Hn.sum32_5=QFe;function eqe(t,e,r,n){var i=t[e],s=t[e+1],a=n+s>>>0,f=(a<n?1:0)+r+i;t[e]=f>>>0,t[e+1]=a}o(eqe,"sum64");Hn.sum64=eqe;function tqe(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}o(tqe,"sum64_hi");Hn.sum64_hi=tqe;function rqe(t,e,r,n){var i=e+n;return i>>>0}o(rqe,"sum64_lo");Hn.sum64_lo=rqe;function nqe(t,e,r,n,i,s,a,f){var l=0,h=e;h=h+n>>>0,l+=h<e?1:0,h=h+s>>>0,l+=h<s?1:0,h=h+f>>>0,l+=h<f?1:0;var b=t+r+i+a+l;return b>>>0}o(nqe,"sum64_4_hi");Hn.sum64_4_hi=nqe;function iqe(t,e,r,n,i,s,a,f){var l=e+n+s+f;return l>>>0}o(iqe,"sum64_4_lo");Hn.sum64_4_lo=iqe;function oqe(t,e,r,n,i,s,a,f,l,h){var b=0,y=e;y=y+n>>>0,b+=y<e?1:0,y=y+s>>>0,b+=y<s?1:0,y=y+f>>>0,b+=y<f?1:0,y=y+h>>>0,b+=y<h?1:0;var E=t+r+i+a+l+b;return E>>>0}o(oqe,"sum64_5_hi");Hn.sum64_5_hi=oqe;function sqe(t,e,r,n,i,s,a,f,l,h){var b=e+n+s+f+h;return b>>>0}o(sqe,"sum64_5_lo");Hn.sum64_5_lo=sqe;function aqe(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}o(aqe,"rotr64_hi");Hn.rotr64_hi=aqe;function cqe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}o(cqe,"rotr64_lo");Hn.rotr64_lo=cqe;function fqe(t,e,r){return t>>>r}o(fqe,"shr64_hi");Hn.shr64_hi=fqe;function uqe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}o(uqe,"shr64_lo");Hn.shr64_lo=uqe});var Fb=V(Pfe=>{"use strict";m();g();var Bfe=Ou(),lqe=jc();function N8(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}o(N8,"BlockHash");Pfe.BlockHash=N8;N8.prototype.update=o(function(e,r){if(e=Bfe.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Bfe.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},"update");N8.prototype.digest=o(function(e){return this.update(this._pad()),lqe(this.pending===null),this._digest(e)},"digest");N8.prototype._pad=o(function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,a=8;a<this.padLength;a++)i[s++]=0;return i},"pad")});var iL=V(E0=>{"use strict";m();g();var dqe=Ou(),Gl=dqe.rotr32;function hqe(t,e,r,n){if(t===0)return Lfe(e,r,n);if(t===1||t===3)return Ufe(e,r,n);if(t===2)return Dfe(e,r,n)}o(hqe,"ft_1");E0.ft_1=hqe;function Lfe(t,e,r){return t&e^~t&r}o(Lfe,"ch32");E0.ch32=Lfe;function Dfe(t,e,r){return t&e^t&r^e&r}o(Dfe,"maj32");E0.maj32=Dfe;function Ufe(t,e,r){return t^e^r}o(Ufe,"p32");E0.p32=Ufe;function pqe(t){return Gl(t,2)^Gl(t,13)^Gl(t,22)}o(pqe,"s0_256");E0.s0_256=pqe;function mqe(t){return Gl(t,6)^Gl(t,11)^Gl(t,25)}o(mqe,"s1_256");E0.s1_256=mqe;function gqe(t){return Gl(t,7)^Gl(t,18)^t>>>3}o(gqe,"g0_256");E0.g0_256=gqe;function yqe(t){return Gl(t,17)^Gl(t,19)^t>>>10}o(yqe,"g1_256");E0.g1_256=yqe});var qfe=V((qRt,Ffe)=>{"use strict";m();g();var qb=Ou(),bqe=Fb(),xqe=iL(),oL=qb.rotl32,sw=qb.sum32,vqe=qb.sum32_5,_qe=xqe.ft_1,Hfe=bqe.BlockHash,wqe=[1518500249,1859775393,2400959708,3395469782];function $l(){if(!(this instanceof $l))return new $l;Hfe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o($l,"SHA1");qb.inherits($l,Hfe);Ffe.exports=$l;$l.blockSize=512;$l.outSize=160;$l.hmacStrength=80;$l.padLength=64;$l.prototype._update=o(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=oL(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],a=this.h[1],f=this.h[2],l=this.h[3],h=this.h[4];for(i=0;i<n.length;i++){var b=~~(i/20),y=vqe(oL(s,5),_qe(b,a,f,l),h,n[i],wqe[b]);h=l,l=f,f=oL(a,30),a=s,s=y}this.h[0]=sw(this.h[0],s),this.h[1]=sw(this.h[1],a),this.h[2]=sw(this.h[2],f),this.h[3]=sw(this.h[3],l),this.h[4]=sw(this.h[4],h)},"_update");$l.prototype._digest=o(function(e){return e==="hex"?qb.toHex32(this.h,"big"):qb.split32(this.h,"big")},"digest")});var sL=V((zRt,jfe)=>{"use strict";m();g();var Vb=Ou(),Sqe=Fb(),jb=iL(),Eqe=jc(),Nu=Vb.sum32,Aqe=Vb.sum32_4,Iqe=Vb.sum32_5,Tqe=jb.ch32,Rqe=jb.maj32,Oqe=jb.s0_256,Nqe=jb.s1_256,Mqe=jb.g0_256,Cqe=jb.g1_256,Vfe=Sqe.BlockHash,kqe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Wl(){if(!(this instanceof Wl))return new Wl;Vfe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=kqe,this.W=new Array(64)}o(Wl,"SHA256");Vb.inherits(Wl,Vfe);jfe.exports=Wl;Wl.blockSize=512;Wl.outSize=256;Wl.hmacStrength=192;Wl.padLength=64;Wl.prototype._update=o(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Aqe(Cqe(n[i-2]),n[i-7],Mqe(n[i-15]),n[i-16]);var s=this.h[0],a=this.h[1],f=this.h[2],l=this.h[3],h=this.h[4],b=this.h[5],y=this.h[6],E=this.h[7];for(Eqe(this.k.length===n.length),i=0;i<n.length;i++){var I=Iqe(E,Nqe(h),Tqe(h,b,y),this.k[i],n[i]),O=Nu(Oqe(s),Rqe(s,a,f));E=y,y=b,b=h,h=Nu(l,I),l=f,f=a,a=s,s=Nu(I,O)}this.h[0]=Nu(this.h[0],s),this.h[1]=Nu(this.h[1],a),this.h[2]=Nu(this.h[2],f),this.h[3]=Nu(this.h[3],l),this.h[4]=Nu(this.h[4],h),this.h[5]=Nu(this.h[5],b),this.h[6]=Nu(this.h[6],y),this.h[7]=Nu(this.h[7],E)},"_update");Wl.prototype._digest=o(function(e){return e==="hex"?Vb.toHex32(this.h,"big"):Vb.split32(this.h,"big")},"digest")});var Gfe=V((YRt,zfe)=>{"use strict";m();g();var aL=Ou(),Kfe=sL();function A0(){if(!(this instanceof A0))return new A0;Kfe.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o(A0,"SHA224");aL.inherits(A0,Kfe);zfe.exports=A0;A0.blockSize=512;A0.outSize=224;A0.hmacStrength=192;A0.padLength=64;A0.prototype._digest=o(function(e){return e==="hex"?aL.toHex32(this.h.slice(0,7),"big"):aL.split32(this.h.slice(0,7),"big")},"digest")});var uL=V((QRt,Xfe)=>{"use strict";m();g();var fc=Ou(),Bqe=Fb(),Pqe=jc(),Yl=fc.rotr64_hi,Xl=fc.rotr64_lo,$fe=fc.shr64_hi,Wfe=fc.shr64_lo,sp=fc.sum64,cL=fc.sum64_hi,fL=fc.sum64_lo,Lqe=fc.sum64_4_hi,Dqe=fc.sum64_4_lo,Uqe=fc.sum64_5_hi,Hqe=fc.sum64_5_lo,Yfe=Bqe.BlockHash,Fqe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Mu(){if(!(this instanceof Mu))return new Mu;Yfe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Fqe,this.W=new Array(160)}o(Mu,"SHA512");fc.inherits(Mu,Yfe);Xfe.exports=Mu;Mu.blockSize=1024;Mu.outSize=512;Mu.hmacStrength=192;Mu.padLength=128;Mu.prototype._prepareBlock=o(function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=Zqe(n[i-4],n[i-3]),a=Jqe(n[i-4],n[i-3]),f=n[i-14],l=n[i-13],h=Yqe(n[i-30],n[i-29]),b=Xqe(n[i-30],n[i-29]),y=n[i-32],E=n[i-31];n[i]=Lqe(s,a,f,l,h,b,y,E),n[i+1]=Dqe(s,a,f,l,h,b,y,E)}},"_prepareBlock");Mu.prototype._update=o(function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],a=this.h[2],f=this.h[3],l=this.h[4],h=this.h[5],b=this.h[6],y=this.h[7],E=this.h[8],I=this.h[9],O=this.h[10],N=this.h[11],k=this.h[12],C=this.h[13],L=this.h[14],M=this.h[15];Pqe(this.k.length===n.length);for(var U=0;U<n.length;U+=2){var q=L,j=M,re=$qe(E,I),Y=Wqe(E,I),X=qqe(E,I,O,N,k,C),S=Vqe(E,I,O,N,k,C),c=this.k[U],d=this.k[U+1],p=n[U],x=n[U+1],v=Uqe(q,j,re,Y,X,S,c,d,p,x),A=Hqe(q,j,re,Y,X,S,c,d,p,x);q=zqe(i,s),j=Gqe(i,s),re=jqe(i,s,a,f,l,h),Y=Kqe(i,s,a,f,l,h);var T=cL(q,j,re,Y),w=fL(q,j,re,Y);L=k,M=C,k=O,C=N,O=E,N=I,E=cL(b,y,v,A),I=fL(y,y,v,A),b=l,y=h,l=a,h=f,a=i,f=s,i=cL(v,A,T,w),s=fL(v,A,T,w)}sp(this.h,0,i,s),sp(this.h,2,a,f),sp(this.h,4,l,h),sp(this.h,6,b,y),sp(this.h,8,E,I),sp(this.h,10,O,N),sp(this.h,12,k,C),sp(this.h,14,L,M)},"_update");Mu.prototype._digest=o(function(e){return e==="hex"?fc.toHex32(this.h,"big"):fc.split32(this.h,"big")},"digest");function qqe(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}o(qqe,"ch64_hi");function Vqe(t,e,r,n,i,s){var a=e&n^~e&s;return a<0&&(a+=4294967296),a}o(Vqe,"ch64_lo");function jqe(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}o(jqe,"maj64_hi");function Kqe(t,e,r,n,i,s){var a=e&n^e&s^n&s;return a<0&&(a+=4294967296),a}o(Kqe,"maj64_lo");function zqe(t,e){var r=Yl(t,e,28),n=Yl(e,t,2),i=Yl(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(zqe,"s0_512_hi");function Gqe(t,e){var r=Xl(t,e,28),n=Xl(e,t,2),i=Xl(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(Gqe,"s0_512_lo");function $qe(t,e){var r=Yl(t,e,14),n=Yl(t,e,18),i=Yl(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}o($qe,"s1_512_hi");function Wqe(t,e){var r=Xl(t,e,14),n=Xl(t,e,18),i=Xl(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}o(Wqe,"s1_512_lo");function Yqe(t,e){var r=Yl(t,e,1),n=Yl(t,e,8),i=$fe(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(Yqe,"g0_512_hi");function Xqe(t,e){var r=Xl(t,e,1),n=Xl(t,e,8),i=Wfe(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(Xqe,"g0_512_lo");function Zqe(t,e){var r=Yl(t,e,19),n=Yl(e,t,29),i=$fe(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}o(Zqe,"g1_512_hi");function Jqe(t,e){var r=Xl(t,e,19),n=Xl(e,t,29),i=Wfe(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}o(Jqe,"g1_512_lo")});var Qfe=V((n7t,Jfe)=>{"use strict";m();g();var lL=Ou(),Zfe=uL();function I0(){if(!(this instanceof I0))return new I0;Zfe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o(I0,"SHA384");lL.inherits(I0,Zfe);Jfe.exports=I0;I0.blockSize=1024;I0.outSize=384;I0.hmacStrength=192;I0.padLength=128;I0.prototype._digest=o(function(e){return e==="hex"?lL.toHex32(this.h.slice(0,12),"big"):lL.split32(this.h.slice(0,12),"big")},"digest")});var eue=V(Kb=>{"use strict";m();g();Kb.sha1=qfe();Kb.sha224=Gfe();Kb.sha256=sL();Kb.sha384=Qfe();Kb.sha512=uL()});var sue=V(oue=>{"use strict";m();g();var jg=Ou(),Qqe=Fb(),M8=jg.rotl32,tue=jg.sum32,aw=jg.sum32_3,rue=jg.sum32_4,iue=Qqe.BlockHash;function Zl(){if(!(this instanceof Zl))return new Zl;iue.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}o(Zl,"RIPEMD160");jg.inherits(Zl,iue);oue.ripemd160=Zl;Zl.blockSize=512;Zl.outSize=160;Zl.hmacStrength=192;Zl.padLength=64;Zl.prototype._update=o(function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],f=this.h[4],l=n,h=i,b=s,y=a,E=f,I=0;I<80;I++){var O=tue(M8(rue(n,nue(I,i,s,a),e[rVe[I]+r],eVe(I)),iVe[I]),f);n=f,f=a,a=M8(s,10),s=i,i=O,O=tue(M8(rue(l,nue(79-I,h,b,y),e[nVe[I]+r],tVe(I)),oVe[I]),E),l=E,E=y,y=M8(b,10),b=h,h=O}O=aw(this.h[1],s,y),this.h[1]=aw(this.h[2],a,E),this.h[2]=aw(this.h[3],f,l),this.h[3]=aw(this.h[4],n,h),this.h[4]=aw(this.h[0],i,b),this.h[0]=O},"update");Zl.prototype._digest=o(function(e){return e==="hex"?jg.toHex32(this.h,"little"):jg.split32(this.h,"little")},"digest");function nue(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}o(nue,"f");function eVe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}o(eVe,"K");function tVe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}o(tVe,"Kh");var rVe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],nVe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],iVe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],oVe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var cue=V((p7t,aue)=>{"use strict";m();g();var sVe=Ou(),aVe=jc();function zb(t,e,r){if(!(this instanceof zb))return new zb(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(sVe.toArray(e,r))}o(zb,"Hmac");aue.exports=zb;zb.prototype._init=o(function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),aVe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)},"init");zb.prototype.update=o(function(e,r){return this.inner.update(e,r),this},"update");zb.prototype.digest=o(function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},"digest")});var Gb=V(fue=>{m();g();var ds=fue;ds.utils=Ou();ds.common=Fb();ds.sha=eue();ds.ripemd=sue();ds.hmac=cue();ds.sha1=ds.sha.sha1;ds.sha256=ds.sha.sha256;ds.sha224=ds.sha.sha224;ds.sha384=ds.sha.sha384;ds.sha512=ds.sha.sha512;ds.ripemd160=ds.ripemd.ripemd160});var lue=V((_7t,uue)=>{m();g();uue.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var C8=V(pue=>{"use strict";m();g();var hL=pue,ap=Gb(),dL=nL(),cVe=Kc(),due=cVe.assert;function hue(t){t.type==="short"?this.curve=new dL.short(t):t.type==="edwards"?this.curve=new dL.edwards(t):this.curve=new dL.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,due(this.g.validate(),"Invalid curve"),due(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o(hue,"PresetCurve");hL.PresetCurve=hue;function cp(t,e){Object.defineProperty(hL,t,{configurable:!0,enumerable:!0,get:o(function(){var r=new hue(e);return Object.defineProperty(hL,t,{configurable:!0,enumerable:!0,value:r}),r},"get")})}o(cp,"defineCurve");cp("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ap.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});cp("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ap.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});cp("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ap.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});cp("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ap.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});cp("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ap.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});cp("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ap.sha256,gRed:!1,g:["9"]});cp("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ap.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pL;try{pL=lue()}catch{pL=void 0}cp("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ap.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pL]})});var yue=V((R7t,gue)=>{"use strict";m();g();var fVe=Gb(),Kg=tL(),mue=jc();function fp(t){if(!(this instanceof fp))return new fp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Kg.toArray(t.entropy,t.entropyEnc||"hex"),r=Kg.toArray(t.nonce,t.nonceEnc||"hex"),n=Kg.toArray(t.pers,t.persEnc||"hex");mue(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}o(fp,"HmacDRBG");gue.exports=fp;fp.prototype._init=o(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");fp.prototype._hmac=o(function(){return new fVe.hmac(this.hash,this.K)},"hmac");fp.prototype._update=o(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");fp.prototype.reseed=o(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Kg.toArray(e,r),n=Kg.toArray(n,i),mue(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");fp.prototype.generate=o(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Kg.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,Kg.encode(a,r)},"generate")});var xue=V((C7t,bue)=>{"use strict";m();g();var uVe=Kl(),lVe=Kc(),mL=lVe.assert;function Qs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}o(Qs,"KeyPair");bue.exports=Qs;Qs.fromPublic=o(function(e,r,n){return r instanceof Qs?r:new Qs(e,{pub:r,pubEnc:n})},"fromPublic");Qs.fromPrivate=o(function(e,r,n){return r instanceof Qs?r:new Qs(e,{priv:r,privEnc:n})},"fromPrivate");Qs.prototype.validate=o(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");Qs.prototype.getPublic=o(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");Qs.prototype.getPrivate=o(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");Qs.prototype._importPrivate=o(function(e,r){this.priv=new uVe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");Qs.prototype._importPublic=o(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?mL(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&mL(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");Qs.prototype.derive=o(function(e){return e.validate()||mL(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");Qs.prototype.sign=o(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");Qs.prototype.verify=o(function(e,r,n){return this.ec.verify(e,r,this,void 0,n)},"verify");Qs.prototype.inspect=o(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect")});var wue=V((L7t,_ue)=>{"use strict";m();g();var k8=Kl(),bL=Kc(),dVe=bL.assert;function B8(t,e){if(t instanceof B8)return t;this._importDER(t,e)||(dVe(t.r&&t.s,"Signature without r or s"),this.r=new k8(t.r,16),this.s=new k8(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}o(B8,"Signature");_ue.exports=B8;function hVe(){this.place=0}o(hVe,"Position");function gL(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}o(gL,"getLength");function vue(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}o(vue,"rmPadding");B8.prototype._importDER=o(function(e,r){e=bL.toArray(e,r);var n=new hVe;if(e[n.place++]!==48)return!1;var i=gL(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=gL(e,n);if(s===!1||e[n.place]&128)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var f=gL(e,n);if(f===!1||e.length!==f+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,f+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new k8(a),this.s=new k8(l),this.recoveryParam=null,!0},"_importDER");function yL(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}o(yL,"constructLength");B8.prototype.toDER=o(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=vue(r),n=vue(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];yL(i,r.length),i=i.concat(r),i.push(2),yL(i,n.length);var s=i.concat(n),a=[48];return yL(a,s.length),a=a.concat(s),bL.encode(a,e)},"toDER")});var Aue=V((F7t,Eue)=>{"use strict";m();g();var Cu=Kl(),Sue=yue(),pVe=Kc(),xL=C8(),mVe=x8(),zg=pVe.assert,vL=xue(),P8=wue();function Rf(t){if(!(this instanceof Rf))return new Rf(t);typeof t=="string"&&(zg(Object.prototype.hasOwnProperty.call(xL,t),"Unknown curve "+t),t=xL[t]),t instanceof xL.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}o(Rf,"EC");Eue.exports=Rf;Rf.prototype.keyPair=o(function(e){return new vL(this,e)},"keyPair");Rf.prototype.keyFromPrivate=o(function(e,r){return vL.fromPrivate(this,e,r)},"keyFromPrivate");Rf.prototype.keyFromPublic=o(function(e,r){return vL.fromPublic(this,e,r)},"keyFromPublic");Rf.prototype.genKeyPair=o(function(e){e||(e={});for(var r=new Sue({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||mVe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Cu(2));;){var s=new Cu(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");Rf.prototype._truncateToN=o(function(e,r,n){var i;if(Cu.isBN(e)||typeof e=="number")e=new Cu(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Cu(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Cu(s,16)}typeof n!="number"&&(n=i*8);var a=n-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");Rf.prototype.sign=o(function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Cu.isBN(e)){zg(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),zg(e.length>>>0===e.length);for(var s=0;s<e.length;s++)zg((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),zg(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),f=r.getPrivate().toArray("be",a),l=e.toArray("be",a);zg(new Cu(l).eq(e),"Can not sign message");for(var h=new Sue({hash:this.hash,entropy:f,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new Cu(1)),y=0;;y++){var E=i.k?i.k(y):new Cu(h.generate(this.n.byteLength()));if(E=this._truncateToN(E,!0),!(E.cmpn(1)<=0||E.cmp(b)>=0)){var I=this.g.mul(E);if(!I.isInfinity()){var O=I.getX(),N=O.umod(this.n);if(N.cmpn(0)!==0){var k=E.invm(this.n).mul(N.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var C=(I.getY().isOdd()?1:0)|(O.cmp(N)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),C^=1),new P8({r:N,s:k,recoveryParam:C})}}}}}},"sign");Rf.prototype.verify=o(function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new P8(r,"hex");var a=r.r,f=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||f.cmpn(1)<0||f.cmp(this.n)>=0)return!1;var l=f.invm(this.n),h=l.mul(e).umod(this.n),b=l.mul(a).umod(this.n),y;return this.curve._maxwellTrick?(y=this.g.jmulAdd(h,n.getPublic(),b),y.isInfinity()?!1:y.eqXToP(a)):(y=this.g.mulAdd(h,n.getPublic(),b),y.isInfinity()?!1:y.getX().umod(this.n).cmp(a)===0)},"verify");Rf.prototype.recoverPubKey=function(t,e,r,n){zg((3&r)===r,"The recovery param is more than two bits"),e=new P8(e,n);var i=this.n,s=new Cu(t),a=e.r,f=e.s,l=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var b=e.r.invm(i),y=i.sub(s).mul(b).umod(i),E=f.mul(b).umod(i);return this.g.mulAdd(y,a,E)};Rf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new P8(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var Oue=V((K7t,Rue)=>{"use strict";m();g();var cw=Kc(),Tue=cw.assert,Iue=cw.parseBytes,$b=cw.cachedProperty;function Go(t,e){this.eddsa=t,this._secret=Iue(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Iue(e.pub)}o(Go,"KeyPair");Go.fromPublic=o(function(e,r){return r instanceof Go?r:new Go(e,{pub:r})},"fromPublic");Go.fromSecret=o(function(e,r){return r instanceof Go?r:new Go(e,{secret:r})},"fromSecret");Go.prototype.secret=o(function(){return this._secret},"secret");$b(Go,"pubBytes",o(function(){return this.eddsa.encodePoint(this.pub())},"pubBytes"));$b(Go,"pub",o(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())},"pub"));$b(Go,"privBytes",o(function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i},"privBytes"));$b(Go,"priv",o(function(){return this.eddsa.decodeInt(this.privBytes())},"priv"));$b(Go,"hash",o(function(){return this.eddsa.hash().update(this.secret()).digest()},"hash"));$b(Go,"messagePrefix",o(function(){return this.hash().slice(this.eddsa.encodingLength)},"messagePrefix"));Go.prototype.sign=o(function(e){return Tue(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},"sign");Go.prototype.verify=o(function(e,r){return this.eddsa.verify(e,r,this)},"verify");Go.prototype.getSecret=o(function(e){return Tue(this._secret,"KeyPair is public only"),cw.encode(this.secret(),e)},"getSecret");Go.prototype.getPublic=o(function(e){return cw.encode(this.pubBytes(),e)},"getPublic");Rue.exports=Go});var Cue=V((W7t,Mue)=>{"use strict";m();g();var gVe=Kl(),L8=Kc(),Nue=L8.assert,D8=L8.cachedProperty,yVe=L8.parseBytes;function Gg(t,e){this.eddsa=t,typeof e!="object"&&(e=yVe(e)),Array.isArray(e)&&(Nue(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Nue(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof gVe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(Gg,"Signature");D8(Gg,"S",o(function(){return this.eddsa.decodeInt(this.Sencoded())},"S"));D8(Gg,"R",o(function(){return this.eddsa.decodePoint(this.Rencoded())},"R"));D8(Gg,"Rencoded",o(function(){return this.eddsa.encodePoint(this.R())},"Rencoded"));D8(Gg,"Sencoded",o(function(){return this.eddsa.encodeInt(this.S())},"Sencoded"));Gg.prototype.toBytes=o(function(){return this.Rencoded().concat(this.Sencoded())},"toBytes");Gg.prototype.toHex=o(function(){return L8.encode(this.toBytes(),"hex").toUpperCase()},"toHex");Mue.exports=Gg});var Due=V((J7t,Lue)=>{"use strict";m();g();var bVe=Gb(),xVe=C8(),Wb=Kc(),vVe=Wb.assert,Bue=Wb.parseBytes,Pue=Oue(),kue=Cue();function uc(t){if(vVe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof uc))return new uc(t);t=xVe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=bVe.sha512}o(uc,"EDDSA");Lue.exports=uc;uc.prototype.sign=o(function(e,r){e=Bue(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),a=this.encodePoint(s),f=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),l=i.add(f).umod(this.curve.n);return this.makeSignature({R:s,S:l,Rencoded:a})},"sign");uc.prototype.verify=o(function(e,r,n){if(e=Bue(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),a=this.g.mul(r.S()),f=r.R().add(i.pub().mul(s));return f.eq(a)},"verify");uc.prototype.hashInt=o(function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Wb.intFromLE(e.digest()).umod(this.curve.n)},"hashInt");uc.prototype.keyFromPublic=o(function(e){return Pue.fromPublic(this,e)},"keyFromPublic");uc.prototype.keyFromSecret=o(function(e){return Pue.fromSecret(this,e)},"keyFromSecret");uc.prototype.makeSignature=o(function(e){return e instanceof kue?e:new kue(this,e)},"makeSignature");uc.prototype.encodePoint=o(function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r},"encodePoint");uc.prototype.decodePoint=o(function(e){e=Wb.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=Wb.intFromLE(n);return this.curve.pointFromY(s,i)},"decodePoint");uc.prototype.encodeInt=o(function(e){return e.toArray("le",this.encodingLength)},"encodeInt");uc.prototype.decodeInt=o(function(e){return Wb.intFromLE(e)},"decodeInt");uc.prototype.isPoint=o(function(e){return e instanceof this.pointClass},"isPoint")});var U8=V(Uue=>{"use strict";m();g();var $g=Uue;$g.version=mfe().version;$g.utils=Kc();$g.rand=x8();$g.curve=nL();$g.curves=C8();$g.ec=Aue();$g.eddsa=Due()});var wL=V((Hue,_L)=>{m();g();(function(t,e){"use strict";function r(S,c){if(!S)throw new Error(c||"Assertion failed")}o(r,"assert");function n(S,c){S.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,c,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(S||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=Cy().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,p){if(typeof c=="number")return this._initNumber(c,d,p);if(typeof c=="object")return this._initArray(c,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var x=0;c[0]==="-"&&(x++,this.negative=1),x<c.length&&(d===16?this._parseHex(c,x,p):(this._parseBase(c,d,x),p==="le"&&this._initArray(this.toArray(),d,p)))},"init"),i.prototype._initNumber=o(function(c,d,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},"_initNumber"),i.prototype._initArray=o(function(c,d,p){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v,A,T=0;if(p==="be")for(x=c.length-1,v=0;x>=0;x-=3)A=c[x]|c[x-1]<<8|c[x-2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(x=0,v=0;x<c.length;x+=3)A=c[x]|c[x+1]<<8|c[x+2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()},"_initArray");function a(S,c){var d=S.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(S,c,d){var p=a(S,d);return d-1>=c&&(p|=a(S,d-1)<<4),p}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,p){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v=0,A=0,T;if(p==="be")for(x=c.length-1;x>=d;x-=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8;else{var w=c.length-d;for(x=w%2===0?d+1:d;x<c.length;x+=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8}this.strip()},"_parseHex");function l(S,c,d,p){for(var x=0,v=Math.min(S.length,d),A=c;A<v;A++){var T=S.charCodeAt(A)-48;x*=p,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,p){this.words=[0],this.length=1;for(var x=0,v=1;v<=67108863;v*=d)x++;x--,v=v/d|0;for(var A=c.length-p,T=A%x,w=Math.min(A,A-T)+p,u=0,_=p;_<w;_+=x)u=l(c,_,_+x,d),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var F=1;for(u=l(c,_,c.length,d),_=0;_<T;_++)F*=d;this.imuln(F),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var p;if(c===16||c==="hex"){p="";for(var x=0,v=0,A=0;A<this.length;A++){var T=this.words[A],w=((T<<x|v)&16777215).toString(16);v=T>>>24-x&16777215,v!==0||A!==this.length-1?p=h[6-w.length]+w+p:p=w+p,x+=2,x>=26&&(x-=26,A--)}for(v!==0&&(p=v.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var u=b[c],_=y[c];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var H=F.modn(_).toString(c);F=F.idivn(_),F.isZero()?p=H+p:p=h[u-H.length]+H+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,p){var x=this.byteLength(),v=p||Math.max(1,x);r(x<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new c(v),w,u,_=this.clone();if(A){for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[u]=w;for(;u<v;u++)T[u]=0}else{for(u=0;u<v-x;u++)T[u]=0;for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[v-u-1]=w}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,p=0;return d&8191||(p+=13,d>>>=13),d&127||(p+=7,d>>>=7),d&15||(p+=4,d>>>=4),d&3||(p+=2,d>>>=2),d&1||p++,p},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function E(S){for(var c=new Array(S.bitLength()),d=0;d<c.length;d++){var p=d/26|0,x=d%26;c[d]=(S.words[p]&1<<x)>>>x}return c}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(c+=p,p!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,p;this.length>c.length?(d=this,p=c):(d=c,p=this);for(var x=0;x<p.length;x++)this.words[x]=d.words[x]^p.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,p=c%26;this._expand(d),p>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return p>0&&(this.words[x]=~this.words[x]&67108863>>26-p),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var p=c/26|0,x=c%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<x:this.words[p]=this.words[p]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var p,x;this.length>c.length?(p=this,x=c):(p=c,x=this);for(var v=0,A=0;A<x.length;A++)d=(p.words[A]|0)+(x.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;for(;v!==0&&A<p.length;A++)d=(p.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,v;p>0?(x=this,v=c):(x=c,v=this);for(var A=0,T=0;T<v.length;T++)d=(x.words[T]|0)-(v.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function I(S,c,d){d.negative=c.negative^S.negative;var p=S.length+c.length|0;d.length=p,p=p-1|0;var x=S.words[0]|0,v=c.words[0]|0,A=x*v,T=A&67108863,w=A/67108864|0;d.words[0]=T;for(var u=1;u<p;u++){for(var _=w>>>26,F=w&67108863,H=Math.min(u,c.length-1),D=Math.max(0,u-S.length+1);D<=H;D++){var $=u-D|0;x=S.words[$]|0,v=c.words[D]|0,A=x*v+F,_+=A/67108864|0,F=A&67108863}d.words[u]=F|0,w=_|0}return w!==0?d.words[u]=w|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(c,d,p){var x=c.words,v=d.words,A=p.words,T=0,w,u,_,F=x[0]|0,H=F&8191,D=F>>>13,$=x[1]|0,ee=$&8191,te=$>>>13,Oe=x[2]|0,fe=Oe&8191,le=Oe>>>13,ge=x[3]|0,pe=ge&8191,ye=ge>>>13,Cr=x[4]|0,Re=Cr&8191,Me=Cr>>>13,ti=x[5]|0,qe=ti&8191,ke=ti>>>13,ri=x[6]|0,Ve=ri&8191,He=ri>>>13,Ei=x[7]|0,De=Ei&8191,Fe=Ei>>>13,xn=x[8]|0,Z=xn&8191,J=xn>>>13,he=x[9]|0,ne=he&8191,de=he>>>13,xt=v[0]|0,xe=xt&8191,Ee=xt>>>13,ir=v[1]|0,Ae=ir&8191,Ne=ir>>>13,ni=v[2]|0,Pe=ni&8191,Be=ni>>>13,oo=v[3]|0,Ge=oo&8191,$e=oo>>>13,Un=v[4]|0,Le=Un&8191,Ue=Un>>>13,$i=v[5]|0,je=$i&8191,Ke=$i>>>13,vo=v[6]|0,Ce=vo&8191,ze=vo>>>13,K=v[7]|0,G=K&8191,z=K>>>13,P=v[8]|0,W=P&8191,Q=P>>>13,me=v[9]|0,se=me&8191,ue=me>>>13;p.negative=c.negative^d.negative,p.length=19,w=Math.imul(H,xe),u=Math.imul(H,Ee),u=u+Math.imul(D,xe)|0,_=Math.imul(D,Ee);var lt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(ee,xe),u=Math.imul(ee,Ee),u=u+Math.imul(te,xe)|0,_=Math.imul(te,Ee),w=w+Math.imul(H,Ae)|0,u=u+Math.imul(H,Ne)|0,u=u+Math.imul(D,Ae)|0,_=_+Math.imul(D,Ne)|0;var nt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(fe,xe),u=Math.imul(fe,Ee),u=u+Math.imul(le,xe)|0,_=Math.imul(le,Ee),w=w+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(te,Ae)|0,_=_+Math.imul(te,Ne)|0,w=w+Math.imul(H,Pe)|0,u=u+Math.imul(H,Be)|0,u=u+Math.imul(D,Pe)|0,_=_+Math.imul(D,Be)|0;var Pt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(pe,xe),u=Math.imul(pe,Ee),u=u+Math.imul(ye,xe)|0,_=Math.imul(ye,Ee),w=w+Math.imul(fe,Ae)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Ae)|0,_=_+Math.imul(le,Ne)|0,w=w+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Be)|0,u=u+Math.imul(te,Pe)|0,_=_+Math.imul(te,Be)|0,w=w+Math.imul(H,Ge)|0,u=u+Math.imul(H,$e)|0,u=u+Math.imul(D,Ge)|0,_=_+Math.imul(D,$e)|0;var st=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(Re,xe),u=Math.imul(Re,Ee),u=u+Math.imul(Me,xe)|0,_=Math.imul(Me,Ee),w=w+Math.imul(pe,Ae)|0,u=u+Math.imul(pe,Ne)|0,u=u+Math.imul(ye,Ae)|0,_=_+Math.imul(ye,Ne)|0,w=w+Math.imul(fe,Pe)|0,u=u+Math.imul(fe,Be)|0,u=u+Math.imul(le,Pe)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(te,Ge)|0,_=_+Math.imul(te,$e)|0,w=w+Math.imul(H,Le)|0,u=u+Math.imul(H,Ue)|0,u=u+Math.imul(D,Le)|0,_=_+Math.imul(D,Ue)|0;var bt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(qe,xe),u=Math.imul(qe,Ee),u=u+Math.imul(ke,xe)|0,_=Math.imul(ke,Ee),w=w+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Me,Ae)|0,_=_+Math.imul(Me,Ne)|0,w=w+Math.imul(pe,Pe)|0,u=u+Math.imul(pe,Be)|0,u=u+Math.imul(ye,Pe)|0,_=_+Math.imul(ye,Be)|0,w=w+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,w=w+Math.imul(ee,Le)|0,u=u+Math.imul(ee,Ue)|0,u=u+Math.imul(te,Le)|0,_=_+Math.imul(te,Ue)|0,w=w+Math.imul(H,je)|0,u=u+Math.imul(H,Ke)|0,u=u+Math.imul(D,je)|0,_=_+Math.imul(D,Ke)|0;var vt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,w=Math.imul(Ve,xe),u=Math.imul(Ve,Ee),u=u+Math.imul(He,xe)|0,_=Math.imul(He,Ee),w=w+Math.imul(qe,Ae)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Ae)|0,_=_+Math.imul(ke,Ne)|0,w=w+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Be)|0,u=u+Math.imul(Me,Pe)|0,_=_+Math.imul(Me,Be)|0,w=w+Math.imul(pe,Ge)|0,u=u+Math.imul(pe,$e)|0,u=u+Math.imul(ye,Ge)|0,_=_+Math.imul(ye,$e)|0,w=w+Math.imul(fe,Le)|0,u=u+Math.imul(fe,Ue)|0,u=u+Math.imul(le,Le)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ee,je)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(te,je)|0,_=_+Math.imul(te,Ke)|0,w=w+Math.imul(H,Ce)|0,u=u+Math.imul(H,ze)|0,u=u+Math.imul(D,Ce)|0,_=_+Math.imul(D,ze)|0;var It=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(It>>>26)|0,It&=67108863,w=Math.imul(De,xe),u=Math.imul(De,Ee),u=u+Math.imul(Fe,xe)|0,_=Math.imul(Fe,Ee),w=w+Math.imul(Ve,Ae)|0,u=u+Math.imul(Ve,Ne)|0,u=u+Math.imul(He,Ae)|0,_=_+Math.imul(He,Ne)|0,w=w+Math.imul(qe,Pe)|0,u=u+Math.imul(qe,Be)|0,u=u+Math.imul(ke,Pe)|0,_=_+Math.imul(ke,Be)|0,w=w+Math.imul(Re,Ge)|0,u=u+Math.imul(Re,$e)|0,u=u+Math.imul(Me,Ge)|0,_=_+Math.imul(Me,$e)|0,w=w+Math.imul(pe,Le)|0,u=u+Math.imul(pe,Ue)|0,u=u+Math.imul(ye,Le)|0,_=_+Math.imul(ye,Ue)|0,w=w+Math.imul(fe,je)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,Ke)|0,w=w+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(te,Ce)|0,_=_+Math.imul(te,ze)|0,w=w+Math.imul(H,G)|0,u=u+Math.imul(H,z)|0,u=u+Math.imul(D,G)|0,_=_+Math.imul(D,z)|0;var At=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(Z,xe),u=Math.imul(Z,Ee),u=u+Math.imul(J,xe)|0,_=Math.imul(J,Ee),w=w+Math.imul(De,Ae)|0,u=u+Math.imul(De,Ne)|0,u=u+Math.imul(Fe,Ae)|0,_=_+Math.imul(Fe,Ne)|0,w=w+Math.imul(Ve,Pe)|0,u=u+Math.imul(Ve,Be)|0,u=u+Math.imul(He,Pe)|0,_=_+Math.imul(He,Be)|0,w=w+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,_=_+Math.imul(ke,$e)|0,w=w+Math.imul(Re,Le)|0,u=u+Math.imul(Re,Ue)|0,u=u+Math.imul(Me,Le)|0,_=_+Math.imul(Me,Ue)|0,w=w+Math.imul(pe,je)|0,u=u+Math.imul(pe,Ke)|0,u=u+Math.imul(ye,je)|0,_=_+Math.imul(ye,Ke)|0,w=w+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ee,G)|0,u=u+Math.imul(ee,z)|0,u=u+Math.imul(te,G)|0,_=_+Math.imul(te,z)|0,w=w+Math.imul(H,W)|0,u=u+Math.imul(H,Q)|0,u=u+Math.imul(D,W)|0,_=_+Math.imul(D,Q)|0;var _t=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,w=Math.imul(ne,xe),u=Math.imul(ne,Ee),u=u+Math.imul(de,xe)|0,_=Math.imul(de,Ee),w=w+Math.imul(Z,Ae)|0,u=u+Math.imul(Z,Ne)|0,u=u+Math.imul(J,Ae)|0,_=_+Math.imul(J,Ne)|0,w=w+Math.imul(De,Pe)|0,u=u+Math.imul(De,Be)|0,u=u+Math.imul(Fe,Pe)|0,_=_+Math.imul(Fe,Be)|0,w=w+Math.imul(Ve,Ge)|0,u=u+Math.imul(Ve,$e)|0,u=u+Math.imul(He,Ge)|0,_=_+Math.imul(He,$e)|0,w=w+Math.imul(qe,Le)|0,u=u+Math.imul(qe,Ue)|0,u=u+Math.imul(ke,Le)|0,_=_+Math.imul(ke,Ue)|0,w=w+Math.imul(Re,je)|0,u=u+Math.imul(Re,Ke)|0,u=u+Math.imul(Me,je)|0,_=_+Math.imul(Me,Ke)|0,w=w+Math.imul(pe,Ce)|0,u=u+Math.imul(pe,ze)|0,u=u+Math.imul(ye,Ce)|0,_=_+Math.imul(ye,ze)|0,w=w+Math.imul(fe,G)|0,u=u+Math.imul(fe,z)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,z)|0,w=w+Math.imul(ee,W)|0,u=u+Math.imul(ee,Q)|0,u=u+Math.imul(te,W)|0,_=_+Math.imul(te,Q)|0,w=w+Math.imul(H,se)|0,u=u+Math.imul(H,ue)|0,u=u+Math.imul(D,se)|0,_=_+Math.imul(D,ue)|0;var St=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(St>>>26)|0,St&=67108863,w=Math.imul(ne,Ae),u=Math.imul(ne,Ne),u=u+Math.imul(de,Ae)|0,_=Math.imul(de,Ne),w=w+Math.imul(Z,Pe)|0,u=u+Math.imul(Z,Be)|0,u=u+Math.imul(J,Pe)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(De,Ge)|0,u=u+Math.imul(De,$e)|0,u=u+Math.imul(Fe,Ge)|0,_=_+Math.imul(Fe,$e)|0,w=w+Math.imul(Ve,Le)|0,u=u+Math.imul(Ve,Ue)|0,u=u+Math.imul(He,Le)|0,_=_+Math.imul(He,Ue)|0,w=w+Math.imul(qe,je)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,je)|0,_=_+Math.imul(ke,Ke)|0,w=w+Math.imul(Re,Ce)|0,u=u+Math.imul(Re,ze)|0,u=u+Math.imul(Me,Ce)|0,_=_+Math.imul(Me,ze)|0,w=w+Math.imul(pe,G)|0,u=u+Math.imul(pe,z)|0,u=u+Math.imul(ye,G)|0,_=_+Math.imul(ye,z)|0,w=w+Math.imul(fe,W)|0,u=u+Math.imul(fe,Q)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,Q)|0,w=w+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(te,se)|0,_=_+Math.imul(te,ue)|0;var wt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,w=Math.imul(ne,Pe),u=Math.imul(ne,Be),u=u+Math.imul(de,Pe)|0,_=Math.imul(de,Be),w=w+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(J,Ge)|0,_=_+Math.imul(J,$e)|0,w=w+Math.imul(De,Le)|0,u=u+Math.imul(De,Ue)|0,u=u+Math.imul(Fe,Le)|0,_=_+Math.imul(Fe,Ue)|0,w=w+Math.imul(Ve,je)|0,u=u+Math.imul(Ve,Ke)|0,u=u+Math.imul(He,je)|0,_=_+Math.imul(He,Ke)|0,w=w+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,Ce)|0,_=_+Math.imul(ke,ze)|0,w=w+Math.imul(Re,G)|0,u=u+Math.imul(Re,z)|0,u=u+Math.imul(Me,G)|0,_=_+Math.imul(Me,z)|0,w=w+Math.imul(pe,W)|0,u=u+Math.imul(pe,Q)|0,u=u+Math.imul(ye,W)|0,_=_+Math.imul(ye,Q)|0,w=w+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),w=w+Math.imul(Z,Le)|0,u=u+Math.imul(Z,Ue)|0,u=u+Math.imul(J,Le)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(De,je)|0,u=u+Math.imul(De,Ke)|0,u=u+Math.imul(Fe,je)|0,_=_+Math.imul(Fe,Ke)|0,w=w+Math.imul(Ve,Ce)|0,u=u+Math.imul(Ve,ze)|0,u=u+Math.imul(He,Ce)|0,_=_+Math.imul(He,ze)|0,w=w+Math.imul(qe,G)|0,u=u+Math.imul(qe,z)|0,u=u+Math.imul(ke,G)|0,_=_+Math.imul(ke,z)|0,w=w+Math.imul(Re,W)|0,u=u+Math.imul(Re,Q)|0,u=u+Math.imul(Me,W)|0,_=_+Math.imul(Me,Q)|0,w=w+Math.imul(pe,se)|0,u=u+Math.imul(pe,ue)|0,u=u+Math.imul(ye,se)|0,_=_+Math.imul(ye,ue)|0;var dt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(ne,Le),u=Math.imul(ne,Ue),u=u+Math.imul(de,Le)|0,_=Math.imul(de,Ue),w=w+Math.imul(Z,je)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(J,je)|0,_=_+Math.imul(J,Ke)|0,w=w+Math.imul(De,Ce)|0,u=u+Math.imul(De,ze)|0,u=u+Math.imul(Fe,Ce)|0,_=_+Math.imul(Fe,ze)|0,w=w+Math.imul(Ve,G)|0,u=u+Math.imul(Ve,z)|0,u=u+Math.imul(He,G)|0,_=_+Math.imul(He,z)|0,w=w+Math.imul(qe,W)|0,u=u+Math.imul(qe,Q)|0,u=u+Math.imul(ke,W)|0,_=_+Math.imul(ke,Q)|0,w=w+Math.imul(Re,se)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Me,se)|0,_=_+Math.imul(Me,ue)|0;var ot=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,w=Math.imul(ne,je),u=Math.imul(ne,Ke),u=u+Math.imul(de,je)|0,_=Math.imul(de,Ke),w=w+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(J,Ce)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(De,G)|0,u=u+Math.imul(De,z)|0,u=u+Math.imul(Fe,G)|0,_=_+Math.imul(Fe,z)|0,w=w+Math.imul(Ve,W)|0,u=u+Math.imul(Ve,Q)|0,u=u+Math.imul(He,W)|0,_=_+Math.imul(He,Q)|0,w=w+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,_=_+Math.imul(ke,ue)|0;var ft=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(ne,Ce),u=Math.imul(ne,ze),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,ze),w=w+Math.imul(Z,G)|0,u=u+Math.imul(Z,z)|0,u=u+Math.imul(J,G)|0,_=_+Math.imul(J,z)|0,w=w+Math.imul(De,W)|0,u=u+Math.imul(De,Q)|0,u=u+Math.imul(Fe,W)|0,_=_+Math.imul(Fe,Q)|0,w=w+Math.imul(Ve,se)|0,u=u+Math.imul(Ve,ue)|0,u=u+Math.imul(He,se)|0,_=_+Math.imul(He,ue)|0;var ut=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(ne,G),u=Math.imul(ne,z),u=u+Math.imul(de,G)|0,_=Math.imul(de,z),w=w+Math.imul(Z,W)|0,u=u+Math.imul(Z,Q)|0,u=u+Math.imul(J,W)|0,_=_+Math.imul(J,Q)|0,w=w+Math.imul(De,se)|0,u=u+Math.imul(De,ue)|0,u=u+Math.imul(Fe,se)|0,_=_+Math.imul(Fe,ue)|0;var rt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(ne,W),u=Math.imul(ne,Q),u=u+Math.imul(de,W)|0,_=Math.imul(de,Q),w=w+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(J,se)|0,_=_+Math.imul(J,ue)|0;var ve=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,w=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(T+w|0)+((u&8191)<<13)|0;return T=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=bt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=ve,A[18]=_e,T!==0&&(A[19]=T,p.length++),p},"comb10MulTo");Math.imul||(O=I);function N(S,c,d){d.negative=c.negative^S.negative,d.length=S.length+c.length;for(var p=0,x=0,v=0;v<d.length-1;v++){var A=x;x=0;for(var T=p&67108863,w=Math.min(v,c.length-1),u=Math.max(0,v-S.length+1);u<=w;u++){var _=v-u,F=S.words[_]|0,H=c.words[u]|0,D=F*H,$=D&67108863;A=A+(D/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[v]=T,p=A,A=x}return p!==0?d.words[v]=p:d.length--,d.strip()}o(N,"bigMulTo");function k(S,c,d){var p=new C;return p.mulp(S,c,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var p,x=this.length+c.length;return this.length===10&&c.length===10?p=O(this,c,d):x<63?p=I(this,c,d):x<1024?p=N(this,c,d):p=k(this,c,d),p},"mulTo");function C(S,c){this.x=S,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),p=i.prototype._countBits(c)-1,x=0;x<c;x++)d[x]=this.revBin(x,p,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,p){if(c===0||c===p-1)return c;for(var x=0,v=0;v<d;v++)x|=(c&1)<<d-v-1,c>>=1;return x},"revBin"),C.prototype.permute=o(function(c,d,p,x,v,A){for(var T=0;T<A;T++)x[T]=d[c[T]],v[T]=p[c[T]]},"permute"),C.prototype.transform=o(function(c,d,p,x,v,A){this.permute(A,c,d,p,x,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,u=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),F=0;F<v;F+=w)for(var H=u,D=_,$=0;$<T;$++){var ee=p[F+$],te=x[F+$],Oe=p[F+$+T],fe=x[F+$+T],le=H*Oe-D*fe;fe=H*fe+D*Oe,Oe=le,p[F+$]=ee+Oe,x[F+$]=te+fe,p[F+$+T]=ee-Oe,x[F+$+T]=te-fe,$!==w&&(le=u*H-_*D,D=u*D+_*H,H=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var p=Math.max(d,c)|1,x=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+x},"guessLen13b"),C.prototype.conjugate=o(function(c,d,p){if(!(p<=1))for(var x=0;x<p/2;x++){var v=c[x];c[x]=c[p-x-1],c[p-x-1]=v,v=d[x],d[x]=-d[p-x-1],d[p-x-1]=-v}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var p=0,x=0;x<d/2;x++){var v=Math.round(c[2*x+1]/d)*8192+Math.round(c[2*x]/d)+p;c[x]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,p,x){for(var v=0,A=0;A<d;A++)v=v+(c[A]|0),p[2*A]=v&8191,v=v>>>13,p[2*A+1]=v&8191,v=v>>>13;for(A=2*d;A<x;++A)p[A]=0;r(v===0),r((v&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),p=0;p<c;p++)d[p]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,p){var x=2*this.guessLen13b(c.length,d.length),v=this.makeRBT(x),A=this.stub(x),T=new Array(x),w=new Array(x),u=new Array(x),_=new Array(x),F=new Array(x),H=new Array(x),D=p.words;D.length=x,this.convert13b(c.words,c.length,T,x),this.convert13b(d.words,d.length,_,x),this.transform(T,A,w,u,x,v),this.transform(_,A,F,H,x,v);for(var $=0;$<x;$++){var ee=w[$]*F[$]-u[$]*H[$];u[$]=w[$]*H[$]+u[$]*F[$],w[$]=ee}return this.conjugate(w,u,x),this.transform(w,u,D,A,x,v),this.conjugate(D,A,x),this.normalize13b(D,x),p.negative=c.negative^d.negative,p.length=c.length+d.length,p.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),k(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,p=0;p<this.length;p++){var x=(this.words[p]|0)*c,v=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=v>>>26,this.words[p]=v&67108863}return d!==0&&(this.words[p]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=E(c);if(d.length===0)return new i(1);for(var p=this,x=0;x<d.length&&d[x]===0;x++,p=p.sqr());if(++x<d.length)for(var v=p.sqr();x<d.length;x++,v=v.sqr())d[x]!==0&&(p=p.mul(v));return p},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=67108863>>>26-d<<26-d,v;if(d!==0){var A=0;for(v=0;v<this.length;v++){var T=this.words[v]&x,w=(this.words[v]|0)-T<<d;this.words[v]=w|A,A=T>>>26-d}A&&(this.words[v]=A,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,p){r(typeof c=="number"&&c>=0);var x;d?x=(d-d%26)/26:x=0;var v=c%26,A=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(x-=A,x=Math.max(0,x),w){for(var u=0;u<A;u++)w.words[u]=this.words[u];w.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=x);u--){var F=this.words[u]|0;this.words[u]=_<<26-v|F>>>v,_=F&T}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,p){return r(this.negative===0),this.iushrn(c,d,p)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return!1;var v=this.words[p];return!!(v&x)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,p){var x=c.length+p,v;this._expand(x);var A,T=0;for(v=0;v<c.length;v++){A=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*d;A-=w&67108863,T=(A>>26)-(w/67108864|0),this.words[v+p]=A&67108863}for(;v<this.length-p;v++)A=(this.words[v+p]|0)+T,T=A>>26,this.words[v+p]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,v=0;v<this.length;v++)A=-(this.words[v]|0)+T,T=A>>26,this.words[v]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var p=this.length-c.length,x=this.clone(),v=c,A=v.words[v.length-1]|0,T=this._countBits(A);p=26-T,p!==0&&(v=v.ushln(p),x.iushln(p),A=v.words[v.length-1]|0);var w=x.length-v.length,u;if(d!=="mod"){u=new i(null),u.length=w+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var F=x.clone()._ishlnsubmul(v,1,w);F.negative===0&&(x=F,u&&(u.words[w]=1));for(var H=w-1;H>=0;H--){var D=(x.words[v.length+H]|0)*67108864+(x.words[v.length+H-1]|0);for(D=Math.min(D/A|0,67108863),x._ishlnsubmul(v,D,H);x.negative!==0;)D--,x.negative=0,x._ishlnsubmul(v,1,H),x.isZero()||(x.negative^=1);u&&(u.words[H]=D)}return u&&u.strip(),x.strip(),d!=="div"&&p!==0&&x.iushrn(p),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(c,d,p){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,v,A;return this.negative!==0&&c.negative===0?(A=this.neg().divmod(c,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:x,mod:v}):this.negative===0&&c.negative!==0?(A=this.divmod(c.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&c.negative?(A=this.neg().divmod(c.neg(),d),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:A.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(c):d.mod,x=c.ushrn(1),v=c.andln(1),A=p.cmp(x);return A<0||v===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,p=0,x=this.length-1;x>=0;x--)p=(d*p+(this.words[x]|0))%c;return p},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,p=this.length-1;p>=0;p--){var x=(this.words[p]|0)+d*67108864;this.words[p]=x/c|0,d=x%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=new i(0),T=new i(1),w=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++w;for(var u=p.clone(),_=d.clone();!d.isZero();){for(var F=0,H=1;!(d.words[0]&H)&&F<26;++F,H<<=1);if(F>0)for(d.iushrn(F);F-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(u),v.isub(_)),x.iushrn(1),v.iushrn(1);for(var D=0,$=1;!(p.words[0]&$)&&D<26;++D,$<<=1);if(D>0)for(p.iushrn(D);D-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(_)),A.iushrn(1),T.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(A),v.isub(T)):(p.isub(d),A.isub(x),T.isub(v))}return{a:A,b:T,gcd:p.iushln(w)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(d.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,_=1;!(p.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(p.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(v)):(p.isub(d),v.isub(x))}var F;return d.cmpn(1)===0?F=x:F=v,F.cmpn(0)<0&&F.iadd(c),F},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),p=c.clone();d.negative=0,p.negative=0;for(var x=0;d.isEven()&&p.isEven();x++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=d.cmp(p);if(v<0){var A=d;d=p,p=A}else if(v===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(x)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=x,this;for(var v=x,A=p;v!==0&&A<this.length;A++){var T=this.words[A]|0;T+=v,v=T>>>26,T&=67108863,this.words[A]=T}return v!==0&&(this.words[A]=v,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var p;if(this.length>1)p=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var x=this.words[0]|0;p=x===c?0:x<c?-1:1}return this.negative!==0?-p|0:p},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var x=this.words[p]|0,v=c.words[p]|0;if(x!==v){x<v?d=-1:x>v&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,c){this.name=S,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var x=p<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var p=4194303,x=Math.min(c.length,9),v=0;v<x;v++)d.words[v]=c.words[v];if(d.length=x,c.length<=9){c.words[0]=0,c.length=1;return}var A=c.words[9];for(d.words[d.length++]=A&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|A>>>22,A=T}A>>>=22,c.words[v-10]=A,A===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,p=0;p<c.length;p++){var x=c.words[p]|0;d+=x*977,c.words[p]=d&67108863,d=x*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function q(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(q,"P224"),n(q,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function re(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(re,"P25519"),n(re,M),re.prototype.imulK=o(function(c){for(var d=0,p=0;p<c.length;p++){var x=(c.words[p]|0)*19+d,v=x&67108863;x>>>=26,c.words[p]=v,d=x}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(L[c])return L[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new q;else if(c==="p192")d=new j;else if(c==="p25519")d=new re;else throw new Error("Unknown prime "+c);return L[c]=d,d},"prime");function Y(S){if(typeof S=="string"){var c=i._prime(S);this.m=c.p,this.prime=c}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var p=c.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var p=c.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var p=c.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var p=c.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(c,p)}for(var x=this.m.subn(1),v=0;!x.isZero()&&x.andln(1)===0;)v++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),w=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,w).cmp(T)!==0;)u.redIAdd(T);for(var _=this.pow(u,x),F=this.pow(c,x.addn(1).iushrn(1)),H=this.pow(c,x),D=v;H.cmp(A)!==0;){for(var $=H,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<D);var te=this.pow(_,new i(1).iushln(D-ee-1));F=F.redMul(te),_=te.redSqr(),H=H.redMul(_),D=ee}return F},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var p=4,x=new Array(1<<p);x[0]=new i(1).toRed(this),x[1]=c;for(var v=2;v<x.length;v++)x[v]=this.mul(x[v-1],c);var A=x[0],T=0,w=0,u=d.bitLength()%26;for(u===0&&(u=26),v=d.length-1;v>=0;v--){for(var _=d.words[v],F=u-1;F>=0;F--){var H=_>>F&1;if(A!==x[0]&&(A=this.sqr(A)),H===0&&T===0){w=0;continue}T<<=1,T|=H,w++,!(w!==p&&(v!==0||F!==0))&&(A=this.mul(A,x[T]),w=0,T=0)}u=26}return A},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new X(c)},"mont");function X(S){Y.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,Y),X.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var p=c.mul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof _L>"u"||_L,Hue)});var F8=V((c9t,Fue)=>{"use strict";m();g();var H8=Yi(),Yb=H8.Buffer,Of={},Nf;for(Nf in H8)H8.hasOwnProperty(Nf)&&(Nf==="SlowBuffer"||Nf==="Buffer"||(Of[Nf]=H8[Nf]));var Xb=Of.Buffer={};for(Nf in Yb)Yb.hasOwnProperty(Nf)&&(Nf==="allocUnsafe"||Nf==="allocUnsafeSlow"||(Xb[Nf]=Yb[Nf]));Of.Buffer.prototype=Yb.prototype;(!Xb.from||Xb.from===Uint8Array.from)&&(Xb.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Yb(t,e,r)});Xb.alloc||(Xb.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=Yb(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!Of.kStringMaxLength)try{Of.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}Of.constants||(Of.constants={MAX_LENGTH:Of.kMaxLength},Of.kStringMaxLength&&(Of.constants.MAX_STRING_LENGTH=Of.kStringMaxLength));Fue.exports=Of});var q8=V(que=>{"use strict";m();g();var _Ve=hr();function Mf(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}o(Mf,"Reporter");que.Reporter=Mf;Mf.prototype.isError=o(function(e){return e instanceof Zb},"isError");Mf.prototype.save=o(function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},"save");Mf.prototype.restore=o(function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)},"restore");Mf.prototype.enterKey=o(function(e){return this._reporterState.path.push(e)},"enterKey");Mf.prototype.exitKey=o(function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)},"exitKey");Mf.prototype.leaveKey=o(function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)},"leaveKey");Mf.prototype.path=o(function(){return this._reporterState.path.join("/")},"path");Mf.prototype.enterObject=o(function(){let e=this._reporterState,r=e.obj;return e.obj={},r},"enterObject");Mf.prototype.leaveObject=o(function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n},"leaveObject");Mf.prototype.error=o(function(e){let r,n=this._reporterState,i=e instanceof Zb;if(i?r=e:r=new Zb(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r},"error");Mf.prototype.wrapResult=o(function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e},"wrapResult");function Zb(t,e){this.path=t,this.rethrow(e)}o(Zb,"ReporterError");_Ve(Zb,Error);Zb.prototype.rethrow=o(function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Zb),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this},"rethrow")});var ex=V(SL=>{"use strict";m();g();var wVe=hr(),V8=q8().Reporter,Jb=F8().Buffer;function Cf(t,e){if(V8.call(this,e),!Jb.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}o(Cf,"DecoderBuffer");wVe(Cf,V8);SL.DecoderBuffer=Cf;Cf.isDecoderBuffer=o(function(e){return e instanceof Cf?!0:typeof e=="object"&&Jb.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"},"isDecoderBuffer");Cf.prototype.save=o(function(){return{offset:this.offset,reporter:V8.prototype.save.call(this)}},"save");Cf.prototype.restore=o(function(e){let r=new Cf(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,V8.prototype.restore.call(this,e.reporter),r},"restore");Cf.prototype.isEmpty=o(function(){return this.offset===this.length},"isEmpty");Cf.prototype.readUInt8=o(function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},"readUInt8");Cf.prototype.skip=o(function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new Cf(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},"skip");Cf.prototype.raw=o(function(e){return this.base.slice(e?e.offset:this.offset,this.length)},"raw");function Qb(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return Qb.isEncoderBuffer(r)||(r=new Qb(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Jb.byteLength(t);else if(Jb.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}o(Qb,"EncoderBuffer");SL.EncoderBuffer=Qb;Qb.isEncoderBuffer=o(function(e){return e instanceof Qb?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"},"isEncoderBuffer");Qb.prototype.join=o(function(e,r){return e||(e=Jb.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Jb.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e},"join")});var j8=V((x9t,jue)=>{"use strict";m();g();var SVe=q8().Reporter,EVe=ex().EncoderBuffer,AVe=ex().DecoderBuffer,Oa=jc(),Vue=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],IVe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Vue),TVe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Cn(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}o(Cn,"Node");jue.exports=Cn;var RVe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Cn.prototype.clone=o(function(){let e=this._baseState,r={};RVe.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n},"clone");Cn.prototype._wrap=o(function(){let e=this._baseState;IVe.forEach(function(r){this[r]=o(function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");Cn.prototype._init=o(function(e){let r=this._baseState;Oa(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Oa.equal(r.children.length,1,"Root node can have only one child")},"init");Cn.prototype._useArgs=o(function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Oa(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(Oa(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let s={};return Object.keys(i).forEach(function(a){a==(a|0)&&(a|=0);let f=i[a];s[f]=a}),s}))},"useArgs");TVe.forEach(function(t){Cn.prototype[t]=o(function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)},"_overrided")});Vue.forEach(function(t){Cn.prototype[t]=o(function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Oa(r.tag===null),r.tag=t,this._useArgs(n),this},"_tagMethod")});Cn.prototype.use=o(function(e){Oa(e);let r=this._baseState;return Oa(r.use===null),r.use=e,this},"use");Cn.prototype.optional=o(function(){let e=this._baseState;return e.optional=!0,this},"optional");Cn.prototype.def=o(function(e){let r=this._baseState;return Oa(r.default===null),r.default=e,r.optional=!0,this},"def");Cn.prototype.explicit=o(function(e){let r=this._baseState;return Oa(r.explicit===null&&r.implicit===null),r.explicit=e,this},"explicit");Cn.prototype.implicit=o(function(e){let r=this._baseState;return Oa(r.explicit===null&&r.implicit===null),r.implicit=e,this},"implicit");Cn.prototype.obj=o(function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this},"obj");Cn.prototype.key=o(function(e){let r=this._baseState;return Oa(r.key===null),r.key=e,this},"key");Cn.prototype.any=o(function(){let e=this._baseState;return e.any=!0,this},"any");Cn.prototype.choice=o(function(e){let r=this._baseState;return Oa(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this},"choice");Cn.prototype.contains=o(function(e){let r=this._baseState;return Oa(r.use===null),r.contains=e,this},"contains");Cn.prototype._decode=o(function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,s=!0,a=null;if(n.key!==null&&(a=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let h=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(h)}else if(s=this._peekTag(e,l,n.any),e.isError(s))return s}let f;if(n.obj&&s&&(f=e.enterObject()),s){if(n.explicit!==null){let h=this._decodeTag(e,n.explicit);if(e.isError(h))return h;e=h}let l=e.offset;if(n.use===null&&n.choice===null){let h;n.any&&(h=e.save());let b=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(b))return b;n.any?i=e.raw(h):e=b}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(o(function(b){b._decode(e,r)},"decodeChildren")),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let h=new AVe(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(h,r)}}return n.obj&&s&&(i=e.leaveObject(f)),n.key!==null&&(i!==null||s===!0)?e.leaveKey(a,n.key,i):a!==null&&e.exitKey(a),i},"decode");Cn.prototype._decodeGeneric=o(function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)},"decodeGeneric");Cn.prototype._getUse=o(function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),Oa(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},"_getUse");Cn.prototype._decodeChoice=o(function(e,r){let n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(a){let f=e.save(),l=n.choice[a];try{let h=l._decode(e,r);if(e.isError(h))return!1;i={type:a,value:h},s=!0}catch{return e.restore(f),!1}return!0},this),s?i:e.error("Choice not matched")},"decodeChoice");Cn.prototype._createEncoderBuffer=o(function(e){return new EVe(e,this.reporter)},"createEncoderBuffer");Cn.prototype._encode=o(function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let s=this._encodeValue(e,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s},"encode");Cn.prototype._encodeValue=o(function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new SVe);let s=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let a=null,f=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,r);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,r),f=!0;else if(i.children)a=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let h=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let b=l._encode(e[l._baseState.key],r,e);return r.leaveKey(h),b},this).filter(function(l){return l}),a=this._createEncoderBuffer(a);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(h){let b=this._baseState;return this._getUse(b.args[0],e)._encode(h,r)},l))}else i.use!==null?s=this._getUse(i.use,n)._encode(e,r):(a=this._encodePrimitive(i.tag,e),f=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,h=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(l,f,h,a))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},"encode");Cn.prototype._encodeChoice=o(function(e,r){let n=this._baseState,i=n.choice[e.type];return i||Oa(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)},"encodeChoice");Cn.prototype._encodePrimitive=o(function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)},"encodePrimitive");Cn.prototype._isNumstr=o(function(e){return/^[0-9 ]*$/.test(e)},"isNumstr");Cn.prototype._isPrintstr=o(function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)},"isPrintstr")});var K8=V(Wg=>{"use strict";m();g();function Kue(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}o(Kue,"reverse");Wg.tagClass={0:"universal",1:"application",2:"context",3:"private"};Wg.tagClassByName=Kue(Wg.tagClass);Wg.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Wg.tagByName=Kue(Wg.tag)});var AL=V((T9t,$ue)=>{"use strict";m();g();var OVe=hr(),T0=F8().Buffer,zue=j8(),EL=K8();function Gue(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new ku,this.tree._init(t.body)}o(Gue,"DEREncoder");$ue.exports=Gue;Gue.prototype.encode=o(function(e,r){return this.tree._encode(e,r).join()},"encode");function ku(t){zue.call(this,"der",t)}o(ku,"DERNode");OVe(ku,zue);ku.prototype._encodeComposite=o(function(e,r,n,i){let s=NVe(e,r,n,this.reporter);if(i.length<128){let l=T0.alloc(2);return l[0]=s,l[1]=i.length,this._createEncoderBuffer([l,i])}let a=1;for(let l=i.length;l>=256;l>>=8)a++;let f=T0.alloc(2+a);f[0]=s,f[1]=128|a;for(let l=1+a,h=i.length;h>0;l--,h>>=8)f[l]=h&255;return this._createEncoderBuffer([f,i])},"encodeComposite");ku.prototype._encodeStr=o(function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=T0.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")},"encodeStr");ku.prototype._encodeObjid=o(function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let f=0;f<e.length;f++)e[f]|=0}else if(Array.isArray(e)){e=e.slice();for(let f=0;f<e.length;f++)e[f]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let f=0;f<e.length;f++){let l=e[f];for(i++;l>=128;l>>=7)i++}let s=T0.alloc(i),a=s.length-1;for(let f=e.length-1;f>=0;f--){let l=e[f];for(s[a--]=l&127;(l>>=7)>0;)s[a--]=128|l&127}return this._createEncoderBuffer(s)},"encodeObjid");function kf(t){return t<10?"0"+t:t}o(kf,"two");ku.prototype._encodeTime=o(function(e,r){let n,i=new Date(e);return r==="gentime"?n=[kf(i.getUTCFullYear()),kf(i.getUTCMonth()+1),kf(i.getUTCDate()),kf(i.getUTCHours()),kf(i.getUTCMinutes()),kf(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[kf(i.getUTCFullYear()%100),kf(i.getUTCMonth()+1),kf(i.getUTCDate()),kf(i.getUTCHours()),kf(i.getUTCMinutes()),kf(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")},"encodeTime");ku.prototype._encodeNull=o(function(){return this._createEncoderBuffer("")},"encodeNull");ku.prototype._encodeInt=o(function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!T0.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=T0.from(s)}if(T0.isBuffer(e)){let s=e.length;e.length===0&&s++;let a=T0.alloc(s);return e.copy(a),e.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let s=e;s>=256;s>>=8)n++;let i=new Array(n);for(let s=i.length-1;s>=0;s--)i[s]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(T0.from(i))},"encodeInt");ku.prototype._encodeBool=o(function(e){return this._createEncoderBuffer(e?255:0)},"encodeBool");ku.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree},"use");ku.prototype._skipDefault=o(function(e,r,n){let i=this._baseState,s;if(i.default===null)return!1;let a=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),a.length!==i.defaultBuffer.length)return!1;for(s=0;s<a.length;s++)if(a[s]!==i.defaultBuffer[s])return!1;return!0},"skipDefault");function NVe(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),EL.tagByName.hasOwnProperty(t))i=EL.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=EL.tagClassByName[r||"universal"]<<6,i)}o(NVe,"encodeTag")});var Yue=V((M9t,Wue)=>{"use strict";m();g();var MVe=hr(),IL=AL();function TL(t){IL.call(this,t),this.enc="pem"}o(TL,"PEMEncoder");MVe(TL,IL);Wue.exports=TL;TL.prototype.encode=o(function(e,r){let i=IL.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let a=0;a<i.length;a+=64)s.push(i.slice(a,a+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)},"encode")});var RL=V(Zue=>{"use strict";m();g();var Xue=Zue;Xue.der=AL();Xue.pem=Yue()});var NL=V((U9t,nle)=>{"use strict";m();g();var CVe=hr(),kVe=wL(),Jue=ex().DecoderBuffer,ele=j8(),Que=K8();function tle(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new zc,this.tree._init(t.body)}o(tle,"DERDecoder");nle.exports=tle;tle.prototype.decode=o(function(e,r){return Jue.isDecoderBuffer(e)||(e=new Jue(e,r)),this.tree._decode(e,r)},"decode");function zc(t){ele.call(this,"der",t)}o(zc,"DERNode");CVe(zc,ele);zc.prototype._peekTag=o(function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),s=OL(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)},"peekTag");zc.prototype._decodeTag=o(function(e,r,n){let i=OL(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let s=rle(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');let a=e.save(),f=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(f)?f:(s=e.offset-a.offset,e.restore(a),e.skip(s,'Failed to match body of: "'+r+'"'))},"decodeTag");zc.prototype._skipUntilEnd=o(function(e,r){for(;;){let n=OL(e,r);if(e.isError(n))return n;let i=rle(e,n.primitive,r);if(e.isError(i))return i;let s;if(n.primitive||i!==null?s=e.skip(i):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(n.tagStr==="end")break}},"skipUntilEnd");zc.prototype._decodeList=o(function(e,r,n,i){let s=[];for(;!e.isEmpty();){let a=this._peekTag(e,"end");if(e.isError(a))return a;let f=n.decode(e,"der",i);if(e.isError(f)&&a)break;s.push(f)}return s},"decodeList");zc.prototype._decodeStr=o(function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(s*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}},"decodeStr");zc.prototype._decodeObjid=o(function(e,r,n){let i,s=[],a=0,f=0;for(;!e.isEmpty();)f=e.readUInt8(),a<<=7,a|=f&127,f&128||(s.push(a),a=0);f&128&&s.push(a);let l=s[0]/40|0,h=s[0]%40;if(n?i=s:i=[l,h].concat(s.slice(1)),r){let b=r[i.join(" ")];b===void 0&&(b=r[i.join(".")]),b!==void 0&&(i=b)}return i},"decodeObjid");zc.prototype._decodeTime=o(function(e,r){let n=e.raw().toString(),i,s,a,f,l,h;if(r==="gentime")i=n.slice(0,4)|0,s=n.slice(4,6)|0,a=n.slice(6,8)|0,f=n.slice(8,10)|0,l=n.slice(10,12)|0,h=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,s=n.slice(2,4)|0,a=n.slice(4,6)|0,f=n.slice(6,8)|0,l=n.slice(8,10)|0,h=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,s-1,a,f,l,h,0)},"decodeTime");zc.prototype._decodeNull=o(function(){return null},"decodeNull");zc.prototype._decodeBool=o(function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0},"decodeBool");zc.prototype._decodeInt=o(function(e,r){let n=e.raw(),i=new kVe(n);return r&&(i=r[i.toString(10)]||i),i},"decodeInt");zc.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree},"use");function OL(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=Que.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let a=r;for(r=0;(a&128)===128;){if(a=t.readUInt8(e),t.isError(a))return a;r<<=7,r|=a&127}}else r&=31;let s=Que.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}o(OL,"derDecodeTag");function rle(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;let a=t.readUInt8(r);if(t.isError(a))return a;n|=a}return n}o(rle,"derDecodeLen")});var ole=V((V9t,ile)=>{"use strict";m();g();var BVe=hr(),PVe=F8().Buffer,ML=NL();function CL(t){ML.call(this,t),this.enc="pem"}o(CL,"PEMDecoder");BVe(CL,ML);ile.exports=CL;CL.prototype.decode=o(function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,f=-1;for(let b=0;b<n.length;b++){let y=n[b].match(s);if(y!==null&&y[2]===i)if(a===-1){if(y[1]!=="BEGIN")break;a=b}else{if(y[1]!=="END")break;f=b;break}}if(a===-1||f===-1)throw new Error("PEM section not found for: "+i);let l=n.slice(a+1,f).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let h=PVe.from(l,"base64");return ML.prototype.decode.call(this,h,r)},"decode")});var kL=V(ale=>{"use strict";m();g();var sle=ale;sle.der=NL();sle.pem=ole()});var fle=V(cle=>{"use strict";m();g();var LVe=RL(),DVe=kL(),UVe=hr(),HVe=cle;HVe.define=o(function(e,r){return new tx(e,r)},"define");function tx(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}o(tx,"Entity");tx.prototype._createNamed=o(function(e){let r=this.name;function n(i){this._initNamed(i,r)}return o(n,"Generated"),UVe(n,e),n.prototype._initNamed=o(function(s,a){e.call(this,s,a)},"_initNamed"),new n(this)},"createNamed");tx.prototype._getDecoder=o(function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(DVe[e])),this.decoders[e]},"_getDecoder");tx.prototype.decode=o(function(e,r,n){return this._getDecoder(r).decode(e,n)},"decode");tx.prototype._getEncoder=o(function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(LVe[e])),this.encoders[e]},"_getEncoder");tx.prototype.encode=o(function(e,r,n){return this._getEncoder(r).encode(e,n)},"encode")});var lle=V(ule=>{"use strict";m();g();var z8=ule;z8.Reporter=q8().Reporter;z8.DecoderBuffer=ex().DecoderBuffer;z8.EncoderBuffer=ex().EncoderBuffer;z8.Node=j8()});var ple=V(hle=>{"use strict";m();g();var dle=hle;dle._reverse=o(function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let i=e[n];r[i]=n}),r},"reverse");dle.der=K8()});var BL=V(mle=>{"use strict";m();g();var rx=mle;rx.bignum=wL();rx.define=fle().define;rx.base=lle();rx.constants=ple();rx.decoders=kL();rx.encoders=RL()});var xle=V((fOt,ble)=>{"use strict";m();g();var Bu=BL(),gle=Bu.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),FVe=Bu.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),PL=Bu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),qVe=Bu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(PL),this.key("subjectPublicKey").bitstr())}),VVe=Bu.define("RelativeDistinguishedName",function(){this.setof(FVe)}),jVe=Bu.define("RDNSequence",function(){this.seqof(VVe)}),yle=Bu.define("Name",function(){this.choice({rdnSequence:this.use(jVe)})}),KVe=Bu.define("Validity",function(){this.seq().obj(this.key("notBefore").use(gle),this.key("notAfter").use(gle))}),zVe=Bu.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),GVe=Bu.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(PL),this.key("issuer").use(yle),this.key("validity").use(KVe),this.key("subject").use(yle),this.key("subjectPublicKeyInfo").use(qVe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(zVe).optional())}),$Ve=Bu.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(GVe),this.key("signatureAlgorithm").use(PL),this.key("signatureValue").bitstr())});ble.exports=$Ve});var _le=V(Lu=>{"use strict";m();g();var Pu=BL();Lu.certificate=xle();var WVe=Pu.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Lu.RSAPrivateKey=WVe;var YVe=Pu.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Lu.RSAPublicKey=YVe;var XVe=Pu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(vle),this.key("subjectPublicKey").bitstr())});Lu.PublicKey=XVe;var vle=Pu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),ZVe=Pu.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(vle),this.key("subjectPrivateKey").octstr())});Lu.PrivateKey=ZVe;var JVe=Pu.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Lu.EncryptedPrivateKey=JVe;var QVe=Pu.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Lu.DSAPrivateKey=QVe;Lu.DSAparam=Pu.define("DSAparam",function(){this.int()});var eje=Pu.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(tje),this.key("publicKey").optional().explicit(1).bitstr())});Lu.ECPrivateKey=eje;var tje=Pu.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});Lu.signature=Pu.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var wle=V((mOt,rje)=>{rje.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var Ele=V((gOt,Sle)=>{m();g();var nje=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,ije=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,oje=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,sje=tw(),aje=b8(),G8=yr().Buffer;Sle.exports=function(t,e){var r=t.toString(),n=r.match(nje),i;if(n){var a="aes"+n[1],f=G8.from(n[2],"hex"),l=G8.from(n[3].replace(/[\r\n]/g,""),"base64"),h=sje(e,f.slice(0,8),parseInt(n[1],10)).key,b=[],y=aje.createDecipheriv(a,h,f);b.push(y.update(l)),b.push(y.final()),i=G8.concat(b)}else{var s=r.match(oje);i=G8.from(s[2].replace(/[\r\n]/g,""),"base64")}var E=r.match(ije)[1];return{tag:E,data:i}}});var fw=V((xOt,Ile)=>{m();g();var lc=_le(),cje=wle(),fje=Ele(),uje=b8(),lje=s8(),LL=yr().Buffer;Ile.exports=Ale;function Ale(t){var e;typeof t=="object"&&!LL.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=LL.from(t));var r=fje(t,e),n=r.tag,i=r.data,s,a;switch(n){case"CERTIFICATE":a=lc.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=lc.PublicKey.decode(i,"der")),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return lc.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=lc.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":i=lc.EncryptedPrivateKey.decode(i,"der"),i=dje(i,e);case"PRIVATE KEY":switch(a=lc.PrivateKey.decode(i,"der"),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return lc.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:lc.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=lc.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return lc.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return lc.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:lc.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=lc.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}o(Ale,"parseKeys");Ale.signature=lc.signature;function dje(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=cje[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,a=t.subjectPrivateKey,f=parseInt(i.split("-")[1],10)/8,l=lje.pbkdf2Sync(e,r,n,f,"sha1"),h=uje.createDecipheriv(i,l,s),b=[];return b.push(h.update(a)),b.push(h.final()),LL.concat(b)}o(dje,"decrypt")});var DL=V((SOt,hje)=>{hje.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var Ole=V((EOt,W8)=>{"use strict";m();g();var ea=yr().Buffer,Yg=hP(),pje=w8(),mje=U8().ec,$8=ky(),gje=fw(),yje=DL(),bje=1;function xje(t,e,r,n,i){var s=gje(e);if(s.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return vje(t,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return _je(t,s,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==bje)throw new Error("illegal or unsupported padding mode");t=ea.concat([i,t]);for(var a=s.modulus.byteLength(),f=[0,1];t.length+f.length+1<a;)f.push(255);f.push(0);for(var l=-1;++l<t.length;)f.push(t[l]);var h=pje(f,s);return h}o(xje,"sign");function vje(t,e){var r=yje[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new mje(r),i=n.keyFromPrivate(e.privateKey),s=i.sign(t);return ea.from(s.toDER())}o(vje,"ecSign");function _je(t,e,r){for(var n=e.params.priv_key,i=e.params.p,s=e.params.q,a=e.params.g,f=new $8(0),l,h=UL(t,s).mod(s),b=!1,y=Tle(n,s,t,r);b===!1;)l=Rle(s,y,r),f=Eje(a,l,i,s),b=l.invm(s).imul(h.add(n.mul(f))).mod(s),b.cmpn(0)===0&&(b=!1,f=new $8(0));return wje(f,b)}o(_je,"dsaSign");function wje(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),ea.from(n)}o(wje,"toDER");function Tle(t,e,r,n){if(t=ea.from(t.toArray()),t.length<e.byteLength()){var i=ea.alloc(e.byteLength()-t.length);t=ea.concat([i,t])}var s=r.length,a=Sje(r,e),f=ea.alloc(s);f.fill(1);var l=ea.alloc(s);return l=Yg(n,l).update(f).update(ea.from([0])).update(t).update(a).digest(),f=Yg(n,l).update(f).digest(),l=Yg(n,l).update(f).update(ea.from([1])).update(t).update(a).digest(),f=Yg(n,l).update(f).digest(),{k:l,v:f}}o(Tle,"getKey");function UL(t,e){var r=new $8(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}o(UL,"bits2int");function Sje(t,e){t=UL(t,e),t=t.mod(e);var r=ea.from(t.toArray());if(r.length<e.byteLength()){var n=ea.alloc(e.byteLength()-r.length);r=ea.concat([n,r])}return r}o(Sje,"bits2octets");function Rle(t,e,r){var n,i;do{for(n=ea.alloc(0);n.length*8<t.bitLength();)e.v=Yg(r,e.k).update(e.v).digest(),n=ea.concat([n,e.v]);i=UL(n,t),e.k=Yg(r,e.k).update(e.v).update(ea.from([0])).digest(),e.v=Yg(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}o(Rle,"makeKey");function Eje(t,e,r,n){return t.toRed($8.mont(r)).redPow(e).fromRed().mod(n)}o(Eje,"makeR");W8.exports=xje;W8.exports.getKey=Tle;W8.exports.makeKey=Rle});var kle=V((ROt,Cle)=>{"use strict";m();g();var HL=yr().Buffer,uw=ky(),Aje=U8().ec,Mle=fw(),Ije=DL();function Tje(t,e,r,n,i){var s=Mle(r);if(s.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return Rje(t,e,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return Oje(t,e,s)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=HL.concat([i,e]);for(var a=s.modulus.byteLength(),f=[1],l=0;e.length+f.length+2<a;)f.push(255),l+=1;f.push(0);for(var h=-1;++h<e.length;)f.push(e[h]);f=HL.from(f);var b=uw.mont(s.modulus);t=new uw(t).toRed(b),t=t.redPow(new uw(s.publicExponent)),t=HL.from(t.fromRed().toArray());var y=l<8?1:0;for(a=Math.min(t.length,f.length),t.length!==f.length&&(y=1),h=-1;++h<a;)y|=t[h]^f[h];return y===0}o(Tje,"verify");function Rje(t,e,r){var n=Ije[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new Aje(n),s=r.data.subjectPrivateKey.data;return i.verify(e,t,s)}o(Rje,"ecVerify");function Oje(t,e,r){var n=r.data.p,i=r.data.q,s=r.data.g,a=r.data.pub_key,f=Mle.signature.decode(t,"der"),l=f.s,h=f.r;Nle(l,i),Nle(h,i);var b=uw.mont(n),y=l.invm(i),E=s.toRed(b).redPow(new uw(e).mul(y).mod(i)).fromRed().mul(a.toRed(b).redPow(h.mul(y).mod(i)).fromRed()).mod(n).mod(i);return E.cmp(h)===0}o(Oje,"dsaVerify");function Nle(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}o(Nle,"checkValue");Cle.exports=Tje});var Hle=V((COt,Ule)=>{"use strict";m();g();var Y8=yr().Buffer,Lle=Cg(),X8=BB(),Dle=hr(),Nje=Ole(),Mje=kle(),Xg=pP();Object.keys(Xg).forEach(function(t){Xg[t].id=Y8.from(Xg[t].id,"hex"),Xg[t.toLowerCase()]=Xg[t]});function lw(t){X8.Writable.call(this);var e=Xg[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=Lle(e.hash),this._tag=e.id,this._signType=e.sign}o(lw,"Sign");Dle(lw,X8.Writable);lw.prototype._write=o(function(e,r,n){this._hash.update(e),n()},"_write");lw.prototype.update=o(function(e,r){return this._hash.update(typeof e=="string"?Y8.from(e,r):e),this},"update");lw.prototype.sign=o(function(e,r){this.end();var n=this._hash.digest(),i=Nje(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i},"signMethod");function dw(t){X8.Writable.call(this);var e=Xg[t];if(!e)throw new Error("Unknown message digest");this._hash=Lle(e.hash),this._tag=e.id,this._signType=e.sign}o(dw,"Verify");Dle(dw,X8.Writable);dw.prototype._write=o(function(e,r,n){this._hash.update(e),n()},"_write");dw.prototype.update=o(function(e,r){return this._hash.update(typeof e=="string"?Y8.from(e,r):e),this},"update");dw.prototype.verify=o(function(e,r,n){var i=typeof r=="string"?Y8.from(r,n):r;this.end();var s=this._hash.digest();return Mje(i,s,e,this._signType,this._tag)},"verifyMethod");function Ble(t){return new lw(t)}o(Ble,"createSign");function Ple(t){return new dw(t)}o(Ple,"createVerify");Ule.exports={Sign:Ble,Verify:Ple,createSign:Ble,createVerify:Ple}});var qle=V((Fle,FL)=>{m();g();(function(t,e){"use strict";function r(S,c){if(!S)throw new Error(c||"Assertion failed")}o(r,"assert");function n(S,c){S.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,c,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(S||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=Cy().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,p){if(typeof c=="number")return this._initNumber(c,d,p);if(typeof c=="object")return this._initArray(c,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var x=0;c[0]==="-"&&(x++,this.negative=1),x<c.length&&(d===16?this._parseHex(c,x,p):(this._parseBase(c,d,x),p==="le"&&this._initArray(this.toArray(),d,p)))},"init"),i.prototype._initNumber=o(function(c,d,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},"_initNumber"),i.prototype._initArray=o(function(c,d,p){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v,A,T=0;if(p==="be")for(x=c.length-1,v=0;x>=0;x-=3)A=c[x]|c[x-1]<<8|c[x-2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(x=0,v=0;x<c.length;x+=3)A=c[x]|c[x+1]<<8|c[x+2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()},"_initArray");function a(S,c){var d=S.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(S,c,d){var p=a(S,d);return d-1>=c&&(p|=a(S,d-1)<<4),p}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,p){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v=0,A=0,T;if(p==="be")for(x=c.length-1;x>=d;x-=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8;else{var w=c.length-d;for(x=w%2===0?d+1:d;x<c.length;x+=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8}this.strip()},"_parseHex");function l(S,c,d,p){for(var x=0,v=Math.min(S.length,d),A=c;A<v;A++){var T=S.charCodeAt(A)-48;x*=p,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,p){this.words=[0],this.length=1;for(var x=0,v=1;v<=67108863;v*=d)x++;x--,v=v/d|0;for(var A=c.length-p,T=A%x,w=Math.min(A,A-T)+p,u=0,_=p;_<w;_+=x)u=l(c,_,_+x,d),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var F=1;for(u=l(c,_,c.length,d),_=0;_<T;_++)F*=d;this.imuln(F),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var p;if(c===16||c==="hex"){p="";for(var x=0,v=0,A=0;A<this.length;A++){var T=this.words[A],w=((T<<x|v)&16777215).toString(16);v=T>>>24-x&16777215,v!==0||A!==this.length-1?p=h[6-w.length]+w+p:p=w+p,x+=2,x>=26&&(x-=26,A--)}for(v!==0&&(p=v.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var u=b[c],_=y[c];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var H=F.modn(_).toString(c);F=F.idivn(_),F.isZero()?p=H+p:p=h[u-H.length]+H+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,p){var x=this.byteLength(),v=p||Math.max(1,x);r(x<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new c(v),w,u,_=this.clone();if(A){for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[u]=w;for(;u<v;u++)T[u]=0}else{for(u=0;u<v-x;u++)T[u]=0;for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[v-u-1]=w}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,p=0;return d&8191||(p+=13,d>>>=13),d&127||(p+=7,d>>>=7),d&15||(p+=4,d>>>=4),d&3||(p+=2,d>>>=2),d&1||p++,p},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function E(S){for(var c=new Array(S.bitLength()),d=0;d<c.length;d++){var p=d/26|0,x=d%26;c[d]=(S.words[p]&1<<x)>>>x}return c}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(c+=p,p!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,p;this.length>c.length?(d=this,p=c):(d=c,p=this);for(var x=0;x<p.length;x++)this.words[x]=d.words[x]^p.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,p=c%26;this._expand(d),p>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return p>0&&(this.words[x]=~this.words[x]&67108863>>26-p),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var p=c/26|0,x=c%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<x:this.words[p]=this.words[p]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var p,x;this.length>c.length?(p=this,x=c):(p=c,x=this);for(var v=0,A=0;A<x.length;A++)d=(p.words[A]|0)+(x.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;for(;v!==0&&A<p.length;A++)d=(p.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,v;p>0?(x=this,v=c):(x=c,v=this);for(var A=0,T=0;T<v.length;T++)d=(x.words[T]|0)-(v.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function I(S,c,d){d.negative=c.negative^S.negative;var p=S.length+c.length|0;d.length=p,p=p-1|0;var x=S.words[0]|0,v=c.words[0]|0,A=x*v,T=A&67108863,w=A/67108864|0;d.words[0]=T;for(var u=1;u<p;u++){for(var _=w>>>26,F=w&67108863,H=Math.min(u,c.length-1),D=Math.max(0,u-S.length+1);D<=H;D++){var $=u-D|0;x=S.words[$]|0,v=c.words[D]|0,A=x*v+F,_+=A/67108864|0,F=A&67108863}d.words[u]=F|0,w=_|0}return w!==0?d.words[u]=w|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(c,d,p){var x=c.words,v=d.words,A=p.words,T=0,w,u,_,F=x[0]|0,H=F&8191,D=F>>>13,$=x[1]|0,ee=$&8191,te=$>>>13,Oe=x[2]|0,fe=Oe&8191,le=Oe>>>13,ge=x[3]|0,pe=ge&8191,ye=ge>>>13,Cr=x[4]|0,Re=Cr&8191,Me=Cr>>>13,ti=x[5]|0,qe=ti&8191,ke=ti>>>13,ri=x[6]|0,Ve=ri&8191,He=ri>>>13,Ei=x[7]|0,De=Ei&8191,Fe=Ei>>>13,xn=x[8]|0,Z=xn&8191,J=xn>>>13,he=x[9]|0,ne=he&8191,de=he>>>13,xt=v[0]|0,xe=xt&8191,Ee=xt>>>13,ir=v[1]|0,Ae=ir&8191,Ne=ir>>>13,ni=v[2]|0,Pe=ni&8191,Be=ni>>>13,oo=v[3]|0,Ge=oo&8191,$e=oo>>>13,Un=v[4]|0,Le=Un&8191,Ue=Un>>>13,$i=v[5]|0,je=$i&8191,Ke=$i>>>13,vo=v[6]|0,Ce=vo&8191,ze=vo>>>13,K=v[7]|0,G=K&8191,z=K>>>13,P=v[8]|0,W=P&8191,Q=P>>>13,me=v[9]|0,se=me&8191,ue=me>>>13;p.negative=c.negative^d.negative,p.length=19,w=Math.imul(H,xe),u=Math.imul(H,Ee),u=u+Math.imul(D,xe)|0,_=Math.imul(D,Ee);var lt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(ee,xe),u=Math.imul(ee,Ee),u=u+Math.imul(te,xe)|0,_=Math.imul(te,Ee),w=w+Math.imul(H,Ae)|0,u=u+Math.imul(H,Ne)|0,u=u+Math.imul(D,Ae)|0,_=_+Math.imul(D,Ne)|0;var nt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(fe,xe),u=Math.imul(fe,Ee),u=u+Math.imul(le,xe)|0,_=Math.imul(le,Ee),w=w+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(te,Ae)|0,_=_+Math.imul(te,Ne)|0,w=w+Math.imul(H,Pe)|0,u=u+Math.imul(H,Be)|0,u=u+Math.imul(D,Pe)|0,_=_+Math.imul(D,Be)|0;var Pt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(pe,xe),u=Math.imul(pe,Ee),u=u+Math.imul(ye,xe)|0,_=Math.imul(ye,Ee),w=w+Math.imul(fe,Ae)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Ae)|0,_=_+Math.imul(le,Ne)|0,w=w+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Be)|0,u=u+Math.imul(te,Pe)|0,_=_+Math.imul(te,Be)|0,w=w+Math.imul(H,Ge)|0,u=u+Math.imul(H,$e)|0,u=u+Math.imul(D,Ge)|0,_=_+Math.imul(D,$e)|0;var st=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(Re,xe),u=Math.imul(Re,Ee),u=u+Math.imul(Me,xe)|0,_=Math.imul(Me,Ee),w=w+Math.imul(pe,Ae)|0,u=u+Math.imul(pe,Ne)|0,u=u+Math.imul(ye,Ae)|0,_=_+Math.imul(ye,Ne)|0,w=w+Math.imul(fe,Pe)|0,u=u+Math.imul(fe,Be)|0,u=u+Math.imul(le,Pe)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(te,Ge)|0,_=_+Math.imul(te,$e)|0,w=w+Math.imul(H,Le)|0,u=u+Math.imul(H,Ue)|0,u=u+Math.imul(D,Le)|0,_=_+Math.imul(D,Ue)|0;var bt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(qe,xe),u=Math.imul(qe,Ee),u=u+Math.imul(ke,xe)|0,_=Math.imul(ke,Ee),w=w+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Me,Ae)|0,_=_+Math.imul(Me,Ne)|0,w=w+Math.imul(pe,Pe)|0,u=u+Math.imul(pe,Be)|0,u=u+Math.imul(ye,Pe)|0,_=_+Math.imul(ye,Be)|0,w=w+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,w=w+Math.imul(ee,Le)|0,u=u+Math.imul(ee,Ue)|0,u=u+Math.imul(te,Le)|0,_=_+Math.imul(te,Ue)|0,w=w+Math.imul(H,je)|0,u=u+Math.imul(H,Ke)|0,u=u+Math.imul(D,je)|0,_=_+Math.imul(D,Ke)|0;var vt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,w=Math.imul(Ve,xe),u=Math.imul(Ve,Ee),u=u+Math.imul(He,xe)|0,_=Math.imul(He,Ee),w=w+Math.imul(qe,Ae)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Ae)|0,_=_+Math.imul(ke,Ne)|0,w=w+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Be)|0,u=u+Math.imul(Me,Pe)|0,_=_+Math.imul(Me,Be)|0,w=w+Math.imul(pe,Ge)|0,u=u+Math.imul(pe,$e)|0,u=u+Math.imul(ye,Ge)|0,_=_+Math.imul(ye,$e)|0,w=w+Math.imul(fe,Le)|0,u=u+Math.imul(fe,Ue)|0,u=u+Math.imul(le,Le)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ee,je)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(te,je)|0,_=_+Math.imul(te,Ke)|0,w=w+Math.imul(H,Ce)|0,u=u+Math.imul(H,ze)|0,u=u+Math.imul(D,Ce)|0,_=_+Math.imul(D,ze)|0;var It=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(It>>>26)|0,It&=67108863,w=Math.imul(De,xe),u=Math.imul(De,Ee),u=u+Math.imul(Fe,xe)|0,_=Math.imul(Fe,Ee),w=w+Math.imul(Ve,Ae)|0,u=u+Math.imul(Ve,Ne)|0,u=u+Math.imul(He,Ae)|0,_=_+Math.imul(He,Ne)|0,w=w+Math.imul(qe,Pe)|0,u=u+Math.imul(qe,Be)|0,u=u+Math.imul(ke,Pe)|0,_=_+Math.imul(ke,Be)|0,w=w+Math.imul(Re,Ge)|0,u=u+Math.imul(Re,$e)|0,u=u+Math.imul(Me,Ge)|0,_=_+Math.imul(Me,$e)|0,w=w+Math.imul(pe,Le)|0,u=u+Math.imul(pe,Ue)|0,u=u+Math.imul(ye,Le)|0,_=_+Math.imul(ye,Ue)|0,w=w+Math.imul(fe,je)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,Ke)|0,w=w+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(te,Ce)|0,_=_+Math.imul(te,ze)|0,w=w+Math.imul(H,G)|0,u=u+Math.imul(H,z)|0,u=u+Math.imul(D,G)|0,_=_+Math.imul(D,z)|0;var At=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(Z,xe),u=Math.imul(Z,Ee),u=u+Math.imul(J,xe)|0,_=Math.imul(J,Ee),w=w+Math.imul(De,Ae)|0,u=u+Math.imul(De,Ne)|0,u=u+Math.imul(Fe,Ae)|0,_=_+Math.imul(Fe,Ne)|0,w=w+Math.imul(Ve,Pe)|0,u=u+Math.imul(Ve,Be)|0,u=u+Math.imul(He,Pe)|0,_=_+Math.imul(He,Be)|0,w=w+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,_=_+Math.imul(ke,$e)|0,w=w+Math.imul(Re,Le)|0,u=u+Math.imul(Re,Ue)|0,u=u+Math.imul(Me,Le)|0,_=_+Math.imul(Me,Ue)|0,w=w+Math.imul(pe,je)|0,u=u+Math.imul(pe,Ke)|0,u=u+Math.imul(ye,je)|0,_=_+Math.imul(ye,Ke)|0,w=w+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ee,G)|0,u=u+Math.imul(ee,z)|0,u=u+Math.imul(te,G)|0,_=_+Math.imul(te,z)|0,w=w+Math.imul(H,W)|0,u=u+Math.imul(H,Q)|0,u=u+Math.imul(D,W)|0,_=_+Math.imul(D,Q)|0;var _t=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,w=Math.imul(ne,xe),u=Math.imul(ne,Ee),u=u+Math.imul(de,xe)|0,_=Math.imul(de,Ee),w=w+Math.imul(Z,Ae)|0,u=u+Math.imul(Z,Ne)|0,u=u+Math.imul(J,Ae)|0,_=_+Math.imul(J,Ne)|0,w=w+Math.imul(De,Pe)|0,u=u+Math.imul(De,Be)|0,u=u+Math.imul(Fe,Pe)|0,_=_+Math.imul(Fe,Be)|0,w=w+Math.imul(Ve,Ge)|0,u=u+Math.imul(Ve,$e)|0,u=u+Math.imul(He,Ge)|0,_=_+Math.imul(He,$e)|0,w=w+Math.imul(qe,Le)|0,u=u+Math.imul(qe,Ue)|0,u=u+Math.imul(ke,Le)|0,_=_+Math.imul(ke,Ue)|0,w=w+Math.imul(Re,je)|0,u=u+Math.imul(Re,Ke)|0,u=u+Math.imul(Me,je)|0,_=_+Math.imul(Me,Ke)|0,w=w+Math.imul(pe,Ce)|0,u=u+Math.imul(pe,ze)|0,u=u+Math.imul(ye,Ce)|0,_=_+Math.imul(ye,ze)|0,w=w+Math.imul(fe,G)|0,u=u+Math.imul(fe,z)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,z)|0,w=w+Math.imul(ee,W)|0,u=u+Math.imul(ee,Q)|0,u=u+Math.imul(te,W)|0,_=_+Math.imul(te,Q)|0,w=w+Math.imul(H,se)|0,u=u+Math.imul(H,ue)|0,u=u+Math.imul(D,se)|0,_=_+Math.imul(D,ue)|0;var St=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(St>>>26)|0,St&=67108863,w=Math.imul(ne,Ae),u=Math.imul(ne,Ne),u=u+Math.imul(de,Ae)|0,_=Math.imul(de,Ne),w=w+Math.imul(Z,Pe)|0,u=u+Math.imul(Z,Be)|0,u=u+Math.imul(J,Pe)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(De,Ge)|0,u=u+Math.imul(De,$e)|0,u=u+Math.imul(Fe,Ge)|0,_=_+Math.imul(Fe,$e)|0,w=w+Math.imul(Ve,Le)|0,u=u+Math.imul(Ve,Ue)|0,u=u+Math.imul(He,Le)|0,_=_+Math.imul(He,Ue)|0,w=w+Math.imul(qe,je)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,je)|0,_=_+Math.imul(ke,Ke)|0,w=w+Math.imul(Re,Ce)|0,u=u+Math.imul(Re,ze)|0,u=u+Math.imul(Me,Ce)|0,_=_+Math.imul(Me,ze)|0,w=w+Math.imul(pe,G)|0,u=u+Math.imul(pe,z)|0,u=u+Math.imul(ye,G)|0,_=_+Math.imul(ye,z)|0,w=w+Math.imul(fe,W)|0,u=u+Math.imul(fe,Q)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,Q)|0,w=w+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(te,se)|0,_=_+Math.imul(te,ue)|0;var wt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,w=Math.imul(ne,Pe),u=Math.imul(ne,Be),u=u+Math.imul(de,Pe)|0,_=Math.imul(de,Be),w=w+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(J,Ge)|0,_=_+Math.imul(J,$e)|0,w=w+Math.imul(De,Le)|0,u=u+Math.imul(De,Ue)|0,u=u+Math.imul(Fe,Le)|0,_=_+Math.imul(Fe,Ue)|0,w=w+Math.imul(Ve,je)|0,u=u+Math.imul(Ve,Ke)|0,u=u+Math.imul(He,je)|0,_=_+Math.imul(He,Ke)|0,w=w+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,Ce)|0,_=_+Math.imul(ke,ze)|0,w=w+Math.imul(Re,G)|0,u=u+Math.imul(Re,z)|0,u=u+Math.imul(Me,G)|0,_=_+Math.imul(Me,z)|0,w=w+Math.imul(pe,W)|0,u=u+Math.imul(pe,Q)|0,u=u+Math.imul(ye,W)|0,_=_+Math.imul(ye,Q)|0,w=w+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),w=w+Math.imul(Z,Le)|0,u=u+Math.imul(Z,Ue)|0,u=u+Math.imul(J,Le)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(De,je)|0,u=u+Math.imul(De,Ke)|0,u=u+Math.imul(Fe,je)|0,_=_+Math.imul(Fe,Ke)|0,w=w+Math.imul(Ve,Ce)|0,u=u+Math.imul(Ve,ze)|0,u=u+Math.imul(He,Ce)|0,_=_+Math.imul(He,ze)|0,w=w+Math.imul(qe,G)|0,u=u+Math.imul(qe,z)|0,u=u+Math.imul(ke,G)|0,_=_+Math.imul(ke,z)|0,w=w+Math.imul(Re,W)|0,u=u+Math.imul(Re,Q)|0,u=u+Math.imul(Me,W)|0,_=_+Math.imul(Me,Q)|0,w=w+Math.imul(pe,se)|0,u=u+Math.imul(pe,ue)|0,u=u+Math.imul(ye,se)|0,_=_+Math.imul(ye,ue)|0;var dt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(ne,Le),u=Math.imul(ne,Ue),u=u+Math.imul(de,Le)|0,_=Math.imul(de,Ue),w=w+Math.imul(Z,je)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(J,je)|0,_=_+Math.imul(J,Ke)|0,w=w+Math.imul(De,Ce)|0,u=u+Math.imul(De,ze)|0,u=u+Math.imul(Fe,Ce)|0,_=_+Math.imul(Fe,ze)|0,w=w+Math.imul(Ve,G)|0,u=u+Math.imul(Ve,z)|0,u=u+Math.imul(He,G)|0,_=_+Math.imul(He,z)|0,w=w+Math.imul(qe,W)|0,u=u+Math.imul(qe,Q)|0,u=u+Math.imul(ke,W)|0,_=_+Math.imul(ke,Q)|0,w=w+Math.imul(Re,se)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Me,se)|0,_=_+Math.imul(Me,ue)|0;var ot=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,w=Math.imul(ne,je),u=Math.imul(ne,Ke),u=u+Math.imul(de,je)|0,_=Math.imul(de,Ke),w=w+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(J,Ce)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(De,G)|0,u=u+Math.imul(De,z)|0,u=u+Math.imul(Fe,G)|0,_=_+Math.imul(Fe,z)|0,w=w+Math.imul(Ve,W)|0,u=u+Math.imul(Ve,Q)|0,u=u+Math.imul(He,W)|0,_=_+Math.imul(He,Q)|0,w=w+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,_=_+Math.imul(ke,ue)|0;var ft=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(ne,Ce),u=Math.imul(ne,ze),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,ze),w=w+Math.imul(Z,G)|0,u=u+Math.imul(Z,z)|0,u=u+Math.imul(J,G)|0,_=_+Math.imul(J,z)|0,w=w+Math.imul(De,W)|0,u=u+Math.imul(De,Q)|0,u=u+Math.imul(Fe,W)|0,_=_+Math.imul(Fe,Q)|0,w=w+Math.imul(Ve,se)|0,u=u+Math.imul(Ve,ue)|0,u=u+Math.imul(He,se)|0,_=_+Math.imul(He,ue)|0;var ut=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(ne,G),u=Math.imul(ne,z),u=u+Math.imul(de,G)|0,_=Math.imul(de,z),w=w+Math.imul(Z,W)|0,u=u+Math.imul(Z,Q)|0,u=u+Math.imul(J,W)|0,_=_+Math.imul(J,Q)|0,w=w+Math.imul(De,se)|0,u=u+Math.imul(De,ue)|0,u=u+Math.imul(Fe,se)|0,_=_+Math.imul(Fe,ue)|0;var rt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(ne,W),u=Math.imul(ne,Q),u=u+Math.imul(de,W)|0,_=Math.imul(de,Q),w=w+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(J,se)|0,_=_+Math.imul(J,ue)|0;var ve=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,w=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(T+w|0)+((u&8191)<<13)|0;return T=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=bt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=ve,A[18]=_e,T!==0&&(A[19]=T,p.length++),p},"comb10MulTo");Math.imul||(O=I);function N(S,c,d){d.negative=c.negative^S.negative,d.length=S.length+c.length;for(var p=0,x=0,v=0;v<d.length-1;v++){var A=x;x=0;for(var T=p&67108863,w=Math.min(v,c.length-1),u=Math.max(0,v-S.length+1);u<=w;u++){var _=v-u,F=S.words[_]|0,H=c.words[u]|0,D=F*H,$=D&67108863;A=A+(D/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[v]=T,p=A,A=x}return p!==0?d.words[v]=p:d.length--,d.strip()}o(N,"bigMulTo");function k(S,c,d){var p=new C;return p.mulp(S,c,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var p,x=this.length+c.length;return this.length===10&&c.length===10?p=O(this,c,d):x<63?p=I(this,c,d):x<1024?p=N(this,c,d):p=k(this,c,d),p},"mulTo");function C(S,c){this.x=S,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),p=i.prototype._countBits(c)-1,x=0;x<c;x++)d[x]=this.revBin(x,p,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,p){if(c===0||c===p-1)return c;for(var x=0,v=0;v<d;v++)x|=(c&1)<<d-v-1,c>>=1;return x},"revBin"),C.prototype.permute=o(function(c,d,p,x,v,A){for(var T=0;T<A;T++)x[T]=d[c[T]],v[T]=p[c[T]]},"permute"),C.prototype.transform=o(function(c,d,p,x,v,A){this.permute(A,c,d,p,x,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,u=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),F=0;F<v;F+=w)for(var H=u,D=_,$=0;$<T;$++){var ee=p[F+$],te=x[F+$],Oe=p[F+$+T],fe=x[F+$+T],le=H*Oe-D*fe;fe=H*fe+D*Oe,Oe=le,p[F+$]=ee+Oe,x[F+$]=te+fe,p[F+$+T]=ee-Oe,x[F+$+T]=te-fe,$!==w&&(le=u*H-_*D,D=u*D+_*H,H=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var p=Math.max(d,c)|1,x=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+x},"guessLen13b"),C.prototype.conjugate=o(function(c,d,p){if(!(p<=1))for(var x=0;x<p/2;x++){var v=c[x];c[x]=c[p-x-1],c[p-x-1]=v,v=d[x],d[x]=-d[p-x-1],d[p-x-1]=-v}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var p=0,x=0;x<d/2;x++){var v=Math.round(c[2*x+1]/d)*8192+Math.round(c[2*x]/d)+p;c[x]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,p,x){for(var v=0,A=0;A<d;A++)v=v+(c[A]|0),p[2*A]=v&8191,v=v>>>13,p[2*A+1]=v&8191,v=v>>>13;for(A=2*d;A<x;++A)p[A]=0;r(v===0),r((v&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),p=0;p<c;p++)d[p]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,p){var x=2*this.guessLen13b(c.length,d.length),v=this.makeRBT(x),A=this.stub(x),T=new Array(x),w=new Array(x),u=new Array(x),_=new Array(x),F=new Array(x),H=new Array(x),D=p.words;D.length=x,this.convert13b(c.words,c.length,T,x),this.convert13b(d.words,d.length,_,x),this.transform(T,A,w,u,x,v),this.transform(_,A,F,H,x,v);for(var $=0;$<x;$++){var ee=w[$]*F[$]-u[$]*H[$];u[$]=w[$]*H[$]+u[$]*F[$],w[$]=ee}return this.conjugate(w,u,x),this.transform(w,u,D,A,x,v),this.conjugate(D,A,x),this.normalize13b(D,x),p.negative=c.negative^d.negative,p.length=c.length+d.length,p.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),k(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,p=0;p<this.length;p++){var x=(this.words[p]|0)*c,v=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=v>>>26,this.words[p]=v&67108863}return d!==0&&(this.words[p]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=E(c);if(d.length===0)return new i(1);for(var p=this,x=0;x<d.length&&d[x]===0;x++,p=p.sqr());if(++x<d.length)for(var v=p.sqr();x<d.length;x++,v=v.sqr())d[x]!==0&&(p=p.mul(v));return p},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=67108863>>>26-d<<26-d,v;if(d!==0){var A=0;for(v=0;v<this.length;v++){var T=this.words[v]&x,w=(this.words[v]|0)-T<<d;this.words[v]=w|A,A=T>>>26-d}A&&(this.words[v]=A,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,p){r(typeof c=="number"&&c>=0);var x;d?x=(d-d%26)/26:x=0;var v=c%26,A=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(x-=A,x=Math.max(0,x),w){for(var u=0;u<A;u++)w.words[u]=this.words[u];w.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=x);u--){var F=this.words[u]|0;this.words[u]=_<<26-v|F>>>v,_=F&T}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,p){return r(this.negative===0),this.iushrn(c,d,p)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return!1;var v=this.words[p];return!!(v&x)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,p){var x=c.length+p,v;this._expand(x);var A,T=0;for(v=0;v<c.length;v++){A=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*d;A-=w&67108863,T=(A>>26)-(w/67108864|0),this.words[v+p]=A&67108863}for(;v<this.length-p;v++)A=(this.words[v+p]|0)+T,T=A>>26,this.words[v+p]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,v=0;v<this.length;v++)A=-(this.words[v]|0)+T,T=A>>26,this.words[v]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var p=this.length-c.length,x=this.clone(),v=c,A=v.words[v.length-1]|0,T=this._countBits(A);p=26-T,p!==0&&(v=v.ushln(p),x.iushln(p),A=v.words[v.length-1]|0);var w=x.length-v.length,u;if(d!=="mod"){u=new i(null),u.length=w+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var F=x.clone()._ishlnsubmul(v,1,w);F.negative===0&&(x=F,u&&(u.words[w]=1));for(var H=w-1;H>=0;H--){var D=(x.words[v.length+H]|0)*67108864+(x.words[v.length+H-1]|0);for(D=Math.min(D/A|0,67108863),x._ishlnsubmul(v,D,H);x.negative!==0;)D--,x.negative=0,x._ishlnsubmul(v,1,H),x.isZero()||(x.negative^=1);u&&(u.words[H]=D)}return u&&u.strip(),x.strip(),d!=="div"&&p!==0&&x.iushrn(p),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(c,d,p){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,v,A;return this.negative!==0&&c.negative===0?(A=this.neg().divmod(c,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:x,mod:v}):this.negative===0&&c.negative!==0?(A=this.divmod(c.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&c.negative?(A=this.neg().divmod(c.neg(),d),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:A.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(c):d.mod,x=c.ushrn(1),v=c.andln(1),A=p.cmp(x);return A<0||v===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,p=0,x=this.length-1;x>=0;x--)p=(d*p+(this.words[x]|0))%c;return p},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,p=this.length-1;p>=0;p--){var x=(this.words[p]|0)+d*67108864;this.words[p]=x/c|0,d=x%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=new i(0),T=new i(1),w=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++w;for(var u=p.clone(),_=d.clone();!d.isZero();){for(var F=0,H=1;!(d.words[0]&H)&&F<26;++F,H<<=1);if(F>0)for(d.iushrn(F);F-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(u),v.isub(_)),x.iushrn(1),v.iushrn(1);for(var D=0,$=1;!(p.words[0]&$)&&D<26;++D,$<<=1);if(D>0)for(p.iushrn(D);D-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(_)),A.iushrn(1),T.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(A),v.isub(T)):(p.isub(d),A.isub(x),T.isub(v))}return{a:A,b:T,gcd:p.iushln(w)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(d.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,_=1;!(p.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(p.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(v)):(p.isub(d),v.isub(x))}var F;return d.cmpn(1)===0?F=x:F=v,F.cmpn(0)<0&&F.iadd(c),F},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),p=c.clone();d.negative=0,p.negative=0;for(var x=0;d.isEven()&&p.isEven();x++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=d.cmp(p);if(v<0){var A=d;d=p,p=A}else if(v===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(x)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=x,this;for(var v=x,A=p;v!==0&&A<this.length;A++){var T=this.words[A]|0;T+=v,v=T>>>26,T&=67108863,this.words[A]=T}return v!==0&&(this.words[A]=v,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var p;if(this.length>1)p=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var x=this.words[0]|0;p=x===c?0:x<c?-1:1}return this.negative!==0?-p|0:p},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var x=this.words[p]|0,v=c.words[p]|0;if(x!==v){x<v?d=-1:x>v&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,c){this.name=S,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var x=p<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var p=4194303,x=Math.min(c.length,9),v=0;v<x;v++)d.words[v]=c.words[v];if(d.length=x,c.length<=9){c.words[0]=0,c.length=1;return}var A=c.words[9];for(d.words[d.length++]=A&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|A>>>22,A=T}A>>>=22,c.words[v-10]=A,A===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,p=0;p<c.length;p++){var x=c.words[p]|0;d+=x*977,c.words[p]=d&67108863,d=x*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function q(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(q,"P224"),n(q,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function re(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(re,"P25519"),n(re,M),re.prototype.imulK=o(function(c){for(var d=0,p=0;p<c.length;p++){var x=(c.words[p]|0)*19+d,v=x&67108863;x>>>=26,c.words[p]=v,d=x}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(L[c])return L[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new q;else if(c==="p192")d=new j;else if(c==="p25519")d=new re;else throw new Error("Unknown prime "+c);return L[c]=d,d},"prime");function Y(S){if(typeof S=="string"){var c=i._prime(S);this.m=c.p,this.prime=c}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var p=c.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var p=c.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var p=c.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var p=c.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(c,p)}for(var x=this.m.subn(1),v=0;!x.isZero()&&x.andln(1)===0;)v++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),w=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,w).cmp(T)!==0;)u.redIAdd(T);for(var _=this.pow(u,x),F=this.pow(c,x.addn(1).iushrn(1)),H=this.pow(c,x),D=v;H.cmp(A)!==0;){for(var $=H,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<D);var te=this.pow(_,new i(1).iushln(D-ee-1));F=F.redMul(te),_=te.redSqr(),H=H.redMul(_),D=ee}return F},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var p=4,x=new Array(1<<p);x[0]=new i(1).toRed(this),x[1]=c;for(var v=2;v<x.length;v++)x[v]=this.mul(x[v-1],c);var A=x[0],T=0,w=0,u=d.bitLength()%26;for(u===0&&(u=26),v=d.length-1;v>=0;v--){for(var _=d.words[v],F=u-1;F>=0;F--){var H=_>>F&1;if(A!==x[0]&&(A=this.sqr(A)),H===0&&T===0){w=0;continue}T<<=1,T|=H,w++,!(w!==p&&(v!==0||F!==0))&&(A=this.mul(A,x[T]),w=0,T=0)}u=26}return A},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new X(c)},"mont");function X(S){Y.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,Y),X.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var p=c.mul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof FL>"u"||FL,Fle)});var jle=V((HOt,Vle)=>{m();g();var Cje=U8(),kje=qle();Vle.exports=o(function(e){return new Zg(e)},"createECDH");var Gc={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Gc.p224=Gc.secp224r1;Gc.p256=Gc.secp256r1=Gc.prime256v1;Gc.p192=Gc.secp192r1=Gc.prime192v1;Gc.p384=Gc.secp384r1;Gc.p521=Gc.secp521r1;function Zg(t){this.curveType=Gc[t],this.curveType||(this.curveType={name:t}),this.curve=new Cje.ec(this.curveType.name),this.keys=void 0}o(Zg,"ECDH");Zg.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Zg.prototype.computeSecret=function(t,e,r){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return qL(i,r,this.curveType.byteLength)};Zg.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),qL(r,t)};Zg.prototype.getPrivateKey=function(t){return qL(this.keys.getPrivate(),t)};Zg.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this};Zg.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new kje(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function qL(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}o(qL,"formatReturnValue")});var jL=V((jOt,Kle)=>{m();g();var Bje=Cg(),VL=yr().Buffer;Kle.exports=function(t,e){for(var r=VL.alloc(0),n=0,i;r.length<e;)i=Pje(n++),r=VL.concat([r,Bje("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function Pje(t){var e=VL.allocUnsafe(4);return e.writeUInt32BE(t,0),e}o(Pje,"i2ops")});var KL=V(($Ot,zle)=>{m();g();zle.exports=o(function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e},"xor")});var Z8=V((Gle,zL)=>{m();g();(function(t,e){"use strict";function r(S,c){if(!S)throw new Error(c||"Assertion failed")}o(r,"assert");function n(S,c){S.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,c,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(S||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=Cy().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,p){if(typeof c=="number")return this._initNumber(c,d,p);if(typeof c=="object")return this._initArray(c,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var x=0;c[0]==="-"&&(x++,this.negative=1),x<c.length&&(d===16?this._parseHex(c,x,p):(this._parseBase(c,d,x),p==="le"&&this._initArray(this.toArray(),d,p)))},"init"),i.prototype._initNumber=o(function(c,d,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},"_initNumber"),i.prototype._initArray=o(function(c,d,p){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v,A,T=0;if(p==="be")for(x=c.length-1,v=0;x>=0;x-=3)A=c[x]|c[x-1]<<8|c[x-2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(x=0,v=0;x<c.length;x+=3)A=c[x]|c[x+1]<<8|c[x+2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()},"_initArray");function a(S,c){var d=S.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(S,c,d){var p=a(S,d);return d-1>=c&&(p|=a(S,d-1)<<4),p}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,p){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v=0,A=0,T;if(p==="be")for(x=c.length-1;x>=d;x-=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8;else{var w=c.length-d;for(x=w%2===0?d+1:d;x<c.length;x+=2)T=f(c,d,x)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8}this.strip()},"_parseHex");function l(S,c,d,p){for(var x=0,v=Math.min(S.length,d),A=c;A<v;A++){var T=S.charCodeAt(A)-48;x*=p,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,p){this.words=[0],this.length=1;for(var x=0,v=1;v<=67108863;v*=d)x++;x--,v=v/d|0;for(var A=c.length-p,T=A%x,w=Math.min(A,A-T)+p,u=0,_=p;_<w;_+=x)u=l(c,_,_+x,d),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var F=1;for(u=l(c,_,c.length,d),_=0;_<T;_++)F*=d;this.imuln(F),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var p;if(c===16||c==="hex"){p="";for(var x=0,v=0,A=0;A<this.length;A++){var T=this.words[A],w=((T<<x|v)&16777215).toString(16);v=T>>>24-x&16777215,v!==0||A!==this.length-1?p=h[6-w.length]+w+p:p=w+p,x+=2,x>=26&&(x-=26,A--)}for(v!==0&&(p=v.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var u=b[c],_=y[c];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var H=F.modn(_).toString(c);F=F.idivn(_),F.isZero()?p=H+p:p=h[u-H.length]+H+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,p){var x=this.byteLength(),v=p||Math.max(1,x);r(x<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new c(v),w,u,_=this.clone();if(A){for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[u]=w;for(;u<v;u++)T[u]=0}else{for(u=0;u<v-x;u++)T[u]=0;for(u=0;!_.isZero();u++)w=_.andln(255),_.iushrn(8),T[v-u-1]=w}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,p=0;return d&8191||(p+=13,d>>>=13),d&127||(p+=7,d>>>=7),d&15||(p+=4,d>>>=4),d&3||(p+=2,d>>>=2),d&1||p++,p},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function E(S){for(var c=new Array(S.bitLength()),d=0;d<c.length;d++){var p=d/26|0,x=d%26;c[d]=(S.words[p]&1<<x)>>>x}return c}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(c+=p,p!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,p;this.length>c.length?(d=this,p=c):(d=c,p=this);for(var x=0;x<p.length;x++)this.words[x]=d.words[x]^p.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,p=c%26;this._expand(d),p>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return p>0&&(this.words[x]=~this.words[x]&67108863>>26-p),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var p=c/26|0,x=c%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<x:this.words[p]=this.words[p]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var p,x;this.length>c.length?(p=this,x=c):(p=c,x=this);for(var v=0,A=0;A<x.length;A++)d=(p.words[A]|0)+(x.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;for(;v!==0&&A<p.length;A++)d=(p.words[A]|0)+v,this.words[A]=d&67108863,v=d>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,v;p>0?(x=this,v=c):(x=c,v=this);for(var A=0,T=0;T<v.length;T++)d=(x.words[T]|0)-(v.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function I(S,c,d){d.negative=c.negative^S.negative;var p=S.length+c.length|0;d.length=p,p=p-1|0;var x=S.words[0]|0,v=c.words[0]|0,A=x*v,T=A&67108863,w=A/67108864|0;d.words[0]=T;for(var u=1;u<p;u++){for(var _=w>>>26,F=w&67108863,H=Math.min(u,c.length-1),D=Math.max(0,u-S.length+1);D<=H;D++){var $=u-D|0;x=S.words[$]|0,v=c.words[D]|0,A=x*v+F,_+=A/67108864|0,F=A&67108863}d.words[u]=F|0,w=_|0}return w!==0?d.words[u]=w|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(c,d,p){var x=c.words,v=d.words,A=p.words,T=0,w,u,_,F=x[0]|0,H=F&8191,D=F>>>13,$=x[1]|0,ee=$&8191,te=$>>>13,Oe=x[2]|0,fe=Oe&8191,le=Oe>>>13,ge=x[3]|0,pe=ge&8191,ye=ge>>>13,Cr=x[4]|0,Re=Cr&8191,Me=Cr>>>13,ti=x[5]|0,qe=ti&8191,ke=ti>>>13,ri=x[6]|0,Ve=ri&8191,He=ri>>>13,Ei=x[7]|0,De=Ei&8191,Fe=Ei>>>13,xn=x[8]|0,Z=xn&8191,J=xn>>>13,he=x[9]|0,ne=he&8191,de=he>>>13,xt=v[0]|0,xe=xt&8191,Ee=xt>>>13,ir=v[1]|0,Ae=ir&8191,Ne=ir>>>13,ni=v[2]|0,Pe=ni&8191,Be=ni>>>13,oo=v[3]|0,Ge=oo&8191,$e=oo>>>13,Un=v[4]|0,Le=Un&8191,Ue=Un>>>13,$i=v[5]|0,je=$i&8191,Ke=$i>>>13,vo=v[6]|0,Ce=vo&8191,ze=vo>>>13,K=v[7]|0,G=K&8191,z=K>>>13,P=v[8]|0,W=P&8191,Q=P>>>13,me=v[9]|0,se=me&8191,ue=me>>>13;p.negative=c.negative^d.negative,p.length=19,w=Math.imul(H,xe),u=Math.imul(H,Ee),u=u+Math.imul(D,xe)|0,_=Math.imul(D,Ee);var lt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(ee,xe),u=Math.imul(ee,Ee),u=u+Math.imul(te,xe)|0,_=Math.imul(te,Ee),w=w+Math.imul(H,Ae)|0,u=u+Math.imul(H,Ne)|0,u=u+Math.imul(D,Ae)|0,_=_+Math.imul(D,Ne)|0;var nt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(fe,xe),u=Math.imul(fe,Ee),u=u+Math.imul(le,xe)|0,_=Math.imul(le,Ee),w=w+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(te,Ae)|0,_=_+Math.imul(te,Ne)|0,w=w+Math.imul(H,Pe)|0,u=u+Math.imul(H,Be)|0,u=u+Math.imul(D,Pe)|0,_=_+Math.imul(D,Be)|0;var Pt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(pe,xe),u=Math.imul(pe,Ee),u=u+Math.imul(ye,xe)|0,_=Math.imul(ye,Ee),w=w+Math.imul(fe,Ae)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Ae)|0,_=_+Math.imul(le,Ne)|0,w=w+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Be)|0,u=u+Math.imul(te,Pe)|0,_=_+Math.imul(te,Be)|0,w=w+Math.imul(H,Ge)|0,u=u+Math.imul(H,$e)|0,u=u+Math.imul(D,Ge)|0,_=_+Math.imul(D,$e)|0;var st=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(Re,xe),u=Math.imul(Re,Ee),u=u+Math.imul(Me,xe)|0,_=Math.imul(Me,Ee),w=w+Math.imul(pe,Ae)|0,u=u+Math.imul(pe,Ne)|0,u=u+Math.imul(ye,Ae)|0,_=_+Math.imul(ye,Ne)|0,w=w+Math.imul(fe,Pe)|0,u=u+Math.imul(fe,Be)|0,u=u+Math.imul(le,Pe)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(te,Ge)|0,_=_+Math.imul(te,$e)|0,w=w+Math.imul(H,Le)|0,u=u+Math.imul(H,Ue)|0,u=u+Math.imul(D,Le)|0,_=_+Math.imul(D,Ue)|0;var bt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(qe,xe),u=Math.imul(qe,Ee),u=u+Math.imul(ke,xe)|0,_=Math.imul(ke,Ee),w=w+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Me,Ae)|0,_=_+Math.imul(Me,Ne)|0,w=w+Math.imul(pe,Pe)|0,u=u+Math.imul(pe,Be)|0,u=u+Math.imul(ye,Pe)|0,_=_+Math.imul(ye,Be)|0,w=w+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,w=w+Math.imul(ee,Le)|0,u=u+Math.imul(ee,Ue)|0,u=u+Math.imul(te,Le)|0,_=_+Math.imul(te,Ue)|0,w=w+Math.imul(H,je)|0,u=u+Math.imul(H,Ke)|0,u=u+Math.imul(D,je)|0,_=_+Math.imul(D,Ke)|0;var vt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,w=Math.imul(Ve,xe),u=Math.imul(Ve,Ee),u=u+Math.imul(He,xe)|0,_=Math.imul(He,Ee),w=w+Math.imul(qe,Ae)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Ae)|0,_=_+Math.imul(ke,Ne)|0,w=w+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Be)|0,u=u+Math.imul(Me,Pe)|0,_=_+Math.imul(Me,Be)|0,w=w+Math.imul(pe,Ge)|0,u=u+Math.imul(pe,$e)|0,u=u+Math.imul(ye,Ge)|0,_=_+Math.imul(ye,$e)|0,w=w+Math.imul(fe,Le)|0,u=u+Math.imul(fe,Ue)|0,u=u+Math.imul(le,Le)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ee,je)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(te,je)|0,_=_+Math.imul(te,Ke)|0,w=w+Math.imul(H,Ce)|0,u=u+Math.imul(H,ze)|0,u=u+Math.imul(D,Ce)|0,_=_+Math.imul(D,ze)|0;var It=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(It>>>26)|0,It&=67108863,w=Math.imul(De,xe),u=Math.imul(De,Ee),u=u+Math.imul(Fe,xe)|0,_=Math.imul(Fe,Ee),w=w+Math.imul(Ve,Ae)|0,u=u+Math.imul(Ve,Ne)|0,u=u+Math.imul(He,Ae)|0,_=_+Math.imul(He,Ne)|0,w=w+Math.imul(qe,Pe)|0,u=u+Math.imul(qe,Be)|0,u=u+Math.imul(ke,Pe)|0,_=_+Math.imul(ke,Be)|0,w=w+Math.imul(Re,Ge)|0,u=u+Math.imul(Re,$e)|0,u=u+Math.imul(Me,Ge)|0,_=_+Math.imul(Me,$e)|0,w=w+Math.imul(pe,Le)|0,u=u+Math.imul(pe,Ue)|0,u=u+Math.imul(ye,Le)|0,_=_+Math.imul(ye,Ue)|0,w=w+Math.imul(fe,je)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,Ke)|0,w=w+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(te,Ce)|0,_=_+Math.imul(te,ze)|0,w=w+Math.imul(H,G)|0,u=u+Math.imul(H,z)|0,u=u+Math.imul(D,G)|0,_=_+Math.imul(D,z)|0;var At=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(Z,xe),u=Math.imul(Z,Ee),u=u+Math.imul(J,xe)|0,_=Math.imul(J,Ee),w=w+Math.imul(De,Ae)|0,u=u+Math.imul(De,Ne)|0,u=u+Math.imul(Fe,Ae)|0,_=_+Math.imul(Fe,Ne)|0,w=w+Math.imul(Ve,Pe)|0,u=u+Math.imul(Ve,Be)|0,u=u+Math.imul(He,Pe)|0,_=_+Math.imul(He,Be)|0,w=w+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,_=_+Math.imul(ke,$e)|0,w=w+Math.imul(Re,Le)|0,u=u+Math.imul(Re,Ue)|0,u=u+Math.imul(Me,Le)|0,_=_+Math.imul(Me,Ue)|0,w=w+Math.imul(pe,je)|0,u=u+Math.imul(pe,Ke)|0,u=u+Math.imul(ye,je)|0,_=_+Math.imul(ye,Ke)|0,w=w+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ee,G)|0,u=u+Math.imul(ee,z)|0,u=u+Math.imul(te,G)|0,_=_+Math.imul(te,z)|0,w=w+Math.imul(H,W)|0,u=u+Math.imul(H,Q)|0,u=u+Math.imul(D,W)|0,_=_+Math.imul(D,Q)|0;var _t=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,w=Math.imul(ne,xe),u=Math.imul(ne,Ee),u=u+Math.imul(de,xe)|0,_=Math.imul(de,Ee),w=w+Math.imul(Z,Ae)|0,u=u+Math.imul(Z,Ne)|0,u=u+Math.imul(J,Ae)|0,_=_+Math.imul(J,Ne)|0,w=w+Math.imul(De,Pe)|0,u=u+Math.imul(De,Be)|0,u=u+Math.imul(Fe,Pe)|0,_=_+Math.imul(Fe,Be)|0,w=w+Math.imul(Ve,Ge)|0,u=u+Math.imul(Ve,$e)|0,u=u+Math.imul(He,Ge)|0,_=_+Math.imul(He,$e)|0,w=w+Math.imul(qe,Le)|0,u=u+Math.imul(qe,Ue)|0,u=u+Math.imul(ke,Le)|0,_=_+Math.imul(ke,Ue)|0,w=w+Math.imul(Re,je)|0,u=u+Math.imul(Re,Ke)|0,u=u+Math.imul(Me,je)|0,_=_+Math.imul(Me,Ke)|0,w=w+Math.imul(pe,Ce)|0,u=u+Math.imul(pe,ze)|0,u=u+Math.imul(ye,Ce)|0,_=_+Math.imul(ye,ze)|0,w=w+Math.imul(fe,G)|0,u=u+Math.imul(fe,z)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,z)|0,w=w+Math.imul(ee,W)|0,u=u+Math.imul(ee,Q)|0,u=u+Math.imul(te,W)|0,_=_+Math.imul(te,Q)|0,w=w+Math.imul(H,se)|0,u=u+Math.imul(H,ue)|0,u=u+Math.imul(D,se)|0,_=_+Math.imul(D,ue)|0;var St=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(St>>>26)|0,St&=67108863,w=Math.imul(ne,Ae),u=Math.imul(ne,Ne),u=u+Math.imul(de,Ae)|0,_=Math.imul(de,Ne),w=w+Math.imul(Z,Pe)|0,u=u+Math.imul(Z,Be)|0,u=u+Math.imul(J,Pe)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(De,Ge)|0,u=u+Math.imul(De,$e)|0,u=u+Math.imul(Fe,Ge)|0,_=_+Math.imul(Fe,$e)|0,w=w+Math.imul(Ve,Le)|0,u=u+Math.imul(Ve,Ue)|0,u=u+Math.imul(He,Le)|0,_=_+Math.imul(He,Ue)|0,w=w+Math.imul(qe,je)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,je)|0,_=_+Math.imul(ke,Ke)|0,w=w+Math.imul(Re,Ce)|0,u=u+Math.imul(Re,ze)|0,u=u+Math.imul(Me,Ce)|0,_=_+Math.imul(Me,ze)|0,w=w+Math.imul(pe,G)|0,u=u+Math.imul(pe,z)|0,u=u+Math.imul(ye,G)|0,_=_+Math.imul(ye,z)|0,w=w+Math.imul(fe,W)|0,u=u+Math.imul(fe,Q)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,Q)|0,w=w+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(te,se)|0,_=_+Math.imul(te,ue)|0;var wt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,w=Math.imul(ne,Pe),u=Math.imul(ne,Be),u=u+Math.imul(de,Pe)|0,_=Math.imul(de,Be),w=w+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(J,Ge)|0,_=_+Math.imul(J,$e)|0,w=w+Math.imul(De,Le)|0,u=u+Math.imul(De,Ue)|0,u=u+Math.imul(Fe,Le)|0,_=_+Math.imul(Fe,Ue)|0,w=w+Math.imul(Ve,je)|0,u=u+Math.imul(Ve,Ke)|0,u=u+Math.imul(He,je)|0,_=_+Math.imul(He,Ke)|0,w=w+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,Ce)|0,_=_+Math.imul(ke,ze)|0,w=w+Math.imul(Re,G)|0,u=u+Math.imul(Re,z)|0,u=u+Math.imul(Me,G)|0,_=_+Math.imul(Me,z)|0,w=w+Math.imul(pe,W)|0,u=u+Math.imul(pe,Q)|0,u=u+Math.imul(ye,W)|0,_=_+Math.imul(ye,Q)|0,w=w+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),w=w+Math.imul(Z,Le)|0,u=u+Math.imul(Z,Ue)|0,u=u+Math.imul(J,Le)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(De,je)|0,u=u+Math.imul(De,Ke)|0,u=u+Math.imul(Fe,je)|0,_=_+Math.imul(Fe,Ke)|0,w=w+Math.imul(Ve,Ce)|0,u=u+Math.imul(Ve,ze)|0,u=u+Math.imul(He,Ce)|0,_=_+Math.imul(He,ze)|0,w=w+Math.imul(qe,G)|0,u=u+Math.imul(qe,z)|0,u=u+Math.imul(ke,G)|0,_=_+Math.imul(ke,z)|0,w=w+Math.imul(Re,W)|0,u=u+Math.imul(Re,Q)|0,u=u+Math.imul(Me,W)|0,_=_+Math.imul(Me,Q)|0,w=w+Math.imul(pe,se)|0,u=u+Math.imul(pe,ue)|0,u=u+Math.imul(ye,se)|0,_=_+Math.imul(ye,ue)|0;var dt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(ne,Le),u=Math.imul(ne,Ue),u=u+Math.imul(de,Le)|0,_=Math.imul(de,Ue),w=w+Math.imul(Z,je)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(J,je)|0,_=_+Math.imul(J,Ke)|0,w=w+Math.imul(De,Ce)|0,u=u+Math.imul(De,ze)|0,u=u+Math.imul(Fe,Ce)|0,_=_+Math.imul(Fe,ze)|0,w=w+Math.imul(Ve,G)|0,u=u+Math.imul(Ve,z)|0,u=u+Math.imul(He,G)|0,_=_+Math.imul(He,z)|0,w=w+Math.imul(qe,W)|0,u=u+Math.imul(qe,Q)|0,u=u+Math.imul(ke,W)|0,_=_+Math.imul(ke,Q)|0,w=w+Math.imul(Re,se)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Me,se)|0,_=_+Math.imul(Me,ue)|0;var ot=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,w=Math.imul(ne,je),u=Math.imul(ne,Ke),u=u+Math.imul(de,je)|0,_=Math.imul(de,Ke),w=w+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(J,Ce)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(De,G)|0,u=u+Math.imul(De,z)|0,u=u+Math.imul(Fe,G)|0,_=_+Math.imul(Fe,z)|0,w=w+Math.imul(Ve,W)|0,u=u+Math.imul(Ve,Q)|0,u=u+Math.imul(He,W)|0,_=_+Math.imul(He,Q)|0,w=w+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,_=_+Math.imul(ke,ue)|0;var ft=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(ne,Ce),u=Math.imul(ne,ze),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,ze),w=w+Math.imul(Z,G)|0,u=u+Math.imul(Z,z)|0,u=u+Math.imul(J,G)|0,_=_+Math.imul(J,z)|0,w=w+Math.imul(De,W)|0,u=u+Math.imul(De,Q)|0,u=u+Math.imul(Fe,W)|0,_=_+Math.imul(Fe,Q)|0,w=w+Math.imul(Ve,se)|0,u=u+Math.imul(Ve,ue)|0,u=u+Math.imul(He,se)|0,_=_+Math.imul(He,ue)|0;var ut=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(ne,G),u=Math.imul(ne,z),u=u+Math.imul(de,G)|0,_=Math.imul(de,z),w=w+Math.imul(Z,W)|0,u=u+Math.imul(Z,Q)|0,u=u+Math.imul(J,W)|0,_=_+Math.imul(J,Q)|0,w=w+Math.imul(De,se)|0,u=u+Math.imul(De,ue)|0,u=u+Math.imul(Fe,se)|0,_=_+Math.imul(Fe,ue)|0;var rt=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(ne,W),u=Math.imul(ne,Q),u=u+Math.imul(de,W)|0,_=Math.imul(de,Q),w=w+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(J,se)|0,_=_+Math.imul(J,ue)|0;var ve=(T+w|0)+((u&8191)<<13)|0;T=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,w=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(T+w|0)+((u&8191)<<13)|0;return T=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=bt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=ve,A[18]=_e,T!==0&&(A[19]=T,p.length++),p},"comb10MulTo");Math.imul||(O=I);function N(S,c,d){d.negative=c.negative^S.negative,d.length=S.length+c.length;for(var p=0,x=0,v=0;v<d.length-1;v++){var A=x;x=0;for(var T=p&67108863,w=Math.min(v,c.length-1),u=Math.max(0,v-S.length+1);u<=w;u++){var _=v-u,F=S.words[_]|0,H=c.words[u]|0,D=F*H,$=D&67108863;A=A+(D/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[v]=T,p=A,A=x}return p!==0?d.words[v]=p:d.length--,d.strip()}o(N,"bigMulTo");function k(S,c,d){var p=new C;return p.mulp(S,c,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var p,x=this.length+c.length;return this.length===10&&c.length===10?p=O(this,c,d):x<63?p=I(this,c,d):x<1024?p=N(this,c,d):p=k(this,c,d),p},"mulTo");function C(S,c){this.x=S,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),p=i.prototype._countBits(c)-1,x=0;x<c;x++)d[x]=this.revBin(x,p,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,p){if(c===0||c===p-1)return c;for(var x=0,v=0;v<d;v++)x|=(c&1)<<d-v-1,c>>=1;return x},"revBin"),C.prototype.permute=o(function(c,d,p,x,v,A){for(var T=0;T<A;T++)x[T]=d[c[T]],v[T]=p[c[T]]},"permute"),C.prototype.transform=o(function(c,d,p,x,v,A){this.permute(A,c,d,p,x,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,u=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),F=0;F<v;F+=w)for(var H=u,D=_,$=0;$<T;$++){var ee=p[F+$],te=x[F+$],Oe=p[F+$+T],fe=x[F+$+T],le=H*Oe-D*fe;fe=H*fe+D*Oe,Oe=le,p[F+$]=ee+Oe,x[F+$]=te+fe,p[F+$+T]=ee-Oe,x[F+$+T]=te-fe,$!==w&&(le=u*H-_*D,D=u*D+_*H,H=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var p=Math.max(d,c)|1,x=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+x},"guessLen13b"),C.prototype.conjugate=o(function(c,d,p){if(!(p<=1))for(var x=0;x<p/2;x++){var v=c[x];c[x]=c[p-x-1],c[p-x-1]=v,v=d[x],d[x]=-d[p-x-1],d[p-x-1]=-v}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var p=0,x=0;x<d/2;x++){var v=Math.round(c[2*x+1]/d)*8192+Math.round(c[2*x]/d)+p;c[x]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,p,x){for(var v=0,A=0;A<d;A++)v=v+(c[A]|0),p[2*A]=v&8191,v=v>>>13,p[2*A+1]=v&8191,v=v>>>13;for(A=2*d;A<x;++A)p[A]=0;r(v===0),r((v&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),p=0;p<c;p++)d[p]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,p){var x=2*this.guessLen13b(c.length,d.length),v=this.makeRBT(x),A=this.stub(x),T=new Array(x),w=new Array(x),u=new Array(x),_=new Array(x),F=new Array(x),H=new Array(x),D=p.words;D.length=x,this.convert13b(c.words,c.length,T,x),this.convert13b(d.words,d.length,_,x),this.transform(T,A,w,u,x,v),this.transform(_,A,F,H,x,v);for(var $=0;$<x;$++){var ee=w[$]*F[$]-u[$]*H[$];u[$]=w[$]*H[$]+u[$]*F[$],w[$]=ee}return this.conjugate(w,u,x),this.transform(w,u,D,A,x,v),this.conjugate(D,A,x),this.normalize13b(D,x),p.negative=c.negative^d.negative,p.length=c.length+d.length,p.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),k(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,p=0;p<this.length;p++){var x=(this.words[p]|0)*c,v=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=v>>>26,this.words[p]=v&67108863}return d!==0&&(this.words[p]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=E(c);if(d.length===0)return new i(1);for(var p=this,x=0;x<d.length&&d[x]===0;x++,p=p.sqr());if(++x<d.length)for(var v=p.sqr();x<d.length;x++,v=v.sqr())d[x]!==0&&(p=p.mul(v));return p},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=67108863>>>26-d<<26-d,v;if(d!==0){var A=0;for(v=0;v<this.length;v++){var T=this.words[v]&x,w=(this.words[v]|0)-T<<d;this.words[v]=w|A,A=T>>>26-d}A&&(this.words[v]=A,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,p){r(typeof c=="number"&&c>=0);var x;d?x=(d-d%26)/26:x=0;var v=c%26,A=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(x-=A,x=Math.max(0,x),w){for(var u=0;u<A;u++)w.words[u]=this.words[u];w.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=x);u--){var F=this.words[u]|0;this.words[u]=_<<26-v|F>>>v,_=F&T}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,p){return r(this.negative===0),this.iushrn(c,d,p)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return!1;var v=this.words[p];return!!(v&x)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,p=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,p){var x=c.length+p,v;this._expand(x);var A,T=0;for(v=0;v<c.length;v++){A=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*d;A-=w&67108863,T=(A>>26)-(w/67108864|0),this.words[v+p]=A&67108863}for(;v<this.length-p;v++)A=(this.words[v+p]|0)+T,T=A>>26,this.words[v+p]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,v=0;v<this.length;v++)A=-(this.words[v]|0)+T,T=A>>26,this.words[v]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var p=this.length-c.length,x=this.clone(),v=c,A=v.words[v.length-1]|0,T=this._countBits(A);p=26-T,p!==0&&(v=v.ushln(p),x.iushln(p),A=v.words[v.length-1]|0);var w=x.length-v.length,u;if(d!=="mod"){u=new i(null),u.length=w+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var F=x.clone()._ishlnsubmul(v,1,w);F.negative===0&&(x=F,u&&(u.words[w]=1));for(var H=w-1;H>=0;H--){var D=(x.words[v.length+H]|0)*67108864+(x.words[v.length+H-1]|0);for(D=Math.min(D/A|0,67108863),x._ishlnsubmul(v,D,H);x.negative!==0;)D--,x.negative=0,x._ishlnsubmul(v,1,H),x.isZero()||(x.negative^=1);u&&(u.words[H]=D)}return u&&u.strip(),x.strip(),d!=="div"&&p!==0&&x.iushrn(p),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(c,d,p){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,v,A;return this.negative!==0&&c.negative===0?(A=this.neg().divmod(c,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:x,mod:v}):this.negative===0&&c.negative!==0?(A=this.divmod(c.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&c.negative?(A=this.neg().divmod(c.neg(),d),d!=="div"&&(v=A.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:A.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(c):d.mod,x=c.ushrn(1),v=c.andln(1),A=p.cmp(x);return A<0||v===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,p=0,x=this.length-1;x>=0;x--)p=(d*p+(this.words[x]|0))%c;return p},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,p=this.length-1;p>=0;p--){var x=(this.words[p]|0)+d*67108864;this.words[p]=x/c|0,d=x%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=new i(0),T=new i(1),w=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++w;for(var u=p.clone(),_=d.clone();!d.isZero();){for(var F=0,H=1;!(d.words[0]&H)&&F<26;++F,H<<=1);if(F>0)for(d.iushrn(F);F-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(u),v.isub(_)),x.iushrn(1),v.iushrn(1);for(var D=0,$=1;!(p.words[0]&$)&&D<26;++D,$<<=1);if(D>0)for(p.iushrn(D);D-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(_)),A.iushrn(1),T.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(A),v.isub(T)):(p.isub(d),A.isub(x),T.isub(v))}return{a:A,b:T,gcd:p.iushln(w)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,p=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),v=new i(0),A=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(d.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,_=1;!(p.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(p.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);d.cmp(p)>=0?(d.isub(p),x.isub(v)):(p.isub(d),v.isub(x))}var F;return d.cmpn(1)===0?F=x:F=v,F.cmpn(0)<0&&F.iadd(c),F},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),p=c.clone();d.negative=0,p.negative=0;for(var x=0;d.isEven()&&p.isEven();x++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=d.cmp(p);if(v<0){var A=d;d=p,p=A}else if(v===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(x)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,p=(c-d)/26,x=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=x,this;for(var v=x,A=p;v!==0&&A<this.length;A++){var T=this.words[A]|0;T+=v,v=T>>>26,T&=67108863,this.words[A]=T}return v!==0&&(this.words[A]=v,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var p;if(this.length>1)p=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var x=this.words[0]|0;p=x===c?0:x<c?-1:1}return this.negative!==0?-p|0:p},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var x=this.words[p]|0,v=c.words[p]|0;if(x!==v){x<v?d=-1:x>v&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,c){this.name=S,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var x=p<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var p=4194303,x=Math.min(c.length,9),v=0;v<x;v++)d.words[v]=c.words[v];if(d.length=x,c.length<=9){c.words[0]=0,c.length=1;return}var A=c.words[9];for(d.words[d.length++]=A&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|A>>>22,A=T}A>>>=22,c.words[v-10]=A,A===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,p=0;p<c.length;p++){var x=c.words[p]|0;d+=x*977,c.words[p]=d&67108863,d=x*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function q(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(q,"P224"),n(q,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function re(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(re,"P25519"),n(re,M),re.prototype.imulK=o(function(c){for(var d=0,p=0;p<c.length;p++){var x=(c.words[p]|0)*19+d,v=x&67108863;x>>>=26,c.words[p]=v,d=x}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(L[c])return L[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new q;else if(c==="p192")d=new j;else if(c==="p25519")d=new re;else throw new Error("Unknown prime "+c);return L[c]=d,d},"prime");function Y(S){if(typeof S=="string"){var c=i._prime(S);this.m=c.p,this.prime=c}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var p=c.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var p=c.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var p=c.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var p=c.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(c,p)}for(var x=this.m.subn(1),v=0;!x.isZero()&&x.andln(1)===0;)v++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),w=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,w).cmp(T)!==0;)u.redIAdd(T);for(var _=this.pow(u,x),F=this.pow(c,x.addn(1).iushrn(1)),H=this.pow(c,x),D=v;H.cmp(A)!==0;){for(var $=H,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<D);var te=this.pow(_,new i(1).iushln(D-ee-1));F=F.redMul(te),_=te.redSqr(),H=H.redMul(_),D=ee}return F},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var p=4,x=new Array(1<<p);x[0]=new i(1).toRed(this),x[1]=c;for(var v=2;v<x.length;v++)x[v]=this.mul(x[v-1],c);var A=x[0],T=0,w=0,u=d.bitLength()%26;for(u===0&&(u=26),v=d.length-1;v>=0;v--){for(var _=d.words[v],F=u-1;F>=0;F--){var H=_>>F&1;if(A!==x[0]&&(A=this.sqr(A)),H===0&&T===0){w=0;continue}T<<=1,T|=H,w++,!(w!==p&&(v!==0||F!==0))&&(A=this.mul(A,x[T]),w=0,T=0)}u=26}return A},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new X(c)},"mont");function X(S){Y.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,Y),X.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var p=c.mul(d),x=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(x).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof zL>"u"||zL,Gle)});var GL=V((eNt,Wle)=>{m();g();var $le=Z8(),Lje=yr().Buffer;function Dje(t,e){return Lje.from(t.toRed($le.mont(e.modulus)).redPow(new $le(e.publicExponent)).fromRed().toArray())}o(Dje,"withPublic");Wle.exports=Dje});var Jle=V((iNt,Zle)=>{m();g();var Uje=fw(),$L=Eg(),Hje=Cg(),Yle=jL(),Xle=KL(),WL=Z8(),Fje=GL(),qje=w8(),Du=yr().Buffer;Zle.exports=o(function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=Uje(e),a;if(i===4)a=Vje(s,r);else if(i===1)a=jje(s,r,n);else if(i===3){if(a=new WL(r),a.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?qje(a,s):Fje(a,s)},"publicEncrypt");function Vje(t,e){var r=t.modulus.byteLength(),n=e.length,i=Hje("sha1").update(Du.alloc(0)).digest(),s=i.length,a=2*s;if(n>r-a-2)throw new Error("message too long");var f=Du.alloc(r-n-a-2),l=r-s-1,h=$L(s),b=Xle(Du.concat([i,f,Du.alloc(1,1),e],l),Yle(h,l)),y=Xle(h,Yle(b,s));return new WL(Du.concat([Du.alloc(1),y,b],r))}o(Vje,"oaep");function jje(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?s=Du.alloc(i-n-3,255):s=Kje(i-n-3),new WL(Du.concat([Du.from([0,r?1:2]),s,Du.alloc(1),e],i))}o(jje,"pkcs1");function Kje(t){for(var e=Du.allocUnsafe(t),r=0,n=$L(t*2),i=0,s;r<t;)i===n.length&&(n=$L(t*2),i=0),s=n[i++],s&&(e[r++]=s);return e}o(Kje,"nonZero")});var nde=V((cNt,rde)=>{m();g();var zje=fw(),Qle=jL(),ede=KL(),tde=Z8(),Gje=w8(),$je=Cg(),Wje=GL(),hw=yr().Buffer;rde.exports=o(function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=zje(e),a=s.modulus.byteLength();if(r.length>a||new tde(r).cmp(s.modulus)>=0)throw new Error("decryption error");var f;n?f=Wje(new tde(r),s):f=Gje(r,s);var l=hw.alloc(a-f.length);if(f=hw.concat([l,f],a),i===4)return Yje(s,f);if(i===1)return Xje(s,f,n);if(i===3)return f;throw new Error("unknown padding")},"privateDecrypt");function Yje(t,e){var r=t.modulus.byteLength(),n=$je("sha1").update(hw.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,i+1),a=e.slice(i+1),f=ede(s,Qle(a,i)),l=ede(a,Qle(f,r-i-1));if(Zje(n,l.slice(0,i)))throw new Error("decryption error");for(var h=i;l[h]===0;)h++;if(l[h++]!==1)throw new Error("decryption error");return l.slice(h)}o(Yje,"oaep");function Xje(t,e,r){for(var n=e.slice(0,2),i=2,s=0;e[i++]!==0;)if(i>=e.length){s++;break}var a=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,a.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}o(Xje,"pkcs1");function Zje(t,e){t=hw.from(t),e=hw.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}o(Zje,"compare")});var ide=V(Jg=>{m();g();Jg.publicEncrypt=Jle();Jg.privateDecrypt=nde();Jg.privateEncrypt=o(function(e,r){return Jg.publicEncrypt(e,r,!0)},"privateEncrypt");Jg.publicDecrypt=o(function(e,r){return Jg.privateDecrypt(e,r,!0)},"publicDecrypt")});var pde=V(pw=>{"use strict";m();g();function ode(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}o(ode,"oldBrowser");var ade=yr(),sde=Eg(),cde=ade.Buffer,fde=ade.kMaxLength,YL=self.crypto||self.msCrypto,ude=Math.pow(2,32)-1;function lde(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>ude||t<0)throw new TypeError("offset must be a uint32");if(t>fde||t>e)throw new RangeError("offset out of range")}o(lde,"assertOffset");function dde(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>ude||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>fde)throw new RangeError("buffer too small")}o(dde,"assertSize");YL&&YL.getRandomValues?(pw.randomFill=Jje,pw.randomFillSync=Qje):(pw.randomFill=ode,pw.randomFillSync=ode);function Jje(t,e,r,n){if(!cde.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return lde(e,t.length),dde(r,e,t.length),hde(t,e,r,n)}o(Jje,"randomFill");function hde(t,e,r,n){var i=t.buffer,s=new Uint8Array(i,e,r);if(YL.getRandomValues(s),n){process.nextTick(function(){n(null,t)});return}return t;var a}o(hde,"actualFill");function Qje(t,e,r){if(typeof e>"u"&&(e=0),!cde.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return lde(e,t.length),r===void 0&&(r=t.length-e),dde(r,e,t.length),hde(t,e,r)}o(Qje,"randomFillSync")});var Bb=V(Tr=>{"use strict";m();g();Tr.randomBytes=Tr.rng=Tr.pseudoRandomBytes=Tr.prng=Eg();Tr.createHash=Tr.Hash=Cg();Tr.createHmac=Tr.Hmac=hP();var eKe=mae(),tKe=Object.keys(eKe),rKe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(tKe);Tr.getHashes=function(){return rKe};var mde=s8();Tr.pbkdf2=mde.pbkdf2;Tr.pbkdf2Sync=mde.pbkdf2Sync;var Jl=Xce();Tr.Cipher=Jl.Cipher;Tr.createCipher=Jl.createCipher;Tr.Cipheriv=Jl.Cipheriv;Tr.createCipheriv=Jl.createCipheriv;Tr.Decipher=Jl.Decipher;Tr.createDecipher=Jl.createDecipher;Tr.Decipheriv=Jl.Decipheriv;Tr.createDecipheriv=Jl.createDecipheriv;Tr.getCiphers=Jl.getCiphers;Tr.listCiphers=Jl.listCiphers;var mw=lfe();Tr.DiffieHellmanGroup=mw.DiffieHellmanGroup;Tr.createDiffieHellmanGroup=mw.createDiffieHellmanGroup;Tr.getDiffieHellman=mw.getDiffieHellman;Tr.createDiffieHellman=mw.createDiffieHellman;Tr.DiffieHellman=mw.DiffieHellman;var J8=Hle();Tr.createSign=J8.createSign;Tr.Sign=J8.Sign;Tr.createVerify=J8.createVerify;Tr.Verify=J8.Verify;Tr.createECDH=jle();var Q8=ide();Tr.publicEncrypt=Q8.publicEncrypt;Tr.privateEncrypt=Q8.privateEncrypt;Tr.publicDecrypt=Q8.publicDecrypt;Tr.privateDecrypt=Q8.privateDecrypt;var gde=pde();Tr.randomFill=gde.randomFill;Tr.randomFillSync=gde.randomFillSync;Tr.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};Tr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var AD=V(Dw=>{"use strict";m();g();Object.defineProperty(Dw,"__esModule",{value:!0});Dw.SupportedAlgorithm=void 0;var kGe;(function(t){t.sha256="sha256",t.sha512="sha512"})(kGe=Dw.SupportedAlgorithm||(Dw.SupportedAlgorithm={}))});var j0e=V(B5=>{"use strict";m();g();Object.defineProperty(B5,"__esModule",{value:!0});B5.version=void 0;B5.version="sha2/5.7.0"});var z0e=V(Uf=>{"use strict";m();g();var BGe=Uf&&Uf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.computeHmac=Uf.sha512=Uf.sha256=Uf.ripemd160=void 0;var Uw=BGe(Gb()),Hw=ts(),PGe=AD(),K0e=Sa(),LGe=j0e(),DGe=new K0e.Logger(LGe.version);function UGe(t){return"0x"+Uw.default.ripemd160().update((0,Hw.arrayify)(t)).digest("hex")}o(UGe,"ripemd160");Uf.ripemd160=UGe;function HGe(t){return"0x"+Uw.default.sha256().update((0,Hw.arrayify)(t)).digest("hex")}o(HGe,"sha256");Uf.sha256=HGe;function FGe(t){return"0x"+Uw.default.sha512().update((0,Hw.arrayify)(t)).digest("hex")}o(FGe,"sha512");Uf.sha512=FGe;function qGe(t,e,r){return PGe.SupportedAlgorithm[t]||DGe.throwError("unsupported algorithm "+t,K0e.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Uw.default.hmac(Uw.default[t],(0,Hw.arrayify)(e)).update((0,Hw.arrayify)(r)).digest("hex")}o(qGe,"computeHmac");Uf.computeHmac=qGe});var ID=V(Hf=>{"use strict";m();g();Object.defineProperty(Hf,"__esModule",{value:!0});Hf.SupportedAlgorithm=Hf.sha512=Hf.sha256=Hf.ripemd160=Hf.computeHmac=void 0;var P5=z0e();Object.defineProperty(Hf,"computeHmac",{enumerable:!0,get:o(function(){return P5.computeHmac},"get")});Object.defineProperty(Hf,"ripemd160",{enumerable:!0,get:o(function(){return P5.ripemd160},"get")});Object.defineProperty(Hf,"sha256",{enumerable:!0,get:o(function(){return P5.sha256},"get")});Object.defineProperty(Hf,"sha512",{enumerable:!0,get:o(function(){return P5.sha512},"get")});var VGe=AD();Object.defineProperty(Hf,"SupportedAlgorithm",{enumerable:!0,get:o(function(){return VGe.SupportedAlgorithm},"get")})});var YD=V((WD,ghe)=>{"use strict";m();g();(function(t){function e(u){return parseInt(u)===u}o(e,"checkInt");function r(u){if(!e(u.length))return!1;for(var _=0;_<u.length;_++)if(!e(u[_])||u[_]<0||u[_]>255)return!1;return!0}o(r,"checkInts");function n(u,_){if(u.buffer&&ArrayBuffer.isView(u)&&u.name==="Uint8Array")return _&&(u.slice?u=u.slice():u=Array.prototype.slice.call(u)),u;if(Array.isArray(u)){if(!r(u))throw new Error("Array contains invalid value: "+u);return new Uint8Array(u)}if(e(u.length)&&r(u))return new Uint8Array(u);throw new Error("unsupported array-like object")}o(n,"coerceArray");function i(u){return new Uint8Array(u)}o(i,"createArray");function s(u,_,F,H,D){(H!=null||D!=null)&&(u.slice?u=u.slice(H,D):u=Array.prototype.slice.call(u,H,D)),_.set(u,F)}o(s,"copyArray");var a=function(){function u(F){var H=[],D=0;for(F=encodeURI(F);D<F.length;){var $=F.charCodeAt(D++);$===37?(H.push(parseInt(F.substr(D,2),16)),D+=2):H.push($)}return n(H)}o(u,"toBytes");function _(F){for(var H=[],D=0;D<F.length;){var $=F[D];$<128?(H.push(String.fromCharCode($)),D++):$>191&&$<224?(H.push(String.fromCharCode(($&31)<<6|F[D+1]&63)),D+=2):(H.push(String.fromCharCode(($&15)<<12|(F[D+1]&63)<<6|F[D+2]&63)),D+=3)}return H.join("")}return o(_,"fromBytes"),{toBytes:u,fromBytes:_}}(),f=function(){function u(H){for(var D=[],$=0;$<H.length;$+=2)D.push(parseInt(H.substr($,2),16));return D}o(u,"toBytes");var _="0123456789abcdef";function F(H){for(var D=[],$=0;$<H.length;$++){var ee=H[$];D.push(_[(ee&240)>>4]+_[ee&15])}return D.join("")}return o(F,"fromBytes"),{toBytes:u,fromBytes:F}}(),l={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],b=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],y=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],E=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],I=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],O=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],N=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],k=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],C=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],L=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],M=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],U=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],q=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],j=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],re=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Y(u){for(var _=[],F=0;F<u.length;F+=4)_.push(u[F]<<24|u[F+1]<<16|u[F+2]<<8|u[F+3]);return _}o(Y,"convertToInt32");var X=o(function(u){if(!(this instanceof X))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(u,!0)}),this._prepare()},"AES");X.prototype._prepare=function(){var u=l[this.key.length];if(u==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var _=0;_<=u;_++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var F=(u+1)*4,H=this.key.length/4,D=Y(this.key),$,_=0;_<H;_++)$=_>>2,this._Ke[$][_%4]=D[_],this._Kd[u-$][_%4]=D[_];for(var ee=0,te=H,Oe;te<F;){if(Oe=D[H-1],D[0]^=b[Oe>>16&255]<<24^b[Oe>>8&255]<<16^b[Oe&255]<<8^b[Oe>>24&255]^h[ee]<<24,ee+=1,H!=8)for(var _=1;_<H;_++)D[_]^=D[_-1];else{for(var _=1;_<H/2;_++)D[_]^=D[_-1];Oe=D[H/2-1],D[H/2]^=b[Oe&255]^b[Oe>>8&255]<<8^b[Oe>>16&255]<<16^b[Oe>>24&255]<<24;for(var _=H/2+1;_<H;_++)D[_]^=D[_-1]}for(var _=0,fe,le;_<H&&te<F;)fe=te>>2,le=te%4,this._Ke[fe][le]=D[_],this._Kd[u-fe][le]=D[_++],te++}for(var fe=1;fe<u;fe++)for(var le=0;le<4;le++)Oe=this._Kd[fe][le],this._Kd[fe][le]=U[Oe>>24&255]^q[Oe>>16&255]^j[Oe>>8&255]^re[Oe&255]},X.prototype.encrypt=function(u){if(u.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var _=this._Ke.length-1,F=[0,0,0,0],H=Y(u),D=0;D<4;D++)H[D]^=this._Ke[0][D];for(var $=1;$<_;$++){for(var D=0;D<4;D++)F[D]=E[H[D]>>24&255]^I[H[(D+1)%4]>>16&255]^O[H[(D+2)%4]>>8&255]^N[H[(D+3)%4]&255]^this._Ke[$][D];H=F.slice()}for(var ee=i(16),te,D=0;D<4;D++)te=this._Ke[_][D],ee[4*D]=(b[H[D]>>24&255]^te>>24)&255,ee[4*D+1]=(b[H[(D+1)%4]>>16&255]^te>>16)&255,ee[4*D+2]=(b[H[(D+2)%4]>>8&255]^te>>8)&255,ee[4*D+3]=(b[H[(D+3)%4]&255]^te)&255;return ee},X.prototype.decrypt=function(u){if(u.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var _=this._Kd.length-1,F=[0,0,0,0],H=Y(u),D=0;D<4;D++)H[D]^=this._Kd[0][D];for(var $=1;$<_;$++){for(var D=0;D<4;D++)F[D]=k[H[D]>>24&255]^C[H[(D+3)%4]>>16&255]^L[H[(D+2)%4]>>8&255]^M[H[(D+1)%4]&255]^this._Kd[$][D];H=F.slice()}for(var ee=i(16),te,D=0;D<4;D++)te=this._Kd[_][D],ee[4*D]=(y[H[D]>>24&255]^te>>24)&255,ee[4*D+1]=(y[H[(D+3)%4]>>16&255]^te>>16)&255,ee[4*D+2]=(y[H[(D+2)%4]>>8&255]^te>>8)&255,ee[4*D+3]=(y[H[(D+1)%4]&255]^te)&255;return ee};var S=o(function(u){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new X(u)},"ModeOfOperationECB");S.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _=i(u.length),F=i(16),H=0;H<u.length;H+=16)s(u,F,0,H,H+16),F=this._aes.encrypt(F),s(F,_,H);return _},S.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _=i(u.length),F=i(16),H=0;H<u.length;H+=16)s(u,F,0,H,H+16),F=this._aes.decrypt(F),s(F,_,H);return _};var c=o(function(u,_){if(!(this instanceof c))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!_)_=i(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(_,!0),this._aes=new X(u)},"ModeOfOperationCBC");c.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _=i(u.length),F=i(16),H=0;H<u.length;H+=16){s(u,F,0,H,H+16);for(var D=0;D<16;D++)F[D]^=this._lastCipherblock[D];this._lastCipherblock=this._aes.encrypt(F),s(this._lastCipherblock,_,H)}return _},c.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _=i(u.length),F=i(16),H=0;H<u.length;H+=16){s(u,F,0,H,H+16),F=this._aes.decrypt(F);for(var D=0;D<16;D++)_[H+D]=F[D]^this._lastCipherblock[D];s(u,this._lastCipherblock,0,H,H+16)}return _};var d=o(function(u,_,F){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!_)_=i(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");F||(F=1),this.segmentSize=F,this._shiftRegister=n(_,!0),this._aes=new X(u)},"ModeOfOperationCFB");d.prototype.encrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var _=n(u,!0),F,H=0;H<_.length;H+=this.segmentSize){F=this._aes.encrypt(this._shiftRegister);for(var D=0;D<this.segmentSize;D++)_[H+D]^=F[D];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(_,this._shiftRegister,16-this.segmentSize,H,H+this.segmentSize)}return _},d.prototype.decrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var _=n(u,!0),F,H=0;H<_.length;H+=this.segmentSize){F=this._aes.encrypt(this._shiftRegister);for(var D=0;D<this.segmentSize;D++)_[H+D]^=F[D];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(u,this._shiftRegister,16-this.segmentSize,H,H+this.segmentSize)}return _};var p=o(function(u,_){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!_)_=i(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(_,!0),this._lastPrecipherIndex=16,this._aes=new X(u)},"ModeOfOperationOFB");p.prototype.encrypt=function(u){for(var _=n(u,!0),F=0;F<_.length;F++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),_[F]^=this._lastPrecipher[this._lastPrecipherIndex++];return _},p.prototype.decrypt=p.prototype.encrypt;var x=o(function(u){if(!(this instanceof x))throw Error("Counter must be instanitated with `new`");u!==0&&!u&&(u=1),typeof u=="number"?(this._counter=i(16),this.setValue(u)):this.setBytes(u)},"Counter");x.prototype.setValue=function(u){if(typeof u!="number"||parseInt(u)!=u)throw new Error("invalid counter value (must be an integer)");for(var _=15;_>=0;--_)this._counter[_]=u%256,u=u>>8},x.prototype.setBytes=function(u){if(u=n(u,!0),u.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=u},x.prototype.increment=function(){for(var u=15;u>=0;u--)if(this._counter[u]===255)this._counter[u]=0;else{this._counter[u]++;break}};var v=o(function(u,_){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",_ instanceof x||(_=new x(_)),this._counter=_,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new X(u)},"ModeOfOperationCTR");v.prototype.encrypt=function(u){for(var _=n(u,!0),F=0;F<_.length;F++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),_[F]^=this._remainingCounter[this._remainingCounterIndex++];return _},v.prototype.decrypt=v.prototype.encrypt;function A(u){u=n(u,!0);var _=16-u.length%16,F=i(u.length+_);s(u,F);for(var H=u.length;H<F.length;H++)F[H]=_;return F}o(A,"pkcs7pad");function T(u){if(u=n(u,!0),u.length<16)throw new Error("PKCS#7 invalid length");var _=u[u.length-1];if(_>16)throw new Error("PKCS#7 padding byte out of range");for(var F=u.length-_,H=0;H<_;H++)if(u[F+H]!==_)throw new Error("PKCS#7 invalid padding byte");var D=i(F);return s(u,D,0,0,F),D}o(T,"pkcs7strip");var w={AES:X,Counter:x,ModeOfOperation:{ecb:S,cbc:c,cfb:d,ofb:p,ctr:v},utils:{hex:f,utf8:a},padding:{pkcs7:{pad:A,strip:T}},_arrayTest:{coerceArray:n,createArray:i,copyArray:s}};typeof WD<"u"?ghe.exports=w:typeof define=="function"&&define.amd?define(w):(t.aesjs&&(w._aesjs=t.aesjs),t.aesjs=w)})(WD)});var vhe=V((rU,xhe)=>{"use strict";m();g();(function(t){function r(I){let O=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),N=1779033703,k=3144134277,C=1013904242,L=2773480762,M=1359893119,U=2600822924,q=528734635,j=1541459225,re=new Uint32Array(64);function Y(v){let A=0,T=v.length;for(;T>=64;){let w=N,u=k,_=C,F=L,H=M,D=U,$=q,ee=j,te,Oe,fe,le,ge;for(Oe=0;Oe<16;Oe++)fe=A+Oe*4,re[Oe]=(v[fe]&255)<<24|(v[fe+1]&255)<<16|(v[fe+2]&255)<<8|v[fe+3]&255;for(Oe=16;Oe<64;Oe++)te=re[Oe-2],le=(te>>>17|te<<15)^(te>>>19|te<<13)^te>>>10,te=re[Oe-15],ge=(te>>>7|te<<25)^(te>>>18|te<<14)^te>>>3,re[Oe]=(le+re[Oe-7]|0)+(ge+re[Oe-16]|0)|0;for(Oe=0;Oe<64;Oe++)le=(((H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7))+(H&D^~H&$)|0)+(ee+(O[Oe]+re[Oe]|0)|0)|0,ge=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&u^w&_^u&_)|0,ee=$,$=D,D=H,H=F+le|0,F=_,_=u,u=w,w=le+ge|0;N=N+w|0,k=k+u|0,C=C+_|0,L=L+F|0,M=M+H|0,U=U+D|0,q=q+$|0,j=j+ee|0,A+=64,T-=64}}o(Y,"blocks"),Y(I);let X,S=I.length%64,c=I.length/536870912|0,d=I.length<<3,p=S<56?56:120,x=I.slice(I.length-S,I.length);for(x.push(128),X=S+1;X<p;X++)x.push(0);return x.push(c>>>24&255),x.push(c>>>16&255),x.push(c>>>8&255),x.push(c>>>0&255),x.push(d>>>24&255),x.push(d>>>16&255),x.push(d>>>8&255),x.push(d>>>0&255),Y(x),[N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,q>>>24&255,q>>>16&255,q>>>8&255,q>>>0&255,j>>>24&255,j>>>16&255,j>>>8&255,j>>>0&255]}o(r,"SHA256");function n(I,O,N){I=I.length<=64?I:r(I);let k=64+O.length+4,C=new Array(k),L=new Array(64),M,U=[];for(M=0;M<64;M++)C[M]=54;for(M=0;M<I.length;M++)C[M]^=I[M];for(M=0;M<O.length;M++)C[64+M]=O[M];for(M=k-4;M<k;M++)C[M]=0;for(M=0;M<64;M++)L[M]=92;for(M=0;M<I.length;M++)L[M]^=I[M];function q(){for(let j=k-1;j>=k-4;j--){if(C[j]++,C[j]<=255)return;C[j]=0}}for(o(q,"incrementCounter");N>=32;)q(),U=U.concat(r(L.concat(r(C)))),N-=32;return N>0&&(q(),U=U.concat(r(L.concat(r(C))).slice(0,N))),U}o(n,"PBKDF2_HMAC_SHA256_OneIter");function i(I,O,N,k,C){let L;for(l(I,(2*N-1)*16,C,0,16),L=0;L<2*N;L++)f(I,L*16,C,16),a(C,k),l(C,0,I,O+L*16,16);for(L=0;L<N;L++)l(I,O+L*2*16,I,L*16,16);for(L=0;L<N;L++)l(I,O+(L*2+1)*16,I,(L+N)*16,16)}o(i,"blockmix_salsa8");function s(I,O){return I<<O|I>>>32-O}o(s,"R");function a(I,O){l(I,0,O,0,16);for(let N=8;N>0;N-=2)O[4]^=s(O[0]+O[12],7),O[8]^=s(O[4]+O[0],9),O[12]^=s(O[8]+O[4],13),O[0]^=s(O[12]+O[8],18),O[9]^=s(O[5]+O[1],7),O[13]^=s(O[9]+O[5],9),O[1]^=s(O[13]+O[9],13),O[5]^=s(O[1]+O[13],18),O[14]^=s(O[10]+O[6],7),O[2]^=s(O[14]+O[10],9),O[6]^=s(O[2]+O[14],13),O[10]^=s(O[6]+O[2],18),O[3]^=s(O[15]+O[11],7),O[7]^=s(O[3]+O[15],9),O[11]^=s(O[7]+O[3],13),O[15]^=s(O[11]+O[7],18),O[1]^=s(O[0]+O[3],7),O[2]^=s(O[1]+O[0],9),O[3]^=s(O[2]+O[1],13),O[0]^=s(O[3]+O[2],18),O[6]^=s(O[5]+O[4],7),O[7]^=s(O[6]+O[5],9),O[4]^=s(O[7]+O[6],13),O[5]^=s(O[4]+O[7],18),O[11]^=s(O[10]+O[9],7),O[8]^=s(O[11]+O[10],9),O[9]^=s(O[8]+O[11],13),O[10]^=s(O[9]+O[8],18),O[12]^=s(O[15]+O[14],7),O[13]^=s(O[12]+O[15],9),O[14]^=s(O[13]+O[12],13),O[15]^=s(O[14]+O[13],18);for(let N=0;N<16;++N)I[N]+=O[N]}o(a,"salsa20_8");function f(I,O,N,k){for(let C=0;C<k;C++)N[C]^=I[O+C]}o(f,"blockxor");function l(I,O,N,k,C){for(;C--;)N[k++]=I[O++]}o(l,"arraycopy");function h(I){if(!I||typeof I.length!="number")return!1;for(let O=0;O<I.length;O++){let N=I[O];if(typeof N!="number"||N%1||N<0||N>=256)return!1}return!0}o(h,"checkBufferish");function b(I,O){if(typeof I!="number"||I%1)throw new Error("invalid "+O);return I}o(b,"ensureInteger");function y(I,O,N,k,C,L,M){if(N=b(N,"N"),k=b(k,"r"),C=b(C,"p"),L=b(L,"dkLen"),N===0||N&N-1)throw new Error("N must be power of 2");if(N>2147483647/128/k)throw new Error("N too large");if(k>2147483647/128/C)throw new Error("r too large");if(!h(I))throw new Error("password must be an array or buffer");if(I=Array.prototype.slice.call(I),!h(O))throw new Error("salt must be an array or buffer");O=Array.prototype.slice.call(O);let U=n(I,O,C*128*k),q=new Uint32Array(C*32*k);for(let H=0;H<q.length;H++){let D=H*4;q[H]=(U[D+3]&255)<<24|(U[D+2]&255)<<16|(U[D+1]&255)<<8|(U[D+0]&255)<<0}let j=new Uint32Array(64*k),re=new Uint32Array(32*k*N),Y=32*k,X=new Uint32Array(16),S=new Uint32Array(16),c=C*N*2,d=0,p=null,x=!1,v=0,A=0,T,w,u=M?parseInt(1e3/k):4294967295,_=typeof setImmediate<"u"?setImmediate:setTimeout,F=o(function(){if(x)return M(new Error("cancelled"),d/c);let H;switch(v){case 0:w=A*32*k,l(q,w,j,0,Y),v=1,T=0;case 1:H=N-T,H>u&&(H=u);for(let $=0;$<H;$++)l(j,0,re,(T+$)*Y,Y),i(j,Y,k,X,S);if(T+=H,d+=H,M){let $=parseInt(1e3*d/c);if($!==p){if(x=M(null,d/c),x)break;p=$}}if(T<N)break;T=0,v=2;case 2:H=N-T,H>u&&(H=u);for(let $=0;$<H;$++){let ee=(2*k-1)*16,te=j[ee]&N-1;f(re,te*Y,j,Y),i(j,Y,k,X,S)}if(T+=H,d+=H,M){let $=parseInt(1e3*d/c);if($!==p){if(x=M(null,d/c),x)break;p=$}}if(T<N)break;if(l(j,0,q,w,Y),A++,A<C){v=0;break}U=[];for(let $=0;$<q.length;$++)U.push(q[$]>>0&255),U.push(q[$]>>8&255),U.push(q[$]>>16&255),U.push(q[$]>>24&255);let D=n(I,U,L);return M&&M(null,1,D),D}M&&_(F)},"incrementalSMix");if(!M)for(;;){let H=F();if(H!=null)return H}F()}o(y,"_scrypt");let E={scrypt:o(function(I,O,N,k,C,L,M){return new Promise(function(U,q){let j=0;M&&M(0),y(I,O,N,k,C,L,function(re,Y,X){if(re)q(re);else if(X)M&&j!==1&&M(1),U(new Uint8Array(X));else if(M&&Y!==j)return j=Y,M(Y)})})},"scrypt"),syncScrypt:o(function(I,O,N,k,C,L){return new Uint8Array(y(I,O,N,k,C,L))},"syncScrypt")};typeof rU<"u"?xhe.exports=E:typeof define=="function"&&define.amd?define(E):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=E)})(rU)});var Lx=V(Px=>{"use strict";m();g();Object.defineProperty(Px,"__esModule",{value:!0});Px.bech32m=Px.bech32=void 0;var BI="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Qpe={};for(let t=0;t<BI.length;t++){let e=BI.charAt(t);Qpe[e]=t}function Bx(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}o(Bx,"polymodStep");function Jpe(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Bx(e)^n>>5}e=Bx(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=Bx(e)^n&31}return e}o(Jpe,"prefixChk");function uH(t,e,r,n){let i=0,s=0,a=(1<<r)-1,f=[];for(let l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,f.push(i>>s&a);if(n)s>0&&f.push(i<<r-s&a);else{if(s>=e)return"Excess padding";if(i<<r-s&a)return"Non-zero padding"}return f}o(uH,"convert");function MWe(t){return uH(t,8,5,!0)}o(MWe,"toWords");function CWe(t){let e=uH(t,5,8,!1);if(Array.isArray(e))return e}o(CWe,"fromWordsUnsafe");function kWe(t){let e=uH(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}o(kWe,"fromWords");function eme(t){let e;t==="bech32"?e=1:e=734539939;function r(a,f,l){if(l=l||90,a.length+7+f.length>l)throw new TypeError("Exceeds length limit");a=a.toLowerCase();let h=Jpe(a);if(typeof h=="string")throw new Error(h);let b=a+"1";for(let y=0;y<f.length;++y){let E=f[y];if(E>>5)throw new Error("Non 5-bit word");h=Bx(h)^E,b+=BI.charAt(E)}for(let y=0;y<6;++y)h=Bx(h);h^=e;for(let y=0;y<6;++y){let E=h>>(5-y)*5&31;b+=BI.charAt(E)}return b}o(r,"encode");function n(a,f){if(f=f||90,a.length<8)return a+" too short";if(a.length>f)return"Exceeds length limit";let l=a.toLowerCase(),h=a.toUpperCase();if(a!==l&&a!==h)return"Mixed-case string "+a;a=l;let b=a.lastIndexOf("1");if(b===-1)return"No separator character for "+a;if(b===0)return"Missing prefix for "+a;let y=a.slice(0,b),E=a.slice(b+1);if(E.length<6)return"Data too short";let I=Jpe(y);if(typeof I=="string")return I;let O=[];for(let N=0;N<E.length;++N){let k=E.charAt(N),C=Qpe[k];if(C===void 0)return"Unknown character "+k;I=Bx(I)^C,!(N+6>=E.length)&&O.push(C)}return I!==e?"Invalid checksum for "+a:{prefix:y,words:O}}o(n,"__decode");function i(a,f){let l=n(a,f);if(typeof l=="object")return l}o(i,"decodeUnsafe");function s(a,f){let l=n(a,f);if(typeof l=="object")return l;throw new Error(l)}return o(s,"decode"),{decodeUnsafe:i,decode:s,encode:r,toWords:MWe,fromWordsUnsafe:CWe,fromWords:kWe}}o(eme,"getLibraryFromEncoding");Px.bech32=eme("bech32");Px.bech32m=eme("bech32m")});var q0=V((t$t,LI)=>{m();g();(function(t){"use strict";var e=o(function(K){var G,z=new Float64Array(16);if(K)for(G=0;G<K.length;G++)z[G]=K[G];return z},"gf"),r=o(function(){throw new Error("no PRNG")},"randombytes"),n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),f=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),b=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function I(K,G,z,P){K[G]=z>>24&255,K[G+1]=z>>16&255,K[G+2]=z>>8&255,K[G+3]=z&255,K[G+4]=P>>24&255,K[G+5]=P>>16&255,K[G+6]=P>>8&255,K[G+7]=P&255}o(I,"ts64");function O(K,G,z,P,W){var Q,me=0;for(Q=0;Q<W;Q++)me|=K[G+Q]^z[P+Q];return(1&me-1>>>8)-1}o(O,"vn");function N(K,G,z,P){return O(K,G,z,P,16)}o(N,"crypto_verify_16");function k(K,G,z,P){return O(K,G,z,P,32)}o(k,"crypto_verify_32");function C(K,G,z,P){for(var W=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,Q=z[0]&255|(z[1]&255)<<8|(z[2]&255)<<16|(z[3]&255)<<24,me=z[4]&255|(z[5]&255)<<8|(z[6]&255)<<16|(z[7]&255)<<24,se=z[8]&255|(z[9]&255)<<8|(z[10]&255)<<16|(z[11]&255)<<24,ue=z[12]&255|(z[13]&255)<<8|(z[14]&255)<<16|(z[15]&255)<<24,lt=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,nt=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,Pt=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,st=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,bt=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,vt=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,It=z[16]&255|(z[17]&255)<<8|(z[18]&255)<<16|(z[19]&255)<<24,At=z[20]&255|(z[21]&255)<<8|(z[22]&255)<<16|(z[23]&255)<<24,_t=z[24]&255|(z[25]&255)<<8|(z[26]&255)<<16|(z[27]&255)<<24,St=z[28]&255|(z[29]&255)<<8|(z[30]&255)<<16|(z[31]&255)<<24,wt=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,ct=W,dt=Q,ot=me,ft=se,ut=ue,rt=lt,ve=nt,_e=Pt,tt=st,Ye=bt,Xe=vt,it=It,qt=At,mr=_t,vr=St,gr=wt,ae,kr=0;kr<20;kr+=2)ae=ct+qt|0,ut^=ae<<7|ae>>>25,ae=ut+ct|0,tt^=ae<<9|ae>>>23,ae=tt+ut|0,qt^=ae<<13|ae>>>19,ae=qt+tt|0,ct^=ae<<18|ae>>>14,ae=rt+dt|0,Ye^=ae<<7|ae>>>25,ae=Ye+rt|0,mr^=ae<<9|ae>>>23,ae=mr+Ye|0,dt^=ae<<13|ae>>>19,ae=dt+mr|0,rt^=ae<<18|ae>>>14,ae=Xe+ve|0,vr^=ae<<7|ae>>>25,ae=vr+Xe|0,ot^=ae<<9|ae>>>23,ae=ot+vr|0,ve^=ae<<13|ae>>>19,ae=ve+ot|0,Xe^=ae<<18|ae>>>14,ae=gr+it|0,ft^=ae<<7|ae>>>25,ae=ft+gr|0,_e^=ae<<9|ae>>>23,ae=_e+ft|0,it^=ae<<13|ae>>>19,ae=it+_e|0,gr^=ae<<18|ae>>>14,ae=ct+ft|0,dt^=ae<<7|ae>>>25,ae=dt+ct|0,ot^=ae<<9|ae>>>23,ae=ot+dt|0,ft^=ae<<13|ae>>>19,ae=ft+ot|0,ct^=ae<<18|ae>>>14,ae=rt+ut|0,ve^=ae<<7|ae>>>25,ae=ve+rt|0,_e^=ae<<9|ae>>>23,ae=_e+ve|0,ut^=ae<<13|ae>>>19,ae=ut+_e|0,rt^=ae<<18|ae>>>14,ae=Xe+Ye|0,it^=ae<<7|ae>>>25,ae=it+Xe|0,tt^=ae<<9|ae>>>23,ae=tt+it|0,Ye^=ae<<13|ae>>>19,ae=Ye+tt|0,Xe^=ae<<18|ae>>>14,ae=gr+vr|0,qt^=ae<<7|ae>>>25,ae=qt+gr|0,mr^=ae<<9|ae>>>23,ae=mr+qt|0,vr^=ae<<13|ae>>>19,ae=vr+mr|0,gr^=ae<<18|ae>>>14;ct=ct+W|0,dt=dt+Q|0,ot=ot+me|0,ft=ft+se|0,ut=ut+ue|0,rt=rt+lt|0,ve=ve+nt|0,_e=_e+Pt|0,tt=tt+st|0,Ye=Ye+bt|0,Xe=Xe+vt|0,it=it+It|0,qt=qt+At|0,mr=mr+_t|0,vr=vr+St|0,gr=gr+wt|0,K[0]=ct>>>0&255,K[1]=ct>>>8&255,K[2]=ct>>>16&255,K[3]=ct>>>24&255,K[4]=dt>>>0&255,K[5]=dt>>>8&255,K[6]=dt>>>16&255,K[7]=dt>>>24&255,K[8]=ot>>>0&255,K[9]=ot>>>8&255,K[10]=ot>>>16&255,K[11]=ot>>>24&255,K[12]=ft>>>0&255,K[13]=ft>>>8&255,K[14]=ft>>>16&255,K[15]=ft>>>24&255,K[16]=ut>>>0&255,K[17]=ut>>>8&255,K[18]=ut>>>16&255,K[19]=ut>>>24&255,K[20]=rt>>>0&255,K[21]=rt>>>8&255,K[22]=rt>>>16&255,K[23]=rt>>>24&255,K[24]=ve>>>0&255,K[25]=ve>>>8&255,K[26]=ve>>>16&255,K[27]=ve>>>24&255,K[28]=_e>>>0&255,K[29]=_e>>>8&255,K[30]=_e>>>16&255,K[31]=_e>>>24&255,K[32]=tt>>>0&255,K[33]=tt>>>8&255,K[34]=tt>>>16&255,K[35]=tt>>>24&255,K[36]=Ye>>>0&255,K[37]=Ye>>>8&255,K[38]=Ye>>>16&255,K[39]=Ye>>>24&255,K[40]=Xe>>>0&255,K[41]=Xe>>>8&255,K[42]=Xe>>>16&255,K[43]=Xe>>>24&255,K[44]=it>>>0&255,K[45]=it>>>8&255,K[46]=it>>>16&255,K[47]=it>>>24&255,K[48]=qt>>>0&255,K[49]=qt>>>8&255,K[50]=qt>>>16&255,K[51]=qt>>>24&255,K[52]=mr>>>0&255,K[53]=mr>>>8&255,K[54]=mr>>>16&255,K[55]=mr>>>24&255,K[56]=vr>>>0&255,K[57]=vr>>>8&255,K[58]=vr>>>16&255,K[59]=vr>>>24&255,K[60]=gr>>>0&255,K[61]=gr>>>8&255,K[62]=gr>>>16&255,K[63]=gr>>>24&255}o(C,"core_salsa20");function L(K,G,z,P){for(var W=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,Q=z[0]&255|(z[1]&255)<<8|(z[2]&255)<<16|(z[3]&255)<<24,me=z[4]&255|(z[5]&255)<<8|(z[6]&255)<<16|(z[7]&255)<<24,se=z[8]&255|(z[9]&255)<<8|(z[10]&255)<<16|(z[11]&255)<<24,ue=z[12]&255|(z[13]&255)<<8|(z[14]&255)<<16|(z[15]&255)<<24,lt=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,nt=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,Pt=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,st=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,bt=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,vt=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,It=z[16]&255|(z[17]&255)<<8|(z[18]&255)<<16|(z[19]&255)<<24,At=z[20]&255|(z[21]&255)<<8|(z[22]&255)<<16|(z[23]&255)<<24,_t=z[24]&255|(z[25]&255)<<8|(z[26]&255)<<16|(z[27]&255)<<24,St=z[28]&255|(z[29]&255)<<8|(z[30]&255)<<16|(z[31]&255)<<24,wt=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,ct=W,dt=Q,ot=me,ft=se,ut=ue,rt=lt,ve=nt,_e=Pt,tt=st,Ye=bt,Xe=vt,it=It,qt=At,mr=_t,vr=St,gr=wt,ae,kr=0;kr<20;kr+=2)ae=ct+qt|0,ut^=ae<<7|ae>>>25,ae=ut+ct|0,tt^=ae<<9|ae>>>23,ae=tt+ut|0,qt^=ae<<13|ae>>>19,ae=qt+tt|0,ct^=ae<<18|ae>>>14,ae=rt+dt|0,Ye^=ae<<7|ae>>>25,ae=Ye+rt|0,mr^=ae<<9|ae>>>23,ae=mr+Ye|0,dt^=ae<<13|ae>>>19,ae=dt+mr|0,rt^=ae<<18|ae>>>14,ae=Xe+ve|0,vr^=ae<<7|ae>>>25,ae=vr+Xe|0,ot^=ae<<9|ae>>>23,ae=ot+vr|0,ve^=ae<<13|ae>>>19,ae=ve+ot|0,Xe^=ae<<18|ae>>>14,ae=gr+it|0,ft^=ae<<7|ae>>>25,ae=ft+gr|0,_e^=ae<<9|ae>>>23,ae=_e+ft|0,it^=ae<<13|ae>>>19,ae=it+_e|0,gr^=ae<<18|ae>>>14,ae=ct+ft|0,dt^=ae<<7|ae>>>25,ae=dt+ct|0,ot^=ae<<9|ae>>>23,ae=ot+dt|0,ft^=ae<<13|ae>>>19,ae=ft+ot|0,ct^=ae<<18|ae>>>14,ae=rt+ut|0,ve^=ae<<7|ae>>>25,ae=ve+rt|0,_e^=ae<<9|ae>>>23,ae=_e+ve|0,ut^=ae<<13|ae>>>19,ae=ut+_e|0,rt^=ae<<18|ae>>>14,ae=Xe+Ye|0,it^=ae<<7|ae>>>25,ae=it+Xe|0,tt^=ae<<9|ae>>>23,ae=tt+it|0,Ye^=ae<<13|ae>>>19,ae=Ye+tt|0,Xe^=ae<<18|ae>>>14,ae=gr+vr|0,qt^=ae<<7|ae>>>25,ae=qt+gr|0,mr^=ae<<9|ae>>>23,ae=mr+qt|0,vr^=ae<<13|ae>>>19,ae=vr+mr|0,gr^=ae<<18|ae>>>14;K[0]=ct>>>0&255,K[1]=ct>>>8&255,K[2]=ct>>>16&255,K[3]=ct>>>24&255,K[4]=rt>>>0&255,K[5]=rt>>>8&255,K[6]=rt>>>16&255,K[7]=rt>>>24&255,K[8]=Xe>>>0&255,K[9]=Xe>>>8&255,K[10]=Xe>>>16&255,K[11]=Xe>>>24&255,K[12]=gr>>>0&255,K[13]=gr>>>8&255,K[14]=gr>>>16&255,K[15]=gr>>>24&255,K[16]=ve>>>0&255,K[17]=ve>>>8&255,K[18]=ve>>>16&255,K[19]=ve>>>24&255,K[20]=_e>>>0&255,K[21]=_e>>>8&255,K[22]=_e>>>16&255,K[23]=_e>>>24&255,K[24]=tt>>>0&255,K[25]=tt>>>8&255,K[26]=tt>>>16&255,K[27]=tt>>>24&255,K[28]=Ye>>>0&255,K[29]=Ye>>>8&255,K[30]=Ye>>>16&255,K[31]=Ye>>>24&255}o(L,"core_hsalsa20");function M(K,G,z,P){C(K,G,z,P)}o(M,"crypto_core_salsa20");function U(K,G,z,P){L(K,G,z,P)}o(U,"crypto_core_hsalsa20");var q=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function j(K,G,z,P,W,Q,me){var se=new Uint8Array(16),ue=new Uint8Array(64),lt,nt;for(nt=0;nt<16;nt++)se[nt]=0;for(nt=0;nt<8;nt++)se[nt]=Q[nt];for(;W>=64;){for(M(ue,se,me,q),nt=0;nt<64;nt++)K[G+nt]=z[P+nt]^ue[nt];for(lt=1,nt=8;nt<16;nt++)lt=lt+(se[nt]&255)|0,se[nt]=lt&255,lt>>>=8;W-=64,G+=64,P+=64}if(W>0)for(M(ue,se,me,q),nt=0;nt<W;nt++)K[G+nt]=z[P+nt]^ue[nt];return 0}o(j,"crypto_stream_salsa20_xor");function re(K,G,z,P,W){var Q=new Uint8Array(16),me=new Uint8Array(64),se,ue;for(ue=0;ue<16;ue++)Q[ue]=0;for(ue=0;ue<8;ue++)Q[ue]=P[ue];for(;z>=64;){for(M(me,Q,W,q),ue=0;ue<64;ue++)K[G+ue]=me[ue];for(se=1,ue=8;ue<16;ue++)se=se+(Q[ue]&255)|0,Q[ue]=se&255,se>>>=8;z-=64,G+=64}if(z>0)for(M(me,Q,W,q),ue=0;ue<z;ue++)K[G+ue]=me[ue];return 0}o(re,"crypto_stream_salsa20");function Y(K,G,z,P,W){var Q=new Uint8Array(32);U(Q,P,W,q);for(var me=new Uint8Array(8),se=0;se<8;se++)me[se]=P[se+16];return re(K,G,z,me,Q)}o(Y,"crypto_stream");function X(K,G,z,P,W,Q,me){var se=new Uint8Array(32);U(se,Q,me,q);for(var ue=new Uint8Array(8),lt=0;lt<8;lt++)ue[lt]=Q[lt+16];return j(K,G,z,P,W,ue,se)}o(X,"crypto_stream_xor");var S=o(function(K){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var G,z,P,W,Q,me,se,ue;G=K[0]&255|(K[1]&255)<<8,this.r[0]=G&8191,z=K[2]&255|(K[3]&255)<<8,this.r[1]=(G>>>13|z<<3)&8191,P=K[4]&255|(K[5]&255)<<8,this.r[2]=(z>>>10|P<<6)&7939,W=K[6]&255|(K[7]&255)<<8,this.r[3]=(P>>>7|W<<9)&8191,Q=K[8]&255|(K[9]&255)<<8,this.r[4]=(W>>>4|Q<<12)&255,this.r[5]=Q>>>1&8190,me=K[10]&255|(K[11]&255)<<8,this.r[6]=(Q>>>14|me<<2)&8191,se=K[12]&255|(K[13]&255)<<8,this.r[7]=(me>>>11|se<<5)&8065,ue=K[14]&255|(K[15]&255)<<8,this.r[8]=(se>>>8|ue<<8)&8191,this.r[9]=ue>>>5&127,this.pad[0]=K[16]&255|(K[17]&255)<<8,this.pad[1]=K[18]&255|(K[19]&255)<<8,this.pad[2]=K[20]&255|(K[21]&255)<<8,this.pad[3]=K[22]&255|(K[23]&255)<<8,this.pad[4]=K[24]&255|(K[25]&255)<<8,this.pad[5]=K[26]&255|(K[27]&255)<<8,this.pad[6]=K[28]&255|(K[29]&255)<<8,this.pad[7]=K[30]&255|(K[31]&255)<<8},"poly1305");S.prototype.blocks=function(K,G,z){for(var P=this.fin?0:2048,W,Q,me,se,ue,lt,nt,Pt,st,bt,vt,It,At,_t,St,wt,ct,dt,ot,ft=this.h[0],ut=this.h[1],rt=this.h[2],ve=this.h[3],_e=this.h[4],tt=this.h[5],Ye=this.h[6],Xe=this.h[7],it=this.h[8],qt=this.h[9],mr=this.r[0],vr=this.r[1],gr=this.r[2],ae=this.r[3],kr=this.r[4],Xr=this.r[5],Zr=this.r[6],Sr=this.r[7],zr=this.r[8],Gr=this.r[9];z>=16;)W=K[G+0]&255|(K[G+1]&255)<<8,ft+=W&8191,Q=K[G+2]&255|(K[G+3]&255)<<8,ut+=(W>>>13|Q<<3)&8191,me=K[G+4]&255|(K[G+5]&255)<<8,rt+=(Q>>>10|me<<6)&8191,se=K[G+6]&255|(K[G+7]&255)<<8,ve+=(me>>>7|se<<9)&8191,ue=K[G+8]&255|(K[G+9]&255)<<8,_e+=(se>>>4|ue<<12)&8191,tt+=ue>>>1&8191,lt=K[G+10]&255|(K[G+11]&255)<<8,Ye+=(ue>>>14|lt<<2)&8191,nt=K[G+12]&255|(K[G+13]&255)<<8,Xe+=(lt>>>11|nt<<5)&8191,Pt=K[G+14]&255|(K[G+15]&255)<<8,it+=(nt>>>8|Pt<<8)&8191,qt+=Pt>>>5|P,st=0,bt=st,bt+=ft*mr,bt+=ut*(5*Gr),bt+=rt*(5*zr),bt+=ve*(5*Sr),bt+=_e*(5*Zr),st=bt>>>13,bt&=8191,bt+=tt*(5*Xr),bt+=Ye*(5*kr),bt+=Xe*(5*ae),bt+=it*(5*gr),bt+=qt*(5*vr),st+=bt>>>13,bt&=8191,vt=st,vt+=ft*vr,vt+=ut*mr,vt+=rt*(5*Gr),vt+=ve*(5*zr),vt+=_e*(5*Sr),st=vt>>>13,vt&=8191,vt+=tt*(5*Zr),vt+=Ye*(5*Xr),vt+=Xe*(5*kr),vt+=it*(5*ae),vt+=qt*(5*gr),st+=vt>>>13,vt&=8191,It=st,It+=ft*gr,It+=ut*vr,It+=rt*mr,It+=ve*(5*Gr),It+=_e*(5*zr),st=It>>>13,It&=8191,It+=tt*(5*Sr),It+=Ye*(5*Zr),It+=Xe*(5*Xr),It+=it*(5*kr),It+=qt*(5*ae),st+=It>>>13,It&=8191,At=st,At+=ft*ae,At+=ut*gr,At+=rt*vr,At+=ve*mr,At+=_e*(5*Gr),st=At>>>13,At&=8191,At+=tt*(5*zr),At+=Ye*(5*Sr),At+=Xe*(5*Zr),At+=it*(5*Xr),At+=qt*(5*kr),st+=At>>>13,At&=8191,_t=st,_t+=ft*kr,_t+=ut*ae,_t+=rt*gr,_t+=ve*vr,_t+=_e*mr,st=_t>>>13,_t&=8191,_t+=tt*(5*Gr),_t+=Ye*(5*zr),_t+=Xe*(5*Sr),_t+=it*(5*Zr),_t+=qt*(5*Xr),st+=_t>>>13,_t&=8191,St=st,St+=ft*Xr,St+=ut*kr,St+=rt*ae,St+=ve*gr,St+=_e*vr,st=St>>>13,St&=8191,St+=tt*mr,St+=Ye*(5*Gr),St+=Xe*(5*zr),St+=it*(5*Sr),St+=qt*(5*Zr),st+=St>>>13,St&=8191,wt=st,wt+=ft*Zr,wt+=ut*Xr,wt+=rt*kr,wt+=ve*ae,wt+=_e*gr,st=wt>>>13,wt&=8191,wt+=tt*vr,wt+=Ye*mr,wt+=Xe*(5*Gr),wt+=it*(5*zr),wt+=qt*(5*Sr),st+=wt>>>13,wt&=8191,ct=st,ct+=ft*Sr,ct+=ut*Zr,ct+=rt*Xr,ct+=ve*kr,ct+=_e*ae,st=ct>>>13,ct&=8191,ct+=tt*gr,ct+=Ye*vr,ct+=Xe*mr,ct+=it*(5*Gr),ct+=qt*(5*zr),st+=ct>>>13,ct&=8191,dt=st,dt+=ft*zr,dt+=ut*Sr,dt+=rt*Zr,dt+=ve*Xr,dt+=_e*kr,st=dt>>>13,dt&=8191,dt+=tt*ae,dt+=Ye*gr,dt+=Xe*vr,dt+=it*mr,dt+=qt*(5*Gr),st+=dt>>>13,dt&=8191,ot=st,ot+=ft*Gr,ot+=ut*zr,ot+=rt*Sr,ot+=ve*Zr,ot+=_e*Xr,st=ot>>>13,ot&=8191,ot+=tt*kr,ot+=Ye*ae,ot+=Xe*gr,ot+=it*vr,ot+=qt*mr,st+=ot>>>13,ot&=8191,st=(st<<2)+st|0,st=st+bt|0,bt=st&8191,st=st>>>13,vt+=st,ft=bt,ut=vt,rt=It,ve=At,_e=_t,tt=St,Ye=wt,Xe=ct,it=dt,qt=ot,G+=16,z-=16;this.h[0]=ft,this.h[1]=ut,this.h[2]=rt,this.h[3]=ve,this.h[4]=_e,this.h[5]=tt,this.h[6]=Ye,this.h[7]=Xe,this.h[8]=it,this.h[9]=qt},S.prototype.finish=function(K,G){var z=new Uint16Array(10),P,W,Q,me;if(this.leftover){for(me=this.leftover,this.buffer[me++]=1;me<16;me++)this.buffer[me]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(P=this.h[1]>>>13,this.h[1]&=8191,me=2;me<10;me++)this.h[me]+=P,P=this.h[me]>>>13,this.h[me]&=8191;for(this.h[0]+=P*5,P=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=P,P=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=P,z[0]=this.h[0]+5,P=z[0]>>>13,z[0]&=8191,me=1;me<10;me++)z[me]=this.h[me]+P,P=z[me]>>>13,z[me]&=8191;for(z[9]-=8192,W=(P^1)-1,me=0;me<10;me++)z[me]&=W;for(W=~W,me=0;me<10;me++)this.h[me]=this.h[me]&W|z[me];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Q=this.h[0]+this.pad[0],this.h[0]=Q&65535,me=1;me<8;me++)Q=(this.h[me]+this.pad[me]|0)+(Q>>>16)|0,this.h[me]=Q&65535;K[G+0]=this.h[0]>>>0&255,K[G+1]=this.h[0]>>>8&255,K[G+2]=this.h[1]>>>0&255,K[G+3]=this.h[1]>>>8&255,K[G+4]=this.h[2]>>>0&255,K[G+5]=this.h[2]>>>8&255,K[G+6]=this.h[3]>>>0&255,K[G+7]=this.h[3]>>>8&255,K[G+8]=this.h[4]>>>0&255,K[G+9]=this.h[4]>>>8&255,K[G+10]=this.h[5]>>>0&255,K[G+11]=this.h[5]>>>8&255,K[G+12]=this.h[6]>>>0&255,K[G+13]=this.h[6]>>>8&255,K[G+14]=this.h[7]>>>0&255,K[G+15]=this.h[7]>>>8&255},S.prototype.update=function(K,G,z){var P,W;if(this.leftover){for(W=16-this.leftover,W>z&&(W=z),P=0;P<W;P++)this.buffer[this.leftover+P]=K[G+P];if(z-=W,G+=W,this.leftover+=W,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(z>=16&&(W=z-z%16,this.blocks(K,G,W),G+=W,z-=W),z){for(P=0;P<z;P++)this.buffer[this.leftover+P]=K[G+P];this.leftover+=z}};function c(K,G,z,P,W,Q){var me=new S(Q);return me.update(z,P,W),me.finish(K,G),0}o(c,"crypto_onetimeauth");function d(K,G,z,P,W,Q){var me=new Uint8Array(16);return c(me,0,z,P,W,Q),N(K,G,me,0)}o(d,"crypto_onetimeauth_verify");function p(K,G,z,P,W){var Q;if(z<32)return-1;for(X(K,0,G,0,z,P,W),c(K,16,K,32,z-32,K),Q=0;Q<16;Q++)K[Q]=0;return 0}o(p,"crypto_secretbox");function x(K,G,z,P,W){var Q,me=new Uint8Array(32);if(z<32||(Y(me,0,32,P,W),d(G,16,G,32,z-32,me)!==0))return-1;for(X(K,0,G,0,z,P,W),Q=0;Q<32;Q++)K[Q]=0;return 0}o(x,"crypto_secretbox_open");function v(K,G){var z;for(z=0;z<16;z++)K[z]=G[z]|0}o(v,"set25519");function A(K){var G,z,P=1;for(G=0;G<16;G++)z=K[G]+P+65535,P=Math.floor(z/65536),K[G]=z-P*65536;K[0]+=P-1+37*(P-1)}o(A,"car25519");function T(K,G,z){for(var P,W=~(z-1),Q=0;Q<16;Q++)P=W&(K[Q]^G[Q]),K[Q]^=P,G[Q]^=P}o(T,"sel25519");function w(K,G){var z,P,W,Q=e(),me=e();for(z=0;z<16;z++)me[z]=G[z];for(A(me),A(me),A(me),P=0;P<2;P++){for(Q[0]=me[0]-65517,z=1;z<15;z++)Q[z]=me[z]-65535-(Q[z-1]>>16&1),Q[z-1]&=65535;Q[15]=me[15]-32767-(Q[14]>>16&1),W=Q[15]>>16&1,Q[14]&=65535,T(me,Q,1-W)}for(z=0;z<16;z++)K[2*z]=me[z]&255,K[2*z+1]=me[z]>>8}o(w,"pack25519");function u(K,G){var z=new Uint8Array(32),P=new Uint8Array(32);return w(z,K),w(P,G),k(z,0,P,0)}o(u,"neq25519");function _(K){var G=new Uint8Array(32);return w(G,K),G[0]&1}o(_,"par25519");function F(K,G){var z;for(z=0;z<16;z++)K[z]=G[2*z]+(G[2*z+1]<<8);K[15]&=32767}o(F,"unpack25519");function H(K,G,z){for(var P=0;P<16;P++)K[P]=G[P]+z[P]}o(H,"A");function D(K,G,z){for(var P=0;P<16;P++)K[P]=G[P]-z[P]}o(D,"Z");function $(K,G,z){var P,W,Q=0,me=0,se=0,ue=0,lt=0,nt=0,Pt=0,st=0,bt=0,vt=0,It=0,At=0,_t=0,St=0,wt=0,ct=0,dt=0,ot=0,ft=0,ut=0,rt=0,ve=0,_e=0,tt=0,Ye=0,Xe=0,it=0,qt=0,mr=0,vr=0,gr=0,ae=z[0],kr=z[1],Xr=z[2],Zr=z[3],Sr=z[4],zr=z[5],Gr=z[6],Wi=z[7],Sn=z[8],Li=z[9],Di=z[10],Ui=z[11],_o=z[12],Ms=z[13],Cs=z[14],ks=z[15];P=G[0],Q+=P*ae,me+=P*kr,se+=P*Xr,ue+=P*Zr,lt+=P*Sr,nt+=P*zr,Pt+=P*Gr,st+=P*Wi,bt+=P*Sn,vt+=P*Li,It+=P*Di,At+=P*Ui,_t+=P*_o,St+=P*Ms,wt+=P*Cs,ct+=P*ks,P=G[1],me+=P*ae,se+=P*kr,ue+=P*Xr,lt+=P*Zr,nt+=P*Sr,Pt+=P*zr,st+=P*Gr,bt+=P*Wi,vt+=P*Sn,It+=P*Li,At+=P*Di,_t+=P*Ui,St+=P*_o,wt+=P*Ms,ct+=P*Cs,dt+=P*ks,P=G[2],se+=P*ae,ue+=P*kr,lt+=P*Xr,nt+=P*Zr,Pt+=P*Sr,st+=P*zr,bt+=P*Gr,vt+=P*Wi,It+=P*Sn,At+=P*Li,_t+=P*Di,St+=P*Ui,wt+=P*_o,ct+=P*Ms,dt+=P*Cs,ot+=P*ks,P=G[3],ue+=P*ae,lt+=P*kr,nt+=P*Xr,Pt+=P*Zr,st+=P*Sr,bt+=P*zr,vt+=P*Gr,It+=P*Wi,At+=P*Sn,_t+=P*Li,St+=P*Di,wt+=P*Ui,ct+=P*_o,dt+=P*Ms,ot+=P*Cs,ft+=P*ks,P=G[4],lt+=P*ae,nt+=P*kr,Pt+=P*Xr,st+=P*Zr,bt+=P*Sr,vt+=P*zr,It+=P*Gr,At+=P*Wi,_t+=P*Sn,St+=P*Li,wt+=P*Di,ct+=P*Ui,dt+=P*_o,ot+=P*Ms,ft+=P*Cs,ut+=P*ks,P=G[5],nt+=P*ae,Pt+=P*kr,st+=P*Xr,bt+=P*Zr,vt+=P*Sr,It+=P*zr,At+=P*Gr,_t+=P*Wi,St+=P*Sn,wt+=P*Li,ct+=P*Di,dt+=P*Ui,ot+=P*_o,ft+=P*Ms,ut+=P*Cs,rt+=P*ks,P=G[6],Pt+=P*ae,st+=P*kr,bt+=P*Xr,vt+=P*Zr,It+=P*Sr,At+=P*zr,_t+=P*Gr,St+=P*Wi,wt+=P*Sn,ct+=P*Li,dt+=P*Di,ot+=P*Ui,ft+=P*_o,ut+=P*Ms,rt+=P*Cs,ve+=P*ks,P=G[7],st+=P*ae,bt+=P*kr,vt+=P*Xr,It+=P*Zr,At+=P*Sr,_t+=P*zr,St+=P*Gr,wt+=P*Wi,ct+=P*Sn,dt+=P*Li,ot+=P*Di,ft+=P*Ui,ut+=P*_o,rt+=P*Ms,ve+=P*Cs,_e+=P*ks,P=G[8],bt+=P*ae,vt+=P*kr,It+=P*Xr,At+=P*Zr,_t+=P*Sr,St+=P*zr,wt+=P*Gr,ct+=P*Wi,dt+=P*Sn,ot+=P*Li,ft+=P*Di,ut+=P*Ui,rt+=P*_o,ve+=P*Ms,_e+=P*Cs,tt+=P*ks,P=G[9],vt+=P*ae,It+=P*kr,At+=P*Xr,_t+=P*Zr,St+=P*Sr,wt+=P*zr,ct+=P*Gr,dt+=P*Wi,ot+=P*Sn,ft+=P*Li,ut+=P*Di,rt+=P*Ui,ve+=P*_o,_e+=P*Ms,tt+=P*Cs,Ye+=P*ks,P=G[10],It+=P*ae,At+=P*kr,_t+=P*Xr,St+=P*Zr,wt+=P*Sr,ct+=P*zr,dt+=P*Gr,ot+=P*Wi,ft+=P*Sn,ut+=P*Li,rt+=P*Di,ve+=P*Ui,_e+=P*_o,tt+=P*Ms,Ye+=P*Cs,Xe+=P*ks,P=G[11],At+=P*ae,_t+=P*kr,St+=P*Xr,wt+=P*Zr,ct+=P*Sr,dt+=P*zr,ot+=P*Gr,ft+=P*Wi,ut+=P*Sn,rt+=P*Li,ve+=P*Di,_e+=P*Ui,tt+=P*_o,Ye+=P*Ms,Xe+=P*Cs,it+=P*ks,P=G[12],_t+=P*ae,St+=P*kr,wt+=P*Xr,ct+=P*Zr,dt+=P*Sr,ot+=P*zr,ft+=P*Gr,ut+=P*Wi,rt+=P*Sn,ve+=P*Li,_e+=P*Di,tt+=P*Ui,Ye+=P*_o,Xe+=P*Ms,it+=P*Cs,qt+=P*ks,P=G[13],St+=P*ae,wt+=P*kr,ct+=P*Xr,dt+=P*Zr,ot+=P*Sr,ft+=P*zr,ut+=P*Gr,rt+=P*Wi,ve+=P*Sn,_e+=P*Li,tt+=P*Di,Ye+=P*Ui,Xe+=P*_o,it+=P*Ms,qt+=P*Cs,mr+=P*ks,P=G[14],wt+=P*ae,ct+=P*kr,dt+=P*Xr,ot+=P*Zr,ft+=P*Sr,ut+=P*zr,rt+=P*Gr,ve+=P*Wi,_e+=P*Sn,tt+=P*Li,Ye+=P*Di,Xe+=P*Ui,it+=P*_o,qt+=P*Ms,mr+=P*Cs,vr+=P*ks,P=G[15],ct+=P*ae,dt+=P*kr,ot+=P*Xr,ft+=P*Zr,ut+=P*Sr,rt+=P*zr,ve+=P*Gr,_e+=P*Wi,tt+=P*Sn,Ye+=P*Li,Xe+=P*Di,it+=P*Ui,qt+=P*_o,mr+=P*Ms,vr+=P*Cs,gr+=P*ks,Q+=38*dt,me+=38*ot,se+=38*ft,ue+=38*ut,lt+=38*rt,nt+=38*ve,Pt+=38*_e,st+=38*tt,bt+=38*Ye,vt+=38*Xe,It+=38*it,At+=38*qt,_t+=38*mr,St+=38*vr,wt+=38*gr,W=1,P=Q+W+65535,W=Math.floor(P/65536),Q=P-W*65536,P=me+W+65535,W=Math.floor(P/65536),me=P-W*65536,P=se+W+65535,W=Math.floor(P/65536),se=P-W*65536,P=ue+W+65535,W=Math.floor(P/65536),ue=P-W*65536,P=lt+W+65535,W=Math.floor(P/65536),lt=P-W*65536,P=nt+W+65535,W=Math.floor(P/65536),nt=P-W*65536,P=Pt+W+65535,W=Math.floor(P/65536),Pt=P-W*65536,P=st+W+65535,W=Math.floor(P/65536),st=P-W*65536,P=bt+W+65535,W=Math.floor(P/65536),bt=P-W*65536,P=vt+W+65535,W=Math.floor(P/65536),vt=P-W*65536,P=It+W+65535,W=Math.floor(P/65536),It=P-W*65536,P=At+W+65535,W=Math.floor(P/65536),At=P-W*65536,P=_t+W+65535,W=Math.floor(P/65536),_t=P-W*65536,P=St+W+65535,W=Math.floor(P/65536),St=P-W*65536,P=wt+W+65535,W=Math.floor(P/65536),wt=P-W*65536,P=ct+W+65535,W=Math.floor(P/65536),ct=P-W*65536,Q+=W-1+37*(W-1),W=1,P=Q+W+65535,W=Math.floor(P/65536),Q=P-W*65536,P=me+W+65535,W=Math.floor(P/65536),me=P-W*65536,P=se+W+65535,W=Math.floor(P/65536),se=P-W*65536,P=ue+W+65535,W=Math.floor(P/65536),ue=P-W*65536,P=lt+W+65535,W=Math.floor(P/65536),lt=P-W*65536,P=nt+W+65535,W=Math.floor(P/65536),nt=P-W*65536,P=Pt+W+65535,W=Math.floor(P/65536),Pt=P-W*65536,P=st+W+65535,W=Math.floor(P/65536),st=P-W*65536,P=bt+W+65535,W=Math.floor(P/65536),bt=P-W*65536,P=vt+W+65535,W=Math.floor(P/65536),vt=P-W*65536,P=It+W+65535,W=Math.floor(P/65536),It=P-W*65536,P=At+W+65535,W=Math.floor(P/65536),At=P-W*65536,P=_t+W+65535,W=Math.floor(P/65536),_t=P-W*65536,P=St+W+65535,W=Math.floor(P/65536),St=P-W*65536,P=wt+W+65535,W=Math.floor(P/65536),wt=P-W*65536,P=ct+W+65535,W=Math.floor(P/65536),ct=P-W*65536,Q+=W-1+37*(W-1),K[0]=Q,K[1]=me,K[2]=se,K[3]=ue,K[4]=lt,K[5]=nt,K[6]=Pt,K[7]=st,K[8]=bt,K[9]=vt,K[10]=It,K[11]=At,K[12]=_t,K[13]=St,K[14]=wt,K[15]=ct}o($,"M");function ee(K,G){$(K,G,G)}o(ee,"S");function te(K,G){var z=e(),P;for(P=0;P<16;P++)z[P]=G[P];for(P=253;P>=0;P--)ee(z,z),P!==2&&P!==4&&$(z,z,G);for(P=0;P<16;P++)K[P]=z[P]}o(te,"inv25519");function Oe(K,G){var z=e(),P;for(P=0;P<16;P++)z[P]=G[P];for(P=250;P>=0;P--)ee(z,z),P!==1&&$(z,z,G);for(P=0;P<16;P++)K[P]=z[P]}o(Oe,"pow2523");function fe(K,G,z){var P=new Uint8Array(32),W=new Float64Array(80),Q,me,se=e(),ue=e(),lt=e(),nt=e(),Pt=e(),st=e();for(me=0;me<31;me++)P[me]=G[me];for(P[31]=G[31]&127|64,P[0]&=248,F(W,z),me=0;me<16;me++)ue[me]=W[me],nt[me]=se[me]=lt[me]=0;for(se[0]=nt[0]=1,me=254;me>=0;--me)Q=P[me>>>3]>>>(me&7)&1,T(se,ue,Q),T(lt,nt,Q),H(Pt,se,lt),D(se,se,lt),H(lt,ue,nt),D(ue,ue,nt),ee(nt,Pt),ee(st,se),$(se,lt,se),$(lt,ue,Pt),H(Pt,se,lt),D(se,se,lt),ee(ue,se),D(lt,nt,st),$(se,lt,f),H(se,se,nt),$(lt,lt,se),$(se,nt,st),$(nt,ue,W),ee(ue,Pt),T(se,ue,Q),T(lt,nt,Q);for(me=0;me<16;me++)W[me+16]=se[me],W[me+32]=lt[me],W[me+48]=ue[me],W[me+64]=nt[me];var bt=W.subarray(32),vt=W.subarray(16);return te(bt,bt),$(vt,vt,bt),w(K,vt),0}o(fe,"crypto_scalarmult");function le(K,G){return fe(K,G,i)}o(le,"crypto_scalarmult_base");function ge(K,G){return r(G,32),le(K,G)}o(ge,"crypto_box_keypair");function pe(K,G,z){var P=new Uint8Array(32);return fe(P,z,G),U(K,n,P,q)}o(pe,"crypto_box_beforenm");var ye=p,Cr=x;function Re(K,G,z,P,W,Q){var me=new Uint8Array(32);return pe(me,W,Q),ye(K,G,z,P,me)}o(Re,"crypto_box");function Me(K,G,z,P,W,Q){var me=new Uint8Array(32);return pe(me,W,Q),Cr(K,G,z,P,me)}o(Me,"crypto_box_open");var ti=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function qe(K,G,z,P){for(var W=new Int32Array(16),Q=new Int32Array(16),me,se,ue,lt,nt,Pt,st,bt,vt,It,At,_t,St,wt,ct,dt,ot,ft,ut,rt,ve,_e,tt,Ye,Xe,it,qt=K[0],mr=K[1],vr=K[2],gr=K[3],ae=K[4],kr=K[5],Xr=K[6],Zr=K[7],Sr=G[0],zr=G[1],Gr=G[2],Wi=G[3],Sn=G[4],Li=G[5],Di=G[6],Ui=G[7],_o=0;P>=128;){for(ut=0;ut<16;ut++)rt=8*ut+_o,W[ut]=z[rt+0]<<24|z[rt+1]<<16|z[rt+2]<<8|z[rt+3],Q[ut]=z[rt+4]<<24|z[rt+5]<<16|z[rt+6]<<8|z[rt+7];for(ut=0;ut<80;ut++)if(me=qt,se=mr,ue=vr,lt=gr,nt=ae,Pt=kr,st=Xr,bt=Zr,vt=Sr,It=zr,At=Gr,_t=Wi,St=Sn,wt=Li,ct=Di,dt=Ui,ve=Zr,_e=Ui,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=(ae>>>14|Sn<<18)^(ae>>>18|Sn<<14)^(Sn>>>9|ae<<23),_e=(Sn>>>14|ae<<18)^(Sn>>>18|ae<<14)^(ae>>>9|Sn<<23),tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ve=ae&kr^~ae&Xr,_e=Sn&Li^~Sn&Di,tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ve=ti[ut*2],_e=ti[ut*2+1],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ve=W[ut%16],_e=Q[ut%16],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,ot=Xe&65535|it<<16,ft=tt&65535|Ye<<16,ve=ot,_e=ft,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=(qt>>>28|Sr<<4)^(Sr>>>2|qt<<30)^(Sr>>>7|qt<<25),_e=(Sr>>>28|qt<<4)^(qt>>>2|Sr<<30)^(qt>>>7|Sr<<25),tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ve=qt&mr^qt&vr^mr&vr,_e=Sr&zr^Sr&Gr^zr&Gr,tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,bt=Xe&65535|it<<16,dt=tt&65535|Ye<<16,ve=lt,_e=_t,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=ot,_e=ft,tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,lt=Xe&65535|it<<16,_t=tt&65535|Ye<<16,mr=me,vr=se,gr=ue,ae=lt,kr=nt,Xr=Pt,Zr=st,qt=bt,zr=vt,Gr=It,Wi=At,Sn=_t,Li=St,Di=wt,Ui=ct,Sr=dt,ut%16===15)for(rt=0;rt<16;rt++)ve=W[rt],_e=Q[rt],tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=W[(rt+9)%16],_e=Q[(rt+9)%16],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ot=W[(rt+1)%16],ft=Q[(rt+1)%16],ve=(ot>>>1|ft<<31)^(ot>>>8|ft<<24)^ot>>>7,_e=(ft>>>1|ot<<31)^(ft>>>8|ot<<24)^(ft>>>7|ot<<25),tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ot=W[(rt+14)%16],ft=Q[(rt+14)%16],ve=(ot>>>19|ft<<13)^(ft>>>29|ot<<3)^ot>>>6,_e=(ft>>>19|ot<<13)^(ot>>>29|ft<<3)^(ft>>>6|ot<<26),tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,W[rt]=Xe&65535|it<<16,Q[rt]=tt&65535|Ye<<16;ve=qt,_e=Sr,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=K[0],_e=G[0],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,K[0]=qt=Xe&65535|it<<16,G[0]=Sr=tt&65535|Ye<<16,ve=mr,_e=zr,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=K[1],_e=G[1],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,K[1]=mr=Xe&65535|it<<16,G[1]=zr=tt&65535|Ye<<16,ve=vr,_e=Gr,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=K[2],_e=G[2],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,K[2]=vr=Xe&65535|it<<16,G[2]=Gr=tt&65535|Ye<<16,ve=gr,_e=Wi,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=K[3],_e=G[3],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,K[3]=gr=Xe&65535|it<<16,G[3]=Wi=tt&65535|Ye<<16,ve=ae,_e=Sn,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=K[4],_e=G[4],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,K[4]=ae=Xe&65535|it<<16,G[4]=Sn=tt&65535|Ye<<16,ve=kr,_e=Li,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=K[5],_e=G[5],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,K[5]=kr=Xe&65535|it<<16,G[5]=Li=tt&65535|Ye<<16,ve=Xr,_e=Di,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=K[6],_e=G[6],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,K[6]=Xr=Xe&65535|it<<16,G[6]=Di=tt&65535|Ye<<16,ve=Zr,_e=Ui,tt=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=K[7],_e=G[7],tt+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,K[7]=Zr=Xe&65535|it<<16,G[7]=Ui=tt&65535|Ye<<16,_o+=128,P-=128}return P}o(qe,"crypto_hashblocks_hl");function ke(K,G,z){var P=new Int32Array(8),W=new Int32Array(8),Q=new Uint8Array(256),me,se=z;for(P[0]=1779033703,P[1]=3144134277,P[2]=1013904242,P[3]=2773480762,P[4]=1359893119,P[5]=2600822924,P[6]=528734635,P[7]=1541459225,W[0]=4089235720,W[1]=2227873595,W[2]=4271175723,W[3]=1595750129,W[4]=2917565137,W[5]=725511199,W[6]=4215389547,W[7]=327033209,qe(P,W,G,z),z%=128,me=0;me<z;me++)Q[me]=G[se-z+me];for(Q[z]=128,z=256-128*(z<112?1:0),Q[z-9]=0,I(Q,z-8,se/536870912|0,se<<3),qe(P,W,Q,z),me=0;me<8;me++)I(K,8*me,P[me],W[me]);return 0}o(ke,"crypto_hash");function ri(K,G){var z=e(),P=e(),W=e(),Q=e(),me=e(),se=e(),ue=e(),lt=e(),nt=e();D(z,K[1],K[0]),D(nt,G[1],G[0]),$(z,z,nt),H(P,K[0],K[1]),H(nt,G[0],G[1]),$(P,P,nt),$(W,K[3],G[3]),$(W,W,h),$(Q,K[2],G[2]),H(Q,Q,Q),D(me,P,z),D(se,Q,W),H(ue,Q,W),H(lt,P,z),$(K[0],me,se),$(K[1],lt,ue),$(K[2],ue,se),$(K[3],me,lt)}o(ri,"add");function Ve(K,G,z){var P;for(P=0;P<4;P++)T(K[P],G[P],z)}o(Ve,"cswap");function He(K,G){var z=e(),P=e(),W=e();te(W,G[2]),$(z,G[0],W),$(P,G[1],W),w(K,P),K[31]^=_(z)<<7}o(He,"pack");function Ei(K,G,z){var P,W;for(v(K[0],s),v(K[1],a),v(K[2],a),v(K[3],s),W=255;W>=0;--W)P=z[W/8|0]>>(W&7)&1,Ve(K,G,P),ri(G,K),ri(K,K),Ve(K,G,P)}o(Ei,"scalarmult");function De(K,G){var z=[e(),e(),e(),e()];v(z[0],b),v(z[1],y),v(z[2],a),$(z[3],b,y),Ei(K,z,G)}o(De,"scalarbase");function Fe(K,G,z){var P=new Uint8Array(64),W=[e(),e(),e(),e()],Q;for(z||r(G,32),ke(P,G,32),P[0]&=248,P[31]&=127,P[31]|=64,De(W,P),He(K,W),Q=0;Q<32;Q++)G[Q+32]=K[Q];return 0}o(Fe,"crypto_sign_keypair");var xn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Z(K,G){var z,P,W,Q;for(P=63;P>=32;--P){for(z=0,W=P-32,Q=P-12;W<Q;++W)G[W]+=z-16*G[P]*xn[W-(P-32)],z=Math.floor((G[W]+128)/256),G[W]-=z*256;G[W]+=z,G[P]=0}for(z=0,W=0;W<32;W++)G[W]+=z-(G[31]>>4)*xn[W],z=G[W]>>8,G[W]&=255;for(W=0;W<32;W++)G[W]-=z*xn[W];for(P=0;P<32;P++)G[P+1]+=G[P]>>8,K[P]=G[P]&255}o(Z,"modL");function J(K){var G=new Float64Array(64),z;for(z=0;z<64;z++)G[z]=K[z];for(z=0;z<64;z++)K[z]=0;Z(K,G)}o(J,"reduce");function he(K,G,z,P){var W=new Uint8Array(64),Q=new Uint8Array(64),me=new Uint8Array(64),se,ue,lt=new Float64Array(64),nt=[e(),e(),e(),e()];ke(W,P,32),W[0]&=248,W[31]&=127,W[31]|=64;var Pt=z+64;for(se=0;se<z;se++)K[64+se]=G[se];for(se=0;se<32;se++)K[32+se]=W[32+se];for(ke(me,K.subarray(32),z+32),J(me),De(nt,me),He(K,nt),se=32;se<64;se++)K[se]=P[se];for(ke(Q,K,z+64),J(Q),se=0;se<64;se++)lt[se]=0;for(se=0;se<32;se++)lt[se]=me[se];for(se=0;se<32;se++)for(ue=0;ue<32;ue++)lt[se+ue]+=Q[se]*W[ue];return Z(K.subarray(32),lt),Pt}o(he,"crypto_sign");function ne(K,G){var z=e(),P=e(),W=e(),Q=e(),me=e(),se=e(),ue=e();return v(K[2],a),F(K[1],G),ee(W,K[1]),$(Q,W,l),D(W,W,K[2]),H(Q,K[2],Q),ee(me,Q),ee(se,me),$(ue,se,me),$(z,ue,W),$(z,z,Q),Oe(z,z),$(z,z,W),$(z,z,Q),$(z,z,Q),$(K[0],z,Q),ee(P,K[0]),$(P,P,Q),u(P,W)&&$(K[0],K[0],E),ee(P,K[0]),$(P,P,Q),u(P,W)?-1:(_(K[0])===G[31]>>7&&D(K[0],s,K[0]),$(K[3],K[0],K[1]),0)}o(ne,"unpackneg");function de(K,G,z,P){var W,Q=new Uint8Array(32),me=new Uint8Array(64),se=[e(),e(),e(),e()],ue=[e(),e(),e(),e()];if(z<64||ne(ue,P))return-1;for(W=0;W<z;W++)K[W]=G[W];for(W=0;W<32;W++)K[W+32]=P[W];if(ke(me,K,z),J(me),Ei(se,ue,me),De(ue,G.subarray(32)),ri(se,ue),He(Q,se),z-=64,k(G,0,Q,0)){for(W=0;W<z;W++)K[W]=0;return-1}for(W=0;W<z;W++)K[W]=G[W+64];return z}o(de,"crypto_sign_open");var xt=32,xe=24,Ee=32,ir=16,Ae=32,Ne=32,ni=32,Pe=32,Be=32,oo=xe,Ge=Ee,$e=ir,Un=64,Le=32,Ue=64,$i=32,je=64;t.lowlevel={crypto_core_hsalsa20:U,crypto_stream_xor:X,crypto_stream:Y,crypto_stream_salsa20_xor:j,crypto_stream_salsa20:re,crypto_onetimeauth:c,crypto_onetimeauth_verify:d,crypto_verify_16:N,crypto_verify_32:k,crypto_secretbox:p,crypto_secretbox_open:x,crypto_scalarmult:fe,crypto_scalarmult_base:le,crypto_box_beforenm:pe,crypto_box_afternm:ye,crypto_box:Re,crypto_box_open:Me,crypto_box_keypair:ge,crypto_hash:ke,crypto_sign:he,crypto_sign_keypair:Fe,crypto_sign_open:de,crypto_secretbox_KEYBYTES:xt,crypto_secretbox_NONCEBYTES:xe,crypto_secretbox_ZEROBYTES:Ee,crypto_secretbox_BOXZEROBYTES:ir,crypto_scalarmult_BYTES:Ae,crypto_scalarmult_SCALARBYTES:Ne,crypto_box_PUBLICKEYBYTES:ni,crypto_box_SECRETKEYBYTES:Pe,crypto_box_BEFORENMBYTES:Be,crypto_box_NONCEBYTES:oo,crypto_box_ZEROBYTES:Ge,crypto_box_BOXZEROBYTES:$e,crypto_sign_BYTES:Un,crypto_sign_PUBLICKEYBYTES:Le,crypto_sign_SECRETKEYBYTES:Ue,crypto_sign_SEEDBYTES:$i,crypto_hash_BYTES:je,gf:e,D:l,L:xn,pack25519:w,unpack25519:F,M:$,A:H,S:ee,Z:D,pow2523:Oe,add:ri,set25519:v,modL:Z,scalarmult:Ei,scalarbase:De};function Ke(K,G){if(K.length!==xt)throw new Error("bad key size");if(G.length!==xe)throw new Error("bad nonce size")}o(Ke,"checkLengths");function vo(K,G){if(K.length!==ni)throw new Error("bad public key size");if(G.length!==Pe)throw new Error("bad secret key size")}o(vo,"checkBoxLengths");function Ce(){for(var K=0;K<arguments.length;K++)if(!(arguments[K]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}o(Ce,"checkArrayTypes");function ze(K){for(var G=0;G<K.length;G++)K[G]=0}o(ze,"cleanup"),t.randomBytes=function(K){var G=new Uint8Array(K);return r(G,K),G},t.secretbox=function(K,G,z){Ce(K,G,z),Ke(z,G);for(var P=new Uint8Array(Ee+K.length),W=new Uint8Array(P.length),Q=0;Q<K.length;Q++)P[Q+Ee]=K[Q];return p(W,P,P.length,G,z),W.subarray(ir)},t.secretbox.open=function(K,G,z){Ce(K,G,z),Ke(z,G);for(var P=new Uint8Array(ir+K.length),W=new Uint8Array(P.length),Q=0;Q<K.length;Q++)P[Q+ir]=K[Q];return P.length<32||x(W,P,P.length,G,z)!==0?null:W.subarray(Ee)},t.secretbox.keyLength=xt,t.secretbox.nonceLength=xe,t.secretbox.overheadLength=ir,t.scalarMult=function(K,G){if(Ce(K,G),K.length!==Ne)throw new Error("bad n size");if(G.length!==Ae)throw new Error("bad p size");var z=new Uint8Array(Ae);return fe(z,K,G),z},t.scalarMult.base=function(K){if(Ce(K),K.length!==Ne)throw new Error("bad n size");var G=new Uint8Array(Ae);return le(G,K),G},t.scalarMult.scalarLength=Ne,t.scalarMult.groupElementLength=Ae,t.box=function(K,G,z,P){var W=t.box.before(z,P);return t.secretbox(K,G,W)},t.box.before=function(K,G){Ce(K,G),vo(K,G);var z=new Uint8Array(Be);return pe(z,K,G),z},t.box.after=t.secretbox,t.box.open=function(K,G,z,P){var W=t.box.before(z,P);return t.secretbox.open(K,G,W)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var K=new Uint8Array(ni),G=new Uint8Array(Pe);return ge(K,G),{publicKey:K,secretKey:G}},t.box.keyPair.fromSecretKey=function(K){if(Ce(K),K.length!==Pe)throw new Error("bad secret key size");var G=new Uint8Array(ni);return le(G,K),{publicKey:G,secretKey:new Uint8Array(K)}},t.box.publicKeyLength=ni,t.box.secretKeyLength=Pe,t.box.sharedKeyLength=Be,t.box.nonceLength=oo,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(K,G){if(Ce(K,G),G.length!==Ue)throw new Error("bad secret key size");var z=new Uint8Array(Un+K.length);return he(z,K,K.length,G),z},t.sign.open=function(K,G){if(Ce(K,G),G.length!==Le)throw new Error("bad public key size");var z=new Uint8Array(K.length),P=de(z,K,K.length,G);if(P<0)return null;for(var W=new Uint8Array(P),Q=0;Q<W.length;Q++)W[Q]=z[Q];return W},t.sign.detached=function(K,G){for(var z=t.sign(K,G),P=new Uint8Array(Un),W=0;W<P.length;W++)P[W]=z[W];return P},t.sign.detached.verify=function(K,G,z){if(Ce(K,G,z),G.length!==Un)throw new Error("bad signature size");if(z.length!==Le)throw new Error("bad public key size");var P=new Uint8Array(Un+K.length),W=new Uint8Array(Un+K.length),Q;for(Q=0;Q<Un;Q++)P[Q]=G[Q];for(Q=0;Q<K.length;Q++)P[Q+Un]=K[Q];return de(W,P,P.length,z)>=0},t.sign.keyPair=function(){var K=new Uint8Array(Le),G=new Uint8Array(Ue);return Fe(K,G),{publicKey:K,secretKey:G}},t.sign.keyPair.fromSecretKey=function(K){if(Ce(K),K.length!==Ue)throw new Error("bad secret key size");for(var G=new Uint8Array(Le),z=0;z<G.length;z++)G[z]=K[32+z];return{publicKey:G,secretKey:new Uint8Array(K)}},t.sign.keyPair.fromSeed=function(K){if(Ce(K),K.length!==$i)throw new Error("bad seed size");for(var G=new Uint8Array(Le),z=new Uint8Array(Ue),P=0;P<32;P++)z[P]=K[P];return Fe(G,z,!0),{publicKey:G,secretKey:z}},t.sign.publicKeyLength=Le,t.sign.secretKeyLength=Ue,t.sign.seedLength=$i,t.sign.signatureLength=Un,t.hash=function(K){Ce(K);var G=new Uint8Array(je);return ke(G,K,K.length),G},t.hash.hashLength=je,t.verify=function(K,G){return Ce(K,G),K.length===0||G.length===0||K.length!==G.length?!1:O(K,0,G,0,K.length)===0},t.setPRNG=function(K){r=K},function(){var K=typeof self<"u"?self.crypto||self.msCrypto:null;if(K&&K.getRandomValues){var G=65536;t.setPRNG(function(z,P){var W,Q=new Uint8Array(P);for(W=0;W<P;W+=G)K.getRandomValues(Q.subarray(W,W+Math.min(P-W,G)));for(W=0;W<P;W++)z[W]=Q[W];ze(Q)})}else typeof U$<"u"&&(K=Bb(),K&&K.randomBytes&&t.setPRNG(function(z,P){var W,Q=K.randomBytes(P);for(W=0;W<P;W++)z[W]=Q[W];ze(Q)}))}()})(typeof LI<"u"&&LI.exports?LI.exports:self.nacl=self.nacl||{})});var ome=V(qI=>{"use strict";m();g();Object.defineProperty(qI,"__esModule",{value:!0});qI.crypto=void 0;qI.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var wH=V(Wt=>{"use strict";m();g();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.wrapXOFConstructorWithOpts=Wt.wrapConstructorWithOpts=Wt.wrapConstructor=Wt.Hash=Wt.nextTick=Wt.swap32IfBE=Wt.byteSwapIfBE=Wt.swap8IfBE=Wt.isLE=void 0;Wt.isBytes=ame;Wt.anumber=bH;Wt.abytes=Hx;Wt.ahash=KWe;Wt.aexists=zWe;Wt.aoutput=GWe;Wt.u8=$We;Wt.u32=WWe;Wt.clean=YWe;Wt.createView=XWe;Wt.rotr=ZWe;Wt.rotl=JWe;Wt.byteSwap=vH;Wt.byteSwap32=cme;Wt.bytesToHex=eYe;Wt.hexToBytes=tYe;Wt.asyncLoop=nYe;Wt.utf8ToBytes=_H;Wt.bytesToUtf8=iYe;Wt.toBytes=VI;Wt.kdfInputToBytes=oYe;Wt.concatBytes=sYe;Wt.checkOpts=aYe;Wt.createHasher=ume;Wt.createOptHasher=lme;Wt.createXOFer=dme;Wt.randomBytes=cYe;var Ux=ome();function ame(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(ame,"isBytes");function bH(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(bH,"anumber");function Hx(t,...e){if(!ame(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(Hx,"abytes");function KWe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");bH(t.outputLen),bH(t.blockLen)}o(KWe,"ahash");function zWe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(zWe,"aexists");function GWe(t,e){Hx(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(GWe,"aoutput");function $We(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o($We,"u8");function WWe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(WWe,"u32");function YWe(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(YWe,"clean");function XWe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(XWe,"createView");function ZWe(t,e){return t<<32-e|t>>>e}o(ZWe,"rotr");function JWe(t,e){return t<<e|t>>>32-e>>>0}o(JWe,"rotl");Wt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function vH(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(vH,"byteSwap");Wt.swap8IfBE=Wt.isLE?t=>t:t=>vH(t);Wt.byteSwapIfBE=Wt.swap8IfBE;function cme(t){for(let e=0;e<t.length;e++)t[e]=vH(t[e]);return t}o(cme,"byteSwap32");Wt.swap32IfBE=Wt.isLE?t=>t:cme;var fme=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",QWe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function eYe(t){if(Hx(t),fme)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=QWe[t[r]];return e}o(eYe,"bytesToHex");var V0={_0:48,_9:57,A:65,F:70,a:97,f:102};function sme(t){if(t>=V0._0&&t<=V0._9)return t-V0._0;if(t>=V0.A&&t<=V0.F)return t-(V0.A-10);if(t>=V0.a&&t<=V0.f)return t-(V0.a-10)}o(sme,"asciiToBase16");function tYe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(fme)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=sme(t.charCodeAt(s)),f=sme(t.charCodeAt(s+1));if(a===void 0||f===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+f}return n}o(tYe,"hexToBytes");var rYe=o(async()=>{},"nextTick");Wt.nextTick=rYe;async function nYe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Wt.nextTick)(),n+=s)}}o(nYe,"asyncLoop");function _H(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(_H,"utf8ToBytes");function iYe(t){return new TextDecoder().decode(t)}o(iYe,"bytesToUtf8");function VI(t){return typeof t=="string"&&(t=_H(t)),Hx(t),t}o(VI,"toBytes");function oYe(t){return typeof t=="string"&&(t=_H(t)),Hx(t),t}o(oYe,"kdfInputToBytes");function sYe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];Hx(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(sYe,"concatBytes");function aYe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(aYe,"checkOpts");var xH=class{static{o(this,"Hash")}};Wt.Hash=xH;function ume(t){let e=o(n=>t().update(VI(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(ume,"createHasher");function lme(t){let e=o((n,i)=>t(i).update(VI(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(lme,"createOptHasher");function dme(t){let e=o((n,i)=>t(i).update(VI(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(dme,"createXOFer");Wt.wrapConstructor=ume;Wt.wrapConstructorWithOpts=lme;Wt.wrapXOFConstructorWithOpts=dme;function cYe(t=32){if(Ux.crypto&&typeof Ux.crypto.getRandomValues=="function")return Ux.crypto.getRandomValues(new Uint8Array(t));if(Ux.crypto&&typeof Ux.crypto.randomBytes=="function")return Uint8Array.from(Ux.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(cYe,"randomBytes")});var pme=V(Ca=>{"use strict";m();g();Object.defineProperty(Ca,"__esModule",{value:!0});Ca.SHA512_IV=Ca.SHA384_IV=Ca.SHA224_IV=Ca.SHA256_IV=Ca.HashMD=void 0;Ca.setBigUint64=hme;Ca.Chi=fYe;Ca.Maj=uYe;var md=wH();function hme(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(hme,"setBigUint64");function fYe(t,e,r){return t&e^~t&r}o(fYe,"Chi");function uYe(t,e,r){return t&e^t&r^e&r}o(uYe,"Maj");var SH=class extends md.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,md.createView)(this.buffer)}update(e){(0,md.aexists)(this),e=(0,md.toBytes)(e),(0,md.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=(0,md.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,md.aexists)(this),(0,md.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,md.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let y=a;y<i;y++)r[y]=0;hme(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=(0,md.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,b=this.get();if(h>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)f.setUint32(4*y,b[y],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=f,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};Ca.HashMD=SH;Ca.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Ca.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Ca.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Ca.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var Lme=V(fr=>{"use strict";m();g();Object.defineProperty(fr,"__esModule",{value:!0});fr.toBig=fr.shrSL=fr.shrSH=fr.rotrSL=fr.rotrSH=fr.rotrBL=fr.rotrBH=fr.rotr32L=fr.rotr32H=fr.rotlSL=fr.rotlSH=fr.rotlBL=fr.rotlBH=fr.add5L=fr.add5H=fr.add4L=fr.add4H=fr.add3L=fr.add3H=void 0;fr.add=Ome;fr.fromBig=AH;fr.split=mme;var jI=BigInt(2**32-1),EH=BigInt(32);function AH(t,e=!1){return e?{h:Number(t&jI),l:Number(t>>EH&jI)}:{h:Number(t>>EH&jI)|0,l:Number(t&jI)|0}}o(AH,"fromBig");function mme(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:f}=AH(t[s],e);[n[s],i[s]]=[a,f]}return[n,i]}o(mme,"split");var gme=o((t,e)=>BigInt(t>>>0)<<EH|BigInt(e>>>0),"toBig");fr.toBig=gme;var yme=o((t,e,r)=>t>>>r,"shrSH");fr.shrSH=yme;var bme=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");fr.shrSL=bme;var xme=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");fr.rotrSH=xme;var vme=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");fr.rotrSL=vme;var _me=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");fr.rotrBH=_me;var wme=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");fr.rotrBL=wme;var Sme=o((t,e)=>e,"rotr32H");fr.rotr32H=Sme;var Eme=o((t,e)=>t,"rotr32L");fr.rotr32L=Eme;var Ame=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");fr.rotlSH=Ame;var Ime=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");fr.rotlSL=Ime;var Tme=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");fr.rotlBH=Tme;var Rme=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");fr.rotlBL=Rme;function Ome(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(Ome,"add");var Nme=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");fr.add3L=Nme;var Mme=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");fr.add3H=Mme;var Cme=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");fr.add4L=Cme;var kme=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");fr.add4H=kme;var Bme=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");fr.add5L=Bme;var Pme=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");fr.add5H=Pme;var lYe={fromBig:AH,split:mme,toBig:gme,shrSH:yme,shrSL:bme,rotrSH:xme,rotrSL:vme,rotrBH:_me,rotrBL:wme,rotr32H:Sme,rotr32L:Eme,rotlSH:Ame,rotlSL:Ime,rotlBH:Tme,rotlBL:Rme,add:Ome,add3L:Nme,add3H:Mme,add4L:Cme,add4H:kme,add5H:Pme,add5L:Bme};fr.default=lYe});var Ume=V($n=>{"use strict";m();g();Object.defineProperty($n,"__esModule",{value:!0});$n.sha512_224=$n.sha512_256=$n.sha384=$n.sha512=$n.sha224=$n.sha256=$n.SHA512_256=$n.SHA512_224=$n.SHA384=$n.SHA512=$n.SHA224=$n.SHA256=void 0;var jt=pme(),Rr=Lme(),lo=wH(),dYe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hp=new Uint32Array(64),oS=class extends jt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=jt.SHA256_IV[0]|0,this.B=jt.SHA256_IV[1]|0,this.C=jt.SHA256_IV[2]|0,this.D=jt.SHA256_IV[3]|0,this.E=jt.SHA256_IV[4]|0,this.F=jt.SHA256_IV[5]|0,this.G=jt.SHA256_IV[6]|0,this.H=jt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let y=0;y<16;y++,r+=4)Hp[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let E=Hp[y-15],I=Hp[y-2],O=(0,lo.rotr)(E,7)^(0,lo.rotr)(E,18)^E>>>3,N=(0,lo.rotr)(I,17)^(0,lo.rotr)(I,19)^I>>>10;Hp[y]=N+Hp[y-7]+O+Hp[y-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:b}=this;for(let y=0;y<64;y++){let E=(0,lo.rotr)(f,6)^(0,lo.rotr)(f,11)^(0,lo.rotr)(f,25),I=b+E+(0,jt.Chi)(f,l,h)+dYe[y]+Hp[y]|0,N=((0,lo.rotr)(n,2)^(0,lo.rotr)(n,13)^(0,lo.rotr)(n,22))+(0,jt.Maj)(n,i,s)|0;b=h,h=l,l=f,f=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,b=b+this.H|0,this.set(n,i,s,a,f,l,h,b)}roundClean(){(0,lo.clean)(Hp)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,lo.clean)(this.buffer)}};$n.SHA256=oS;var KI=class extends oS{static{o(this,"SHA224")}constructor(){super(28),this.A=jt.SHA224_IV[0]|0,this.B=jt.SHA224_IV[1]|0,this.C=jt.SHA224_IV[2]|0,this.D=jt.SHA224_IV[3]|0,this.E=jt.SHA224_IV[4]|0,this.F=jt.SHA224_IV[5]|0,this.G=jt.SHA224_IV[6]|0,this.H=jt.SHA224_IV[7]|0}};$n.SHA224=KI;var Dme=Rr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),hYe=Dme[0],pYe=Dme[1],Fp=new Uint32Array(80),qp=new Uint32Array(80),y1=class extends jt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=jt.SHA512_IV[0]|0,this.Al=jt.SHA512_IV[1]|0,this.Bh=jt.SHA512_IV[2]|0,this.Bl=jt.SHA512_IV[3]|0,this.Ch=jt.SHA512_IV[4]|0,this.Cl=jt.SHA512_IV[5]|0,this.Dh=jt.SHA512_IV[6]|0,this.Dl=jt.SHA512_IV[7]|0,this.Eh=jt.SHA512_IV[8]|0,this.El=jt.SHA512_IV[9]|0,this.Fh=jt.SHA512_IV[10]|0,this.Fl=jt.SHA512_IV[11]|0,this.Gh=jt.SHA512_IV[12]|0,this.Gl=jt.SHA512_IV[13]|0,this.Hh=jt.SHA512_IV[14]|0,this.Hl=jt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:b,Fh:y,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k]}set(e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=b|0,this.Fh=y|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)Fp[M]=e.getUint32(r),qp[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=Fp[M-15]|0,q=qp[M-15]|0,j=Rr.rotrSH(U,q,1)^Rr.rotrSH(U,q,8)^Rr.shrSH(U,q,7),re=Rr.rotrSL(U,q,1)^Rr.rotrSL(U,q,8)^Rr.shrSL(U,q,7),Y=Fp[M-2]|0,X=qp[M-2]|0,S=Rr.rotrSH(Y,X,19)^Rr.rotrBH(Y,X,61)^Rr.shrSH(Y,X,6),c=Rr.rotrSL(Y,X,19)^Rr.rotrBL(Y,X,61)^Rr.shrSL(Y,X,6),d=Rr.add4L(re,c,qp[M-7],qp[M-16]),p=Rr.add4H(d,j,S,Fp[M-7],Fp[M-16]);Fp[M]=p|0,qp[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:b,Eh:y,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let U=Rr.rotrSH(y,E,14)^Rr.rotrSH(y,E,18)^Rr.rotrBH(y,E,41),q=Rr.rotrSL(y,E,14)^Rr.rotrSL(y,E,18)^Rr.rotrBL(y,E,41),j=y&I^~y&N,re=E&O^~E&k,Y=Rr.add5L(L,q,re,pYe[M],qp[M]),X=Rr.add5H(Y,C,U,j,hYe[M],Fp[M]),S=Y|0,c=Rr.rotrSH(n,i,28)^Rr.rotrBH(n,i,34)^Rr.rotrBH(n,i,39),d=Rr.rotrSL(n,i,28)^Rr.rotrBL(n,i,34)^Rr.rotrBL(n,i,39),p=n&s^n&f^s&f,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=y|0,O=E|0,{h:y,l:E}=Rr.add(h|0,b|0,X|0,S|0),h=f|0,b=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let v=Rr.add3L(S,d,x);n=Rr.add3H(v,X,c,p),i=v|0}({h:n,l:i}=Rr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Rr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=Rr.add(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:b}=Rr.add(this.Dh|0,this.Dl|0,h|0,b|0),{h:y,l:E}=Rr.add(this.Eh|0,this.El|0,y|0,E|0),{h:I,l:O}=Rr.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=Rr.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=Rr.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,f,l,h,b,y,E,I,O,N,k,C,L)}roundClean(){(0,lo.clean)(Fp,qp)}destroy(){(0,lo.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};$n.SHA512=y1;var zI=class extends y1{static{o(this,"SHA384")}constructor(){super(48),this.Ah=jt.SHA384_IV[0]|0,this.Al=jt.SHA384_IV[1]|0,this.Bh=jt.SHA384_IV[2]|0,this.Bl=jt.SHA384_IV[3]|0,this.Ch=jt.SHA384_IV[4]|0,this.Cl=jt.SHA384_IV[5]|0,this.Dh=jt.SHA384_IV[6]|0,this.Dl=jt.SHA384_IV[7]|0,this.Eh=jt.SHA384_IV[8]|0,this.El=jt.SHA384_IV[9]|0,this.Fh=jt.SHA384_IV[10]|0,this.Fl=jt.SHA384_IV[11]|0,this.Gh=jt.SHA384_IV[12]|0,this.Gl=jt.SHA384_IV[13]|0,this.Hh=jt.SHA384_IV[14]|0,this.Hl=jt.SHA384_IV[15]|0}};$n.SHA384=zI;var ia=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),oa=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),GI=class extends y1{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=ia[0]|0,this.Al=ia[1]|0,this.Bh=ia[2]|0,this.Bl=ia[3]|0,this.Ch=ia[4]|0,this.Cl=ia[5]|0,this.Dh=ia[6]|0,this.Dl=ia[7]|0,this.Eh=ia[8]|0,this.El=ia[9]|0,this.Fh=ia[10]|0,this.Fl=ia[11]|0,this.Gh=ia[12]|0,this.Gl=ia[13]|0,this.Hh=ia[14]|0,this.Hl=ia[15]|0}};$n.SHA512_224=GI;var $I=class extends y1{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=oa[0]|0,this.Al=oa[1]|0,this.Bh=oa[2]|0,this.Bl=oa[3]|0,this.Ch=oa[4]|0,this.Cl=oa[5]|0,this.Dh=oa[6]|0,this.Dl=oa[7]|0,this.Eh=oa[8]|0,this.El=oa[9]|0,this.Fh=oa[10]|0,this.Fl=oa[11]|0,this.Gh=oa[12]|0,this.Gl=oa[13]|0,this.Hh=oa[14]|0,this.Hl=oa[15]|0}};$n.SHA512_256=$I;$n.sha256=(0,lo.createHasher)(()=>new oS);$n.sha224=(0,lo.createHasher)(()=>new KI);$n.sha512=(0,lo.createHasher)(()=>new y1);$n.sha384=(0,lo.createHasher)(()=>new zI);$n.sha512_256=(0,lo.createHasher)(()=>new $I);$n.sha512_224=(0,lo.createHasher)(()=>new GI)});var Hme=V(gd=>{"use strict";m();g();Object.defineProperty(gd,"__esModule",{value:!0});gd.sha224=gd.SHA224=gd.sha256=gd.SHA256=void 0;var WI=Ume();gd.SHA256=WI.SHA256;gd.sha256=WI.sha256;gd.SHA224=WI.SHA224;gd.sha224=WI.sha224});var qme=V((XWt,Fme)=>{"use strict";m();g();function mYe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var a=t.length,f=t.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function b(I){if(I instanceof Uint8Array||(ArrayBuffer.isView(I)?I=new Uint8Array(I.buffer,I.byteOffset,I.byteLength):Array.isArray(I)&&(I=Uint8Array.from(I))),!(I instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(I.length===0)return"";for(var O=0,N=0,k=0,C=I.length;k!==C&&I[k]===0;)k++,O++;for(var L=(C-k)*h+1>>>0,M=new Uint8Array(L);k!==C;){for(var U=I[k],q=0,j=L-1;(U!==0||q<N)&&j!==-1;j--,q++)U+=256*M[j]>>>0,M[j]=U%a>>>0,U=U/a>>>0;if(U!==0)throw new Error("Non-zero carry");N=q,k++}for(var re=L-N;re!==L&&M[re]===0;)re++;for(var Y=f.repeat(O);re<L;++re)Y+=t.charAt(M[re]);return Y}o(b,"encode");function y(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return new Uint8Array;for(var O=0,N=0,k=0;I[O]===f;)N++,O++;for(var C=(I.length-O)*l+1>>>0,L=new Uint8Array(C);I[O];){var M=e[I.charCodeAt(O)];if(M===255)return;for(var U=0,q=C-1;(M!==0||U<k)&&q!==-1;q--,U++)M+=a*L[q]>>>0,L[q]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");k=U,O++}for(var j=C-k;j!==C&&L[j]===0;)j++;for(var re=new Uint8Array(N+(C-j)),Y=N;j!==C;)re[Y++]=L[j++];return re}o(y,"decodeUnsafe");function E(I){var O=y(I);if(O)return O;throw new Error("Non-base"+a+" character")}return o(E,"decode"),{encode:b,decodeUnsafe:y,decode:E}}o(mYe,"base");Fme.exports=mYe});var jme=V((eYt,Vme)=>{m();g();var gYe=qme(),yYe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Vme.exports=gYe(yYe)});var zme=V((nYt,Kme)=>{"use strict";m();g();var IH=jme();Kme.exports=function(t){function e(s){var a=Uint8Array.from(s),f=t(a),l=a.length+4,h=new Uint8Array(l);return h.set(a,0),h.set(f.subarray(0,4),a.length),IH.encode(h,l)}o(e,"encode");function r(s){var a=s.slice(0,-4),f=s.slice(-4),l=t(a);if(!(f[0]^l[0]|f[1]^l[1]|f[2]^l[2]|f[3]^l[3]))return a}o(r,"decodeRaw");function n(s){var a=IH.decodeUnsafe(s);if(a)return r(a)}o(n,"decodeUnsafe");function i(s){var a=IH.decode(s),f=r(a,t);if(!f)throw new Error("Invalid checksum");return f}return o(i,"decode"),{encode:e,decode:i,decodeUnsafe:n}}});var Fx=V((aYt,$me)=>{"use strict";m();g();var{sha256:Gme}=Hme(),bYe=zme();function xYe(t){return Gme(Gme(t))}o(xYe,"sha256x2");$me.exports=bYe(xYe)});var Yme=V((lYt,Wme)=>{"use strict";m();g();var TH=bu(),vYe=yr().Buffer;Wme.exports=function(t){function e(s){var a=t(s);return TH.encode(vYe.concat([s,a],s.length+4))}o(e,"encode");function r(s){var a=s.slice(0,-4),f=s.slice(-4),l=t(a);if(!(f[0]^l[0]|f[1]^l[1]|f[2]^l[2]|f[3]^l[3]))return a}o(r,"decodeRaw");function n(s){var a=TH.decodeUnsafe(s);if(a)return r(a)}o(n,"decodeUnsafe");function i(s){var a=TH.decode(s),f=r(a,t);if(!f)throw new Error("Invalid checksum");return f}return o(i,"decode"),{encode:e,decode:i,decodeUnsafe:n}}});var Jme=V((mYt,Zme)=>{"use strict";m();g();var Xme=Cg(),_Ye=Yme();function wYe(t){var e=Xme("sha256").update(t).digest();return Xme("sha256").update(e).digest()}o(wYe,"sha256x2");Zme.exports=_Ye(wYe)});var NH=V((xYt,ege)=>{m();g();var RH=Jme();function Qme(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}o(Qme,"decodeRaw");function OH(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}o(OH,"encodeRaw");function SYe(t,e){return Qme(RH.decode(t),e)}o(SYe,"decode");function EYe(t,e,r){return typeof t=="number"?RH.encode(OH(t,e,r)):RH.encode(OH(t.version,t.privateKey,t.compressed))}o(EYe,"encode");ege.exports={decode:SYe,decodeRaw:Qme,encode:EYe,encodeRaw:OH}});var Tge=V(qr=>{"use strict";m();g();Object.defineProperty(qr,"__esModule",{value:!0});qr.utils=qr.schnorr=qr.verify=qr.signSync=qr.sign=qr.getSharedSecret=qr.recoverPublicKey=qr.getPublicKey=qr.Signature=qr.Point=qr.CURVE=void 0;var MYe=Bb(),Vr=BigInt(0),ui=BigInt(1),Kp=BigInt(2),aS=BigInt(3),cge=BigInt(8),Bn=Object.freeze({a:Vr,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:ui,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});qr.CURVE=Bn;var fge=o((t,e)=>(t+e/Kp)/e,"divNearest"),ZI={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Bn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ui*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),f=fge(s*t,e),l=fge(-n*t,e),h=yt(t-f*r-l*i,e),b=yt(-f*n-l*s,e),y=h>a,E=b>a;if(y&&(h=e-h),E&&(b=e-b),h>a||b>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:y,k1:h,k2neg:E,k2:b}}},Xu=32,x1=32,gge=32,rT=Xu+1,nT=2*Xu+1;function uge(t){let{a:e,b:r}=Bn,n=yt(t*t),i=yt(n*t);return yt(i+e*t+r)}o(uge,"weierstrass");var JI=Bn.a===Vr,fS=class extends Error{static{o(this,"ShaError")}constructor(e){super(e)}};function lge(t){if(!(t instanceof ka))throw new TypeError("JacobianPoint expected")}o(lge,"assertJacPoint");var ka=class t{static{o(this,"JacobianPoint")}constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof Wn))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Wn.ZERO)?t.ZERO:new t(e.x,e.y,ui)}static toAffineBatch(e){let r=LYe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){lge(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:f}=e,l=yt(i*i),h=yt(f*f),b=yt(r*h),y=yt(s*l),E=yt(yt(n*f)*h),I=yt(yt(a*i)*l);return b===y&&E===I}negate(){return new t(this.x,yt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=yt(e*e),s=yt(r*r),a=yt(s*s),f=e+s,l=yt(Kp*(yt(f*f)-i-a)),h=yt(aS*i),b=yt(h*h),y=yt(b-Kp*l),E=yt(h*(l-y)-cge*a),I=yt(Kp*r*n);return new t(y,E,I)}add(e){lge(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:f}=e;if(s===Vr||a===Vr)return this;if(r===Vr||n===Vr)return e;let l=yt(i*i),h=yt(f*f),b=yt(r*h),y=yt(s*l),E=yt(yt(n*f)*h),I=yt(yt(a*i)*l),O=yt(y-b),N=yt(I-E);if(O===Vr)return N===Vr?this.double():t.ZERO;let k=yt(O*O),C=yt(O*k),L=yt(b*k),M=yt(N*N-C-Kp*L),U=yt(N*(L-M)-E*C),q=yt(i*f*O);return new t(M,U,q)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===Vr)return r;let n=pge(e);if(n===ui)return this;if(!JI){let y=r,E=this;for(;n>Vr;)n&ui&&(y=y.add(E)),E=E.double(),n>>=ui;return y}let{k1neg:i,k1:s,k2neg:a,k2:f}=ZI.splitScalar(n),l=r,h=r,b=this;for(;s>Vr||f>Vr;)s&ui&&(l=l.add(b)),f&ui&&(h=h.add(b)),b=b.double(),s>>=ui,f>>=ui;return i&&(l=l.negate()),a&&(h=h.negate()),h=new t(yt(h.x*ZI.beta),h.y,h.z),l.add(h)}precomputeWindow(e){let r=JI?128/e+1:256/e+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let f=1;f<2**(e-1);f++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=Wn.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&MH.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),MH.set(r,i)));let s=t.ZERO,a=t.BASE,f=1+(JI?128/n:256/n),l=2**(n-1),h=BigInt(2**n-1),b=2**n,y=BigInt(n);for(let E=0;E<f;E++){let I=E*l,O=Number(e&h);e>>=y,O>l&&(O-=b,e+=ui);let N=I,k=I+Math.abs(O)-1,C=E%2!==0,L=O<0;O===0?a=a.add(QI(C,i[N])):s=s.add(QI(L,i[k]))}return{p:s,f:a}}multiply(e,r){let n=pge(e),i,s;if(JI){let{k1neg:a,k1:f,k2neg:l,k2:h}=ZI.splitScalar(n),{p:b,f:y}=this.wNAF(f,r),{p:E,f:I}=this.wNAF(h,r);b=QI(a,b),E=QI(l,E),E=new t(yt(E.x*ZI.beta),E.y,E.z),i=b.add(E),s=y.add(I)}else{let{p:a,f}=this.wNAF(n,r);i=a,s=f}return t.normalizeZ([i,s])[0]}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?cge:Gx(i));let a=e,f=yt(a*a),l=yt(f*a),h=yt(r*f),b=yt(n*l),y=yt(i*a);if(s)return Wn.ZERO;if(y!==ui)throw new Error("invZ was invalid");return new Wn(h,b)}};ka.BASE=new ka(Bn.Gx,Bn.Gy,ui);ka.ZERO=new ka(Vr,ui,Vr);function QI(t,e){let r=e.negate();return t?r:e}o(QI,"constTimeNegate");var MH=new WeakMap,Wn=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,MH.delete(this)}hasEvenY(){return this.y%Kp===Vr}static fromCompressedHex(e){let r=e.length===32,n=ef(r?e:e.subarray(1));if(!tT(n))throw new Error("Point is not on curve");let i=uge(n),s=PYe(i),a=(s&ui)===ui;r?a&&(s=yt(-s)):(e[0]&1)===1!==a&&(s=yt(-s));let f=new t(n,s);return f.assertValidity(),f}static fromUncompressedHex(e){let r=ef(e.subarray(1,Xu+1)),n=ef(e.subarray(Xu+1,Xu*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=yd(e),n=r.length,i=r[0];if(n===Xu)return this.fromCompressedHex(r);if(n===rT&&(i===2||i===3))return this.fromCompressedHex(r);if(n===nT&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${rT} compressed bytes or ${nT} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(v1(e))}static fromSignature(e,r,n){let{r:i,s}=bge(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=CH(yd(e)),{n:f}=Bn,l=n===2||n===3?i+f:i,h=Gx(l,f),b=yt(-a*h,f),y=yt(s*h,f),E=n&1?"03":"02",I=t.fromHex(E+zp(l)),O=t.BASE.multiplyAndAddUnsafe(I,b,y);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(e=!1){return Gp(this.toHex(e))}toHex(e=!1){let r=zp(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${zp(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!tT(r)||!tT(n))throw new Error(e);let i=yt(n*n),s=uge(r);if(yt(i-s)!==Vr)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,yt(-this.y))}double(){return ka.fromAffine(this).double().toAffine()}add(e){return ka.fromAffine(this).add(ka.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ka.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=ka.fromAffine(this),s=r===Vr||r===ui||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),a=ka.fromAffine(e).multiplyUnsafe(n),f=s.add(a);return f.equals(ka.ZERO)?void 0:f.toAffine()}};qr.Point=Wn;Wn.BASE=new Wn(Bn.Gx,Bn.Gy);Wn.ZERO=new Wn(Vr,Vr);function dge(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}o(dge,"sliceDER");function hge(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Vx(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ef(r),left:t.subarray(e+2)}}o(hge,"parseDERInt");function CYe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Vx(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=hge(t.subarray(2)),{data:n,left:i}=hge(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Vx(i)}`);return{r:e,s:n}}o(CYe,"parseDERSignature");var b1=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Vx(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(iT(i.slice(0,64)),iT(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=CYe(r?e:Gp(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Kx(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Kx(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Bn.n>>ui;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,yt(-this.s,Bn.n)):this}toDERRawBytes(){return Gp(this.toDERHex())}toDERHex(){let e=dge(sS(this.s)),r=dge(sS(this.r)),n=e.length/2,i=r.length/2,s=sS(n),a=sS(i);return`30${sS(i+n+4)}02${a}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Gp(this.toCompactHex())}toCompactHex(){return zp(this.r)+zp(this.s)}};qr.Signature=b1;function jp(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(jp,"concatBytes");var kYe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Vx(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=kYe[t[r]];return e}o(Vx,"bytesToHex");var BYe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function zp(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Vr<=t&&t<BYe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}o(zp,"numTo32bStr");function jx(t){let e=Gp(zp(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}o(jx,"numTo32b");function sS(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(sS,"numberToHexUnpadded");function iT(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(iT,"hexToNumber");function Gp(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(Gp,"hexToBytes");function ef(t){return iT(Vx(t))}o(ef,"bytesToNumber");function yd(t){return t instanceof Uint8Array?Uint8Array.from(t):Gp(t)}o(yd,"ensureBytes");function pge(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Kx(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}o(pge,"normalizeScalar");function yt(t,e=Bn.P){let r=t%e;return r>=Vr?r:e+r}o(yt,"mod");function Kf(t,e){let{P:r}=Bn,n=t;for(;e-- >Vr;)n*=n,n%=r;return n}o(Kf,"pow2");function PYe(t){let{P:e}=Bn,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),f=BigInt(88),l=t*t*t%e,h=l*l*t%e,b=Kf(h,aS)*h%e,y=Kf(b,aS)*h%e,E=Kf(y,Kp)*l%e,I=Kf(E,n)*E%e,O=Kf(I,i)*I%e,N=Kf(O,a)*O%e,k=Kf(N,f)*N%e,C=Kf(k,a)*O%e,L=Kf(C,aS)*h%e,M=Kf(L,s)*I%e,U=Kf(M,r)*l%e,q=Kf(U,Kp);if(q*q%e!==t)throw new Error("Cannot find square root");return q}o(PYe,"sqrtMod");function Gx(t,e=Bn.P){if(t===Vr||e<=Vr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=yt(t,e),n=e,i=Vr,s=ui,a=ui,f=Vr;for(;r!==Vr;){let h=n/r,b=n%r,y=i-a*h,E=s-f*h;n=r,r=b,i=a,s=f,a=y,f=E}if(n!==ui)throw new Error("invert: does not exist");return yt(i,e)}o(Gx,"invert");function LYe(t,e=Bn.P){let r=new Array(t.length),n=t.reduce((s,a,f)=>a===Vr?s:(r[f]=s,yt(s*a,e)),ui),i=Gx(n,e);return t.reduceRight((s,a,f)=>a===Vr?s:(r[f]=yt(s*r[f],e),yt(s*a,e)),i),r}o(LYe,"invertBatch");function DYe(t){let e=t.length*8-x1*8,r=ef(t);return e>0?r>>BigInt(e):r}o(DYe,"bits2int_2");function CH(t,e=!1){let r=DYe(t);if(e)return r;let{n}=Bn;return r>=n?r-n:r}o(CH,"truncateHash");var qx,cS,oT=class{static{o(this,"HmacDrbg")}constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return qr.utils.hmacSha256(this.k,...e)}hmacSync(...e){return cS(this.k,...e)}checkSync(){if(typeof cS!="function")throw new fS("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return jp(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return jp(...r)}};function Kx(t){return Vr<t&&t<Bn.n}o(Kx,"isWithinCurveOrder");function tT(t){return Vr<t&&t<Bn.P}o(tT,"isValidFieldElement");function yge(t,e,r,n=!0){let{n:i}=Bn,s=CH(t,!0);if(!Kx(s))return;let a=Gx(s,i),f=Wn.BASE.multiply(s),l=yt(f.x,i);if(l===Vr)return;let h=yt(a*yt(e+r*l,i),i);if(h===Vr)return;let b=new b1(l,h),y=(f.x===b.r?0:2)|Number(f.y&ui);return n&&b.hasHighS()&&(b=b.normalizeS(),y^=1),{sig:b,recovery:y}}o(yge,"kmdToSig");function v1(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*x1)throw new Error("Expected 32 bytes of private key");e=iT(t)}else if(t instanceof Uint8Array){if(t.length!==x1)throw new Error("Expected 32 bytes of private key");e=ef(t)}else throw new TypeError("Expected valid private key");if(!Kx(e))throw new Error("Expected private key: 0 < key < n");return e}o(v1,"normalizePrivateKey");function kH(t){return t instanceof Wn?(t.assertValidity(),t):Wn.fromHex(t)}o(kH,"normalizePublicKey");function bge(t){if(t instanceof b1)return t.assertValidity(),t;try{return b1.fromDER(t)}catch{return b1.fromCompact(t)}}o(bge,"normalizeSignature");function UYe(t,e=!1){return Wn.fromPrivateKey(t).toRawBytes(e)}o(UYe,"getPublicKey");qr.getPublicKey=UYe;function HYe(t,e,r,n=!1){return Wn.fromSignature(t,e,r).toRawBytes(n)}o(HYe,"recoverPublicKey");qr.recoverPublicKey=HYe;function mge(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===rT||n===nT:r?n===rT*2||n===nT*2:t instanceof Wn}o(mge,"isProbPub");function FYe(t,e,r=!1){if(mge(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!mge(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=kH(e);return n.assertValidity(),n.multiply(v1(t)).toRawBytes(r)}o(FYe,"getSharedSecret");qr.getSharedSecret=FYe;function xge(t){let e=t.length>Xu?t.slice(0,Xu):t;return ef(e)}o(xge,"bits2int");function qYe(t){let e=xge(t),r=yt(e,Bn.n);return vge(r<Vr?e:r)}o(qYe,"bits2octets");function vge(t){return jx(t)}o(vge,"int2octets");function _ge(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=yd(t),i=v1(e),s=[vge(i),qYe(n)];if(r!=null){r===!0&&(r=qr.utils.randomBytes(Xu));let l=yd(r);if(l.length!==Xu)throw new Error(`sign: Expected ${Xu} bytes of extra data`);s.push(l)}let a=jp(...s),f=xge(n);return{seed:a,m:f,d:i}}o(_ge,"initSigArgs");function wge(t,e){let{sig:r,recovery:n}=t,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e),a=i?r.toDERRawBytes():r.toCompactRawBytes();return s?[a,n]:a}o(wge,"finalizeSig");async function VYe(t,e,r={}){let{seed:n,m:i,d:s}=_ge(t,e,r.extraEntropy),a=new oT(gge,x1);await a.reseed(n);let f;for(;!(f=yge(await a.generate(),i,s,r.canonical));)await a.reseed();return wge(f,r)}o(VYe,"sign");qr.sign=VYe;function jYe(t,e,r={}){let{seed:n,m:i,d:s}=_ge(t,e,r.extraEntropy),a=new oT(gge,x1);a.reseedSync(n);let f;for(;!(f=yge(a.generateSync(),i,s,r.canonical));)a.reseedSync();return wge(f,r)}o(jYe,"signSync");qr.signSync=jYe;var KYe={strict:!0};function zYe(t,e,r,n=KYe){let i;try{i=bge(t),e=yd(e)}catch{return!1}let{r:s,s:a}=i;if(n.strict&&i.hasHighS())return!1;let f=CH(e),l;try{l=kH(r)}catch{return!1}let{n:h}=Bn,b=Gx(a,h),y=yt(f*b,h),E=yt(s*b,h),I=Wn.BASE.multiplyAndAddUnsafe(l,y,E);return I?yt(I.x,h)===s:!1}o(zYe,"verify");qr.verify=zYe;function sT(t){return yt(ef(t),Bn.n)}o(sT,"schnorrChallengeFinalize");var zx=class t{static{o(this,"SchnorrSignature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=yd(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=ef(r.subarray(0,32)),i=ef(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!tT(e)||!Kx(r))throw new Error("Invalid signature")}toHex(){return zp(this.r)+zp(this.s)}toRawBytes(){return Gp(this.toHex())}};function GYe(t){return Wn.fromPrivateKey(t).toRawX()}o(GYe,"schnorrGetPublicKey");var aT=class{static{o(this,"InternalSchnorrSignature")}constructor(e,r,n=qr.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=yd(e);let{x:i,scalar:s}=this.getScalar(v1(r));if(this.px=i,this.d=s,this.rand=yd(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=Wn.fromPrivateKey(e),n=r.hasEvenY()?e:Bn.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return jx(e^ef(r))}finalizeNonce(e){let r=yt(ef(e),Bn.n);if(r===Vr)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:s}=this.getScalar(r);return{R:n,rx:i,k:s}}finalizeSig(e,r,n,i){return new zx(e.x,yt(r+n*i,Bn.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,s=qr.utils.taggedHash,a=this.initNonce(r,await s(Vp.aux,i)),{R:f,rx:l,k:h}=this.finalizeNonce(await s(Vp.nonce,a,n,e)),b=sT(await s(Vp.challenge,l,n,e)),y=this.finalizeSig(f,h,b,r);return await Age(y,e,n)||this.error(),y}calcSync(){let{m:e,d:r,px:n,rand:i}=this,s=qr.utils.taggedHashSync,a=this.initNonce(r,s(Vp.aux,i)),{R:f,rx:l,k:h}=this.finalizeNonce(s(Vp.nonce,a,n,e)),b=sT(s(Vp.challenge,l,n,e)),y=this.finalizeSig(f,h,b,r);return Ige(y,e,n)||this.error(),y}};async function $Ye(t,e,r){return new aT(t,e,r).calc()}o($Ye,"schnorrSign");function WYe(t,e,r){return new aT(t,e,r).calcSync()}o(WYe,"schnorrSignSync");function Sge(t,e,r){let n=t instanceof zx,i=n?t:zx.fromHex(t);return n&&i.assertValidity(),{...i,m:yd(e),P:kH(r)}}o(Sge,"initSchnorrVerify");function Ege(t,e,r,n){let i=Wn.BASE.multiplyAndAddUnsafe(e,v1(r),yt(-n,Bn.n));return!(!i||!i.hasEvenY()||i.x!==t)}o(Ege,"finalizeSchnorrVerify");async function Age(t,e,r){try{let{r:n,s:i,m:s,P:a}=Sge(t,e,r),f=sT(await qr.utils.taggedHash(Vp.challenge,jx(n),a.toRawX(),s));return Ege(n,a,i,f)}catch{return!1}}o(Age,"schnorrVerify");function Ige(t,e,r){try{let{r:n,s:i,m:s,P:a}=Sge(t,e,r),f=sT(qr.utils.taggedHashSync(Vp.challenge,jx(n),a.toRawX(),s));return Ege(n,a,i,f)}catch(n){if(n instanceof fS)throw n;return!1}}o(Ige,"schnorrVerifySync");qr.schnorr={Signature:zx,getPublicKey:GYe,sign:$Ye,verify:Age,signSync:WYe,verifySync:Ige};Wn.BASE._setWindowSize(8);var Qc={node:MYe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Vp={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},eT={};qr.utils={bytesToHex:Vx,hexToBytes:Gp,concatBytes:jp,mod:yt,invert:Gx,isValidPrivateKey(t){try{return v1(t),!0}catch{return!1}},_bigintTo32Bytes:jx,_normalizePrivateKey:v1,hashToPrivateKey:o(t=>{t=yd(t);let e=x1+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=yt(ef(t),Bn.n-ui)+ui;return jx(r)},"hashToPrivateKey"),randomBytes:o((t=32)=>{if(Qc.web)return Qc.web.getRandomValues(new Uint8Array(t));if(Qc.node){let{randomBytes:e}=Qc.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>qr.utils.hashToPrivateKey(qr.utils.randomBytes(x1+8)),"randomPrivateKey"),precompute(t=8,e=Wn.BASE){let r=e===Wn.BASE?e:new Wn(e.x,e.y);return r._setWindowSize(t),r.multiply(aS),r},sha256:o(async(...t)=>{if(Qc.web){let e=await Qc.web.subtle.digest("SHA-256",jp(...t));return new Uint8Array(e)}else if(Qc.node){let{createHash:e}=Qc.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},"sha256"),hmacSha256:o(async(t,...e)=>{if(Qc.web){let r=await Qc.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=jp(...e),i=await Qc.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Qc.node){let{createHmac:r}=Qc.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},"hmacSha256"),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:o(async(t,...e)=>{let r=eT[t];if(r===void 0){let n=await qr.utils.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=jp(n,n),eT[t]=r}return qr.utils.sha256(r,...e)},"taggedHash"),taggedHashSync:o((t,...e)=>{if(typeof qx!="function")throw new fS("sha256Sync is undefined, you need to set it");let r=eT[t];if(r===void 0){let n=qx(Uint8Array.from(t,i=>i.charCodeAt(0)));r=jp(n,n),eT[t]=r}return qx(r,...e)},"taggedHashSync"),_JacobianPoint:ka};Object.defineProperties(qr.utils,{sha256Sync:{configurable:!1,get(){return qx},set(t){qx||(qx=t)}},hmacSha256Sync:{configurable:!1,get(){return cS},set(t){cS||(cS=t)}}})});var Rge=V(cT=>{"use strict";m();g();Object.defineProperty(cT,"__esModule",{value:!0});cT.crypto=void 0;cT.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var uT=V(Yt=>{"use strict";m();g();Object.defineProperty(Yt,"__esModule",{value:!0});Yt.wrapXOFConstructorWithOpts=Yt.wrapConstructorWithOpts=Yt.wrapConstructor=Yt.Hash=Yt.nextTick=Yt.swap32IfBE=Yt.byteSwapIfBE=Yt.swap8IfBE=Yt.isLE=void 0;Yt.isBytes=Nge;Yt.anumber=BH;Yt.abytes=Wx;Yt.ahash=YYe;Yt.aexists=XYe;Yt.aoutput=ZYe;Yt.u8=JYe;Yt.u32=QYe;Yt.clean=eXe;Yt.createView=tXe;Yt.rotr=rXe;Yt.rotl=nXe;Yt.byteSwap=LH;Yt.byteSwap32=Mge;Yt.bytesToHex=oXe;Yt.hexToBytes=sXe;Yt.asyncLoop=cXe;Yt.utf8ToBytes=DH;Yt.bytesToUtf8=fXe;Yt.toBytes=fT;Yt.kdfInputToBytes=uXe;Yt.concatBytes=lXe;Yt.checkOpts=dXe;Yt.createHasher=kge;Yt.createOptHasher=Bge;Yt.createXOFer=Pge;Yt.randomBytes=hXe;var $x=Rge();function Nge(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(Nge,"isBytes");function BH(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(BH,"anumber");function Wx(t,...e){if(!Nge(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(Wx,"abytes");function YYe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");BH(t.outputLen),BH(t.blockLen)}o(YYe,"ahash");function XYe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(XYe,"aexists");function ZYe(t,e){Wx(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(ZYe,"aoutput");function JYe(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(JYe,"u8");function QYe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(QYe,"u32");function eXe(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(eXe,"clean");function tXe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(tXe,"createView");function rXe(t,e){return t<<32-e|t>>>e}o(rXe,"rotr");function nXe(t,e){return t<<e|t>>>32-e>>>0}o(nXe,"rotl");Yt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function LH(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(LH,"byteSwap");Yt.swap8IfBE=Yt.isLE?t=>t:t=>LH(t);Yt.byteSwapIfBE=Yt.swap8IfBE;function Mge(t){for(let e=0;e<t.length;e++)t[e]=LH(t[e]);return t}o(Mge,"byteSwap32");Yt.swap32IfBE=Yt.isLE?t=>t:Mge;var Cge=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",iXe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function oXe(t){if(Wx(t),Cge)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=iXe[t[r]];return e}o(oXe,"bytesToHex");var j0={_0:48,_9:57,A:65,F:70,a:97,f:102};function Oge(t){if(t>=j0._0&&t<=j0._9)return t-j0._0;if(t>=j0.A&&t<=j0.F)return t-(j0.A-10);if(t>=j0.a&&t<=j0.f)return t-(j0.a-10)}o(Oge,"asciiToBase16");function sXe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Cge)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=Oge(t.charCodeAt(s)),f=Oge(t.charCodeAt(s+1));if(a===void 0||f===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+f}return n}o(sXe,"hexToBytes");var aXe=o(async()=>{},"nextTick");Yt.nextTick=aXe;async function cXe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Yt.nextTick)(),n+=s)}}o(cXe,"asyncLoop");function DH(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(DH,"utf8ToBytes");function fXe(t){return new TextDecoder().decode(t)}o(fXe,"bytesToUtf8");function fT(t){return typeof t=="string"&&(t=DH(t)),Wx(t),t}o(fT,"toBytes");function uXe(t){return typeof t=="string"&&(t=DH(t)),Wx(t),t}o(uXe,"kdfInputToBytes");function lXe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];Wx(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(lXe,"concatBytes");function dXe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(dXe,"checkOpts");var PH=class{static{o(this,"Hash")}};Yt.Hash=PH;function kge(t){let e=o(n=>t().update(fT(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(kge,"createHasher");function Bge(t){let e=o((n,i)=>t(i).update(fT(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Bge,"createOptHasher");function Pge(t){let e=o((n,i)=>t(i).update(fT(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Pge,"createXOFer");Yt.wrapConstructor=kge;Yt.wrapConstructorWithOpts=Bge;Yt.wrapXOFConstructorWithOpts=Pge;function hXe(t=32){if($x.crypto&&typeof $x.crypto.getRandomValues=="function")return $x.crypto.getRandomValues(new Uint8Array(t));if($x.crypto&&typeof $x.crypto.randomBytes=="function")return Uint8Array.from($x.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(hXe,"randomBytes")});var Lge=V(w1=>{"use strict";m();g();Object.defineProperty(w1,"__esModule",{value:!0});w1.hmac=w1.HMAC=void 0;var _1=uT(),uS=class extends _1.Hash{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,_1.ahash)(e);let n=(0,_1.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),(0,_1.clean)(s)}update(e){return(0,_1.aexists)(this),this.iHash.update(e),this}digestInto(e){(0,_1.aexists)(this),(0,_1.abytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};w1.HMAC=uS;var pXe=o((t,e,r)=>new uS(t,e).update(r).digest(),"hmac");w1.hmac=pXe;w1.hmac.create=(t,e)=>new uS(t,e)});var Uge=V(Ba=>{"use strict";m();g();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.SHA512_IV=Ba.SHA384_IV=Ba.SHA224_IV=Ba.SHA256_IV=Ba.HashMD=void 0;Ba.setBigUint64=Dge;Ba.Chi=mXe;Ba.Maj=gXe;var bd=uT();function Dge(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(Dge,"setBigUint64");function mXe(t,e,r){return t&e^~t&r}o(mXe,"Chi");function gXe(t,e,r){return t&e^t&r^e&r}o(gXe,"Maj");var UH=class extends bd.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,bd.createView)(this.buffer)}update(e){(0,bd.aexists)(this),e=(0,bd.toBytes)(e),(0,bd.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=(0,bd.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,bd.aexists)(this),(0,bd.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,bd.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let y=a;y<i;y++)r[y]=0;Dge(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=(0,bd.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,b=this.get();if(h>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)f.setUint32(4*y,b[y],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=f,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};Ba.HashMD=UH;Ba.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Ba.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Ba.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Ba.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var s1e=V(ur=>{"use strict";m();g();Object.defineProperty(ur,"__esModule",{value:!0});ur.toBig=ur.shrSL=ur.shrSH=ur.rotrSL=ur.rotrSH=ur.rotrBL=ur.rotrBH=ur.rotr32L=ur.rotr32H=ur.rotlSL=ur.rotlSH=ur.rotlBL=ur.rotlBH=ur.add5L=ur.add5H=ur.add4L=ur.add4H=ur.add3L=ur.add3H=void 0;ur.add=Qge;ur.fromBig=FH;ur.split=Hge;var lT=BigInt(2**32-1),HH=BigInt(32);function FH(t,e=!1){return e?{h:Number(t&lT),l:Number(t>>HH&lT)}:{h:Number(t>>HH&lT)|0,l:Number(t&lT)|0}}o(FH,"fromBig");function Hge(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:f}=FH(t[s],e);[n[s],i[s]]=[a,f]}return[n,i]}o(Hge,"split");var Fge=o((t,e)=>BigInt(t>>>0)<<HH|BigInt(e>>>0),"toBig");ur.toBig=Fge;var qge=o((t,e,r)=>t>>>r,"shrSH");ur.shrSH=qge;var Vge=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");ur.shrSL=Vge;var jge=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");ur.rotrSH=jge;var Kge=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");ur.rotrSL=Kge;var zge=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");ur.rotrBH=zge;var Gge=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");ur.rotrBL=Gge;var $ge=o((t,e)=>e,"rotr32H");ur.rotr32H=$ge;var Wge=o((t,e)=>t,"rotr32L");ur.rotr32L=Wge;var Yge=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");ur.rotlSH=Yge;var Xge=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");ur.rotlSL=Xge;var Zge=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");ur.rotlBH=Zge;var Jge=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");ur.rotlBL=Jge;function Qge(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(Qge,"add");var e1e=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");ur.add3L=e1e;var t1e=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");ur.add3H=t1e;var r1e=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");ur.add4L=r1e;var n1e=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");ur.add4H=n1e;var i1e=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");ur.add5L=i1e;var o1e=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");ur.add5H=o1e;var yXe={fromBig:FH,split:Hge,toBig:Fge,shrSH:qge,shrSL:Vge,rotrSH:jge,rotrSL:Kge,rotrBH:zge,rotrBL:Gge,rotr32H:$ge,rotr32L:Wge,rotlSH:Yge,rotlSL:Xge,rotlBH:Zge,rotlBL:Jge,add:Qge,add3L:e1e,add3H:t1e,add4L:r1e,add4H:n1e,add5H:o1e,add5L:i1e};ur.default=yXe});var c1e=V(Yn=>{"use strict";m();g();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.sha512_224=Yn.sha512_256=Yn.sha384=Yn.sha512=Yn.sha224=Yn.sha256=Yn.SHA512_256=Yn.SHA512_224=Yn.SHA384=Yn.SHA512=Yn.SHA224=Yn.SHA256=void 0;var Kt=Uge(),Or=s1e(),ho=uT(),bXe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$p=new Uint32Array(64),lS=class extends Kt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=Kt.SHA256_IV[0]|0,this.B=Kt.SHA256_IV[1]|0,this.C=Kt.SHA256_IV[2]|0,this.D=Kt.SHA256_IV[3]|0,this.E=Kt.SHA256_IV[4]|0,this.F=Kt.SHA256_IV[5]|0,this.G=Kt.SHA256_IV[6]|0,this.H=Kt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let y=0;y<16;y++,r+=4)$p[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let E=$p[y-15],I=$p[y-2],O=(0,ho.rotr)(E,7)^(0,ho.rotr)(E,18)^E>>>3,N=(0,ho.rotr)(I,17)^(0,ho.rotr)(I,19)^I>>>10;$p[y]=N+$p[y-7]+O+$p[y-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:b}=this;for(let y=0;y<64;y++){let E=(0,ho.rotr)(f,6)^(0,ho.rotr)(f,11)^(0,ho.rotr)(f,25),I=b+E+(0,Kt.Chi)(f,l,h)+bXe[y]+$p[y]|0,N=((0,ho.rotr)(n,2)^(0,ho.rotr)(n,13)^(0,ho.rotr)(n,22))+(0,Kt.Maj)(n,i,s)|0;b=h,h=l,l=f,f=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,b=b+this.H|0,this.set(n,i,s,a,f,l,h,b)}roundClean(){(0,ho.clean)($p)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,ho.clean)(this.buffer)}};Yn.SHA256=lS;var dT=class extends lS{static{o(this,"SHA224")}constructor(){super(28),this.A=Kt.SHA224_IV[0]|0,this.B=Kt.SHA224_IV[1]|0,this.C=Kt.SHA224_IV[2]|0,this.D=Kt.SHA224_IV[3]|0,this.E=Kt.SHA224_IV[4]|0,this.F=Kt.SHA224_IV[5]|0,this.G=Kt.SHA224_IV[6]|0,this.H=Kt.SHA224_IV[7]|0}};Yn.SHA224=dT;var a1e=Or.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),xXe=a1e[0],vXe=a1e[1],Wp=new Uint32Array(80),Yp=new Uint32Array(80),S1=class extends Kt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=Kt.SHA512_IV[0]|0,this.Al=Kt.SHA512_IV[1]|0,this.Bh=Kt.SHA512_IV[2]|0,this.Bl=Kt.SHA512_IV[3]|0,this.Ch=Kt.SHA512_IV[4]|0,this.Cl=Kt.SHA512_IV[5]|0,this.Dh=Kt.SHA512_IV[6]|0,this.Dl=Kt.SHA512_IV[7]|0,this.Eh=Kt.SHA512_IV[8]|0,this.El=Kt.SHA512_IV[9]|0,this.Fh=Kt.SHA512_IV[10]|0,this.Fl=Kt.SHA512_IV[11]|0,this.Gh=Kt.SHA512_IV[12]|0,this.Gl=Kt.SHA512_IV[13]|0,this.Hh=Kt.SHA512_IV[14]|0,this.Hl=Kt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:b,Fh:y,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k]}set(e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=b|0,this.Fh=y|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)Wp[M]=e.getUint32(r),Yp[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=Wp[M-15]|0,q=Yp[M-15]|0,j=Or.rotrSH(U,q,1)^Or.rotrSH(U,q,8)^Or.shrSH(U,q,7),re=Or.rotrSL(U,q,1)^Or.rotrSL(U,q,8)^Or.shrSL(U,q,7),Y=Wp[M-2]|0,X=Yp[M-2]|0,S=Or.rotrSH(Y,X,19)^Or.rotrBH(Y,X,61)^Or.shrSH(Y,X,6),c=Or.rotrSL(Y,X,19)^Or.rotrBL(Y,X,61)^Or.shrSL(Y,X,6),d=Or.add4L(re,c,Yp[M-7],Yp[M-16]),p=Or.add4H(d,j,S,Wp[M-7],Wp[M-16]);Wp[M]=p|0,Yp[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:b,Eh:y,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let U=Or.rotrSH(y,E,14)^Or.rotrSH(y,E,18)^Or.rotrBH(y,E,41),q=Or.rotrSL(y,E,14)^Or.rotrSL(y,E,18)^Or.rotrBL(y,E,41),j=y&I^~y&N,re=E&O^~E&k,Y=Or.add5L(L,q,re,vXe[M],Yp[M]),X=Or.add5H(Y,C,U,j,xXe[M],Wp[M]),S=Y|0,c=Or.rotrSH(n,i,28)^Or.rotrBH(n,i,34)^Or.rotrBH(n,i,39),d=Or.rotrSL(n,i,28)^Or.rotrBL(n,i,34)^Or.rotrBL(n,i,39),p=n&s^n&f^s&f,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=y|0,O=E|0,{h:y,l:E}=Or.add(h|0,b|0,X|0,S|0),h=f|0,b=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let v=Or.add3L(S,d,x);n=Or.add3H(v,X,c,p),i=v|0}({h:n,l:i}=Or.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Or.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=Or.add(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:b}=Or.add(this.Dh|0,this.Dl|0,h|0,b|0),{h:y,l:E}=Or.add(this.Eh|0,this.El|0,y|0,E|0),{h:I,l:O}=Or.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=Or.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=Or.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,f,l,h,b,y,E,I,O,N,k,C,L)}roundClean(){(0,ho.clean)(Wp,Yp)}destroy(){(0,ho.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Yn.SHA512=S1;var hT=class extends S1{static{o(this,"SHA384")}constructor(){super(48),this.Ah=Kt.SHA384_IV[0]|0,this.Al=Kt.SHA384_IV[1]|0,this.Bh=Kt.SHA384_IV[2]|0,this.Bl=Kt.SHA384_IV[3]|0,this.Ch=Kt.SHA384_IV[4]|0,this.Cl=Kt.SHA384_IV[5]|0,this.Dh=Kt.SHA384_IV[6]|0,this.Dl=Kt.SHA384_IV[7]|0,this.Eh=Kt.SHA384_IV[8]|0,this.El=Kt.SHA384_IV[9]|0,this.Fh=Kt.SHA384_IV[10]|0,this.Fl=Kt.SHA384_IV[11]|0,this.Gh=Kt.SHA384_IV[12]|0,this.Gl=Kt.SHA384_IV[13]|0,this.Hh=Kt.SHA384_IV[14]|0,this.Hl=Kt.SHA384_IV[15]|0}};Yn.SHA384=hT;var sa=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),aa=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),pT=class extends S1{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=sa[0]|0,this.Al=sa[1]|0,this.Bh=sa[2]|0,this.Bl=sa[3]|0,this.Ch=sa[4]|0,this.Cl=sa[5]|0,this.Dh=sa[6]|0,this.Dl=sa[7]|0,this.Eh=sa[8]|0,this.El=sa[9]|0,this.Fh=sa[10]|0,this.Fl=sa[11]|0,this.Gh=sa[12]|0,this.Gl=sa[13]|0,this.Hh=sa[14]|0,this.Hl=sa[15]|0}};Yn.SHA512_224=pT;var mT=class extends S1{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=aa[0]|0,this.Al=aa[1]|0,this.Bh=aa[2]|0,this.Bl=aa[3]|0,this.Ch=aa[4]|0,this.Cl=aa[5]|0,this.Dh=aa[6]|0,this.Dl=aa[7]|0,this.Eh=aa[8]|0,this.El=aa[9]|0,this.Fh=aa[10]|0,this.Fl=aa[11]|0,this.Gh=aa[12]|0,this.Gl=aa[13]|0,this.Hh=aa[14]|0,this.Hl=aa[15]|0}};Yn.SHA512_256=mT;Yn.sha256=(0,ho.createHasher)(()=>new lS);Yn.sha224=(0,ho.createHasher)(()=>new dT);Yn.sha512=(0,ho.createHasher)(()=>new S1);Yn.sha384=(0,ho.createHasher)(()=>new hT);Yn.sha512_256=(0,ho.createHasher)(()=>new mT);Yn.sha512_224=(0,ho.createHasher)(()=>new pT)});var f1e=V(xd=>{"use strict";m();g();Object.defineProperty(xd,"__esModule",{value:!0});xd.sha224=xd.SHA224=xd.sha256=xd.SHA256=void 0;var gT=c1e();xd.SHA256=gT.SHA256;xd.sha256=gT.sha256;xd.SHA224=gT.SHA224;xd.sha224=gT.sha224});var $H=V(po=>{"use strict";m();g();var _Xe=Tge(),wXe=Lge(),u1e=f1e();function SXe(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:o(function(){return t[r]},"get")})}}),e.default=t,Object.freeze(e)}o(SXe,"_interopNamespaceDefault");var yn=SXe(_Xe);yn.utils.hmacSha256Sync=(t,...e)=>wXe.hmac(u1e.sha256,t,yn.utils.concatBytes(...e));yn.utils.sha256Sync=(...t)=>u1e.sha256(yn.utils.concatBytes(...t));var jH=yn.utils._normalizePrivateKey,EXe=32,AXe=32,qH=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),IXe=32;function VH(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}o(VH,"cmpBN32");function dS(t){return!(!(t instanceof Uint8Array)||t.length!==AXe||VH(t,qH)>=0)}o(dS,"isTweak");function l1e(t){return t instanceof Uint8Array&&t.length===64&&VH(t.subarray(0,32),qH)<0&&VH(t.subarray(32,64),qH)<0}o(l1e,"isSignature");function yT(t){return t instanceof Uint8Array&&t.length===EXe}o(yT,"isHash");function d1e(t){return t===void 0||t instanceof Uint8Array&&t.length===IXe}o(d1e,"isExtraData");function h1e(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(h1e,"hexToNumber");function TXe(t){return h1e(yn.utils.bytesToHex(t))}o(TXe,"bytesToNumber");function KH(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=h1e(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=TXe(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}o(KH,"normalizeScalar");var RXe=o((t,e)=>{let r=jH(t),n=KH(e),i=yn.utils._bigintTo32Bytes(yn.utils.mod(r+n,yn.CURVE.n));return yn.utils.isValidPrivateKey(i)?i:null},"_privateAdd"),OXe=o((t,e)=>{let r=jH(t),n=KH(e),i=yn.utils._bigintTo32Bytes(yn.utils.mod(r-n,yn.CURVE.n));return yn.utils.isValidPrivateKey(i)?i:null},"_privateSub"),NXe=o(t=>{let e=jH(t),r=yn.utils._bigintTo32Bytes(yn.CURVE.n-e);return yn.utils.isValidPrivateKey(r)?r:null},"_privateNegate"),p1e=o((t,e,r)=>{let n=yn.Point.fromHex(t),i=KH(e),s=yn.Point.BASE.multiplyAndAddUnsafe(n,i,1n);if(!s)throw new Error("Tweaked point at infinity");return s.toRawBytes(r)},"_pointAddScalar"),MXe=o((t,e,r)=>{let n=yn.Point.fromHex(t),i=typeof e=="string"?e:yn.utils.bytesToHex(e),s=BigInt(`0x${i}`);return n.multiply(s).toRawBytes(r)},"_pointMultiply");function hS(t,e){return t===void 0?e!==void 0?m1e(e):!0:!!t}o(hS,"assumeCompression");function E1(t){try{return t()}catch{return null}}o(E1,"throwToNull");function zH(t,e){if(t.length===32!==e)return!1;try{return!!yn.Point.fromHex(t)}catch{return!1}}o(zH,"_isPoint");function Xp(t){return zH(t,!1)}o(Xp,"isPoint");function m1e(t){return zH(t,!1)&&t.length===33}o(m1e,"isPointCompressed");function Zp(t){return yn.utils.isValidPrivateKey(t)}o(Zp,"isPrivate");function GH(t){return zH(t,!0)}o(GH,"isXOnlyPoint");function CXe(t,e){if(!GH(t))throw new Error("Expected Point");if(!dS(e))throw new Error("Expected Tweak");return E1(()=>{let r=p1e(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}o(CXe,"xOnlyPointAddTweak");function g1e(t){if(!Xp(t))throw new Error("Expected Point");return t.slice(1,33)}o(g1e,"xOnlyPointFromPoint");function y1e(t,e){if(!Zp(t))throw new Error("Expected Private");return E1(()=>yn.getPublicKey(t,hS(e)))}o(y1e,"pointFromScalar");function kXe(t){if(!Zp(t))throw new Error("Expected Private");return g1e(y1e(t))}o(kXe,"xOnlyPointFromScalar");function BXe(t,e){if(!Xp(t))throw new Error("Expected Point");return yn.Point.fromHex(t).toRawBytes(hS(e,t))}o(BXe,"pointCompress");function PXe(t,e,r){if(!Xp(t))throw new Error("Expected Point");if(!dS(e))throw new Error("Expected Tweak");return E1(()=>MXe(t,e,hS(r,t)))}o(PXe,"pointMultiply");function LXe(t,e,r){if(!Xp(t)||!Xp(e))throw new Error("Expected Point");return E1(()=>{let n=yn.Point.fromHex(t),i=yn.Point.fromHex(e);return n.equals(i.negate())?null:n.add(i).toRawBytes(hS(r,t))})}o(LXe,"pointAdd");function DXe(t,e,r){if(!Xp(t))throw new Error("Expected Point");if(!dS(e))throw new Error("Expected Tweak");return E1(()=>p1e(t,e,hS(r,t)))}o(DXe,"pointAddScalar");function UXe(t,e){if(Zp(t)===!1)throw new Error("Expected Private");if(dS(e)===!1)throw new Error("Expected Tweak");return E1(()=>RXe(t,e))}o(UXe,"privateAdd");function HXe(t,e){if(Zp(t)===!1)throw new Error("Expected Private");if(dS(e)===!1)throw new Error("Expected Tweak");return E1(()=>OXe(t,e))}o(HXe,"privateSub");function FXe(t){if(Zp(t)===!1)throw new Error("Expected Private");return NXe(t)}o(FXe,"privateNegate");function qXe(t,e,r){if(!Zp(e))throw new Error("Expected Private");if(!yT(t))throw new Error("Expected Scalar");if(!d1e(r))throw new Error("Expected Extra Data (32 bytes)");return yn.signSync(t,e,{der:!1,extraEntropy:r})}o(qXe,"sign");function VXe(t,e,r=Buffer.alloc(32,0)){if(!Zp(e))throw new Error("Expected Private");if(!yT(t))throw new Error("Expected Scalar");if(!d1e(r))throw new Error("Expected Extra Data (32 bytes)");return yn.schnorr.signSync(t,e,r)}o(VXe,"signSchnorr");function jXe(t,e,r,n){if(!Xp(e))throw new Error("Expected Point");if(!l1e(r))throw new Error("Expected Signature");if(!yT(t))throw new Error("Expected Scalar");return yn.verify(r,t,e,{strict:n})}o(jXe,"verify");function KXe(t,e,r){if(!GH(e))throw new Error("Expected Point");if(!l1e(r))throw new Error("Expected Signature");if(!yT(t))throw new Error("Expected Scalar");return yn.schnorr.verifySync(r,t,e)}o(KXe,"verifySchnorr");po.isPoint=Xp;po.isPointCompressed=m1e;po.isPrivate=Zp;po.isXOnlyPoint=GH;po.pointAdd=LXe;po.pointAddScalar=DXe;po.pointCompress=BXe;po.pointFromScalar=y1e;po.pointMultiply=PXe;po.privateAdd=UXe;po.privateNegate=FXe;po.privateSub=HXe;po.sign=qXe;po.signSchnorr=VXe;po.verify=jXe;po.verifySchnorr=KXe;po.xOnlyPointAddTweak=CXe;po.xOnlyPointFromPoint=g1e;po.xOnlyPointFromScalar=kXe});var zf=V(Qp=>{"use strict";m();g();Object.defineProperty(Qp,"__esModule",{value:!0});Qp.testnet=Qp.regtest=Qp.bitcoin=void 0;Qp.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};Qp.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};Qp.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var YH=V(em=>{"use strict";m();g();Object.defineProperty(em,"__esModule",{value:!0});em.encode=em.decode=em.check=void 0;function QXe(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}o(QXe,"check");em.check=QXe;function eZe(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}o(eZe,"decode");em.decode=eZe;function tZe(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}o(tZe,"encode");em.encode=tZe});var xT=V(Yx=>{"use strict";m();g();Object.defineProperty(Yx,"__esModule",{value:!0});Yx.REVERSE_OPS=Yx.OPS=void 0;var XH={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};Yx.OPS=XH;var E1e={};Yx.REVERSE_OPS=E1e;for(let t of Object.keys(XH)){let e=XH[t];E1e[e]=t}});var I1e=V(rm=>{"use strict";m();g();Object.defineProperty(rm,"__esModule",{value:!0});rm.decode=rm.encode=rm.encodingLength=void 0;var tm=xT();function A1e(t){return t<tm.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}o(A1e,"encodingLength");rm.encodingLength=A1e;function rZe(t,e,r){let n=A1e(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(tm.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(tm.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(tm.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}o(rZe,"encode");rm.encode=rZe;function nZe(t,e){let r=t.readUInt8(e),n,i;if(r<tm.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===tm.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===tm.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==tm.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}o(nZe,"decode");rm.decode=nZe});var T1e=V(Xx=>{"use strict";m();g();Object.defineProperty(Xx,"__esModule",{value:!0});Xx.encode=Xx.decode=void 0;function iZe(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let s=t.readUInt32LE(0),a=t.readUInt8(4);return a&128?-((a&-129)*4294967296+s):a*4294967296+s}let i=0;for(let s=0;s<n;++s)i|=t[s]<<8*s;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}o(iZe,"decode");Xx.decode=iZe;function oZe(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}o(oZe,"scriptNumSize");function sZe(t){let e=Math.abs(t),r=oZe(e),n=Buffer.allocUnsafe(r),i=t<0;for(let s=0;s<r;++s)n.writeUInt8(e&255,s),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}o(sZe,"encode");Xx.encode=sZe});var vT=V((iZt,R1e)=>{m();g();var mS={Array:o(function(t){return t!=null&&t.constructor===Array},"Array"),Boolean:o(function(t){return typeof t=="boolean"},"Boolean"),Function:o(function(t){return typeof t=="function"},"Function"),Nil:o(function(t){return t==null},"Nil"),Number:o(function(t){return typeof t=="number"},"Number"),Object:o(function(t){return typeof t=="object"},"Object"),String:o(function(t){return typeof t=="string"},"String"),"":function(){return!0}};mS.Null=mS.Nil;for(ZH in mS)mS[ZH].toJSON=function(t){return t}.bind(null,ZH);var ZH;R1e.exports=mS});var eF=V((cZt,M1e)=>{m();g();var A1=vT();function O1e(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}o(O1e,"getTypeName");function JH(t){return A1.Nil(t)?"":O1e(t.constructor)}o(JH,"getValueTypeName");function aZe(t){return A1.Function(t)?"":A1.String(t)?JSON.stringify(t):t&&A1.Object(t)?"":t}o(aZe,"getValue");function QH(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}o(QH,"captureStackTrace");function _T(t){return A1.Function(t)?t.toJSON?t.toJSON():O1e(t):A1.Array(t)?"Array":t&&A1.Object(t)?"Object":t!==void 0?t:""}o(_T,"tfJSON");function N1e(t,e,r){var n=aZe(e);return"Expected "+_T(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}o(N1e,"tfErrorString");function K0(t,e,r){r=r||JH(e),this.message=N1e(t,e,r),QH(this,K0),this.__type=t,this.__value=e,this.__valueTypeName=r}o(K0,"TfTypeError");K0.prototype=Object.create(Error.prototype);K0.prototype.constructor=K0;function cZe(t,e,r,n,i){var s='" of type ';return e==="key"&&(s='" with key type '),N1e('property "'+_T(r)+s+_T(t),n,i)}o(cZe,"tfPropertyErrorString");function Zx(t,e,r,n,i){t?(i=i||JH(n),this.message=cZe(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',QH(this,K0),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}o(Zx,"TfPropertyTypeError");Zx.prototype=Object.create(Error.prototype);Zx.prototype.constructor=K0;function fZe(t,e){return new K0(t,{},e)}o(fZe,"tfCustomError");function uZe(t,e,r){return t instanceof Zx?(e=e+"."+t.__property,t=new Zx(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof K0&&(t=new Zx(t.__type,e,r,t.__value,t.__valueTypeName)),QH(t),t}o(uZe,"tfSubError");M1e.exports={TfTypeError:K0,TfPropertyTypeError:Zx,tfCustomError:fZe,tfSubError:uZe,tfJSON:_T,getValueTypeName:JH}});var P1e=V((dZt,B1e)=>{m();g();var iF=vT(),lZe=eF();function C1e(t){return Buffer.isBuffer(t)}o(C1e,"_Buffer");function k1e(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}o(k1e,"Hex");function wT(t,e){var r=t.toJSON();function n(i){if(!t(i))return!1;if(i.length===e)return!0;throw lZe.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+i.length+")")}return o(n,"Length"),n.toJSON=function(){return r},n}o(wT,"_LengthN");var dZe=wT.bind(null,iF.Array),hZe=wT.bind(null,C1e),pZe=wT.bind(null,k1e),mZe=wT.bind(null,iF.String);function gZe(t,e,r){r=r||iF.Number;function n(i,s){return r(i,s)&&i>t&&i<e}return o(n,"_range"),n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}o(gZe,"Range");var rF=Math.pow(2,53)-1;function yZe(t){return typeof t=="number"&&isFinite(t)}o(yZe,"Finite");function bZe(t){return t<<24>>24===t}o(bZe,"Int8");function xZe(t){return t<<16>>16===t}o(xZe,"Int16");function vZe(t){return(t|0)===t}o(vZe,"Int32");function _Ze(t){return typeof t=="number"&&t>=-rF&&t<=rF&&Math.floor(t)===t}o(_Ze,"Int53");function wZe(t){return(t&255)===t}o(wZe,"UInt8");function SZe(t){return(t&65535)===t}o(SZe,"UInt16");function EZe(t){return t>>>0===t}o(EZe,"UInt32");function AZe(t){return typeof t=="number"&&t>=0&&t<=rF&&Math.floor(t)===t}o(AZe,"UInt53");var nF={ArrayN:dZe,Buffer:C1e,BufferN:hZe,Finite:yZe,Hex:k1e,HexN:pZe,Int8:bZe,Int16:xZe,Int32:vZe,Int53:_Ze,Range:gZe,StringN:mZe,UInt8:wZe,UInt16:SZe,UInt32:EZe,UInt53:AZe};for(tF in nF)nF[tF].toJSON=function(t){return t}.bind(null,tF);var tF;B1e.exports=nF});var F1e=V((gZt,H1e)=>{m();g();var yS=eF(),ys=vT(),z0=yS.tfJSON,D1e=yS.TfTypeError,U1e=yS.TfPropertyTypeError,gS=yS.tfSubError,IZe=yS.getValueTypeName,G0={arrayOf:o(function(e,r){e=vd(e),r=r||{};function n(i,s){return!ys.Array(i)||ys.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(a,f){try{return Pa(e,a,s)}catch(l){throw gS(l,f)}})}return o(n,"_arrayOf"),n.toJSON=function(){var i="["+z0(e)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},"arrayOf"),maybe:o(function t(e){e=vd(e);function r(n,i){return ys.Nil(n)||e(n,i,t)}return o(r,"_maybe"),r.toJSON=function(){return"?"+z0(e)},r},"maybe"),map:o(function(e,r){e=vd(e),r&&(r=vd(r));function n(i,s){if(!ys.Object(i)||ys.Nil(i))return!1;for(var a in i){try{r&&Pa(r,a,s)}catch(l){throw gS(l,a,"key")}try{var f=i[a];Pa(e,f,s)}catch(l){throw gS(l,a)}}return!0}return o(n,"_map"),r?n.toJSON=function(){return"{"+z0(r)+": "+z0(e)+"}"}:n.toJSON=function(){return"{"+z0(e)+"}"},n},"map"),object:o(function(e){var r={};for(var n in e)r[n]=vd(e[n]);function i(s,a){if(!ys.Object(s)||ys.Nil(s))return!1;var f;try{for(f in r){var l=r[f],h=s[f];Pa(l,h,a)}}catch(b){throw gS(b,f)}if(a){for(f in s)if(!r[f])throw new U1e(void 0,f)}return!0}return o(i,"_object"),i.toJSON=function(){return z0(r)},i},"object"),anyOf:o(function(){var e=[].slice.call(arguments).map(vd);function r(n,i){return e.some(function(s){try{return Pa(s,n,i)}catch{return!1}})}return o(r,"_anyOf"),r.toJSON=function(){return e.map(z0).join("|")},r},"anyOf"),allOf:o(function(){var e=[].slice.call(arguments).map(vd);function r(n,i){return e.every(function(s){try{return Pa(s,n,i)}catch{return!1}})}return o(r,"_allOf"),r.toJSON=function(){return e.map(z0).join(" & ")},r},"allOf"),quacksLike:o(function(e){function r(n){return e===IZe(n)}return o(r,"_quacksLike"),r.toJSON=function(){return e},r},"quacksLike"),tuple:o(function(){var e=[].slice.call(arguments).map(vd);function r(n,i){return ys.Nil(n)||ys.Nil(n.length)||i&&n.length!==e.length?!1:e.every(function(s,a){try{return Pa(s,n[a],i)}catch(f){throw gS(f,a)}})}return o(r,"_tuple"),r.toJSON=function(){return"("+e.map(z0).join(", ")+")"},r},"tuple"),value:o(function(e){function r(n){return n===e}return o(r,"_value"),r.toJSON=function(){return e},r},"value")};G0.oneOf=G0.anyOf;function vd(t){if(ys.String(t))return t[0]==="?"?G0.maybe(t.slice(1)):ys[t]||G0.quacksLike(t);if(t&&ys.Object(t)){if(ys.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return G0.arrayOf(t[0])}return G0.object(t)}else if(ys.Function(t))return t;return G0.value(t)}o(vd,"compile");function Pa(t,e,r,n){if(ys.Function(t)){if(t(e,r))return!0;throw new D1e(n||t,e)}return Pa(vd(t),e,r)}o(Pa,"typeforce");for($0 in ys)Pa[$0]=ys[$0];var $0;for($0 in G0)Pa[$0]=G0[$0];var L1e=P1e();for($0 in L1e)Pa[$0]=L1e[$0];Pa.compile=vd;Pa.TfTypeError=D1e;Pa.TfPropertyTypeError=U1e;H1e.exports=Pa});var bs=V(at=>{"use strict";m();g();Object.defineProperty(at,"__esModule",{value:!0});at.oneOf=at.Null=at.BufferN=at.Function=at.UInt32=at.UInt8=at.tuple=at.maybe=at.Hex=at.Buffer=at.String=at.Boolean=at.Array=at.Number=at.Hash256bit=at.Hash160bit=at.Buffer256bit=at.isTaptree=at.isTapleaf=at.TAPLEAF_VERSION_MASK=at.Network=at.ECPoint=at.Satoshi=at.Signer=at.BIP32Path=at.UInt31=at.isPoint=at.typeforce=void 0;var ST=Yi();at.typeforce=F1e();var q1e=ST.Buffer.alloc(32,0),V1e=ST.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function TZe(t){if(!ST.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(q1e)===0||r.compare(V1e)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(q1e)===0||n.compare(V1e)>=0?!1:e===4&&t.length===65}o(TZe,"isPoint");at.isPoint=TZe;var RZe=Math.pow(2,31)-1;function OZe(t){return at.typeforce.UInt32(t)&&t<=RZe}o(OZe,"UInt31");at.UInt31=OZe;function j1e(t){return at.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}o(j1e,"BIP32Path");at.BIP32Path=j1e;j1e.toJSON=()=>"BIP32 derivation path";function NZe(t){return(at.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}o(NZe,"Signer");at.Signer=NZe;var MZe=21*1e14;function CZe(t){return at.typeforce.UInt53(t)&&t<=MZe}o(CZe,"Satoshi");at.Satoshi=CZe;at.ECPoint=at.typeforce.quacksLike("Point");at.Network=at.typeforce.compile({messagePrefix:at.typeforce.oneOf(at.typeforce.Buffer,at.typeforce.String),bip32:{public:at.typeforce.UInt32,private:at.typeforce.UInt32},pubKeyHash:at.typeforce.UInt8,scriptHash:at.typeforce.UInt8,wif:at.typeforce.UInt8});at.TAPLEAF_VERSION_MASK=254;function K1e(t){return!t||!("output"in t)||!ST.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&at.TAPLEAF_VERSION_MASK)===t.version:!0}o(K1e,"isTapleaf");at.isTapleaf=K1e;function z1e(t){return(0,at.Array)(t)?t.length!==2?!1:t.every(e=>z1e(e)):K1e(t)}o(z1e,"isTaptree");at.isTaptree=z1e;at.Buffer256bit=at.typeforce.BufferN(32);at.Hash160bit=at.typeforce.BufferN(20);at.Hash256bit=at.typeforce.BufferN(32);at.Number=at.typeforce.Number;at.Array=at.typeforce.Array;at.Boolean=at.typeforce.Boolean;at.String=at.typeforce.String;at.Buffer=at.typeforce.Buffer;at.Hex=at.typeforce.Hex;at.maybe=at.typeforce.maybe;at.tuple=at.typeforce.tuple;at.UInt8=at.typeforce.UInt8;at.UInt32=at.typeforce.UInt32;at.Function=at.typeforce.Function;at.BufferN=at.typeforce.BufferN;at.Null=at.typeforce.Null;at.oneOf=at.typeforce.oneOf});var X1e=V(Qx=>{"use strict";m();g();Object.defineProperty(Qx,"__esModule",{value:!0});Qx.encode=Qx.decode=void 0;var{Buffer:Jx}=Yi(),Y1e=YH(),oF=bs(),{typeforce:kZe}=oF,G1e=Jx.alloc(1,0);function $1e(t){let e=0;for(;t[e]===0;)++e;return e===t.length?G1e:(t=t.slice(e),t[0]&128?Jx.concat([G1e,t],1+t.length):t)}o($1e,"toDER");function W1e(t){t[0]===0&&(t=t.slice(1));let e=Jx.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}o(W1e,"fromDER");function BZe(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=Y1e.decode(t.slice(0,-1)),i=W1e(n.r),s=W1e(n.s);return{signature:Jx.concat([i,s],64),hashType:e}}o(BZe,"decode");Qx.decode=BZe;function PZe(t,e){kZe({signature:oF.BufferN(64),hashType:oF.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=Jx.allocUnsafe(1);n.writeUInt8(e,0);let i=$1e(t.slice(0,32)),s=$1e(t.slice(32,64));return Jx.concat([Y1e.encode(i,s),n])}o(PZe,"encode");Qx.encode=PZe});var La=V(Pn=>{"use strict";m();g();Object.defineProperty(Pn,"__esModule",{value:!0});Pn.signature=Pn.number=Pn.isCanonicalScriptSignature=Pn.isDefinedHashType=Pn.isCanonicalPubKey=Pn.toStack=Pn.fromASM=Pn.toASM=Pn.decompile=Pn.compile=Pn.countNonPushOnlyOPs=Pn.isPushOnly=Pn.OPS=void 0;var LZe=YH(),mc=xT();Object.defineProperty(Pn,"OPS",{enumerable:!0,get:o(function(){return mc.OPS},"get")});var sF=I1e(),Z1e=T1e(),DZe=X1e(),_d=bs(),{typeforce:bS}=_d,J1e=mc.OPS.OP_RESERVED;function UZe(t){return _d.Number(t)&&(t===mc.OPS.OP_0||t>=mc.OPS.OP_1&&t<=mc.OPS.OP_16||t===mc.OPS.OP_1NEGATE)}o(UZe,"isOPInt");function Q1e(t){return _d.Buffer(t)||UZe(t)}o(Q1e,"isPushOnlyChunk");function eye(t){return _d.Array(t)&&t.every(Q1e)}o(eye,"isPushOnly");Pn.isPushOnly=eye;function HZe(t){return t.length-t.filter(Q1e).length}o(HZe,"countNonPushOnlyOPs");Pn.countNonPushOnlyOPs=HZe;function ET(t){if(t.length===0)return mc.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return J1e+t[0];if(t[0]===129)return mc.OPS.OP_1NEGATE}}o(ET,"asMinimalOP");function tye(t){return Buffer.isBuffer(t)}o(tye,"chunksIsBuffer");function FZe(t){return _d.Array(t)}o(FZe,"chunksIsArray");function AT(t){return Buffer.isBuffer(t)}o(AT,"singleChunkIsBuffer");function rye(t){if(tye(t))return t;bS(_d.Array,t);let e=t.reduce((i,s)=>AT(s)?s.length===1&&ET(s)!==void 0?i+1:i+sF.encodingLength(s.length)+s.length:i+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(AT(i)){let s=ET(i);if(s!==void 0){r.writeUInt8(s,n),n+=1;return}n+=sF.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}o(rye,"compile");Pn.compile=rye;function aF(t){if(FZe(t))return t;bS(_d.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>mc.OPS.OP_0&&n<=mc.OPS.OP_PUSHDATA4){let i=sF.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let s=t.slice(r,r+i.number);r+=i.number;let a=ET(s);a!==void 0?e.push(a):e.push(s)}else e.push(n),r+=1}return e}o(aF,"decompile");Pn.decompile=aF;function qZe(t){return tye(t)&&(t=aF(t)),t.map(e=>{if(AT(e)){let r=ET(e);if(r===void 0)return e.toString("hex");e=r}return mc.REVERSE_OPS[e]}).join(" ")}o(qZe,"toASM");Pn.toASM=qZe;function VZe(t){return bS(_d.String,t),rye(t.split(" ").map(e=>mc.OPS[e]!==void 0?mc.OPS[e]:(bS(_d.Hex,e),Buffer.from(e,"hex"))))}o(VZe,"fromASM");Pn.fromASM=VZe;function jZe(t){return t=aF(t),bS(eye,t),t.map(e=>AT(e)?e:e===mc.OPS.OP_0?Buffer.allocUnsafe(0):Z1e.encode(e-J1e))}o(jZe,"toStack");Pn.toStack=jZe;function KZe(t){return _d.isPoint(t)}o(KZe,"isCanonicalPubKey");Pn.isCanonicalPubKey=KZe;function nye(t){let e=t&-129;return e>0&&e<4}o(nye,"isDefinedHashType");Pn.isDefinedHashType=nye;function zZe(t){return!Buffer.isBuffer(t)||!nye(t[t.length-1])?!1:LZe.check(t.slice(0,-1))}o(zZe,"isCanonicalScriptSignature");Pn.isCanonicalScriptSignature=zZe;Pn.number=Z1e;Pn.signature=DZe});var W0=V(ev=>{"use strict";m();g();Object.defineProperty(ev,"__esModule",{value:!0});ev.value=ev.prop=void 0;function GZe(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}o(GZe,"prop");ev.prop=GZe;function $Ze(t){let e;return()=>(e!==void 0||(e=t()),e)}o($Ze,"value");ev.value=$Ze});var sye=V(TT=>{"use strict";m();g();Object.defineProperty(TT,"__esModule",{value:!0});TT.p2data=void 0;var WZe=zf(),IT=La(),Y0=bs(),iye=W0(),oye=IT.OPS;function YZe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(YZe,"stacksEqual");function XZe(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Y0.typeforce)({network:Y0.typeforce.maybe(Y0.typeforce.Object),output:Y0.typeforce.maybe(Y0.typeforce.Buffer),data:Y0.typeforce.maybe(Y0.typeforce.arrayOf(Y0.typeforce.Buffer))},t);let n={name:"embed",network:t.network||WZe.bitcoin};if(iye.prop(n,"output",()=>{if(t.data)return IT.compile([oye.OP_RETURN].concat(t.data))}),iye.prop(n,"data",()=>{if(t.output)return IT.decompile(t.output).slice(1)}),e.validate&&t.output){let i=IT.decompile(t.output);if(i[0]!==oye.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(Y0.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!YZe(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}o(XZe,"p2data");TT.p2data=XZe});var cye=V(OT=>{"use strict";m();g();Object.defineProperty(OT,"__esModule",{value:!0});OT.p2ms=void 0;var ZZe=zf(),tv=La(),Io=bs(),nm=W0(),rv=tv.OPS,RT=rv.OP_RESERVED;function aye(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(aye,"stacksEqual");function JZe(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(l){return tv.isCanonicalScriptSignature(l)||(e.allowIncomplete&&l===rv.OP_0)!==void 0}o(r,"isAcceptableSignature"),(0,Io.typeforce)({network:Io.typeforce.maybe(Io.typeforce.Object),m:Io.typeforce.maybe(Io.typeforce.Number),n:Io.typeforce.maybe(Io.typeforce.Number),output:Io.typeforce.maybe(Io.typeforce.Buffer),pubkeys:Io.typeforce.maybe(Io.typeforce.arrayOf(Io.isPoint)),signatures:Io.typeforce.maybe(Io.typeforce.arrayOf(r)),input:Io.typeforce.maybe(Io.typeforce.Buffer)},t);let i={network:t.network||ZZe.bitcoin},s=[],a=!1;function f(l){a||(a=!0,s=tv.decompile(l),i.m=s[0]-RT,i.n=s[s.length-2]-RT,i.pubkeys=s.slice(1,-2))}if(o(f,"decode"),nm.prop(i,"output",()=>{if(t.m&&i.n&&t.pubkeys)return tv.compile([].concat(RT+t.m,t.pubkeys,RT+i.n,rv.OP_CHECKMULTISIG))}),nm.prop(i,"m",()=>{if(i.output)return f(i.output),i.m}),nm.prop(i,"n",()=>{if(i.pubkeys)return i.pubkeys.length}),nm.prop(i,"pubkeys",()=>{if(t.output)return f(t.output),i.pubkeys}),nm.prop(i,"signatures",()=>{if(t.input)return tv.decompile(t.input).slice(1)}),nm.prop(i,"input",()=>{if(t.signatures)return tv.compile([rv.OP_0].concat(t.signatures))}),nm.prop(i,"witness",()=>{if(i.input)return[]}),nm.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(f(t.output),!Io.typeforce.Number(s[0]))throw new TypeError("Output is invalid");if(!Io.typeforce.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==rv.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==s.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(l=>(0,Io.isPoint)(l)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!aye(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==rv.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!aye(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}o(JZe,"p2ms");OT.p2ms=JZe});var uye=V(NT=>{"use strict";m();g();Object.defineProperty(NT,"__esModule",{value:!0});NT.p2pk=void 0;var QZe=zf(),iv=La(),Zu=bs(),nv=W0(),fye=iv.OPS;function eJe(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Zu.typeforce)({network:Zu.typeforce.maybe(Zu.typeforce.Object),output:Zu.typeforce.maybe(Zu.typeforce.Buffer),pubkey:Zu.typeforce.maybe(Zu.isPoint),signature:Zu.typeforce.maybe(iv.isCanonicalScriptSignature),input:Zu.typeforce.maybe(Zu.typeforce.Buffer)},t);let r=nv.value(()=>iv.decompile(t.input)),i={name:"p2pk",network:t.network||QZe.bitcoin};if(nv.prop(i,"output",()=>{if(t.pubkey)return iv.compile([t.pubkey,fye.OP_CHECKSIG])}),nv.prop(i,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),nv.prop(i,"signature",()=>{if(t.input)return r()[0]}),nv.prop(i,"input",()=>{if(t.signature)return iv.compile([t.signature])}),nv.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==fye.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,Zu.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!iv.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}o(eJe,"p2pk");NT.p2pk=eJe});var lye=V(MT=>{"use strict";m();g();Object.defineProperty(MT,"__esModule",{value:!0});MT.crypto=void 0;MT.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var kT=V(Xt=>{"use strict";m();g();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.wrapXOFConstructorWithOpts=Xt.wrapConstructorWithOpts=Xt.wrapConstructor=Xt.Hash=Xt.nextTick=Xt.swap32IfBE=Xt.byteSwapIfBE=Xt.swap8IfBE=Xt.isLE=void 0;Xt.isBytes=hye;Xt.anumber=cF;Xt.abytes=sv;Xt.ahash=tJe;Xt.aexists=rJe;Xt.aoutput=nJe;Xt.u8=iJe;Xt.u32=oJe;Xt.clean=sJe;Xt.createView=aJe;Xt.rotr=cJe;Xt.rotl=fJe;Xt.byteSwap=uF;Xt.byteSwap32=pye;Xt.bytesToHex=lJe;Xt.hexToBytes=dJe;Xt.asyncLoop=pJe;Xt.utf8ToBytes=lF;Xt.bytesToUtf8=mJe;Xt.toBytes=CT;Xt.kdfInputToBytes=gJe;Xt.concatBytes=yJe;Xt.checkOpts=bJe;Xt.createHasher=gye;Xt.createOptHasher=yye;Xt.createXOFer=bye;Xt.randomBytes=xJe;var ov=lye();function hye(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(hye,"isBytes");function cF(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(cF,"anumber");function sv(t,...e){if(!hye(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(sv,"abytes");function tJe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");cF(t.outputLen),cF(t.blockLen)}o(tJe,"ahash");function rJe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(rJe,"aexists");function nJe(t,e){sv(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(nJe,"aoutput");function iJe(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(iJe,"u8");function oJe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(oJe,"u32");function sJe(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(sJe,"clean");function aJe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(aJe,"createView");function cJe(t,e){return t<<32-e|t>>>e}o(cJe,"rotr");function fJe(t,e){return t<<e|t>>>32-e>>>0}o(fJe,"rotl");Xt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function uF(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(uF,"byteSwap");Xt.swap8IfBE=Xt.isLE?t=>t:t=>uF(t);Xt.byteSwapIfBE=Xt.swap8IfBE;function pye(t){for(let e=0;e<t.length;e++)t[e]=uF(t[e]);return t}o(pye,"byteSwap32");Xt.swap32IfBE=Xt.isLE?t=>t:pye;var mye=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",uJe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function lJe(t){if(sv(t),mye)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=uJe[t[r]];return e}o(lJe,"bytesToHex");var X0={_0:48,_9:57,A:65,F:70,a:97,f:102};function dye(t){if(t>=X0._0&&t<=X0._9)return t-X0._0;if(t>=X0.A&&t<=X0.F)return t-(X0.A-10);if(t>=X0.a&&t<=X0.f)return t-(X0.a-10)}o(dye,"asciiToBase16");function dJe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(mye)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=dye(t.charCodeAt(s)),f=dye(t.charCodeAt(s+1));if(a===void 0||f===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+f}return n}o(dJe,"hexToBytes");var hJe=o(async()=>{},"nextTick");Xt.nextTick=hJe;async function pJe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Xt.nextTick)(),n+=s)}}o(pJe,"asyncLoop");function lF(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(lF,"utf8ToBytes");function mJe(t){return new TextDecoder().decode(t)}o(mJe,"bytesToUtf8");function CT(t){return typeof t=="string"&&(t=lF(t)),sv(t),t}o(CT,"toBytes");function gJe(t){return typeof t=="string"&&(t=lF(t)),sv(t),t}o(gJe,"kdfInputToBytes");function yJe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];sv(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(yJe,"concatBytes");function bJe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(bJe,"checkOpts");var fF=class{static{o(this,"Hash")}};Xt.Hash=fF;function gye(t){let e=o(n=>t().update(CT(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(gye,"createHasher");function yye(t){let e=o((n,i)=>t(i).update(CT(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(yye,"createOptHasher");function bye(t){let e=o((n,i)=>t(i).update(CT(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(bye,"createXOFer");Xt.wrapConstructor=gye;Xt.wrapConstructorWithOpts=yye;Xt.wrapXOFConstructorWithOpts=bye;function xJe(t=32){if(ov.crypto&&typeof ov.crypto.getRandomValues=="function")return ov.crypto.getRandomValues(new Uint8Array(t));if(ov.crypto&&typeof ov.crypto.randomBytes=="function")return Uint8Array.from(ov.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(xJe,"randomBytes")});var hF=V(Da=>{"use strict";m();g();Object.defineProperty(Da,"__esModule",{value:!0});Da.SHA512_IV=Da.SHA384_IV=Da.SHA224_IV=Da.SHA256_IV=Da.HashMD=void 0;Da.setBigUint64=xye;Da.Chi=vJe;Da.Maj=_Je;var wd=kT();function xye(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(xye,"setBigUint64");function vJe(t,e,r){return t&e^~t&r}o(vJe,"Chi");function _Je(t,e,r){return t&e^t&r^e&r}o(_Je,"Maj");var dF=class extends wd.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,wd.createView)(this.buffer)}update(e){(0,wd.aexists)(this),e=(0,wd.toBytes)(e),(0,wd.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=(0,wd.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,wd.aexists)(this),(0,wd.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,wd.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let y=a;y<i;y++)r[y]=0;xye(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=(0,wd.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,b=this.get();if(h>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)f.setUint32(4*y,b[y],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=f,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};Da.HashMD=dF;Da.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Da.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Da.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Da.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var mF=V(gc=>{"use strict";m();g();Object.defineProperty(gc,"__esModule",{value:!0});gc.ripemd160=gc.RIPEMD160=gc.md5=gc.MD5=gc.sha1=gc.SHA1=void 0;var I1=hF(),xs=kT(),av=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),im=new Uint32Array(80),LT=class extends I1.HashMD{static{o(this,"SHA1")}constructor(){super(64,20,8,!1),this.A=av[0]|0,this.B=av[1]|0,this.C=av[2]|0,this.D=av[3]|0,this.E=av[4]|0}get(){let{A:e,B:r,C:n,D:i,E:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0}process(e,r){for(let l=0;l<16;l++,r+=4)im[l]=e.getUint32(r,!1);for(let l=16;l<80;l++)im[l]=(0,xs.rotl)(im[l-3]^im[l-8]^im[l-14]^im[l-16],1);let{A:n,B:i,C:s,D:a,E:f}=this;for(let l=0;l<80;l++){let h,b;l<20?(h=(0,I1.Chi)(i,s,a),b=1518500249):l<40?(h=i^s^a,b=1859775393):l<60?(h=(0,I1.Maj)(i,s,a),b=2400959708):(h=i^s^a,b=3395469782);let y=(0,xs.rotl)(n,5)+h+f+b+im[l]|0;f=a,a=s,s=(0,xs.rotl)(i,30),i=n,n=y}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,this.set(n,i,s,a,f)}roundClean(){(0,xs.clean)(im)}destroy(){this.set(0,0,0,0,0),(0,xs.clean)(this.buffer)}};gc.SHA1=LT;gc.sha1=(0,xs.createHasher)(()=>new LT);var wJe=Math.pow(2,32),SJe=Array.from({length:64},(t,e)=>Math.floor(wJe*Math.abs(Math.sin(e+1)))),BT=av.slice(0,4),pF=new Uint32Array(16),DT=class extends I1.HashMD{static{o(this,"MD5")}constructor(){super(64,16,8,!0),this.A=BT[0]|0,this.B=BT[1]|0,this.C=BT[2]|0,this.D=BT[3]|0}get(){let{A:e,B:r,C:n,D:i}=this;return[e,r,n,i]}set(e,r,n,i){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0}process(e,r){for(let f=0;f<16;f++,r+=4)pF[f]=e.getUint32(r,!0);let{A:n,B:i,C:s,D:a}=this;for(let f=0;f<64;f++){let l,h,b;f<16?(l=(0,I1.Chi)(i,s,a),h=f,b=[7,12,17,22]):f<32?(l=(0,I1.Chi)(a,i,s),h=(5*f+1)%16,b=[5,9,14,20]):f<48?(l=i^s^a,h=(3*f+5)%16,b=[4,11,16,23]):(l=s^(i|~a),h=7*f%16,b=[6,10,15,21]),l=l+n+SJe[f]+pF[h],n=a,a=s,s=i,i=i+(0,xs.rotl)(l,b[f%4])}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,this.set(n,i,s,a)}roundClean(){(0,xs.clean)(pF)}destroy(){this.set(0,0,0,0),(0,xs.clean)(this.buffer)}};gc.MD5=DT;gc.md5=(0,xs.createHasher)(()=>new DT);var EJe=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),_ye=Uint8Array.from(new Array(16).fill(0).map((t,e)=>e)),AJe=_ye.map(t=>(9*t+5)%16),wye=(()=>{let r=[[_ye],[AJe]];for(let n=0;n<4;n++)for(let i of r)i.push(i[n].map(s=>EJe[s]));return r})(),Sye=wye[0],Eye=wye[1],Aye=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>Uint8Array.from(t)),IJe=Sye.map((t,e)=>t.map(r=>Aye[e][r])),TJe=Eye.map((t,e)=>t.map(r=>Aye[e][r])),RJe=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),OJe=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function vye(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}o(vye,"ripemd_f");var PT=new Uint32Array(16),UT=class extends I1.HashMD{static{o(this,"RIPEMD160")}constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let I=0;I<16;I++,r+=4)PT[I]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,f=this.h2|0,l=f,h=this.h3|0,b=h,y=this.h4|0,E=y;for(let I=0;I<5;I++){let O=4-I,N=RJe[I],k=OJe[I],C=Sye[I],L=Eye[I],M=IJe[I],U=TJe[I];for(let q=0;q<16;q++){let j=(0,xs.rotl)(n+vye(I,s,f,h)+PT[C[q]]+N,M[q])+y|0;n=y,y=h,h=(0,xs.rotl)(f,10)|0,f=s,s=j}for(let q=0;q<16;q++){let j=(0,xs.rotl)(i+vye(O,a,l,b)+PT[L[q]]+k,U[q])+E|0;i=E,E=b,b=(0,xs.rotl)(l,10)|0,l=a,a=j}}this.set(this.h1+f+b|0,this.h2+h+E|0,this.h3+y+i|0,this.h4+n+a|0,this.h0+s+l|0)}roundClean(){(0,xs.clean)(PT)}destroy(){this.destroyed=!0,(0,xs.clean)(this.buffer),this.set(0,0,0,0,0)}};gc.RIPEMD160=UT;gc.ripemd160=(0,xs.createHasher)(()=>new UT)});var Tye=V(cv=>{"use strict";m();g();Object.defineProperty(cv,"__esModule",{value:!0});cv.ripemd160=cv.RIPEMD160=void 0;var Iye=mF();cv.RIPEMD160=Iye.RIPEMD160;cv.ripemd160=Iye.ripemd160});var Oye=V(fv=>{"use strict";m();g();Object.defineProperty(fv,"__esModule",{value:!0});fv.sha1=fv.SHA1=void 0;var Rye=mF();fv.SHA1=Rye.SHA1;fv.sha1=Rye.sha1});var Zye=V(lr=>{"use strict";m();g();Object.defineProperty(lr,"__esModule",{value:!0});lr.toBig=lr.shrSL=lr.shrSH=lr.rotrSL=lr.rotrSH=lr.rotrBL=lr.rotrBH=lr.rotr32L=lr.rotr32H=lr.rotlSL=lr.rotlSH=lr.rotlBL=lr.rotlBH=lr.add5L=lr.add5H=lr.add4L=lr.add4H=lr.add3L=lr.add3H=void 0;lr.add=Kye;lr.fromBig=yF;lr.split=Nye;var HT=BigInt(2**32-1),gF=BigInt(32);function yF(t,e=!1){return e?{h:Number(t&HT),l:Number(t>>gF&HT)}:{h:Number(t>>gF&HT)|0,l:Number(t&HT)|0}}o(yF,"fromBig");function Nye(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:f}=yF(t[s],e);[n[s],i[s]]=[a,f]}return[n,i]}o(Nye,"split");var Mye=o((t,e)=>BigInt(t>>>0)<<gF|BigInt(e>>>0),"toBig");lr.toBig=Mye;var Cye=o((t,e,r)=>t>>>r,"shrSH");lr.shrSH=Cye;var kye=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");lr.shrSL=kye;var Bye=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");lr.rotrSH=Bye;var Pye=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");lr.rotrSL=Pye;var Lye=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");lr.rotrBH=Lye;var Dye=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");lr.rotrBL=Dye;var Uye=o((t,e)=>e,"rotr32H");lr.rotr32H=Uye;var Hye=o((t,e)=>t,"rotr32L");lr.rotr32L=Hye;var Fye=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");lr.rotlSH=Fye;var qye=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");lr.rotlSL=qye;var Vye=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");lr.rotlBH=Vye;var jye=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");lr.rotlBL=jye;function Kye(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(Kye,"add");var zye=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");lr.add3L=zye;var Gye=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");lr.add3H=Gye;var $ye=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");lr.add4L=$ye;var Wye=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");lr.add4H=Wye;var Yye=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");lr.add5L=Yye;var Xye=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");lr.add5H=Xye;var NJe={fromBig:yF,split:Nye,toBig:Mye,shrSH:Cye,shrSL:kye,rotrSH:Bye,rotrSL:Pye,rotrBH:Lye,rotrBL:Dye,rotr32H:Uye,rotr32L:Hye,rotlSH:Fye,rotlSL:qye,rotlBH:Vye,rotlBL:jye,add:Kye,add3L:zye,add3H:Gye,add4L:$ye,add4H:Wye,add5H:Xye,add5L:Yye};lr.default=NJe});var Qye=V(Xn=>{"use strict";m();g();Object.defineProperty(Xn,"__esModule",{value:!0});Xn.sha512_224=Xn.sha512_256=Xn.sha384=Xn.sha512=Xn.sha224=Xn.sha256=Xn.SHA512_256=Xn.SHA512_224=Xn.SHA384=Xn.SHA512=Xn.SHA224=Xn.SHA256=void 0;var zt=hF(),Nr=Zye(),mo=kT(),MJe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),om=new Uint32Array(64),xS=class extends zt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=zt.SHA256_IV[0]|0,this.B=zt.SHA256_IV[1]|0,this.C=zt.SHA256_IV[2]|0,this.D=zt.SHA256_IV[3]|0,this.E=zt.SHA256_IV[4]|0,this.F=zt.SHA256_IV[5]|0,this.G=zt.SHA256_IV[6]|0,this.H=zt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let y=0;y<16;y++,r+=4)om[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let E=om[y-15],I=om[y-2],O=(0,mo.rotr)(E,7)^(0,mo.rotr)(E,18)^E>>>3,N=(0,mo.rotr)(I,17)^(0,mo.rotr)(I,19)^I>>>10;om[y]=N+om[y-7]+O+om[y-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:b}=this;for(let y=0;y<64;y++){let E=(0,mo.rotr)(f,6)^(0,mo.rotr)(f,11)^(0,mo.rotr)(f,25),I=b+E+(0,zt.Chi)(f,l,h)+MJe[y]+om[y]|0,N=((0,mo.rotr)(n,2)^(0,mo.rotr)(n,13)^(0,mo.rotr)(n,22))+(0,zt.Maj)(n,i,s)|0;b=h,h=l,l=f,f=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,b=b+this.H|0,this.set(n,i,s,a,f,l,h,b)}roundClean(){(0,mo.clean)(om)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,mo.clean)(this.buffer)}};Xn.SHA256=xS;var FT=class extends xS{static{o(this,"SHA224")}constructor(){super(28),this.A=zt.SHA224_IV[0]|0,this.B=zt.SHA224_IV[1]|0,this.C=zt.SHA224_IV[2]|0,this.D=zt.SHA224_IV[3]|0,this.E=zt.SHA224_IV[4]|0,this.F=zt.SHA224_IV[5]|0,this.G=zt.SHA224_IV[6]|0,this.H=zt.SHA224_IV[7]|0}};Xn.SHA224=FT;var Jye=Nr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),CJe=Jye[0],kJe=Jye[1],sm=new Uint32Array(80),am=new Uint32Array(80),T1=class extends zt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=zt.SHA512_IV[0]|0,this.Al=zt.SHA512_IV[1]|0,this.Bh=zt.SHA512_IV[2]|0,this.Bl=zt.SHA512_IV[3]|0,this.Ch=zt.SHA512_IV[4]|0,this.Cl=zt.SHA512_IV[5]|0,this.Dh=zt.SHA512_IV[6]|0,this.Dl=zt.SHA512_IV[7]|0,this.Eh=zt.SHA512_IV[8]|0,this.El=zt.SHA512_IV[9]|0,this.Fh=zt.SHA512_IV[10]|0,this.Fl=zt.SHA512_IV[11]|0,this.Gh=zt.SHA512_IV[12]|0,this.Gl=zt.SHA512_IV[13]|0,this.Hh=zt.SHA512_IV[14]|0,this.Hl=zt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:b,Fh:y,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k]}set(e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=b|0,this.Fh=y|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)sm[M]=e.getUint32(r),am[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=sm[M-15]|0,q=am[M-15]|0,j=Nr.rotrSH(U,q,1)^Nr.rotrSH(U,q,8)^Nr.shrSH(U,q,7),re=Nr.rotrSL(U,q,1)^Nr.rotrSL(U,q,8)^Nr.shrSL(U,q,7),Y=sm[M-2]|0,X=am[M-2]|0,S=Nr.rotrSH(Y,X,19)^Nr.rotrBH(Y,X,61)^Nr.shrSH(Y,X,6),c=Nr.rotrSL(Y,X,19)^Nr.rotrBL(Y,X,61)^Nr.shrSL(Y,X,6),d=Nr.add4L(re,c,am[M-7],am[M-16]),p=Nr.add4H(d,j,S,sm[M-7],sm[M-16]);sm[M]=p|0,am[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:b,Eh:y,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let U=Nr.rotrSH(y,E,14)^Nr.rotrSH(y,E,18)^Nr.rotrBH(y,E,41),q=Nr.rotrSL(y,E,14)^Nr.rotrSL(y,E,18)^Nr.rotrBL(y,E,41),j=y&I^~y&N,re=E&O^~E&k,Y=Nr.add5L(L,q,re,kJe[M],am[M]),X=Nr.add5H(Y,C,U,j,CJe[M],sm[M]),S=Y|0,c=Nr.rotrSH(n,i,28)^Nr.rotrBH(n,i,34)^Nr.rotrBH(n,i,39),d=Nr.rotrSL(n,i,28)^Nr.rotrBL(n,i,34)^Nr.rotrBL(n,i,39),p=n&s^n&f^s&f,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=y|0,O=E|0,{h:y,l:E}=Nr.add(h|0,b|0,X|0,S|0),h=f|0,b=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let v=Nr.add3L(S,d,x);n=Nr.add3H(v,X,c,p),i=v|0}({h:n,l:i}=Nr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Nr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=Nr.add(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:b}=Nr.add(this.Dh|0,this.Dl|0,h|0,b|0),{h:y,l:E}=Nr.add(this.Eh|0,this.El|0,y|0,E|0),{h:I,l:O}=Nr.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=Nr.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=Nr.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,f,l,h,b,y,E,I,O,N,k,C,L)}roundClean(){(0,mo.clean)(sm,am)}destroy(){(0,mo.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Xn.SHA512=T1;var qT=class extends T1{static{o(this,"SHA384")}constructor(){super(48),this.Ah=zt.SHA384_IV[0]|0,this.Al=zt.SHA384_IV[1]|0,this.Bh=zt.SHA384_IV[2]|0,this.Bl=zt.SHA384_IV[3]|0,this.Ch=zt.SHA384_IV[4]|0,this.Cl=zt.SHA384_IV[5]|0,this.Dh=zt.SHA384_IV[6]|0,this.Dl=zt.SHA384_IV[7]|0,this.Eh=zt.SHA384_IV[8]|0,this.El=zt.SHA384_IV[9]|0,this.Fh=zt.SHA384_IV[10]|0,this.Fl=zt.SHA384_IV[11]|0,this.Gh=zt.SHA384_IV[12]|0,this.Gl=zt.SHA384_IV[13]|0,this.Hh=zt.SHA384_IV[14]|0,this.Hl=zt.SHA384_IV[15]|0}};Xn.SHA384=qT;var ca=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),fa=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),VT=class extends T1{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=ca[0]|0,this.Al=ca[1]|0,this.Bh=ca[2]|0,this.Bl=ca[3]|0,this.Ch=ca[4]|0,this.Cl=ca[5]|0,this.Dh=ca[6]|0,this.Dl=ca[7]|0,this.Eh=ca[8]|0,this.El=ca[9]|0,this.Fh=ca[10]|0,this.Fl=ca[11]|0,this.Gh=ca[12]|0,this.Gl=ca[13]|0,this.Hh=ca[14]|0,this.Hl=ca[15]|0}};Xn.SHA512_224=VT;var jT=class extends T1{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=fa[0]|0,this.Al=fa[1]|0,this.Bh=fa[2]|0,this.Bl=fa[3]|0,this.Ch=fa[4]|0,this.Cl=fa[5]|0,this.Dh=fa[6]|0,this.Dl=fa[7]|0,this.Eh=fa[8]|0,this.El=fa[9]|0,this.Fh=fa[10]|0,this.Fl=fa[11]|0,this.Gh=fa[12]|0,this.Gl=fa[13]|0,this.Hh=fa[14]|0,this.Hl=fa[15]|0}};Xn.SHA512_256=jT;Xn.sha256=(0,mo.createHasher)(()=>new xS);Xn.sha224=(0,mo.createHasher)(()=>new FT);Xn.sha512=(0,mo.createHasher)(()=>new T1);Xn.sha384=(0,mo.createHasher)(()=>new qT);Xn.sha512_256=(0,mo.createHasher)(()=>new jT);Xn.sha512_224=(0,mo.createHasher)(()=>new VT)});var ebe=V(Sd=>{"use strict";m();g();Object.defineProperty(Sd,"__esModule",{value:!0});Sd.sha224=Sd.SHA224=Sd.sha256=Sd.SHA256=void 0;var KT=Qye();Sd.SHA256=KT.SHA256;Sd.sha256=KT.sha256;Sd.SHA224=KT.SHA224;Sd.sha224=KT.sha224});var Ed=V(To=>{"use strict";m();g();Object.defineProperty(To,"__esModule",{value:!0});To.taggedHash=To.TAGGED_HASH_PREFIXES=To.TAGS=To.hash256=To.hash160=To.sha256=To.sha1=To.ripemd160=void 0;var{Buffer:Ua}=Yi(),tbe=Tye(),BJe=Oye(),zT=ebe();function PJe(t){return Ua.from((0,tbe.ripemd160)(Uint8Array.from(t)))}o(PJe,"ripemd160");To.ripemd160=PJe;function LJe(t){return Ua.from((0,BJe.sha1)(Uint8Array.from(t)))}o(LJe,"sha1");To.sha1=LJe;function rbe(t){return Ua.from((0,zT.sha256)(Uint8Array.from(t)))}o(rbe,"sha256");To.sha256=rbe;function DJe(t){return Ua.from((0,tbe.ripemd160)((0,zT.sha256)(Uint8Array.from(t))))}o(DJe,"hash160");To.hash160=DJe;function UJe(t){return Ua.from((0,zT.sha256)((0,zT.sha256)(Uint8Array.from(t))))}o(UJe,"hash256");To.hash256=UJe;To.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];To.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Ua.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Ua.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Ua.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Ua.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Ua.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Ua.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Ua.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Ua.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Ua.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function HJe(t,e){return rbe(Ua.concat([To.TAGGED_HASH_PREFIXES[t],e]))}o(HJe,"taggedHash");To.taggedHash=HJe});var ibe=V(GT=>{"use strict";m();g();Object.defineProperty(GT,"__esModule",{value:!0});GT.p2pkh=void 0;var bF=Ed(),FJe=zf(),uv=La(),Ha=bs(),Z0=W0(),nbe=Fx(),cm=uv.OPS;function qJe(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ha.typeforce)({network:Ha.typeforce.maybe(Ha.typeforce.Object),address:Ha.typeforce.maybe(Ha.typeforce.String),hash:Ha.typeforce.maybe(Ha.typeforce.BufferN(20)),output:Ha.typeforce.maybe(Ha.typeforce.BufferN(25)),pubkey:Ha.typeforce.maybe(Ha.isPoint),signature:Ha.typeforce.maybe(uv.isCanonicalScriptSignature),input:Ha.typeforce.maybe(Ha.typeforce.Buffer)},t);let r=Z0.value(()=>{let a=Buffer.from(nbe.decode(t.address)),f=a.readUInt8(0),l=a.slice(1);return{version:f,hash:l}}),n=Z0.value(()=>uv.decompile(t.input)),i=t.network||FJe.bitcoin,s={name:"p2pkh",network:i};if(Z0.prop(s,"address",()=>{if(!s.hash)return;let a=Buffer.allocUnsafe(21);return a.writeUInt8(i.pubKeyHash,0),s.hash.copy(a,1),nbe.encode(a)}),Z0.prop(s,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||s.pubkey)return bF.hash160(t.pubkey||s.pubkey)}),Z0.prop(s,"output",()=>{if(s.hash)return uv.compile([cm.OP_DUP,cm.OP_HASH160,s.hash,cm.OP_EQUALVERIFY,cm.OP_CHECKSIG])}),Z0.prop(s,"pubkey",()=>{if(t.input)return n()[1]}),Z0.prop(s,"signature",()=>{if(t.input)return n()[0]}),Z0.prop(s,"input",()=>{if(t.pubkey&&t.signature)return uv.compile([t.signature,t.pubkey])}),Z0.prop(s,"witness",()=>{if(s.input)return[]}),e.validate){let a=Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");a=r().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==cm.OP_DUP||t.output[1]!==cm.OP_HASH160||t.output[2]!==20||t.output[23]!==cm.OP_EQUALVERIFY||t.output[24]!==cm.OP_CHECKSIG)throw new TypeError("Output is invalid");let f=t.output.slice(3,23);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(t.pubkey){let f=bF.hash160(t.pubkey);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(t.input){let f=n();if(f.length!==2)throw new TypeError("Input is invalid");if(!uv.isCanonicalScriptSignature(f[0]))throw new TypeError("Input has invalid signature");if(!(0,Ha.isPoint)(f[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(f[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(f[1]))throw new TypeError("Pubkey mismatch");let l=bF.hash160(f[1]);if(a.length>0&&!a.equals(l))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}o(qJe,"p2pkh");GT.p2pkh=qJe});var abe=V($T=>{"use strict";m();g();Object.defineProperty($T,"__esModule",{value:!0});$T.p2sh=void 0;var obe=Ed(),VJe=zf(),Id=La(),bi=bs(),Ad=W0(),sbe=Fx(),vS=Id.OPS;function jJe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(jJe,"stacksEqual");function KJe(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,bi.typeforce)({network:bi.typeforce.maybe(bi.typeforce.Object),address:bi.typeforce.maybe(bi.typeforce.String),hash:bi.typeforce.maybe(bi.typeforce.BufferN(20)),output:bi.typeforce.maybe(bi.typeforce.BufferN(23)),redeem:bi.typeforce.maybe({network:bi.typeforce.maybe(bi.typeforce.Object),output:bi.typeforce.maybe(bi.typeforce.Buffer),input:bi.typeforce.maybe(bi.typeforce.Buffer),witness:bi.typeforce.maybe(bi.typeforce.arrayOf(bi.typeforce.Buffer))}),input:bi.typeforce.maybe(bi.typeforce.Buffer),witness:bi.typeforce.maybe(bi.typeforce.arrayOf(bi.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||VJe.bitcoin);let n={network:r},i=Ad.value(()=>{let f=Buffer.from(sbe.decode(t.address)),l=f.readUInt8(0),h=f.slice(1);return{version:l,hash:h}}),s=Ad.value(()=>Id.decompile(t.input)),a=Ad.value(()=>{let f=s(),l=f[f.length-1];return{network:r,output:l===vS.OP_FALSE?Buffer.from([]):l,input:Id.compile(f.slice(0,-1)),witness:t.witness||[]}});if(Ad.prop(n,"address",()=>{if(!n.hash)return;let f=Buffer.allocUnsafe(21);return f.writeUInt8(n.network.scriptHash,0),n.hash.copy(f,1),sbe.encode(f)}),Ad.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return obe.hash160(n.redeem.output)}),Ad.prop(n,"output",()=>{if(n.hash)return Id.compile([vS.OP_HASH160,n.hash,vS.OP_EQUAL])}),Ad.prop(n,"redeem",()=>{if(t.input)return a()}),Ad.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return Id.compile([].concat(Id.decompile(t.redeem.input),t.redeem.output))}),Ad.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Ad.prop(n,"name",()=>{let f=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&f.push(n.redeem.name),f.join("-")}),e.validate){let f=Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");f=i().hash}if(t.hash){if(f.length>0&&!f.equals(t.hash))throw new TypeError("Hash mismatch");f=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==vS.OP_HASH160||t.output[1]!==20||t.output[22]!==vS.OP_EQUAL)throw new TypeError("Output is invalid");let h=t.output.slice(2,22);if(f.length>0&&!f.equals(h))throw new TypeError("Hash mismatch");f=h}let l=o(h=>{if(h.output){let b=Id.decompile(h.output);if(!b||b.length<1)throw new TypeError("Redeem.output too short");if(h.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(Id.countNonPushOnlyOPs(b)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let y=obe.hash160(h.output);if(f.length>0&&!f.equals(y))throw new TypeError("Hash mismatch");f=y}if(h.input){let b=h.input.length>0,y=h.witness&&h.witness.length>0;if(!b&&!y)throw new TypeError("Empty input");if(b&&y)throw new TypeError("Input and witness provided");if(b){let E=Id.decompile(h.input);if(!Id.isPushOnly(E))throw new TypeError("Non push-only scriptSig")}}},"checkRedeem");if(t.input){let h=s();if(!h||h.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(a().output))throw new TypeError("Input is invalid");l(a())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let h=a();if(t.redeem.output&&!t.redeem.output.equals(h.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(h.input))throw new TypeError("Redeem.input mismatch")}l(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!jJe(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}o(KJe,"p2sh");$T.p2sh=KJe});var fbe=V(XT=>{"use strict";m();g();Object.defineProperty(XT,"__esModule",{value:!0});XT.p2wpkh=void 0;var{Buffer:vF}=Yi(),xF=Ed(),zJe=zf(),YT=La(),Ro=bs(),fm=W0(),WT=Lx(),cbe=YT.OPS,GJe=vF.alloc(0);function $Je(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ro.typeforce)({address:Ro.typeforce.maybe(Ro.typeforce.String),hash:Ro.typeforce.maybe(Ro.typeforce.BufferN(20)),input:Ro.typeforce.maybe(Ro.typeforce.BufferN(0)),network:Ro.typeforce.maybe(Ro.typeforce.Object),output:Ro.typeforce.maybe(Ro.typeforce.BufferN(22)),pubkey:Ro.typeforce.maybe(Ro.isPoint),signature:Ro.typeforce.maybe(YT.isCanonicalScriptSignature),witness:Ro.typeforce.maybe(Ro.typeforce.arrayOf(Ro.typeforce.Buffer))},t);let r=fm.value(()=>{let s=WT.bech32.decode(t.address),a=s.words.shift(),f=WT.bech32.fromWords(s.words);return{version:a,prefix:s.prefix,data:vF.from(f)}}),n=t.network||zJe.bitcoin,i={name:"p2wpkh",network:n};if(fm.prop(i,"address",()=>{if(!i.hash)return;let s=WT.bech32.toWords(i.hash);return s.unshift(0),WT.bech32.encode(n.bech32,s)}),fm.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return xF.hash160(t.pubkey||i.pubkey)}),fm.prop(i,"output",()=>{if(i.hash)return YT.compile([cbe.OP_0,i.hash])}),fm.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),fm.prop(i,"signature",()=>{if(t.witness)return t.witness[0]}),fm.prop(i,"input",()=>{if(i.witness)return GJe}),fm.prop(i,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let s=vF.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==cbe.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");s=t.output.slice(2)}if(t.pubkey){let a=xF.hash160(t.pubkey);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");if(s=a,!(0,Ro.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!YT.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Ro.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let a=xF.hash160(t.witness[1]);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}o($Je,"p2wpkh");XT.p2wpkh=$Je});var dbe=V(eR=>{"use strict";m();g();Object.defineProperty(eR,"__esModule",{value:!0});eR.p2wsh=void 0;var{Buffer:QT}=Yi(),ube=Ed(),WJe=zf(),Q0=La(),li=bs(),J0=W0(),ZT=Lx(),lbe=Q0.OPS,_F=QT.alloc(0);function YJe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(YJe,"stacksEqual");function JT(t){return!!(QT.isBuffer(t)&&t.length===65&&t[0]===4&&(0,li.isPoint)(t))}o(JT,"chunkHasUncompressedPubkey");function XJe(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,li.typeforce)({network:li.typeforce.maybe(li.typeforce.Object),address:li.typeforce.maybe(li.typeforce.String),hash:li.typeforce.maybe(li.typeforce.BufferN(32)),output:li.typeforce.maybe(li.typeforce.BufferN(34)),redeem:li.typeforce.maybe({input:li.typeforce.maybe(li.typeforce.Buffer),network:li.typeforce.maybe(li.typeforce.Object),output:li.typeforce.maybe(li.typeforce.Buffer),witness:li.typeforce.maybe(li.typeforce.arrayOf(li.typeforce.Buffer))}),input:li.typeforce.maybe(li.typeforce.BufferN(0)),witness:li.typeforce.maybe(li.typeforce.arrayOf(li.typeforce.Buffer))},t);let r=J0.value(()=>{let a=ZT.bech32.decode(t.address),f=a.words.shift(),l=ZT.bech32.fromWords(a.words);return{version:f,prefix:a.prefix,data:QT.from(l)}}),n=J0.value(()=>Q0.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||WJe.bitcoin);let s={network:i};if(J0.prop(s,"address",()=>{if(!s.hash)return;let a=ZT.bech32.toWords(s.hash);return a.unshift(0),ZT.bech32.encode(i.bech32,a)}),J0.prop(s,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.redeem&&s.redeem.output)return ube.sha256(s.redeem.output)}),J0.prop(s,"output",()=>{if(s.hash)return Q0.compile([lbe.OP_0,s.hash])}),J0.prop(s,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:_F,witness:t.witness.slice(0,-1)}}),J0.prop(s,"input",()=>{if(s.witness)return _F}),J0.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let a=Q0.toStack(n());return s.redeem=Object.assign({witness:a},t.redeem),s.redeem.input=_F,[].concat(a,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),J0.prop(s,"name",()=>{let a=["p2wsh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&a.push(s.redeem.name),a.join("-")}),e.validate){let a=QT.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==lbe.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let f=t.output.slice(2);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let f=Q0.decompile(t.redeem.output);if(!f||f.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(Q0.countNonPushOnlyOPs(f)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let l=ube.sha256(t.redeem.output);if(a.length>0&&!a.equals(l))throw new TypeError("Hash mismatch");a=l}if(t.redeem.input&&!Q0.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!YJe(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(JT)||t.redeem.output&&(Q0.decompile(t.redeem.output)||[]).some(JT))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let f=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(f))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(JT)||(Q0.decompile(f)||[]).some(JT))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)}o(XJe,"p2wsh");eR.p2wsh=XJe});var tR=V(lv=>{"use strict";m();g();Object.defineProperty(lv,"__esModule",{value:!0});lv.getEccLib=lv.initEccLib=void 0;var _S={};function ZJe(t){t?t!==_S.eccLib&&(QJe(t),_S.eccLib=t):_S.eccLib=t}o(ZJe,"initEccLib");lv.initEccLib=ZJe;function JJe(){if(!_S.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return _S.eccLib}o(JJe,"getEccLib");lv.getEccLib=JJe;var eh=o(t=>Buffer.from(t,"hex"),"h");function QJe(t){Gf(typeof t.isXOnlyPoint=="function"),Gf(t.isXOnlyPoint(eh("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Gf(t.isXOnlyPoint(eh("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),Gf(t.isXOnlyPoint(eh("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),Gf(t.isXOnlyPoint(eh("0000000000000000000000000000000000000000000000000000000000000001"))),Gf(!t.isXOnlyPoint(eh("0000000000000000000000000000000000000000000000000000000000000000"))),Gf(!t.isXOnlyPoint(eh("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),Gf(typeof t.xOnlyPointAddTweak=="function"),eQe.forEach(e=>{let r=t.xOnlyPointAddTweak(eh(e.pubkey),eh(e.tweak));e.result===null?Gf(r===null):(Gf(r!==null),Gf(r.parity===e.parity),Gf(Buffer.from(r.xOnlyPubkey).equals(eh(e.result))))})}o(QJe,"verifyEcc");function Gf(t){if(!t)throw new Error("ecc library invalid")}o(Gf,"assert");var eQe=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var mbe=V((XJt,pbe)=>{"use strict";m();g();var wF=yr().Buffer,tQe=9007199254740991;function SF(t){if(t<0||t>tQe||t%1!==0)throw new RangeError("value out of range")}o(SF,"checkUInt53");function wS(t,e,r){if(SF(t),e||(e=wF.allocUnsafe(hbe(t))),!wF.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),wS.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),wS.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),wS.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),wS.bytes=9),e}o(wS,"encode");function SS(t,e){if(!wF.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return SS.bytes=1,r;if(r===253)return SS.bytes=3,t.readUInt16LE(e+1);if(r===254)return SS.bytes=5,t.readUInt32LE(e+1);SS.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return SF(s),s}o(SS,"decode");function hbe(t){return SF(t),t<253?1:t<=65535?3:t<=4294967295?5:9}o(hbe,"encodingLength");pbe.exports={encode:wS,decode:SS,encodingLength:hbe}});var AS=V(ua=>{"use strict";m();g();Object.defineProperty(ua,"__esModule",{value:!0});ua.BufferReader=ua.BufferWriter=ua.cloneBuffer=ua.reverseBuffer=ua.writeUInt64LE=ua.readUInt64LE=ua.varuint=void 0;var R1=bs(),{typeforce:gbe}=R1,ES=mbe();ua.varuint=ES;function ybe(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}o(ybe,"verifuint");function bbe(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,ybe(n+r,9007199254740991),n+r}o(bbe,"readUInt64LE");ua.readUInt64LE=bbe;function xbe(t,e,r){return ybe(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}o(xbe,"writeUInt64LE");ua.writeUInt64LE=xbe;function rQe(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}o(rQe,"reverseBuffer");ua.reverseBuffer=rQe;function nQe(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}o(nQe,"cloneBuffer");ua.cloneBuffer=nQe;var EF=class t{static{o(this,"BufferWriter")}static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,gbe(R1.tuple(R1.Buffer,R1.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=xbe(this.buffer,e,this.offset)}writeVarInt(e){ES.encode(e,this.buffer,this.offset),this.offset+=ES.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};ua.BufferWriter=EF;var AF=class{static{o(this,"BufferReader")}constructor(e,r=0){this.buffer=e,this.offset=r,gbe(R1.tuple(R1.Buffer,R1.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=bbe(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=ES.decode(this.buffer,this.offset);return this.offset+=ES.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};ua.BufferReader=AF});var rR=V(Oo=>{"use strict";m();g();Object.defineProperty(Oo,"__esModule",{value:!0});Oo.tweakKey=Oo.tapTweakHash=Oo.tapleafHash=Oo.findScriptPath=Oo.toHashTree=Oo.rootHashFromPath=Oo.MAX_TAPTREE_DEPTH=Oo.LEAF_VERSION_TAPSCRIPT=void 0;var um=Yi(),iQe=tR(),OF=Ed(),vbe=AS(),oQe=bs();Oo.LEAF_VERSION_TAPSCRIPT=192;Oo.MAX_TAPTREE_DEPTH=128;var sQe=o(t=>"left"in t&&"right"in t,"isHashBranch");function aQe(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let s=t.slice(33+32*i,65+32*i);n.compare(s)<0?n=RF(n,s):n=RF(s,n)}return n}o(aQe,"rootHashFromPath");Oo.rootHashFromPath=aQe;function IF(t){if((0,oQe.isTapleaf)(t))return{hash:_be(t)};let e=[IF(t[0]),IF(t[1])];e.sort((i,s)=>i.hash.compare(s.hash));let[r,n]=e;return{hash:RF(r.hash,n.hash),left:r,right:n}}o(IF,"toHashTree");Oo.toHashTree=IF;function TF(t,e){if(sQe(t)){let r=TF(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=TF(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}o(TF,"findScriptPath");Oo.findScriptPath=TF;function _be(t){let e=t.version||Oo.LEAF_VERSION_TAPSCRIPT;return OF.taggedHash("TapLeaf",um.Buffer.concat([um.Buffer.from([e]),fQe(t.output)]))}o(_be,"tapleafHash");Oo.tapleafHash=_be;function wbe(t,e){return OF.taggedHash("TapTweak",um.Buffer.concat(e?[t,e]:[t]))}o(wbe,"tapTweakHash");Oo.tapTweakHash=wbe;function cQe(t,e){if(!um.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=wbe(t,e),n=(0,iQe.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:um.Buffer.from(n.xOnlyPubkey)}}o(cQe,"tweakKey");Oo.tweakKey=cQe;function RF(t,e){return OF.taggedHash("TapBranch",um.Buffer.concat([t,e]))}o(RF,"tapBranchHash");function fQe(t){let e=vbe.varuint.encodingLength(t.length),r=um.Buffer.allocUnsafe(e);return vbe.varuint.encode(t.length,r),um.Buffer.concat([r,t])}o(fQe,"serializeScript")});var Ibe=V(oR=>{"use strict";m();g();Object.defineProperty(oR,"__esModule",{value:!0});oR.p2tr=void 0;var nR=Yi(),uQe=zf(),NF=La(),Dr=bs(),Sbe=tR(),yc=rR(),$f=W0(),iR=Lx(),Ebe=NF.OPS,Abe=1,lQe=80;function dQe(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Dr.typeforce)({address:Dr.typeforce.maybe(Dr.typeforce.String),input:Dr.typeforce.maybe(Dr.typeforce.BufferN(0)),network:Dr.typeforce.maybe(Dr.typeforce.Object),output:Dr.typeforce.maybe(Dr.typeforce.BufferN(34)),internalPubkey:Dr.typeforce.maybe(Dr.typeforce.BufferN(32)),hash:Dr.typeforce.maybe(Dr.typeforce.BufferN(32)),pubkey:Dr.typeforce.maybe(Dr.typeforce.BufferN(32)),signature:Dr.typeforce.maybe(Dr.typeforce.anyOf(Dr.typeforce.BufferN(64),Dr.typeforce.BufferN(65))),witness:Dr.typeforce.maybe(Dr.typeforce.arrayOf(Dr.typeforce.Buffer)),scriptTree:Dr.typeforce.maybe(Dr.isTaptree),redeem:Dr.typeforce.maybe({output:Dr.typeforce.maybe(Dr.typeforce.Buffer),redeemVersion:Dr.typeforce.maybe(Dr.typeforce.Number),witness:Dr.typeforce.maybe(Dr.typeforce.arrayOf(Dr.typeforce.Buffer))}),redeemVersion:Dr.typeforce.maybe(Dr.typeforce.Number)},t);let r=$f.value(()=>{let f=iR.bech32m.decode(t.address),l=f.words.shift(),h=iR.bech32m.fromWords(f.words);return{version:l,prefix:f.prefix,data:nR.Buffer.from(h)}}),n=$f.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===lQe?t.witness.slice(0,-1):t.witness.slice()}),i=$f.value(()=>{if(t.scriptTree)return(0,yc.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),s=t.network||uQe.bitcoin,a={name:"p2tr",network:s};if($f.prop(a,"address",()=>{if(!a.pubkey)return;let f=iR.bech32m.toWords(a.pubkey);return f.unshift(Abe),iR.bech32m.encode(s.bech32,f)}),$f.prop(a,"hash",()=>{let f=i();if(f)return f.hash;let l=n();if(l&&l.length>1){let h=l[l.length-1],b=h[0]&Dr.TAPLEAF_VERSION_MASK,y=l[l.length-2],E=(0,yc.tapleafHash)({output:y,version:b});return(0,yc.rootHashFromPath)(h,E)}return null}),$f.prop(a,"output",()=>{if(a.pubkey)return NF.compile([Ebe.OP_1,a.pubkey])}),$f.prop(a,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:yc.LEAF_VERSION_TAPSCRIPT),$f.prop(a,"redeem",()=>{let f=n();if(!(!f||f.length<2))return{output:f[f.length-2],witness:f.slice(0,-2),redeemVersion:f[f.length-1][0]&Dr.TAPLEAF_VERSION_MASK}}),$f.prop(a,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(a.internalPubkey){let f=(0,yc.tweakKey)(a.internalPubkey,a.hash);if(f)return f.x}}),$f.prop(a,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let f=n();if(f&&f.length>1)return f[f.length-1].slice(1,33)}),$f.prop(a,"signature",()=>{if(t.signature)return t.signature;let f=n();if(!(!f||f.length!==1))return f[0]}),$f.prop(a,"witness",()=>{if(t.witness)return t.witness;let f=i();if(f&&t.redeem&&t.redeem.output&&t.internalPubkey){let l=(0,yc.tapleafHash)({output:t.redeem.output,version:a.redeemVersion}),h=(0,yc.findScriptPath)(f,l);if(!h)return;let b=(0,yc.tweakKey)(t.internalPubkey,f.hash);if(!b)return;let y=nR.Buffer.concat([nR.Buffer.from([a.redeemVersion|b.parity]),t.internalPubkey].concat(h));return[t.redeem.output,y]}if(t.signature)return[t.signature]}),e.validate){let f=nR.Buffer.from([]);if(t.address){if(s&&s.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==Abe)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");f=r().data}if(t.pubkey){if(f.length>0&&!f.equals(t.pubkey))throw new TypeError("Pubkey mismatch");f=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==Ebe.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(f.length>0&&!f.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");f=t.output.slice(2)}if(t.internalPubkey){let b=(0,yc.tweakKey)(t.internalPubkey,a.hash);if(f.length>0&&!f.equals(b.x))throw new TypeError("Pubkey mismatch");f=b.x}if(f&&f.length&&!(0,Sbe.getEccLib)().isXOnlyPoint(f))throw new TypeError("Invalid pubkey for p2tr");let l=i();if(t.hash&&l&&!t.hash.equals(l.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&l){let b=(0,yc.tapleafHash)({output:t.redeem.output,version:a.redeemVersion});if(!(0,yc.findScriptPath)(l,b))throw new TypeError("Redeem script not in tree")}let h=n();if(t.redeem&&a.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==a.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(NF.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(a.redeem.output&&!t.redeem.output.equals(a.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&a.redeem.witness&&!hQe(t.redeem.witness,a.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(h&&h.length)if(h.length===1){if(t.signature&&!t.signature.equals(h[0]))throw new TypeError("Signature mismatch")}else{let b=h[h.length-1];if(b.length<33)throw new TypeError(`The control-block length is too small. Got ${b.length}, expected min 33.`);if((b.length-33)%32!==0)throw new TypeError(`The control-block length of ${b.length} is incorrect!`);let y=(b.length-33)/32;if(y>128)throw new TypeError(`The script path is too long. Got ${y}, expected max 128.`);let E=b.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(E))throw new TypeError("Internal pubkey mismatch");if(!(0,Sbe.getEccLib)().isXOnlyPoint(E))throw new TypeError("Invalid internalPubkey for p2tr witness");let I=b[0]&Dr.TAPLEAF_VERSION_MASK,O=h[h.length-2],N=(0,yc.tapleafHash)({output:O,version:I}),k=(0,yc.rootHashFromPath)(b,N),C=(0,yc.tweakKey)(E,k);if(!C)throw new TypeError("Invalid outputKey for p2tr witness");if(f.length&&!f.equals(C.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(C.parity!==(b[0]&1))throw new Error("Incorrect parity")}}return Object.assign(a,t)}o(dQe,"p2tr");oR.p2tr=dQe;function hQe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(hQe,"stacksEqual")});var dv=V(Zo=>{"use strict";m();g();Object.defineProperty(Zo,"__esModule",{value:!0});Zo.p2tr=Zo.p2wsh=Zo.p2wpkh=Zo.p2sh=Zo.p2pkh=Zo.p2pk=Zo.p2ms=Zo.embed=void 0;var pQe=sye();Object.defineProperty(Zo,"embed",{enumerable:!0,get:o(function(){return pQe.p2data},"get")});var mQe=cye();Object.defineProperty(Zo,"p2ms",{enumerable:!0,get:o(function(){return mQe.p2ms},"get")});var gQe=uye();Object.defineProperty(Zo,"p2pk",{enumerable:!0,get:o(function(){return gQe.p2pk},"get")});var yQe=ibe();Object.defineProperty(Zo,"p2pkh",{enumerable:!0,get:o(function(){return yQe.p2pkh},"get")});var bQe=abe();Object.defineProperty(Zo,"p2sh",{enumerable:!0,get:o(function(){return bQe.p2sh},"get")});var xQe=fbe();Object.defineProperty(Zo,"p2wpkh",{enumerable:!0,get:o(function(){return xQe.p2wpkh},"get")});var vQe=dbe();Object.defineProperty(Zo,"p2wsh",{enumerable:!0,get:o(function(){return vQe.p2wsh},"get")});var _Qe=Ibe();Object.defineProperty(Zo,"p2tr",{enumerable:!0,get:o(function(){return _Qe.p2tr},"get")})});var MF=V(bc=>{"use strict";m();g();Object.defineProperty(bc,"__esModule",{value:!0});bc.toOutputScript=bc.fromOutputScript=bc.toBech32=bc.toBase58Check=bc.fromBech32=bc.fromBase58Check=void 0;var Tbe=zf(),Td=dv(),Rbe=La(),sR=bs(),hv=Lx(),Obe=Fx(),Nbe=40,Mbe=2,Cbe=16,kbe=2,Bbe=80,Pbe="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function wQe(t,e){let r=t.slice(2);if(r.length<Mbe||r.length>Nbe)throw new TypeError("Invalid program length for segwit address");let n=t[0]-Bbe;if(n<kbe||n>Cbe)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(Pbe),Ube(r,n,e.bech32)}o(wQe,"_toFutureSegwitAddress");function Lbe(t){let e=Buffer.from(Obe.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}o(Lbe,"fromBase58Check");bc.fromBase58Check=Lbe;function Dbe(t){let e,r;try{e=hv.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=hv.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=hv.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}o(Dbe,"fromBech32");bc.fromBech32=Dbe;function SQe(t,e){(0,sR.typeforce)((0,sR.tuple)(sR.Hash160bit,sR.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),Obe.encode(r)}o(SQe,"toBase58Check");bc.toBase58Check=SQe;function Ube(t,e,r){let n=hv.bech32.toWords(t);return n.unshift(e),e===0?hv.bech32.encode(r,n):hv.bech32m.encode(r,n)}o(Ube,"toBech32");bc.toBech32=Ube;function EQe(t,e){e=e||Tbe.bitcoin;try{return Td.p2pkh({output:t,network:e}).address}catch{}try{return Td.p2sh({output:t,network:e}).address}catch{}try{return Td.p2wpkh({output:t,network:e}).address}catch{}try{return Td.p2wsh({output:t,network:e}).address}catch{}try{return Td.p2tr({output:t,network:e}).address}catch{}try{return wQe(t,e)}catch{}throw new Error(Rbe.toASM(t)+" has no matching Address")}o(EQe,"fromOutputScript");bc.fromOutputScript=EQe;function AQe(t,e){e=e||Tbe.bitcoin;let r,n;try{r=Lbe(t)}catch{}if(r){if(r.version===e.pubKeyHash)return Td.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return Td.p2sh({hash:r.hash}).output}else{try{n=Dbe(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Td.p2wpkh({hash:n.data}).output;if(n.data.length===32)return Td.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Td.p2tr({pubkey:n.data}).output}else if(n.version>=kbe&&n.version<=Cbe&&n.data.length>=Mbe&&n.data.length<=Nbe)return console.warn(Pbe),Rbe.compile([n.version+Bbe,n.data])}}throw new Error(t+" has no matching Script")}o(AQe,"toOutputScript");bc.toOutputScript=AQe});var Hbe=V(aR=>{"use strict";m();g();Object.defineProperty(aR,"__esModule",{value:!0});aR.fastMerkleRoot=void 0;function IQe(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let i=0;for(let s=0;s<r;s+=2,++i){let a=n[s],f=s+1===r?a:n[s+1],l=Buffer.concat([a,f]);n[i]=e(l)}r=i}return n[0]}o(IQe,"fastMerkleRoot");aR.fastMerkleRoot=IQe});var pv=V(cR=>{"use strict";m();g();Object.defineProperty(cR,"__esModule",{value:!0});cR.Transaction=void 0;var{Buffer:la}=Yi(),go=AS(),Fa=Ed(),Fbe=La(),TQe=La(),en=bs(),{typeforce:Rd}=en;function Od(t){let e=t.length;return go.varuint.encodingLength(e)+e}o(Od,"varSliceSize");function RQe(t){let e=t.length;return go.varuint.encodingLength(e)+t.reduce((r,n)=>r+Od(n),0)}o(RQe,"vectorSize");var lm=la.allocUnsafe(0),qbe=[],CF=la.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),Vbe=la.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),OQe=la.from("ffffffffffffffff","hex"),NQe={script:lm,valueBuffer:OQe};function MQe(t){return t.value!==void 0}o(MQe,"isOutput");var tf=class t{static{o(this,"Transaction")}constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new go.BufferReader(e),i=new t;i.version=n.readInt32();let s=n.readUInt8(),a=n.readUInt8(),f=!1;s===t.ADVANCED_TRANSACTION_MARKER&&a===t.ADVANCED_TRANSACTION_FLAG?f=!0:n.offset-=2;let l=n.readVarInt();for(let b=0;b<l;++b)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:qbe});let h=n.readVarInt();for(let b=0;b<h;++b)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(f){for(let b=0;b<l;++b)i.ins[b].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return t.fromBuffer(la.from(e,"hex"),!1)}static isCoinbaseHash(e){Rd(en.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return Rd(en.tuple(en.Hash256bit,en.UInt32,en.maybe(en.UInt32),en.maybe(en.Buffer)),arguments),en.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||lm,sequence:n,witness:qbe})-1}addOutput(e,r){return Rd(en.tuple(en.Buffer,en.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+go.varuint.encodingLength(this.ins.length)+go.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Od(i.script),0)+this.outs.reduce((n,i)=>n+8+Od(i.script),0)+(r?this.ins.reduce((n,i)=>n+RQe(i.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(Rd(en.tuple(en.UInt32,en.Buffer,en.Number),arguments),e>=this.ins.length)return Vbe;let i=Fbe.compile(Fbe.decompile(r).filter(f=>f!==TQe.OPS.OP_CODESEPARATOR)),s=this.clone();if((n&31)===t.SIGHASH_NONE)s.outs=[],s.ins.forEach((f,l)=>{l!==e&&(f.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return Vbe;s.outs.length=e+1;for(let f=0;f<e;f++)s.outs[f]=NQe;s.ins.forEach((f,l)=>{l!==e&&(f.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=i):(s.ins.forEach(f=>{f.script=lm}),s.ins[e].script=i);let a=la.allocUnsafe(s.byteLength(!1)+4);return a.writeInt32LE(n,a.length-4),s.__toBuffer(a,0,!1),Fa.hash256(a)}hashForWitnessV1(e,r,n,i,s,a){if(Rd(en.tuple(en.UInt32,Rd.arrayOf(en.Buffer),Rd.arrayOf(en.Satoshi),en.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let f=i===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:i&t.SIGHASH_OUTPUT_MASK,h=(i&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,b=f===t.SIGHASH_NONE,y=f===t.SIGHASH_SINGLE,E=lm,I=lm,O=lm,N=lm,k=lm;if(!h){let U=go.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(q=>{U.writeSlice(q.hash),U.writeUInt32(q.index)}),E=Fa.sha256(U.end()),U=go.BufferWriter.withCapacity(8*this.ins.length),n.forEach(q=>U.writeUInt64(q)),I=Fa.sha256(U.end()),U=go.BufferWriter.withCapacity(r.map(Od).reduce((q,j)=>q+j)),r.forEach(q=>U.writeVarSlice(q)),O=Fa.sha256(U.end()),U=go.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(q=>U.writeUInt32(q.sequence)),N=Fa.sha256(U.end())}if(b||y){if(y&&e<this.outs.length){let U=this.outs[e],q=go.BufferWriter.withCapacity(8+Od(U.script));q.writeUInt64(U.value),q.writeVarSlice(U.script),k=Fa.sha256(q.end())}}else{let U=this.outs.map(j=>8+Od(j.script)).reduce((j,re)=>j+re),q=go.BufferWriter.withCapacity(U);this.outs.forEach(j=>{q.writeUInt64(j.value),q.writeVarSlice(j.script)}),k=Fa.sha256(q.end())}let C=(s?2:0)+(a?1:0),L=174-(h?49:0)-(b?32:0)+(a?32:0)+(s?37:0),M=go.BufferWriter.withCapacity(L);if(M.writeUInt8(i),M.writeInt32(this.version),M.writeUInt32(this.locktime),M.writeSlice(E),M.writeSlice(I),M.writeSlice(O),M.writeSlice(N),b||y||M.writeSlice(k),M.writeUInt8(C),h){let U=this.ins[e];M.writeSlice(U.hash),M.writeUInt32(U.index),M.writeUInt64(n[e]),M.writeVarSlice(r[e]),M.writeUInt32(U.sequence)}else M.writeUInt32(e);if(a){let U=go.BufferWriter.withCapacity(Od(a));U.writeVarSlice(a),M.writeSlice(Fa.sha256(U.end()))}return y&&M.writeSlice(k),s&&(M.writeSlice(s),M.writeUInt8(0),M.writeUInt32(4294967295)),Fa.taggedHash("TapSighash",la.concat([la.from([0]),M.end()]))}hashForWitnessV0(e,r,n,i){Rd(en.tuple(en.UInt32,en.Buffer,en.Satoshi,en.UInt32),arguments);let s=la.from([]),a,f=CF,l=CF,h=CF;if(i&t.SIGHASH_ANYONECANPAY||(s=la.allocUnsafe(36*this.ins.length),a=new go.BufferWriter(s,0),this.ins.forEach(y=>{a.writeSlice(y.hash),a.writeUInt32(y.index)}),l=Fa.hash256(s)),!(i&t.SIGHASH_ANYONECANPAY)&&(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE&&(s=la.allocUnsafe(4*this.ins.length),a=new go.BufferWriter(s,0),this.ins.forEach(y=>{a.writeUInt32(y.sequence)}),h=Fa.hash256(s)),(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE){let y=this.outs.reduce((E,I)=>E+8+Od(I.script),0);s=la.allocUnsafe(y),a=new go.BufferWriter(s,0),this.outs.forEach(E=>{a.writeUInt64(E.value),a.writeVarSlice(E.script)}),f=Fa.hash256(s)}else if((i&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let y=this.outs[e];s=la.allocUnsafe(8+Od(y.script)),a=new go.BufferWriter(s,0),a.writeUInt64(y.value),a.writeVarSlice(y.script),f=Fa.hash256(s)}s=la.allocUnsafe(156+Od(r)),a=new go.BufferWriter(s,0);let b=this.ins[e];return a.writeInt32(this.version),a.writeSlice(l),a.writeSlice(h),a.writeSlice(b.hash),a.writeUInt32(b.index),a.writeVarSlice(r),a.writeUInt64(n),a.writeUInt32(b.sequence),a.writeSlice(f),a.writeUInt32(this.locktime),a.writeUInt32(i),Fa.hash256(s)}getHash(e){return e&&this.isCoinbase()?la.alloc(32,0):Fa.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,go.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){Rd(en.tuple(en.Number,en.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){Rd(en.tuple(en.Number,[en.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=la.allocUnsafe(this.byteLength(n)));let i=new go.BufferWriter(e,r||0);i.writeInt32(this.version);let s=n&&this.hasWitnesses();return s&&(i.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(a=>{i.writeSlice(a.hash),i.writeUInt32(a.index),i.writeVarSlice(a.script),i.writeUInt32(a.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(a=>{MQe(a)?i.writeUInt64(a.value):i.writeSlice(a.valueBuffer),i.writeVarSlice(a.script)}),s&&this.ins.forEach(a=>{i.writeVector(a.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}};cR.Transaction=tf;tf.DEFAULT_SEQUENCE=4294967295;tf.SIGHASH_DEFAULT=0;tf.SIGHASH_ALL=1;tf.SIGHASH_NONE=2;tf.SIGHASH_SINGLE=3;tf.SIGHASH_ANYONECANPAY=128;tf.SIGHASH_OUTPUT_MASK=3;tf.SIGHASH_INPUT_MASK=128;tf.ADVANCED_TRANSACTION_MARKER=0;tf.ADVANCED_TRANSACTION_FLAG=1});var Gbe=V(fR=>{"use strict";m();g();Object.defineProperty(fR,"__esModule",{value:!0});fR.Block=void 0;var O1=AS(),kF=Ed(),CQe=Hbe(),kQe=pv(),zbe=bs(),{typeforce:BQe}=zbe,BF=new TypeError("Cannot compute merkle root for zero transactions"),jbe=new TypeError("Cannot compute witness commit for non-segwit block"),PF=class t{static{o(this,"Block")}constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new O1.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let i=o(()=>{let f=kQe.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=f.byteLength(),f},"readTransaction"),s=r.readVarInt();n.transactions=[];for(let f=0;f<s;++f){let l=i();n.transactions.push(l)}let a=n.getWitnessCommit();return a&&(n.witnessCommit=a),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,i=Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(e,r){if(BQe([{getHash:zbe.Function}],e),e.length===0)throw BF;if(r&&!Kbe(e))throw jbe;let n=e.map(s=>s.getHash(r)),i=(0,CQe.fastMerkleRoot)(n,kF.hash256);return r?kF.hash256(Buffer.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!Kbe(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return PQe(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+O1.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return kF.hash256(this.toBuffer(!0))}getId(){return(0,O1.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new O1.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(O1.varuint.encode(this.transactions.length,r,n.offset),n.offset+=O1.varuint.encode.bytes,this.transactions.forEach(i=>{let s=i.byteLength();i.toBuffer(r,n.offset),n.offset+=s})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,O1.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw BF;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw BF;if(!this.hasWitnessCommit())throw jbe;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};fR.Block=PF;function Kbe(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}o(Kbe,"txesHaveWitnessCommit");function PQe(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}o(PQe,"anyTxHasWitness")});var Jo=V(Ju=>{"use strict";m();g();Object.defineProperty(Ju,"__esModule",{value:!0});var LQe;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(LQe=Ju.GlobalTypes||(Ju.GlobalTypes={}));Ju.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var DQe;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(DQe=Ju.InputTypes||(Ju.InputTypes={}));Ju.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var UQe;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(UQe=Ju.OutputTypes||(Ju.OutputTypes={}));Ju.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var Wbe=V(N1=>{"use strict";m();g();Object.defineProperty(N1,"__esModule",{value:!0});var $be=Jo(),HQe=o(t=>[...Array(t).keys()],"range");function FQe(t){if(t.key[0]!==$be.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of HQe(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),s=!!(i&2147483648),a=i&2147483647;r.path+="/"+a.toString(10)+(s?"'":"")}return r}o(FQe,"decode");N1.decode=FQe;function qQe(t){let e=Buffer.from([$be.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let s=4;return n.slice(1).forEach(a=>{let f=a.slice(-1)==="'",l=2147483647&parseInt(f?a.slice(0,-1):a,10);f&&(l+=2147483648),i.writeUInt32LE(l,s),s+=4}),{key:r,value:i}}o(qQe,"encode");N1.encode=qQe;N1.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function VQe(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}o(VQe,"check");N1.check=VQe;function jQe(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}o(jQe,"canAddToArray");N1.canAddToArray=jQe});var Ybe=V(LF=>{"use strict";m();g();Object.defineProperty(LF,"__esModule",{value:!0});var KQe=Jo();function zQe(t){return{key:Buffer.from([KQe.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}o(zQe,"encode");LF.encode=zQe});var Zbe=V(M1=>{"use strict";m();g();Object.defineProperty(M1,"__esModule",{value:!0});var Xbe=Jo();function GQe(t){if(t.key[0]!==Xbe.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}o(GQe,"decode");M1.decode=GQe;function $Qe(t){return{key:Buffer.from([Xbe.InputTypes.FINAL_SCRIPTSIG]),value:t}}o($Qe,"encode");M1.encode=$Qe;M1.expected="Buffer";function WQe(t){return Buffer.isBuffer(t)}o(WQe,"check");M1.check=WQe;function YQe(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}o(YQe,"canAdd");M1.canAdd=YQe});var Qbe=V(C1=>{"use strict";m();g();Object.defineProperty(C1,"__esModule",{value:!0});var Jbe=Jo();function XQe(t){if(t.key[0]!==Jbe.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}o(XQe,"decode");C1.decode=XQe;function ZQe(t){return{key:Buffer.from([Jbe.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}o(ZQe,"encode");C1.encode=ZQe;C1.expected="Buffer";function JQe(t){return Buffer.isBuffer(t)}o(JQe,"check");C1.check=JQe;function QQe(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}o(QQe,"canAdd");C1.canAdd=QQe});var txe=V(k1=>{"use strict";m();g();Object.defineProperty(k1,"__esModule",{value:!0});var exe=Jo();function eet(t){if(t.key[0]!==exe.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}o(eet,"decode");k1.decode=eet;function tet(t){return{key:Buffer.from([exe.InputTypes.NON_WITNESS_UTXO]),value:t}}o(tet,"encode");k1.encode=tet;k1.expected="Buffer";function ret(t){return Buffer.isBuffer(t)}o(ret,"check");k1.check=ret;function net(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}o(net,"canAdd");k1.canAdd=net});var nxe=V(B1=>{"use strict";m();g();Object.defineProperty(B1,"__esModule",{value:!0});var rxe=Jo();function iet(t){if(t.key[0]!==rxe.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}o(iet,"decode");B1.decode=iet;function oet(t){let e=Buffer.from([rxe.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}o(oet,"encode");B1.encode=oet;B1.expected="{ pubkey: Buffer; signature: Buffer; }";function set(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&aet(t.signature)}o(set,"check");B1.check=set;function aet(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}o(aet,"isDerSigWithSighash");function cet(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}o(cet,"canAddToArray");B1.canAddToArray=cet});var oxe=V(P1=>{"use strict";m();g();Object.defineProperty(P1,"__esModule",{value:!0});var ixe=Jo();function fet(t){if(t.key[0]!==ixe.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}o(fet,"decode");P1.decode=fet;function uet(t){return{key:Buffer.from([ixe.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}o(uet,"encode");P1.encode=uet;P1.expected="string";function det(t){return typeof t=="string"}o(det,"check");P1.check=det;function het(t,e){return!!t&&!!e&&t.porCommitment===void 0}o(het,"canAdd");P1.canAdd=het});var axe=V(L1=>{"use strict";m();g();Object.defineProperty(L1,"__esModule",{value:!0});var sxe=Jo();function pet(t){if(t.key[0]!==sxe.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}o(pet,"decode");L1.decode=pet;function met(t){let e=Buffer.from([sxe.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}o(met,"encode");L1.encode=met;L1.expected="number";function get(t){return typeof t=="number"}o(get,"check");L1.check=get;function yet(t,e){return!!t&&!!e&&t.sighashType===void 0}o(yet,"canAdd");L1.canAdd=yet});var uxe=V(D1=>{"use strict";m();g();Object.defineProperty(D1,"__esModule",{value:!0});var cxe=Jo();function bet(t){if(t.key[0]!==cxe.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!fxe(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}o(bet,"decode");D1.decode=bet;function xet(t){return{key:Buffer.from([cxe.InputTypes.TAP_KEY_SIG]),value:t}}o(xet,"encode");D1.encode=xet;D1.expected="Buffer";function fxe(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}o(fxe,"check");D1.check=fxe;function vet(t,e){return!!t&&!!e&&t.tapKeySig===void 0}o(vet,"canAdd");D1.canAdd=vet});var dxe=V(U1=>{"use strict";m();g();Object.defineProperty(U1,"__esModule",{value:!0});var lxe=Jo();function _et(t){if(t.key[0]!==lxe.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}o(_et,"decode");U1.decode=_et;function wet(t){let e=Buffer.from([lxe.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}o(wet,"encode");U1.encode=wet;U1.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function Eet(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}o(Eet,"check");U1.check=Eet;function Aet(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}o(Aet,"canAddToArray");U1.canAddToArray=Aet});var mxe=V(H1=>{"use strict";m();g();Object.defineProperty(H1,"__esModule",{value:!0});var hxe=Jo();function Iet(t){if(t.key[0]!==hxe.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!pxe(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}o(Iet,"decode");H1.decode=Iet;function Tet(t){return{key:Buffer.from([hxe.InputTypes.TAP_MERKLE_ROOT]),value:t}}o(Tet,"encode");H1.encode=Tet;H1.expected="Buffer";function pxe(t){return Buffer.isBuffer(t)&&t.length===32}o(pxe,"check");H1.check=pxe;function Ret(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}o(Ret,"canAdd");H1.canAdd=Ret});var yxe=V(F1=>{"use strict";m();g();Object.defineProperty(F1,"__esModule",{value:!0});var gxe=Jo();function Oet(t){if(t.key[0]!==gxe.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}o(Oet,"decode");F1.decode=Oet;function Net(t){let e=Buffer.from([gxe.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}o(Net,"encode");F1.encode=Net;F1.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function Met(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}o(Met,"check");F1.check=Met;function Cet(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}o(Cet,"canAddToArray");F1.canAddToArray=Cet});var dm=V(RS=>{"use strict";m();g();Object.defineProperty(RS,"__esModule",{value:!0});var ket=9007199254740991;function DF(t){if(t<0||t>ket||t%1!==0)throw new RangeError("value out of range")}o(DF,"checkUInt53");function IS(t,e,r){if(DF(t),e||(e=Buffer.allocUnsafe(bxe(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(IS,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(IS,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(IS,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(IS,{bytes:9})),e}o(IS,"encode");RS.encode=IS;function TS(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(TS,{bytes:1}),r;if(r===253)return Object.assign(TS,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(TS,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(TS,{bytes:9});let n=t.readUInt32LE(e+1),s=t.readUInt32LE(e+5)*4294967296+n;return DF(s),s}}o(TS,"decode");RS.decode=TS;function bxe(t){return DF(t),t<253?1:t<=65535?3:t<=4294967295?5:9}o(bxe,"encodingLength");RS.encodingLength=bxe});var lR=V(hm=>{"use strict";m();g();Object.defineProperty(hm,"__esModule",{value:!0});var uR=dm();hm.range=t=>[...Array(t).keys()];function Bet(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}o(Bet,"reverseBuffer");hm.reverseBuffer=Bet;function Pet(t){let e=t.map(xxe);return e.push(Buffer.from([0])),Buffer.concat(e)}o(Pet,"keyValsToBuffer");hm.keyValsToBuffer=Pet;function xxe(t){let e=t.key.length,r=t.value.length,n=uR.encodingLength(e),i=uR.encodingLength(r),s=Buffer.allocUnsafe(n+e+i+r);return uR.encode(e,s,0),t.key.copy(s,n),uR.encode(r,s,n+e),t.value.copy(s,n+e+i),s}o(xxe,"keyValToBuffer");hm.keyValToBuffer=xxe;function vxe(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}o(vxe,"verifuint");function Let(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,vxe(n+r,9007199254740991),n+r}o(Let,"readUInt64LE");hm.readUInt64LE=Let;function Det(t,e,r){return vxe(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}o(Det,"writeUInt64LE");hm.writeUInt64LE=Det});var Sxe=V(q1=>{"use strict";m();g();Object.defineProperty(q1,"__esModule",{value:!0});var _xe=Jo(),wxe=lR(),dR=dm();function Uet(t){if(t.key[0]!==_xe.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=wxe.readUInt64LE(t.value,0),r=8,n=dR.decode(t.value,r);r+=dR.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}o(Uet,"decode");q1.decode=Uet;function Het(t){let{script:e,value:r}=t,n=dR.encodingLength(e.length),i=Buffer.allocUnsafe(8+n+e.length);return wxe.writeUInt64LE(i,r,0),dR.encode(e.length,i,8),e.copy(i,8+n),{key:Buffer.from([_xe.InputTypes.WITNESS_UTXO]),value:i}}o(Het,"encode");q1.encode=Het;q1.expected="{ script: Buffer; value: number; }";function Fet(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}o(Fet,"check");q1.check=Fet;function qet(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}o(qet,"canAdd");q1.canAdd=qet});var Axe=V(V1=>{"use strict";m();g();Object.defineProperty(V1,"__esModule",{value:!0});var Exe=Jo(),UF=dm();function Vet(t){if(t.key[0]!==Exe.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],s=UF.decode(t.value,e);e+=UF.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}}o(Vet,"decode");V1.decode=Vet;function jet(t){let e=Buffer.from([Exe.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),UF.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}o(jet,"encode");V1.encode=jet;V1.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function Ket(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}o(Ket,"check");V1.check=Ket;function zet(t,e){return!!t&&!!e&&t.tapTree===void 0}o(zet,"canAdd");V1.canAdd=zet});var FF=V(HF=>{"use strict";m();g();Object.defineProperty(HF,"__esModule",{value:!0});var Get=o(t=>[...Array(t).keys()],"range"),$et=o(t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4,"isValidDERKey");function Wet(t,e=$et){function r(f){if(f.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+f.key.toString("hex"));let l=f.key.slice(1);if(!e(l))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+f.key.toString("hex"));if(f.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let h={masterFingerprint:f.value.slice(0,4),pubkey:l,path:"m"};for(let b of Get(f.value.length/4-1)){let y=f.value.readUInt32LE(b*4+4),E=!!(y&2147483648),I=y&2147483647;h.path+="/"+I.toString(10)+(E?"'":"")}return h}o(r,"decode");function n(f){let l=Buffer.from([t]),h=Buffer.concat([l,f.pubkey]),b=f.path.split("/"),y=Buffer.allocUnsafe(b.length*4);f.masterFingerprint.copy(y,0);let E=4;return b.slice(1).forEach(I=>{let O=I.slice(-1)==="'",N=2147483647&parseInt(O?I.slice(0,-1):I,10);O&&(N+=2147483648),y.writeUInt32LE(N,E),E+=4}),{key:h,value:y}}o(n,"encode");let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function s(f){return Buffer.isBuffer(f.pubkey)&&Buffer.isBuffer(f.masterFingerprint)&&typeof f.path=="string"&&e(f.pubkey)&&f.masterFingerprint.length===4}o(s,"check");function a(f,l,h){let b=l.pubkey.toString("hex");return h.has(b)?!1:(h.add(b),f.filter(y=>y.pubkey.equals(l.pubkey)).length===0)}return o(a,"canAddToArray"),{decode:r,encode:n,check:s,expected:i,canAddToArray:a}}o(Wet,"makeConverter");HF.makeConverter=Wet});var Ixe=V(qF=>{"use strict";m();g();Object.defineProperty(qF,"__esModule",{value:!0});function Yet(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}o(Yet,"makeChecker");qF.makeChecker=Yet});var Txe=V(VF=>{"use strict";m();g();Object.defineProperty(VF,"__esModule",{value:!0});function Xet(t){function e(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+a.key.toString("hex"));return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)}o(i,"check");function s(a,f){return!!a&&!!f&&a.redeemScript===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(Xet,"makeConverter");VF.makeConverter=Xet});var Rxe=V(jF=>{"use strict";m();g();Object.defineProperty(jF,"__esModule",{value:!0});var hR=dm(),Zet=FF(),Jet=o(t=>t.length===32,"isValidBIP340Key");function Qet(t){let e=Zet.makeConverter(t,Jet);function r(a){let f=hR.decode(a.value),l=hR.encodingLength(f),h=e.decode({key:a.key,value:a.value.slice(l+f*32)}),b=new Array(f);for(let y=0,E=l;y<f;y++,E+=32)b[y]=a.value.slice(E,E+32);return Object.assign({},h,{leafHashes:b})}o(r,"decode");function n(a){let f=e.encode(a),l=hR.encodingLength(a.leafHashes.length),h=Buffer.allocUnsafe(l);hR.encode(a.leafHashes.length,h);let b=Buffer.concat([h,...a.leafHashes,f.value]);return Object.assign({},f,{value:b})}o(n,"encode");let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function s(a){return Array.isArray(a.leafHashes)&&a.leafHashes.every(f=>Buffer.isBuffer(f)&&f.length===32)&&e.check(a)}return o(s,"check"),{decode:r,encode:n,check:s,expected:i,canAddToArray:e.canAddToArray}}o(Qet,"makeConverter");jF.makeConverter=Qet});var Oxe=V(KF=>{"use strict";m();g();Object.defineProperty(KF,"__esModule",{value:!0});function ett(t){function e(a){if(a.key[0]!==t||a.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+a.key.toString("hex"));if(a.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)&&a.length===32}o(i,"check");function s(a,f){return!!a&&!!f&&a.tapInternalKey===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(ett,"makeConverter");KF.makeConverter=ett});var Nxe=V(zF=>{"use strict";m();g();Object.defineProperty(zF,"__esModule",{value:!0});function ttt(t){function e(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+a.key.toString("hex"));return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)}o(i,"check");function s(a,f){return!!a&&!!f&&a.witnessScript===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(ttt,"makeConverter");zF.makeConverter=ttt});var pR=V(OS=>{"use strict";m();g();Object.defineProperty(OS,"__esModule",{value:!0});var rf=Jo(),rtt=Wbe(),ntt=Ybe(),itt=Zbe(),ott=Qbe(),stt=txe(),att=nxe(),ctt=oxe(),ftt=axe(),utt=uxe(),ltt=dxe(),dtt=mxe(),htt=yxe(),ptt=Sxe(),mtt=Axe(),Mxe=FF(),GF=Ixe(),Cxe=Txe(),kxe=Rxe(),Bxe=Oxe(),Pxe=Nxe(),gtt={unsignedTx:ntt,globalXpub:rtt,checkPubkey:GF.makeChecker([])};OS.globals=gtt;var ytt={nonWitnessUtxo:stt,partialSig:att,sighashType:ftt,finalScriptSig:itt,finalScriptWitness:ott,porCommitment:ctt,witnessUtxo:ptt,bip32Derivation:Mxe.makeConverter(rf.InputTypes.BIP32_DERIVATION),redeemScript:Cxe.makeConverter(rf.InputTypes.REDEEM_SCRIPT),witnessScript:Pxe.makeConverter(rf.InputTypes.WITNESS_SCRIPT),checkPubkey:GF.makeChecker([rf.InputTypes.PARTIAL_SIG,rf.InputTypes.BIP32_DERIVATION]),tapKeySig:utt,tapScriptSig:htt,tapLeafScript:ltt,tapBip32Derivation:kxe.makeConverter(rf.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:Bxe.makeConverter(rf.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:dtt};OS.inputs=ytt;var btt={bip32Derivation:Mxe.makeConverter(rf.OutputTypes.BIP32_DERIVATION),redeemScript:Cxe.makeConverter(rf.OutputTypes.REDEEM_SCRIPT),witnessScript:Pxe.makeConverter(rf.OutputTypes.WITNESS_SCRIPT),checkPubkey:GF.makeChecker([rf.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:kxe.makeConverter(rf.OutputTypes.TAP_BIP32_DERIVATION),tapTree:mtt,tapInternalKey:Bxe.makeConverter(rf.OutputTypes.TAP_INTERNAL_KEY)};OS.outputs=btt});var Uxe=V(NS=>{"use strict";m();g();Object.defineProperty(NS,"__esModule",{value:!0});var di=pR(),mR=lR(),Lxe=dm(),_r=Jo();function xtt(t,e){let r=0;function n(){let k=Lxe.decode(t,r);r+=Lxe.encodingLength(k);let C=t.slice(r,r+k);return r+=k,C}o(n,"varSlice");function i(){let k=t.readUInt32BE(r);return r+=4,k}o(i,"readUInt32BE");function s(){let k=t.readUInt8(r);return r+=1,k}o(s,"readUInt8");function a(){let k=n(),C=n();return{key:k,value:C}}o(a,"getKeyValue");function f(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let k=t.readUInt8(r)===0;return k&&r++,k}if(o(f,"checkEndOfKeyValPairs"),i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(s()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let l=[],h={};for(;!f();){let k=a(),C=k.key.toString("hex");if(h[C])throw new Error("Format Error: Keys must be unique for global keymap: key "+C);h[C]=1,l.push(k)}let b=l.filter(k=>k.key[0]===_r.GlobalTypes.UNSIGNED_TX);if(b.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let y=e(b[0].value),{inputCount:E,outputCount:I}=y.getInputOutputCounts(),O=[],N=[];for(let k of mR.range(E)){let C={},L=[];for(;!f();){let M=a(),U=M.key.toString("hex");if(C[U])throw new Error("Format Error: Keys must be unique for each input: input index "+k+" key "+U);C[U]=1,L.push(M)}O.push(L)}for(let k of mR.range(I)){let C={},L=[];for(;!f();){let M=a(),U=M.key.toString("hex");if(C[U])throw new Error("Format Error: Keys must be unique for each output: output index "+k+" key "+U);C[U]=1,L.push(M)}N.push(L)}return Dxe(y,{globalMapKeyVals:l,inputKeyVals:O,outputKeyVals:N})}o(xtt,"psbtFromBuffer");NS.psbtFromBuffer=xtt;function vs(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}o(vs,"checkKeyBuffer");NS.checkKeyBuffer=vs;function Dxe(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},s=0;for(let b of e)switch(b.key[0]){case _r.GlobalTypes.UNSIGNED_TX:if(vs("global",b.key,_r.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case _r.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(di.globals.globalXpub.decode(b));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(b)}let a=r.length,f=n.length,l=[],h=[];for(let b of mR.range(a)){let y={};for(let E of r[b])switch(di.inputs.checkPubkey(E),E.key[0]){case _r.InputTypes.NON_WITNESS_UTXO:if(vs("input",E.key,_r.InputTypes.NON_WITNESS_UTXO),y.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");y.nonWitnessUtxo=di.inputs.nonWitnessUtxo.decode(E);break;case _r.InputTypes.WITNESS_UTXO:if(vs("input",E.key,_r.InputTypes.WITNESS_UTXO),y.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");y.witnessUtxo=di.inputs.witnessUtxo.decode(E);break;case _r.InputTypes.PARTIAL_SIG:y.partialSig===void 0&&(y.partialSig=[]),y.partialSig.push(di.inputs.partialSig.decode(E));break;case _r.InputTypes.SIGHASH_TYPE:if(vs("input",E.key,_r.InputTypes.SIGHASH_TYPE),y.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");y.sighashType=di.inputs.sighashType.decode(E);break;case _r.InputTypes.REDEEM_SCRIPT:if(vs("input",E.key,_r.InputTypes.REDEEM_SCRIPT),y.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");y.redeemScript=di.inputs.redeemScript.decode(E);break;case _r.InputTypes.WITNESS_SCRIPT:if(vs("input",E.key,_r.InputTypes.WITNESS_SCRIPT),y.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");y.witnessScript=di.inputs.witnessScript.decode(E);break;case _r.InputTypes.BIP32_DERIVATION:y.bip32Derivation===void 0&&(y.bip32Derivation=[]),y.bip32Derivation.push(di.inputs.bip32Derivation.decode(E));break;case _r.InputTypes.FINAL_SCRIPTSIG:vs("input",E.key,_r.InputTypes.FINAL_SCRIPTSIG),y.finalScriptSig=di.inputs.finalScriptSig.decode(E);break;case _r.InputTypes.FINAL_SCRIPTWITNESS:vs("input",E.key,_r.InputTypes.FINAL_SCRIPTWITNESS),y.finalScriptWitness=di.inputs.finalScriptWitness.decode(E);break;case _r.InputTypes.POR_COMMITMENT:vs("input",E.key,_r.InputTypes.POR_COMMITMENT),y.porCommitment=di.inputs.porCommitment.decode(E);break;case _r.InputTypes.TAP_KEY_SIG:vs("input",E.key,_r.InputTypes.TAP_KEY_SIG),y.tapKeySig=di.inputs.tapKeySig.decode(E);break;case _r.InputTypes.TAP_SCRIPT_SIG:y.tapScriptSig===void 0&&(y.tapScriptSig=[]),y.tapScriptSig.push(di.inputs.tapScriptSig.decode(E));break;case _r.InputTypes.TAP_LEAF_SCRIPT:y.tapLeafScript===void 0&&(y.tapLeafScript=[]),y.tapLeafScript.push(di.inputs.tapLeafScript.decode(E));break;case _r.InputTypes.TAP_BIP32_DERIVATION:y.tapBip32Derivation===void 0&&(y.tapBip32Derivation=[]),y.tapBip32Derivation.push(di.inputs.tapBip32Derivation.decode(E));break;case _r.InputTypes.TAP_INTERNAL_KEY:vs("input",E.key,_r.InputTypes.TAP_INTERNAL_KEY),y.tapInternalKey=di.inputs.tapInternalKey.decode(E);break;case _r.InputTypes.TAP_MERKLE_ROOT:vs("input",E.key,_r.InputTypes.TAP_MERKLE_ROOT),y.tapMerkleRoot=di.inputs.tapMerkleRoot.decode(E);break;default:y.unknownKeyVals||(y.unknownKeyVals=[]),y.unknownKeyVals.push(E)}l.push(y)}for(let b of mR.range(f)){let y={};for(let E of n[b])switch(di.outputs.checkPubkey(E),E.key[0]){case _r.OutputTypes.REDEEM_SCRIPT:if(vs("output",E.key,_r.OutputTypes.REDEEM_SCRIPT),y.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");y.redeemScript=di.outputs.redeemScript.decode(E);break;case _r.OutputTypes.WITNESS_SCRIPT:if(vs("output",E.key,_r.OutputTypes.WITNESS_SCRIPT),y.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");y.witnessScript=di.outputs.witnessScript.decode(E);break;case _r.OutputTypes.BIP32_DERIVATION:y.bip32Derivation===void 0&&(y.bip32Derivation=[]),y.bip32Derivation.push(di.outputs.bip32Derivation.decode(E));break;case _r.OutputTypes.TAP_INTERNAL_KEY:vs("output",E.key,_r.OutputTypes.TAP_INTERNAL_KEY),y.tapInternalKey=di.outputs.tapInternalKey.decode(E);break;case _r.OutputTypes.TAP_TREE:vs("output",E.key,_r.OutputTypes.TAP_TREE),y.tapTree=di.outputs.tapTree.decode(E);break;case _r.OutputTypes.TAP_BIP32_DERIVATION:y.tapBip32Derivation===void 0&&(y.tapBip32Derivation=[]),y.tapBip32Derivation.push(di.outputs.tapBip32Derivation.decode(E));break;default:y.unknownKeyVals||(y.unknownKeyVals=[]),y.unknownKeyVals.push(E)}h.push(y)}return{globalMap:i,inputs:l,outputs:h}}o(Dxe,"psbtFromKeyVals");NS.psbtFromKeyVals=Dxe});var qxe=V(gR=>{"use strict";m();g();Object.defineProperty(gR,"__esModule",{value:!0});var $F=pR(),Hxe=lR();function vtt({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:s}=Fxe({globalMap:t,inputs:e,outputs:r}),a=Hxe.keyValsToBuffer(n),f=o(y=>y.length===0?[Buffer.from([0])]:y.map(Hxe.keyValsToBuffer),"keyValsOrEmptyToBuffer"),l=f(i),h=f(s),b=Buffer.allocUnsafe(5);return b.writeUIntBE(482972169471,0,5),Buffer.concat([b,a].concat(l,h))}o(vtt,"psbtToBuffer");gR.psbtToBuffer=vtt;var _tt=o((t,e)=>t.key.compare(e.key),"sortKeyVals");function WF(t,e){let r=new Set,n=Object.entries(t).reduce((s,[a,f])=>{if(a==="unknownKeyVals")return s;let l=e[a];if(l===void 0)return s;let h=(Array.isArray(f)?f:[f]).map(l.encode);return h.map(y=>y.key.toString("hex")).forEach(y=>{if(r.has(y))throw new Error("Serialize Error: Duplicate key: "+y);r.add(y)}),s.concat(h)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(s=>!r.has(s.key.toString("hex"))):[];return n.concat(i).sort(_tt)}o(WF,"keyValsFromMap");function Fxe({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:WF(t,$F.globals),inputKeyVals:e.map(n=>WF(n,$F.inputs)),outputKeyVals:r.map(n=>WF(n,$F.outputs))}}o(Fxe,"psbtToKeyVals");gR.psbtToKeyVals=Fxe});var YF=V(yR=>{"use strict";m();g();function Vxe(t){for(var e in t)yR.hasOwnProperty(e)||(yR[e]=t[e])}o(Vxe,"__export");Object.defineProperty(yR,"__esModule",{value:!0});Vxe(Uxe());Vxe(qxe())});var Kxe=V(JF=>{"use strict";m();g();Object.defineProperty(JF,"__esModule",{value:!0});var XF=YF();function wtt(t){let e=t[0],r=XF.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=jxe(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let s=mv(r.globalKeyVals),a=r.inputKeyVals.map(mv),f=r.outputKeyVals.map(mv);for(let l of n){let h=jxe(l);if(h===void 0||!h.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let b=XF.psbtToKeyVals(l);mv(b.globalKeyVals).forEach(ZF(s,r.globalKeyVals,b.globalKeyVals)),b.inputKeyVals.map(mv).forEach((O,N)=>O.forEach(ZF(a[N],r.inputKeyVals[N],b.inputKeyVals[N]))),b.outputKeyVals.map(mv).forEach((O,N)=>O.forEach(ZF(f[N],r.outputKeyVals[N],b.outputKeyVals[N])))}return XF.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}o(wtt,"combine");JF.combine=wtt;function ZF(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(s=>s.key.toString("hex")===n)[0];e.push(i),t.add(n)}}o(ZF,"keyPusher");function jxe(t){return t.globalMap.unsignedTx}o(jxe,"getTx");function mv(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}o(mv,"getKeySet")});var eq=V(da=>{"use strict";m();g();Object.defineProperty(da,"__esModule",{value:!0});var Stt=pR();function Gxe(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}o(Gxe,"checkForInput");da.checkForInput=Gxe;function $xe(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}o($xe,"checkForOutput");da.checkForOutput=$xe;function Ett(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}o(Ett,"checkHasKey");da.checkHasKey=Ett;function Att(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}o(Att,"getEnumLength");da.getEnumLength=Att;function Itt(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,s=!n||!!e.finalScriptSig,a=!i||!!e.finalScriptWitness,f=!!e.finalScriptSig||!!e.finalScriptWitness;r=s&&a&&f}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}o(Itt,"inputCheckUncleanFinalized");da.inputCheckUncleanFinalized=Itt;function zxe(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}o(zxe,"throwForUpdateMaker");function QF(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:s,canAddToArray:a,check:f,expected:l}=Stt[t+"s"][n]||{},h=!!a;if(f)if(h){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(f)||zxe(t,n,l,i);let b=r[n]||[],y=new Set;if(!i.every(E=>a(b,E,y)))throw new Error("Can not add duplicate data to array");r[n]=b.concat(i)}else{if(f(i)||zxe(t,n,l,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}o(QF,"updateMaker");da.updateGlobal=QF("global");da.updateInput=QF("input");da.updateOutput=QF("output");function Ttt(t,e){let r=t.length-1,n=Gxe(t,r);da.updateInput(e,n)}o(Ttt,"addInputAttributes");da.addInputAttributes=Ttt;function Rtt(t,e){let r=t.length-1,n=$xe(t,r);da.updateOutput(e,n)}o(Rtt,"addOutputAttributes");da.addOutputAttributes=Rtt;function Ott(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}o(Ott,"defaultVersionSetter");da.defaultVersionSetter=Ott;function Ntt(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}o(Ntt,"defaultLocktimeSetter");da.defaultLocktimeSetter=Ntt});var Yxe=V(nq=>{"use strict";m();g();Object.defineProperty(nq,"__esModule",{value:!0});var Mtt=Kxe(),Wxe=YF(),tq=Jo(),_s=eq(),rq=class{static{o(this,"Psbt")}constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=Wxe.psbtFromBuffer(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return Wxe.psbtToBuffer(this)}updateGlobal(e){return _s.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=_s.checkForInput(this.inputs,e);return _s.updateInput(r,n),this}updateOutput(e,r){let n=_s.checkForOutput(this.outputs,e);return _s.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return _s.checkHasKey(e,this.globalMap.unknownKeyVals,_s.getEnumLength(tq.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=_s.checkForInput(this.inputs,e);return _s.checkHasKey(r,n.unknownKeyVals,_s.getEnumLength(tq.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=_s.checkForOutput(this.outputs,e);return _s.checkHasKey(r,n.unknownKeyVals,_s.getEnumLength(tq.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),_s.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToOutput(n,i)),_s.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=_s.checkForInput(this.inputs,e);_s.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=Mtt.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};nq.Psbt=rq});var xR=V(Zn=>{"use strict";m();g();Object.defineProperty(Zn,"__esModule",{value:!0});Zn.signatureBlocksAction=Zn.checkInputForSig=Zn.pubkeyInScript=Zn.pubkeyPositionInScript=Zn.witnessStackToScriptWitness=Zn.isP2TR=Zn.isP2SHScript=Zn.isP2WSHScript=Zn.isP2WPKH=Zn.isP2PKH=Zn.isP2PK=Zn.isP2MS=void 0;var Xxe=dm(),MS=La(),bR=pv(),Ctt=Ed(),j1=dv();function K1(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}o(K1,"isPaymentFactory");Zn.isP2MS=K1(j1.p2ms);Zn.isP2PK=K1(j1.p2pk);Zn.isP2PKH=K1(j1.p2pkh);Zn.isP2WPKH=K1(j1.p2wpkh);Zn.isP2WSHScript=K1(j1.p2wsh);Zn.isP2SHScript=K1(j1.p2sh);Zn.isP2TR=K1(j1.p2tr);function ktt(t){let e=Buffer.allocUnsafe(0);function r(a){e=Buffer.concat([e,Buffer.from(a)])}o(r,"writeSlice");function n(a){let f=e.length,l=Xxe.encodingLength(a);e=Buffer.concat([e,Buffer.allocUnsafe(l)]),Xxe.encode(a,e,f)}o(n,"writeVarInt");function i(a){n(a.length),r(a)}o(i,"writeVarSlice");function s(a){n(a.length),a.forEach(i)}return o(s,"writeVector"),s(t),e}o(ktt,"witnessStackToScriptWitness");Zn.witnessStackToScriptWitness=ktt;function Zxe(t,e){let r=(0,Ctt.hash160)(t),n=t.slice(1,33),i=MS.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(s=>typeof s=="number"?!1:s.equals(t)||s.equals(r)||s.equals(n))}o(Zxe,"pubkeyPositionInScript");Zn.pubkeyPositionInScript=Zxe;function Btt(t,e){return Zxe(t,e)!==-1}o(Btt,"pubkeyInScript");Zn.pubkeyInScript=Btt;function Ptt(t,e){return Ltt(t).some(n=>Jxe(n,MS.signature.decode,e))}o(Ptt,"checkInputForSig");Zn.checkInputForSig=Ptt;function Jxe(t,e,r){let{hashType:n}=e(t),i=[];switch(n&bR.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case bR.Transaction.SIGHASH_ALL:break;case bR.Transaction.SIGHASH_SINGLE:case bR.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}o(Jxe,"signatureBlocksAction");Zn.signatureBlocksAction=Jxe;function Ltt(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=Dtt(t)}else e=t.partialSig;return e.map(r=>r.signature)}o(Ltt,"extractPartialSigs");function Dtt(t){let e=t.finalScriptSig?MS.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?MS.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&MS.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}o(Dtt,"getPsigsFromInputFinalScripts")});var eve=V(xi=>{"use strict";m();g();Object.defineProperty(xi,"__esModule",{value:!0});xi.checkTaprootInputForSigs=xi.tapTreeFromList=xi.tapTreeToList=xi.tweakInternalPubKey=xi.checkTaprootOutputFields=xi.checkTaprootInputFields=xi.isTaprootOutput=xi.isTaprootInput=xi.serializeTaprootSignature=xi.tapScriptFinalizer=xi.toXOnly=void 0;var aq=bs(),Utt=pv(),wR=xR(),pm=rR(),Htt=dv(),Ftt=xR(),qtt=o(t=>t.length===32?t:t.slice(1,33),"toXOnly");xi.toXOnly=qtt;function Vtt(t,e,r){let n=srt(e,t,r);try{let s=irt(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,wR.witnessStackToScriptWitness)(s)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}o(Vtt,"tapScriptFinalizer");xi.tapScriptFinalizer=Vtt;function jtt(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}o(jtt,"serializeTaprootSignature");xi.serializeTaprootSignature=jtt;function vR(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,wR.isP2TR)(t.witnessUtxo.script))}o(vR,"isTaprootInput");xi.isTaprootInput=vR;function _R(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,wR.isP2TR)(e))}o(_R,"isTaprootOutput");xi.isTaprootOutput=_R;function Ktt(t,e,r){trt(t,e,r),nrt(t,e,r)}o(Ktt,"checkTaprootInputFields");xi.checkTaprootInputFields=Ktt;function ztt(t,e,r){rrt(t,e,r),Gtt(t,e)}o(ztt,"checkTaprootOutputFields");xi.checkTaprootOutputFields=ztt;function Gtt(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,s=$tt(r,n);if(i&&!i.equals(s))throw new Error("Error adding output. Script or address missmatch.")}}o(Gtt,"checkTaprootScriptPubkey");function $tt(t,e){let r=e&&Qxe(e.leaves),{output:n}=(0,Htt.p2tr)({internalPubkey:t,scriptTree:r});return n}o($tt,"getTaprootScripPubkey");function Wtt(t,e){let r=e.tapInternalKey,n=r&&(0,pm.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}o(Wtt,"tweakInternalPubKey");xi.tweakInternalPubKey=Wtt;function Ytt(t){if(!(0,aq.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return oq(t)}o(Ytt,"tapTreeToList");xi.tapTreeToList=Ytt;function Qxe(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:ert(t)}o(Qxe,"tapTreeFromList");xi.tapTreeFromList=Qxe;function Xtt(t,e){return Jtt(t).some(n=>(0,Ftt.signatureBlocksAction)(n,Ztt,e))}o(Xtt,"checkTaprootInputForSigs");xi.checkTaprootInputForSigs=Xtt;function Ztt(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||Utt.Transaction.SIGHASH_DEFAULT}}o(Ztt,"decodeSchnorrSignature");function Jtt(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=Qtt(t.finalScriptWitness);r&&e.push(r)}return e}o(Jtt,"extractTaprootSigs");function Qtt(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}o(Qtt,"getTapKeySigFromWithness");function oq(t,e=[],r=0){if(r>pm.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,aq.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||pm.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&oq(t[0],e,r+1),t[1]&&oq(t[1],e,r+1),e):[]}o(oq,"_tapTreeToList");function ert(t){let e;for(let r of t)if(e=sq(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}o(ert,"instertLeavesInTree");function sq(t,e,r=0){if(r>pm.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,aq.isTapleaf)(e))return;let n=sq(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=sq(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}o(sq,"instertLeafInTree");function trt(t,e,r){let n=vR(t)&&gv(e),i=gv(t)&&vR(e),s=t===e&&vR(e)&&gv(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}o(trt,"checkMixedTaprootAndNonTaprootInputFields");function rrt(t,e,r){let n=_R(t)&&gv(e),i=gv(t)&&_R(e),s=t===e&&_R(e)&&gv(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}o(rrt,"checkMixedTaprootAndNonTaprootOutputFields");function nrt(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(s=>iq(s,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(s=>iq(s,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>iq(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}o(nrt,"checkIfTapLeafInTree");function iq(t,e){if(!e)return!0;let r=(0,pm.tapleafHash)({output:t.script,version:t.leafVersion});return(0,pm.rootHashFromPath)(t.controlBlock,r).equals(e)}o(iq,"isTapLeafInTree");function irt(t,e){let r=(0,pm.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>ort(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}o(irt,"sortSignatures");function ort(t,e){return Object.assign({positionInScript:(0,wR.pubkeyPositionInScript)(e.pubkey,t)},e)}o(ort,"addPubkeyPositionInScript");function srt(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,s)=>i.controlBlock.length-s.controlBlock.length).find(i=>art(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}o(srt,"findTapLeafToFinalize");function art(t,e,r){let n=(0,pm.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(s=>s.leafHash.equals(n))!==void 0}o(art,"canFinalizeLeaf");function gv(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}o(gv,"hasNonTaprootFields")});var Eve=V(OR=>{"use strict";m();g();Object.defineProperty(OR,"__esModule",{value:!0});OR.Psbt=void 0;var tve=Yxe(),rve=dm(),qa=eq(),nve=MF(),ER=AS(),crt=zf(),Wf=dv(),frt=rR(),th=La(),ws=pv(),Ni=eve(),yo=xR(),urt={network:crt.bitcoin,maximumFeeRate:5e3},fq=class t{static{o(this,"Psbt")}static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=tve.Psbt.fromBuffer(e,lrt),i=new t(r,n);return grt(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new tve.Psbt(new AR)){this.data=r,this.opts=Object.assign({},urt,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=o((i,s,a,f)=>Object.defineProperty(i,s,{enumerable:a,writable:f}),"dpew");n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,ER.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,nve.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,ER.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){SR(e),this.opts.maximumFeeRate=e}setVersion(e){SR(e),CS(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){SR(e),CS(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){SR(r),CS(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Ni.checkTaprootInputFields)(e,e,"addInput"),CS(this.data.inputs,"addInput"),e.witnessScript&&IR(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];pve(r,n);let i=this.data.inputs.length-1,s=this.data.inputs[i];return s.nonWitnessUtxo&&lq(this.__CACHE,s,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");CS(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,s=(0,nve.toOutputScript)(r,i);e=Object.assign(e,{script:s})}(0,Ni.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(dve))throw new Error("Not finalized");let r=this.__CACHE;if(e||hrt(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return vve(this.data.inputs,n,r,!0),n}getFeeRate(){return cve("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return cve("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,qa.checkForInput)(this.data.inputs,0),kS(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,qa.checkForInput)(this.data.inputs,e);return(0,Ni.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Ni.tapScriptFinalizer){let i=(0,qa.checkForInput)(this.data.inputs,e);if((0,Ni.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=yrt){let{script:i,isP2SH:s,isP2WSH:a,isSegwit:f}=_rt(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);prt(r);let{finalScriptSig:l,finalScriptWitness:h}=n(e,r,i,f,s,a);if(l&&this.data.updateInput(e,{finalScriptSig:l}),h&&this.data.updateInput(e,{finalScriptWitness:h}),!l&&!h)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=Ni.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let s=Wf.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),a=(0,yo.witnessStackToScriptWitness)(s.witness);this.data.updateInput(e,{finalScriptWitness:a})}else{let{finalScriptWitness:s}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:s})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,qa.checkForInput)(this.data.inputs,e),n=_ve(e,r,this.__CACHE),i=RR(n,e,"input",r.redeemScript||Irt(r.finalScriptSig),r.witnessScript||Trt(r.finalScriptWitness)),s=i.type==="raw"?"":i.type+"-",a=Sve(i.meaningfulScript);return s+a}inputHasPubkey(e,r){let n=(0,qa.checkForInput)(this.data.inputs,e);return Ert(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,qa.checkForInput)(this.data.inputs,e),i=ove(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,qa.checkForOutput)(this.data.outputs,e);return Art(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,qa.checkForOutput)(this.data.outputs,e),i=ove(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,qa.checkForInput)(this.data.inputs,0),kS(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,Ni.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).partialSig;if(!i||!s||s.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let a=n?s.filter(y=>y.pubkey.equals(n)):s;if(a.length<1)throw new Error("No signatures for this pubkey");let f=[],l,h,b;for(let y of a){let E=th.signature.decode(y.signature),{hash:I,script:O}=b!==E.hashType?gve(e,Object.assign({},i,{sighashType:E.hashType}),this.__CACHE,!0):{hash:l,script:h};b=E.hashType,l=I,h=O,hve(y.pubkey,O,"verify"),f.push(r(y.pubkey,I,E.signature))}return f.every(y=>y===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).tapKeySig,a=(i||{}).tapScriptSig;if(!i&&!s&&!(a&&!a.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Ni.toXOnly)(n);let f=n?uq(e,i,this.data.inputs,n,this.__CACHE):xrt(e,i,this.data.inputs,this.__CACHE);if(!f.length)throw new Error("No signatures for this pubkey");let l=f.find(b=>!b.leafHash),h=0;if(s&&l){if(!r(l.pubkey,l.hash,uve(s)))return!1;h++}if(a)for(let b of a){let y=f.find(E=>b.pubkey.equals(E.pubkey));if(y){if(!r(b.pubkey,y.hash,uve(b.signature)))return!1;h++}}return h>0}signAllInputsHD(e,r=[ws.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of kS(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[ws.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let s=[],a=[];for(let f of kS(this.data.inputs.length))a.push(this.signInputHDAsync(f,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(a).then(()=>{if(s.every(f=>f===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[ws.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return lve(e,this.data.inputs,r).forEach(s=>this.signInput(e,s,n)),this}signInputHDAsync(e,r,n=[ws.Transaction.SIGHASH_ALL]){return new Promise((i,s)=>{if(!r||!r.publicKey||!r.fingerprint)return s(new Error("Need HDSigner to sign input"));let f=lve(e,this.data.inputs,r).map(l=>this.signInputAsync(e,l,n));return Promise.all(f).then(()=>{i()}).catch(s)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of kS(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let s=[],a=[];for(let[f]of this.data.inputs.entries())a.push(this.signInputAsync(f,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(a).then(()=>{if(s.every(f=>f===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,qa.checkForInput)(this.data.inputs,e);return(0,Ni.isTaprootInput)(i)?this._signTaprootInput(e,i,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,qa.checkForInput)(this.data.inputs,e);if((0,Ni.isTaprootInput)(s))return this._signTaprootInput(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[ws.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=fve(this.data.inputs,e,r.publicKey,this.__CACHE,n),a=[{pubkey:r.publicKey,signature:th.signature.encode(r.sign(i),s)}];return this.data.updateInput(e,{partialSig:a}),this}_signTaprootInput(e,r,n,i,s=[ws.Transaction.SIGHASH_DEFAULT]){let a=this.checkTaprootHashesForSig(e,r,n,i,s),f=a.filter(h=>!h.leafHash).map(h=>(0,Ni.serializeTaprootSignature)(n.signSchnorr(h.hash),r.sighashType))[0],l=a.filter(h=>!!h.leafHash).map(h=>({pubkey:(0,Ni.toXOnly)(n.publicKey),signature:(0,Ni.serializeTaprootSignature)(n.signSchnorr(h.hash),r.sighashType),leafHash:h.leafHash}));return f&&this.data.updateInput(e,{tapKeySig:f}),l.length&&this.data.updateInput(e,{tapScriptSig:l}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,qa.checkForInput)(this.data.inputs,e);return(0,Ni.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,qa.checkForInput)(this.data.inputs,e);if((0,Ni.isTaprootInput)(s))return this._signTaprootInputAsync(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[ws.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=fve(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(a=>{let f=[{pubkey:r.publicKey,signature:th.signature.encode(a,s)}];this.data.updateInput(e,{partialSig:f})})}async _signTaprootInputAsync(e,r,n,i,s=[ws.Transaction.SIGHASH_DEFAULT]){let a=this.checkTaprootHashesForSig(e,r,n,i,s),f=[],l=a.filter(b=>!b.leafHash)[0];if(l){let b=Promise.resolve(n.signSchnorr(l.hash)).then(y=>({tapKeySig:(0,Ni.serializeTaprootSignature)(y,r.sighashType)}));f.push(b)}let h=a.filter(b=>!!b.leafHash);if(h.length){let b=h.map(y=>Promise.resolve(n.signSchnorr(y.hash)).then(E=>({tapScriptSig:[{pubkey:(0,Ni.toXOnly)(n.publicKey),signature:(0,Ni.serializeTaprootSignature)(E,r.sighashType),leafHash:y.leafHash}]})));f.push(...b)}return Promise.all(f).then(b=>{b.forEach(y=>this.data.updateInput(e,y))})}checkTaprootHashesForSig(e,r,n,i,s){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let a=uq(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,s);if(!a||!a.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return a}toBuffer(){return cq(this.__CACHE),this.data.toBuffer()}toHex(){return cq(this.__CACHE),this.data.toHex()}toBase64(){return cq(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&IR(r.witnessScript),(0,Ni.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&lq(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Ni.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};OR.Psbt=fq;var lrt=o(t=>new AR(t),"transactionFromBuffer"),AR=class{static{o(this,"PsbtTransaction")}constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=ws.Transaction.fromBuffer(e),mrt(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,ER.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function drt(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return ive(1,t.partialSig);case"multisig":let n=Wf.p2ms({output:e});return ive(n.m,t.partialSig,n.pubkeys);default:return!1}}o(drt,"canFinalize");function cq(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}o(cq,"checkCache");function ive(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let s=Rrt(i);return e.find(a=>a.pubkey.equals(s))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}o(ive,"hasSigs");function dve(t){return!!t.finalScriptSig||!!t.finalScriptWitness}o(dve,"isFinalized");function ove(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}o(ove,"bip32DerivationIsMine");function SR(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}o(SR,"check32Bit");function hrt(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}o(hrt,"checkFees");function CS(t,e){t.forEach(r=>{if((0,Ni.isTaprootInput)(r)?(0,Ni.checkTaprootInputForSigs)(r,e):(0,yo.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}o(CS,"checkInputsForPartialSig");function prt(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=th.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}o(prt,"checkPartialSigSighashes");function hve(t,e,r){if(!(0,yo.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}o(hve,"checkScriptForPubkey");function mrt(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}o(mrt,"checkTxEmpty");function grt(t,e){t.ins.forEach(r=>{pve(e,r)})}o(grt,"checkTxForDupeIns");function pve(t,e){let r=(0,ER.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}o(pve,"checkTxInputCache");function mve(t,e){return(r,n,i,s)=>{let a=t({redeem:{output:i}}).output;if(!n.equals(a))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}o(mve,"scriptCheckerFactory");var sve=mve(Wf.p2sh,"Redeem script"),ave=mve(Wf.p2wsh,"Witness script");function cve(t,e,r,n){if(!r.every(dve))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,s=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),vve(r,i,n,s),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}o(cve,"getTxCacheValue");function yrt(t,e,r,n,i,s){let a=Sve(r);if(!drt(e,r,a))throw new Error(`Can not finalize input #${t}`);return brt(r,a,e.partialSig,n,i,s)}o(yrt,"getFinalScripts");function brt(t,e,r,n,i,s){let a,f,l=vrt(t,e,r),h=s?Wf.p2wsh({redeem:l}):null,b=i?Wf.p2sh({redeem:h||l}):null;return n?(h?f=(0,yo.witnessStackToScriptWitness)(h.witness):f=(0,yo.witnessStackToScriptWitness)(l.witness),b&&(a=b.input)):b?a=b.input:a=l.input,{finalScriptSig:a,finalScriptWitness:f}}o(brt,"prepareFinalScripts");function fve(t,e,r,n,i){let s=(0,qa.checkForInput)(t,e),{hash:a,sighashType:f,script:l}=gve(e,s,n,!1,i);return hve(r,l,"sign"),{hash:a,sighashType:f}}o(fve,"getHashAndSighashType");function gve(t,e,r,n,i){let s=r.__TX,a=e.sighashType||ws.Transaction.SIGHASH_ALL;bve(a,i);let f,l;if(e.nonWitnessUtxo){let y=TR(r,e,t),E=s.ins[t].hash,I=y.getHash();if(!E.equals(I))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let O=s.ins[t].index;l=y.outs[O]}else if(e.witnessUtxo)l=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:h,type:b}=RR(l.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(b)>=0)f=s.hashForWitnessV0(t,h,l.value,a);else if((0,yo.isP2WPKH)(h)){let y=Wf.p2pkh({hash:h.slice(2)}).output;f=s.hashForWitnessV0(t,y,l.value,a)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${h.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),f=s.hashForSignature(t,h,a)}return{script:h,sighashType:a,hash:f}}o(gve,"getHashForSig");function xrt(t,e,r,n){let i=[];if(e.tapInternalKey){let a=yve(t,e,n);a&&i.push(a)}if(e.tapScriptSig){let a=e.tapScriptSig.map(f=>f.pubkey);i.push(...a)}return i.map(a=>uq(t,e,r,a,n)).flat()}o(xrt,"getAllTaprootHashesForSig");function yve(t,e,r){let{script:n}=dq(t,e,r);return(0,yo.isP2TR)(n)?n.subarray(2,34):null}o(yve,"getPrevoutTaprootKey");function uve(t){return t.length===64?t:t.subarray(0,64)}o(uve,"trimTaprootSig");function uq(t,e,r,n,i,s,a){let f=i.__TX,l=e.sighashType||ws.Transaction.SIGHASH_DEFAULT;bve(l,a);let h=r.map((O,N)=>dq(N,O,i)),b=h.map(O=>O.script),y=h.map(O=>O.value),E=[];if(e.tapInternalKey&&!s){let O=yve(t,e,i)||Buffer.from([]);if((0,Ni.toXOnly)(n).equals(O)){let N=f.hashForWitnessV1(t,b,y,l);E.push({pubkey:n,hash:N})}}let I=(e.tapLeafScript||[]).filter(O=>(0,yo.pubkeyInScript)(n,O.script)).map(O=>{let N=(0,frt.tapleafHash)({output:O.script,version:O.leafVersion});return Object.assign({hash:N},O)}).filter(O=>!s||s.equals(O.hash)).map(O=>{let N=f.hashForWitnessV1(t,b,y,ws.Transaction.SIGHASH_DEFAULT,O.hash);return{pubkey:n,hash:N,leafHash:O.hash}});return E.concat(I)}o(uq,"getTaprootHashesForSig");function bve(t,e){if(e&&e.indexOf(t)<0){let r=Srt(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}o(bve,"checkSighashTypeAllowed");function vrt(t,e,r){let n;switch(e){case"multisig":let i=wrt(t,r);n=Wf.p2ms({output:t,signatures:i});break;case"pubkey":n=Wf.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=Wf.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Wf.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}o(vrt,"getPayment");function _rt(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=TR(r,e,t),a=n.ins[t].index;i.script=s.outs[a].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,yo.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}o(_rt,"getScriptFromInput");function lve(t,e,r){let n=(0,qa.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(a=>{if(a.masterFingerprint.equals(r.fingerprint))return a}).filter(a=>!!a);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(a=>{let f=r.derivePath(a.path);if(!a.pubkey.equals(f.publicKey))throw new Error("pubkey did not match bip32Derivation");return f})}o(lve,"getSignersFromHD");function wrt(t,e){return Wf.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}o(wrt,"getSortedSigs");function xve(t){let e=0;function r(a){return e+=a,t.slice(e-a,e)}o(r,"readSlice");function n(){let a=rve.decode(t,e);return e+=rve.decode.bytes,a}o(n,"readVarInt");function i(){return r(n())}o(i,"readVarSlice");function s(){let a=n(),f=[];for(let l=0;l<a;l++)f.push(i());return f}return o(s,"readVector"),s()}o(xve,"scriptWitnessToWitnessStack");function Srt(t){let e=t&ws.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case ws.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case ws.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case ws.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}o(Srt,"sighashTypeToString");function lq(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=ws.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let a=i.__NON_WITNESS_UTXO_BUF_CACHE[s],f=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(a!==void 0)return a;{let l=f.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=l,l}},set(a){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=a}})}o(lq,"addNonWitnessTxCache");function vve(t,e,r,n){let i=0;t.forEach((l,h)=>{if(n&&l.finalScriptSig&&(e.ins[h].script=l.finalScriptSig),n&&l.finalScriptWitness&&(e.ins[h].witness=xve(l.finalScriptWitness)),l.witnessUtxo)i+=l.witnessUtxo.value;else if(l.nonWitnessUtxo){let b=TR(r,l,h),y=e.ins[h].index,E=b.outs[y];i+=E.value}});let s=e.outs.reduce((l,h)=>l+h.value,0),a=i-s;if(a<0)throw new Error("Outputs are spending more than Inputs");let f=e.virtualSize();r.__FEE=a,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(a/f)}o(vve,"inputFinalizeGetAmts");function TR(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||lq(t,e,r),n[r]}o(TR,"nonWitnessUtxoTxFromCache");function _ve(t,e,r){let{script:n}=dq(t,e,r);return n}o(_ve,"getScriptFromUtxo");function dq(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=TR(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}o(dq,"getScriptAndAmountFromUtxo");function Ert(t,e,r,n){let i=_ve(r,e,n),{meaningfulScript:s}=RR(i,r,"input",e.redeemScript,e.witnessScript);return(0,yo.pubkeyInScript)(t,s)}o(Ert,"pubkeyInInput");function Art(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:s}=RR(i,r,"output",e.redeemScript,e.witnessScript);return(0,yo.pubkeyInScript)(t,s)}o(Art,"pubkeyInOutput");function Irt(t){if(!t)return;let e=th.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||wve(r)||Ort(r)||!th.decompile(r)))return r}o(Irt,"redeemFromFinalScriptSig");function Trt(t){if(!t)return;let e=xve(t),r=e[e.length-1];if(!(wve(r)||!th.decompile(r)))return r}o(Trt,"redeemFromFinalWitnessScript");function Rrt(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}o(Rrt,"compressPubkey");function wve(t){return t.length===33&&th.isCanonicalPubKey(t)}o(wve,"isPubkeyLike");function Ort(t){return th.isCanonicalScriptSignature(t)}o(Ort,"isSigLike");function RR(t,e,r,n,i){let s=(0,yo.isP2SHScript)(t),a=s&&n&&(0,yo.isP2WSHScript)(n),f=(0,yo.isP2WSHScript)(t);if(s&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((f||a)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let l;return a?(l=i,sve(e,t,n,r),ave(e,n,i,r),IR(l)):f?(l=i,ave(e,t,i,r),IR(l)):s?(l=n,sve(e,t,n,r)):l=t,{meaningfulScript:l,type:a?"p2sh-p2wsh":s?"p2sh":f?"p2wsh":"raw"}}o(RR,"getMeaningfulScript");function IR(t){if((0,yo.isP2WPKH)(t)||(0,yo.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}o(IR,"checkInvalidP2WSH");function Sve(t){return(0,yo.isP2WPKH)(t)?"witnesspubkeyhash":(0,yo.isP2PKH)(t)?"pubkeyhash":(0,yo.isP2MS)(t)?"multisig":(0,yo.isP2PK)(t)?"pubkey":"nonstandard"}o(Sve,"classifyScript");function kS(t){return[...Array(t).keys()]}o(kS,"range")});var hq=V(ji=>{"use strict";m();g();Object.defineProperty(ji,"__esModule",{value:!0});ji.initEccLib=ji.Transaction=ji.opcodes=ji.Psbt=ji.Block=ji.script=ji.payments=ji.networks=ji.crypto=ji.address=void 0;var Nrt=MF();ji.address=Nrt;var Mrt=Ed();ji.crypto=Mrt;var Crt=zf();ji.networks=Crt;var krt=dv();ji.payments=krt;var Brt=La();ji.script=Brt;var Prt=Gbe();Object.defineProperty(ji,"Block",{enumerable:!0,get:o(function(){return Prt.Block},"get")});var Lrt=Eve();Object.defineProperty(ji,"Psbt",{enumerable:!0,get:o(function(){return Lrt.Psbt},"get")});var Drt=xT();Object.defineProperty(ji,"opcodes",{enumerable:!0,get:o(function(){return Drt.OPS},"get")});var Urt=pv();Object.defineProperty(ji,"Transaction",{enumerable:!0,get:o(function(){return Urt.Transaction},"get")});var Hrt=tR();Object.defineProperty(ji,"initEccLib",{enumerable:!0,get:o(function(){return Hrt.initEccLib},"get")})});var rEe=V((dRr,tEe)=>{m();g();var Lct=hRe(),Dct=AM(),Uct="[object Date]";function Hct(t){return Dct(t)&&Lct(t)==Uct}o(Hct,"baseIsDate");tEe.exports=Hct});var sEe=V((gRr,oEe)=>{m();g();var Fct=rEe(),qct=IM(),nEe=TM(),iEe=nEe&&nEe.isDate,Vct=iEe?qct(iEe):Fct;oEe.exports=Vct});var gh=V(Kr=>{"use strict";m();g();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.DEFAULT_TLRU_TTL_MS=Kr.BANDIT_ASSIGNMENT_SHARDS=Kr.MAX_EVENT_QUEUE_SIZE=Kr.NULL_SENTINEL=Kr.SESSION_ASSIGNMENT_CONFIG_LOADED=Kr.PRECOMPUTED_FLAGS_ENDPOINT=Kr.PRECOMPUTED_BASE_URL=Kr.BANDIT_ENDPOINT=Kr.UFC_ENDPOINT=Kr.BASE_URL=Kr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=Kr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=Kr.POLL_JITTER_PCT=Kr.DEFAULT_POLL_INTERVAL_MS=Kr.REQUEST_TIMEOUT_MILLIS=Kr.DEFAULT_REQUEST_TIMEOUT_MS=void 0;Kr.DEFAULT_REQUEST_TIMEOUT_MS=5e3;Kr.REQUEST_TIMEOUT_MILLIS=Kr.DEFAULT_REQUEST_TIMEOUT_MS;Kr.DEFAULT_POLL_INTERVAL_MS=3e4;Kr.POLL_JITTER_PCT=.1;Kr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1;Kr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7;Kr.BASE_URL="https://fscdn.eppo.cloud/api";Kr.UFC_ENDPOINT="/flag-config/v1/config";Kr.BANDIT_ENDPOINT="/flag-config/v1/bandits";Kr.PRECOMPUTED_BASE_URL="https://fs-edge-assignment.eppo.cloud";Kr.PRECOMPUTED_FLAGS_ENDPOINT="/assignments";Kr.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded";Kr.NULL_SENTINEL="EPPO_NULL";Kr.MAX_EVENT_QUEUE_SIZE=100;Kr.BANDIT_ASSIGNMENT_SHARDS=1e4;Kr.DEFAULT_TLRU_TTL_MS=6e5});var tO=V(pK=>{"use strict";m();g();Object.defineProperty(pK,"__esModule",{value:!0});var eO=gh(),hK=class{static{o(this,"ApiEndpoints")}constructor(e){this.params=e,this.params.baseUrl=e.baseUrl??eO.BASE_URL}endpoint(e){let r=new URL(this.params.baseUrl+e);return Object.entries(this.params.queryParams??{}).forEach(([n,i])=>r.searchParams.append(n,i)),r}ufcEndpoint(){return this.endpoint(eO.UFC_ENDPOINT)}banditParametersEndpoint(){return this.endpoint(eO.BANDIT_ENDPOINT)}precomputedFlagsEndpoint(){return this.endpoint(eO.PRECOMPUTED_FLAGS_ENDPOINT)}};pK.default=hK});var x3e=V((RLr,b3e)=>{"use strict";m();g();function cut(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}o(cut,"tryStringify");b3e.exports=fut;function fut(t,e,r){var n=r&&r.stringify||cut,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var a=new Array(s);a[0]=n(t);for(var f=1;f<s;f++)a[f]=n(e[f]);return a.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var h="",b=1-i,y=-1,E=t&&t.length||0,I=0;I<E;){if(t.charCodeAt(I)===37&&I+1<E){switch(y=y>-1?y:0,t.charCodeAt(I+1)){case 100:case 102:if(b>=l||e[b]==null)break;y<I&&(h+=t.slice(y,I)),h+=Number(e[b]),y=I+2,I++;break;case 105:if(b>=l||e[b]==null)break;y<I&&(h+=t.slice(y,I)),h+=Math.floor(Number(e[b])),y=I+2,I++;break;case 79:case 111:case 106:if(b>=l||e[b]===void 0)break;y<I&&(h+=t.slice(y,I));var O=typeof e[b];if(O==="string"){h+="'"+e[b]+"'",y=I+2,I++;break}if(O==="function"){h+=e[b].name||"<anonymous>",y=I+2,I++;break}h+=n(e[b]),y=I+2,I++;break;case 115:if(b>=l)break;y<I&&(h+=t.slice(y,I)),h+=String(e[b]),y=I+2,I++;break;case 37:y<I&&(h+=t.slice(y,I)),h+="%",y=I+2,I++,b--;break}++b}++I}return y===-1?t:(y<E&&(h+=t.slice(y)),h)}o(fut,"format")});var A3e=V((CLr,nO)=>{"use strict";m();g();var v3e=x3e();nO.exports=yh;var jE=Eut().console||{},uut={mapHttpRequest:rO,mapHttpResponse:rO,wrapRequestSerializer:mK,wrapResponseSerializer:mK,wrapErrorSerializer:mK,req:rO,res:rO,err:w3e,errWithCause:w3e};function Dm(t,e){return t==="silent"?1/0:e.levels.values[t]}o(Dm,"levelToValue");var bK=Symbol("pino.logFuncs"),gK=Symbol("pino.hierarchy"),lut={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function _3e(t,e){let r={logger:e,parent:t[gK]};e[gK]=r}o(_3e,"appendChildLogger");function dut(t,e,r){let n={};e.forEach(i=>{n[i]=r[i]?r[i]:jE[i]||jE[lut[i]||"log"]||n2}),t[bK]=n}o(dut,"setupBaseLogFunctions");function hut(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}o(hut,"shouldSerialize");function yh(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||jE;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=hut(t.browser.serialize,n),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let a=Object.keys(t.customLevels||{}),f=["error","fatal","warn","info","debug","trace"].concat(a);typeof r=="function"&&f.forEach(function(N){r[N]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");let l=t.level||"info",h=Object.create(r);h.log||(h.log=n2),dut(h,f,r),_3e({},h),Object.defineProperty(h,"levelVal",{get:y}),Object.defineProperty(h,"level",{get:E,set:I});let b={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:f,timestamp:_ut(t),messageKey:t.messageKey||"msg",onChild:t.onChild||n2};h.levels=put(t),h.level=l,h.setMaxListeners=h.getMaxListeners=h.emit=h.addListener=h.on=h.prependListener=h.once=h.prependOnceListener=h.removeListener=h.removeAllListeners=h.listeners=h.listenerCount=h.eventNames=h.write=h.flush=n2,h.serializers=n,h._serialize=i,h._stdErrSerialize=s,h.child=function(...N){return O.call(this,b,...N)},e&&(h._logEvent=yK());function y(){return Dm(this.level,this)}o(y,"getLevelVal");function E(){return this._level}o(E,"getLevel");function I(N){if(N!=="silent"&&!this.levels.values[N])throw Error("unknown level "+N);this._level=N,ly(this,b,h,"error"),ly(this,b,h,"fatal"),ly(this,b,h,"warn"),ly(this,b,h,"info"),ly(this,b,h,"debug"),ly(this,b,h,"trace"),a.forEach(k=>{ly(this,b,h,k)})}o(I,"setLevel");function O(N,k,C){if(!k)throw new Error("missing bindings for child Pino");C=C||{},i&&k.serializers&&(C.serializers=k.serializers);let L=C.serializers;if(i&&L){var M=Object.assign({},n,L),U=t.browser.serialize===!0?Object.keys(M):i;delete k.serializers,xK([k],U,M,this._stdErrSerialize)}function q(re){this._childLevel=(re._childLevel|0)+1,this.bindings=k,M&&(this.serializers=M,this._serialize=U),e&&(this._logEvent=yK([].concat(re._logEvent.bindings,k)))}o(q,"Child"),q.prototype=this;let j=new q(this);return _3e(this,j),j.child=function(...re){return O.call(this,N,...re)},j.level=C.level||this.level,N.onChild(j),j}return o(O,"child"),h}o(yh,"pino");function put(t){let e=t.customLevels||{},r=Object.assign({},yh.levels.values,e),n=Object.assign({},yh.levels.labels,mut(e));return{values:r,labels:n}}o(put,"getLevels");function mut(t){let e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}o(mut,"invertObject");yh.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};yh.stdSerializers=uut;yh.stdTimeFunctions=Object.assign({},{nullTime:S3e,epochTime:E3e,unixTime:wut,isoTime:Sut});function gut(t){let e=[];t.bindings&&e.push(t.bindings);let r=t[gK];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}o(gut,"getBindingChain");function ly(t,e,r,n){if(Object.defineProperty(t,n,{value:Dm(t.level,r)>Dm(n,r)?n2:r[bK][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===n2){if(!e.transmit)return;let s=e.transmit.level||t.level,a=Dm(s,r);if(Dm(n,r)<a)return}t[n]=but(t,e,r,n);let i=gut(t);i.length!==0&&(t[n]=yut(i,t[n]))}o(ly,"set");function yut(t,e){return function(){return e.apply(this,[...t,...arguments])}}o(yut,"prependBindingsInArguments");function but(t,e,r,n){return function(i){return o(function(){let a=e.timestamp(),f=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===jE?jE:this;for(var h=0;h<f.length;h++)f[h]=arguments[h];var b=!1;if(e.serialize&&(xK(f,this._serialize,this.serializers,this._stdErrSerialize),b=!0),e.asObject||e.formatters?i.call(l,xut(this,n,f,a,e)):i.apply(l,f),e.transmit){let y=e.transmit.level||t._level,E=Dm(y,r),I=Dm(n,r);if(I<E)return;vut(this,{ts:a,methodLevel:n,methodValue:I,transmitLevel:y,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Dm(t._level,r)},f,b)}},"LOG")}(t[bK][n])}o(but,"createWrap");function xut(t,e,r,n,i){let{level:s,log:a=o(E=>E,"logObjectFormatter")}=i.formatters||{},f=r.slice(),l=f[0],h={};if(n&&(h.time=n),s){let E=s(e,t.levels.values[e]);Object.assign(h,E)}else h.level=t.levels.values[e];let b=(t._childLevel|0)+1;if(b<1&&(b=1),l!==null&&typeof l=="object"){for(;b--&&typeof f[0]=="object";)Object.assign(h,f.shift());l=f.length?v3e(f.shift(),f):void 0}else typeof l=="string"&&(l=v3e(f.shift(),f));return l!==void 0&&(h[i.messageKey]=l),a(h)}o(xut,"asObject");function xK(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=yh.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(let s in t[i])e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}o(xK,"applySerializers");function vut(t,e,r,n=!1){let i=e.send,s=e.ts,a=e.methodLevel,f=e.methodValue,l=e.val,h=t._logEvent.bindings;n||xK(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(b){return h.indexOf(b)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=f,i(a,t._logEvent,l),t._logEvent=yK(h)}o(vut,"transmit");function yK(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}o(yK,"createLogEventShape");function w3e(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}o(w3e,"asErrValue");function _ut(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?S3e:E3e}o(_ut,"getTimeFunction");function rO(){return{}}o(rO,"mock");function mK(t){return t}o(mK,"passthrough");function n2(){}o(n2,"noop");function S3e(){return!1}o(S3e,"nullTime");function E3e(){return Date.now()}o(E3e,"epochTime");function wut(){return Math.round(Date.now()/1e3)}o(wut,"unixTime");function Sut(){return new Date(Date.now()).toISOString()}o(Sut,"isoTime");function Eut(){function t(e){return typeof e<"u"&&e}o(t,"defd");try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:o(function(){return delete Object.prototype.globalThis,this.globalThis=this},"get"),configurable:!0}),globalThis}catch{return t(self)||t(self)||t(this)||{}}}o(Eut,"pfGlobalThisOrFallback");nO.exports.default=yh;nO.exports.pino=yh});var Kd=V(i2=>{"use strict";m();g();Object.defineProperty(i2,"__esModule",{value:!0});i2.logger=i2.loggerPrefix=void 0;var Aut=A3e();i2.loggerPrefix="[Eppo SDK]";i2.logger=(0,Aut.default)({level:R.LOG_LEVEL??(R.NODE_ENV==="production"?"warn":"info"),browser:{disabled:!0}})});var wK=V((vK,_K)=>{m();g();(function(t,e){typeof vK=="object"&&typeof _K<"u"?_K.exports=e():typeof define=="function"&&define.amd?define(e):function(){var r=t.Base64,n=e();n.noConflict=function(){return t.Base64=r,n},t.Meteor&&(Base64=n),t.Base64=n}()})(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:vK,function(){"use strict";var t="3.7.7",e=t,r=typeof Buffer=="function",n=typeof TextDecoder=="function"?new TextDecoder:void 0,i=typeof TextEncoder=="function"?new TextEncoder:void 0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=Array.prototype.slice.call(s),f=function(D){var $={};return D.forEach(function(ee,te){return $[ee]=te}),$}(a),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),b=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(D){return new Uint8Array(Array.prototype.slice.call(D,0))},y=o(function(D){return D.replace(/=/g,"").replace(/[+\/]/g,function($){return $=="+"?"-":"_"})},"_mkUriSafe"),E=o(function(D){return D.replace(/[^A-Za-z0-9\+\/]/g,"")},"_tidyB64"),I=o(function(D){for(var $,ee,te,Oe,fe="",le=D.length%3,ge=0;ge<D.length;){if((ee=D.charCodeAt(ge++))>255||(te=D.charCodeAt(ge++))>255||(Oe=D.charCodeAt(ge++))>255)throw new TypeError("invalid character found");$=ee<<16|te<<8|Oe,fe+=a[$>>18&63]+a[$>>12&63]+a[$>>6&63]+a[$&63]}return le?fe.slice(0,le-3)+"===".substring(le):fe},"btoaPolyfill"),O=typeof btoa=="function"?function(D){return btoa(D)}:r?function(D){return Buffer.from(D,"binary").toString("base64")}:I,N=r?function(D){return Buffer.from(D).toString("base64")}:function(D){for(var $=4096,ee=[],te=0,Oe=D.length;te<Oe;te+=$)ee.push(h.apply(null,D.subarray(te,te+$)));return O(ee.join(""))},k=o(function(D,$){return $===void 0&&($=!1),$?y(N(D)):N(D)},"fromUint8Array"),C=o(function(D){if(D.length<2){var $=D.charCodeAt(0);return $<128?D:$<2048?h(192|$>>>6)+h(128|$&63):h(224|$>>>12&15)+h(128|$>>>6&63)+h(128|$&63)}else{var $=65536+(D.charCodeAt(0)-55296)*1024+(D.charCodeAt(1)-56320);return h(240|$>>>18&7)+h(128|$>>>12&63)+h(128|$>>>6&63)+h(128|$&63)}},"cb_utob"),L=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,M=o(function(D){return D.replace(L,C)},"utob"),U=r?function(D){return Buffer.from(D,"utf8").toString("base64")}:i?function(D){return N(i.encode(D))}:function(D){return O(M(D))},q=o(function(D,$){return $===void 0&&($=!1),$?y(U(D)):U(D)},"encode"),j=o(function(D){return q(D,!0)},"encodeURI"),re=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Y=o(function(D){switch(D.length){case 4:var $=(7&D.charCodeAt(0))<<18|(63&D.charCodeAt(1))<<12|(63&D.charCodeAt(2))<<6|63&D.charCodeAt(3),ee=$-65536;return h((ee>>>10)+55296)+h((ee&1023)+56320);case 3:return h((15&D.charCodeAt(0))<<12|(63&D.charCodeAt(1))<<6|63&D.charCodeAt(2));default:return h((31&D.charCodeAt(0))<<6|63&D.charCodeAt(1))}},"cb_btou"),X=o(function(D){return D.replace(re,Y)},"btou"),S=o(function(D){if(D=D.replace(/\s+/g,""),!l.test(D))throw new TypeError("malformed base64.");D+="==".slice(2-(D.length&3));for(var $,ee="",te,Oe,fe=0;fe<D.length;)$=f[D.charAt(fe++)]<<18|f[D.charAt(fe++)]<<12|(te=f[D.charAt(fe++)])<<6|(Oe=f[D.charAt(fe++)]),ee+=te===64?h($>>16&255):Oe===64?h($>>16&255,$>>8&255):h($>>16&255,$>>8&255,$&255);return ee},"atobPolyfill"),c=typeof atob=="function"?function(D){return atob(E(D))}:r?function(D){return Buffer.from(D,"base64").toString("binary")}:S,d=r?function(D){return b(Buffer.from(D,"base64"))}:function(D){return b(c(D).split("").map(function($){return $.charCodeAt(0)}))},p=o(function(D){return d(v(D))},"toUint8Array"),x=r?function(D){return Buffer.from(D,"base64").toString("utf8")}:n?function(D){return n.decode(d(D))}:function(D){return X(c(D))},v=o(function(D){return E(D.replace(/[-_]/g,function($){return $=="-"?"+":"/"}))},"_unURI"),A=o(function(D){return x(v(D))},"decode"),T=o(function(D){if(typeof D!="string")return!1;var $=D.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test($)||!/[^\s0-9a-zA-Z\-_]/.test($)},"isValid"),w=o(function(D){return{value:D,enumerable:!1,writable:!0,configurable:!0}},"_noEnum"),u=o(function(){var D=o(function($,ee){return Object.defineProperty(String.prototype,$,w(ee))},"_add");D("fromBase64",function(){return A(this)}),D("toBase64",function($){return q(this,$)}),D("toBase64URI",function(){return q(this,!0)}),D("toBase64URL",function(){return q(this,!0)}),D("toUint8Array",function(){return p(this)})},"extendString"),_=o(function(){var D=o(function($,ee){return Object.defineProperty(Uint8Array.prototype,$,w(ee))},"_add");D("toBase64",function($){return k(this,$)}),D("toBase64URI",function(){return k(this,!0)}),D("toBase64URL",function(){return k(this,!0)})},"extendUint8Array"),F=o(function(){u(),_()},"extendBuiltins"),H={version:t,VERSION:e,atob:c,atobPolyfill:S,btoa:O,btoaPolyfill:I,fromBase64:A,toBase64:q,encode:q,encodeURI:j,encodeURL:j,utob:M,btou:X,decode:A,isValid:T,fromUint8Array:k,toUint8Array:p,extendString:u,extendUint8Array:_,extendBuiltins:F};return H.Base64={},Object.keys(H).forEach(function(D){return H.Base64[D]=H[D]}),H})});var R3e=V((I3e,T3e)=>{m();g();(function(t){if(typeof I3e=="object")T3e.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=self}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=o(function(C,L){return C+L&4294967295},"add32"),r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(C,L,M,U,q,j){return L=e(e(L,C),e(U,j)),e(L<<q|L>>>32-q,M)}o(n,"cmn");function i(C,L){var M=C[0],U=C[1],q=C[2],j=C[3];M+=(U&q|~U&j)+L[0]-680876936|0,M=(M<<7|M>>>25)+U|0,j+=(M&U|~M&q)+L[1]-389564586|0,j=(j<<12|j>>>20)+M|0,q+=(j&M|~j&U)+L[2]+606105819|0,q=(q<<17|q>>>15)+j|0,U+=(q&j|~q&M)+L[3]-1044525330|0,U=(U<<22|U>>>10)+q|0,M+=(U&q|~U&j)+L[4]-176418897|0,M=(M<<7|M>>>25)+U|0,j+=(M&U|~M&q)+L[5]+1200080426|0,j=(j<<12|j>>>20)+M|0,q+=(j&M|~j&U)+L[6]-1473231341|0,q=(q<<17|q>>>15)+j|0,U+=(q&j|~q&M)+L[7]-45705983|0,U=(U<<22|U>>>10)+q|0,M+=(U&q|~U&j)+L[8]+1770035416|0,M=(M<<7|M>>>25)+U|0,j+=(M&U|~M&q)+L[9]-1958414417|0,j=(j<<12|j>>>20)+M|0,q+=(j&M|~j&U)+L[10]-42063|0,q=(q<<17|q>>>15)+j|0,U+=(q&j|~q&M)+L[11]-1990404162|0,U=(U<<22|U>>>10)+q|0,M+=(U&q|~U&j)+L[12]+1804603682|0,M=(M<<7|M>>>25)+U|0,j+=(M&U|~M&q)+L[13]-40341101|0,j=(j<<12|j>>>20)+M|0,q+=(j&M|~j&U)+L[14]-1502002290|0,q=(q<<17|q>>>15)+j|0,U+=(q&j|~q&M)+L[15]+1236535329|0,U=(U<<22|U>>>10)+q|0,M+=(U&j|q&~j)+L[1]-165796510|0,M=(M<<5|M>>>27)+U|0,j+=(M&q|U&~q)+L[6]-1069501632|0,j=(j<<9|j>>>23)+M|0,q+=(j&U|M&~U)+L[11]+643717713|0,q=(q<<14|q>>>18)+j|0,U+=(q&M|j&~M)+L[0]-373897302|0,U=(U<<20|U>>>12)+q|0,M+=(U&j|q&~j)+L[5]-701558691|0,M=(M<<5|M>>>27)+U|0,j+=(M&q|U&~q)+L[10]+38016083|0,j=(j<<9|j>>>23)+M|0,q+=(j&U|M&~U)+L[15]-660478335|0,q=(q<<14|q>>>18)+j|0,U+=(q&M|j&~M)+L[4]-405537848|0,U=(U<<20|U>>>12)+q|0,M+=(U&j|q&~j)+L[9]+568446438|0,M=(M<<5|M>>>27)+U|0,j+=(M&q|U&~q)+L[14]-1019803690|0,j=(j<<9|j>>>23)+M|0,q+=(j&U|M&~U)+L[3]-187363961|0,q=(q<<14|q>>>18)+j|0,U+=(q&M|j&~M)+L[8]+1163531501|0,U=(U<<20|U>>>12)+q|0,M+=(U&j|q&~j)+L[13]-1444681467|0,M=(M<<5|M>>>27)+U|0,j+=(M&q|U&~q)+L[2]-51403784|0,j=(j<<9|j>>>23)+M|0,q+=(j&U|M&~U)+L[7]+1735328473|0,q=(q<<14|q>>>18)+j|0,U+=(q&M|j&~M)+L[12]-1926607734|0,U=(U<<20|U>>>12)+q|0,M+=(U^q^j)+L[5]-378558|0,M=(M<<4|M>>>28)+U|0,j+=(M^U^q)+L[8]-2022574463|0,j=(j<<11|j>>>21)+M|0,q+=(j^M^U)+L[11]+1839030562|0,q=(q<<16|q>>>16)+j|0,U+=(q^j^M)+L[14]-35309556|0,U=(U<<23|U>>>9)+q|0,M+=(U^q^j)+L[1]-1530992060|0,M=(M<<4|M>>>28)+U|0,j+=(M^U^q)+L[4]+1272893353|0,j=(j<<11|j>>>21)+M|0,q+=(j^M^U)+L[7]-155497632|0,q=(q<<16|q>>>16)+j|0,U+=(q^j^M)+L[10]-1094730640|0,U=(U<<23|U>>>9)+q|0,M+=(U^q^j)+L[13]+681279174|0,M=(M<<4|M>>>28)+U|0,j+=(M^U^q)+L[0]-358537222|0,j=(j<<11|j>>>21)+M|0,q+=(j^M^U)+L[3]-722521979|0,q=(q<<16|q>>>16)+j|0,U+=(q^j^M)+L[6]+76029189|0,U=(U<<23|U>>>9)+q|0,M+=(U^q^j)+L[9]-640364487|0,M=(M<<4|M>>>28)+U|0,j+=(M^U^q)+L[12]-421815835|0,j=(j<<11|j>>>21)+M|0,q+=(j^M^U)+L[15]+530742520|0,q=(q<<16|q>>>16)+j|0,U+=(q^j^M)+L[2]-995338651|0,U=(U<<23|U>>>9)+q|0,M+=(q^(U|~j))+L[0]-198630844|0,M=(M<<6|M>>>26)+U|0,j+=(U^(M|~q))+L[7]+1126891415|0,j=(j<<10|j>>>22)+M|0,q+=(M^(j|~U))+L[14]-1416354905|0,q=(q<<15|q>>>17)+j|0,U+=(j^(q|~M))+L[5]-57434055|0,U=(U<<21|U>>>11)+q|0,M+=(q^(U|~j))+L[12]+1700485571|0,M=(M<<6|M>>>26)+U|0,j+=(U^(M|~q))+L[3]-1894986606|0,j=(j<<10|j>>>22)+M|0,q+=(M^(j|~U))+L[10]-1051523|0,q=(q<<15|q>>>17)+j|0,U+=(j^(q|~M))+L[1]-2054922799|0,U=(U<<21|U>>>11)+q|0,M+=(q^(U|~j))+L[8]+1873313359|0,M=(M<<6|M>>>26)+U|0,j+=(U^(M|~q))+L[15]-30611744|0,j=(j<<10|j>>>22)+M|0,q+=(M^(j|~U))+L[6]-1560198380|0,q=(q<<15|q>>>17)+j|0,U+=(j^(q|~M))+L[13]+1309151649|0,U=(U<<21|U>>>11)+q|0,M+=(q^(U|~j))+L[4]-145523070|0,M=(M<<6|M>>>26)+U|0,j+=(U^(M|~q))+L[11]-1120210379|0,j=(j<<10|j>>>22)+M|0,q+=(M^(j|~U))+L[2]+718787259|0,q=(q<<15|q>>>17)+j|0,U+=(j^(q|~M))+L[9]-343485551|0,U=(U<<21|U>>>11)+q|0,C[0]=M+C[0]|0,C[1]=U+C[1]|0,C[2]=q+C[2]|0,C[3]=j+C[3]|0}o(i,"md5cycle");function s(C){var L=[],M;for(M=0;M<64;M+=4)L[M>>2]=C.charCodeAt(M)+(C.charCodeAt(M+1)<<8)+(C.charCodeAt(M+2)<<16)+(C.charCodeAt(M+3)<<24);return L}o(s,"md5blk");function a(C){var L=[],M;for(M=0;M<64;M+=4)L[M>>2]=C[M]+(C[M+1]<<8)+(C[M+2]<<16)+(C[M+3]<<24);return L}o(a,"md5blk_array");function f(C){var L=C.length,M=[1732584193,-271733879,-1732584194,271733878],U,q,j,re,Y,X;for(U=64;U<=L;U+=64)i(M,s(C.substring(U-64,U)));for(C=C.substring(U-64),q=C.length,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=0;U<q;U+=1)j[U>>2]|=C.charCodeAt(U)<<(U%4<<3);if(j[U>>2]|=128<<(U%4<<3),U>55)for(i(M,j),U=0;U<16;U+=1)j[U]=0;return re=L*8,re=re.toString(16).match(/(.*?)(.{0,8})$/),Y=parseInt(re[2],16),X=parseInt(re[1],16)||0,j[14]=Y,j[15]=X,i(M,j),M}o(f,"md51");function l(C){var L=C.length,M=[1732584193,-271733879,-1732584194,271733878],U,q,j,re,Y,X;for(U=64;U<=L;U+=64)i(M,a(C.subarray(U-64,U)));for(C=U-64<L?C.subarray(U-64):new Uint8Array(0),q=C.length,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=0;U<q;U+=1)j[U>>2]|=C[U]<<(U%4<<3);if(j[U>>2]|=128<<(U%4<<3),U>55)for(i(M,j),U=0;U<16;U+=1)j[U]=0;return re=L*8,re=re.toString(16).match(/(.*?)(.{0,8})$/),Y=parseInt(re[2],16),X=parseInt(re[1],16)||0,j[14]=Y,j[15]=X,i(M,j),M}o(l,"md51_array");function h(C){var L="",M;for(M=0;M<4;M+=1)L+=r[C>>M*8+4&15]+r[C>>M*8&15];return L}o(h,"rhex");function b(C){var L;for(L=0;L<C.length;L+=1)C[L]=h(C[L]);return C.join("")}o(b,"hex"),b(f("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=o(function(C,L){var M=(C&65535)+(L&65535),U=(C>>16)+(L>>16)+(M>>16);return U<<16|M&65535},"add32")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function C(L,M){return L=L|0||0,L<0?Math.max(L+M,0):Math.min(L,M)}o(C,"clamp"),ArrayBuffer.prototype.slice=function(L,M){var U=this.byteLength,q=C(L,U),j=U,re,Y,X,S;return M!==t&&(j=C(M,U)),q>j?new ArrayBuffer(0):(re=j-q,Y=new ArrayBuffer(re),X=new Uint8Array(Y),S=new Uint8Array(this,q,re),X.set(S),Y)}}();function y(C){return/[\u0080-\uFFFF]/.test(C)&&(C=unescape(encodeURIComponent(C))),C}o(y,"toUtf8");function E(C,L){var M=C.length,U=new ArrayBuffer(M),q=new Uint8Array(U),j;for(j=0;j<M;j+=1)q[j]=C.charCodeAt(j);return L?q:U}o(E,"utf8Str2ArrayBuffer");function I(C){return String.fromCharCode.apply(null,new Uint8Array(C))}o(I,"arrayBuffer2Utf8Str");function O(C,L,M){var U=new Uint8Array(C.byteLength+L.byteLength);return U.set(new Uint8Array(C)),U.set(new Uint8Array(L),C.byteLength),M?U:U.buffer}o(O,"concatenateArrayBuffers");function N(C){var L=[],M=C.length,U;for(U=0;U<M-1;U+=2)L.push(parseInt(C.substr(U,2),16));return String.fromCharCode.apply(String,L)}o(N,"hexToBinaryString");function k(){this.reset()}return o(k,"SparkMD5"),k.prototype.append=function(C){return this.appendBinary(y(C)),this},k.prototype.appendBinary=function(C){this._buff+=C,this._length+=C.length;var L=this._buff.length,M;for(M=64;M<=L;M+=64)i(this._hash,s(this._buff.substring(M-64,M)));return this._buff=this._buff.substring(M-64),this},k.prototype.end=function(C){var L=this._buff,M=L.length,U,q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j;for(U=0;U<M;U+=1)q[U>>2]|=L.charCodeAt(U)<<(U%4<<3);return this._finish(q,M),j=b(this._hash),C&&(j=N(j)),this.reset(),j},k.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},k.prototype.setState=function(C){return this._buff=C.buff,this._length=C.length,this._hash=C.hash,this},k.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},k.prototype._finish=function(C,L){var M=L,U,q,j;if(C[M>>2]|=128<<(M%4<<3),M>55)for(i(this._hash,C),M=0;M<16;M+=1)C[M]=0;U=this._length*8,U=U.toString(16).match(/(.*?)(.{0,8})$/),q=parseInt(U[2],16),j=parseInt(U[1],16)||0,C[14]=q,C[15]=j,i(this._hash,C)},k.hash=function(C,L){return k.hashBinary(y(C),L)},k.hashBinary=function(C,L){var M=f(C),U=b(M);return L?N(U):U},k.ArrayBuffer=function(){this.reset()},k.ArrayBuffer.prototype.append=function(C){var L=O(this._buff.buffer,C,!0),M=L.length,U;for(this._length+=C.byteLength,U=64;U<=M;U+=64)i(this._hash,a(L.subarray(U-64,U)));return this._buff=U-64<M?new Uint8Array(L.buffer.slice(U-64)):new Uint8Array(0),this},k.ArrayBuffer.prototype.end=function(C){var L=this._buff,M=L.length,U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q,j;for(q=0;q<M;q+=1)U[q>>2]|=L[q]<<(q%4<<3);return this._finish(U,M),j=b(this._hash),C&&(j=N(j)),this.reset(),j},k.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.ArrayBuffer.prototype.getState=function(){var C=k.prototype.getState.call(this);return C.buff=I(C.buff),C},k.ArrayBuffer.prototype.setState=function(C){return C.buff=E(C.buff,!0),k.prototype.setState.call(this,C)},k.ArrayBuffer.prototype.destroy=k.prototype.destroy,k.ArrayBuffer.prototype._finish=k.prototype._finish,k.ArrayBuffer.hash=function(C,L){var M=l(new Uint8Array(C)),U=b(M);return L?N(U):U},k})});var bh=V(Um=>{"use strict";m();g();Object.defineProperty(Um,"__esModule",{value:!0});Um.getMD5Hash=SK;Um.encodeBase64=ul;Um.attributeEncodeBase64=M3e;Um.decodeBase64=Tut;Um.obfuscatePrecomputedBanditMap=Rut;Um.obfuscatePrecomputedFlags=Nut;var N3e=wK(),Iut=R3e();function SK(t,e=""){return new Iut().append(e).append(t).end()}o(SK,"getMD5Hash");function ul(t){return N3e.encode(t)}o(ul,"encodeBase64");function M3e(t){return ul(typeof t!="string"?String(t):t)}o(M3e,"attributeEncodeBase64");function Tut(t){return N3e.decode(t)}o(Tut,"decodeBase64");function Rut(t,e){return Object.fromEntries(Object.entries(e).map(([r,n])=>[SK(r,t),Out(n)]))}o(Rut,"obfuscatePrecomputedBanditMap");function Out(t){return{banditKey:ul(t.banditKey),action:ul(t.action),actionProbability:t.actionProbability,optimalityGap:t.optimalityGap,modelVersion:ul(t.modelVersion),actionNumericAttributes:O3e(t.actionNumericAttributes),actionCategoricalAttributes:O3e(t.actionCategoricalAttributes)}}o(Out,"obfuscatePrecomputedBandit");function O3e(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[ul(e),M3e(r)]))}o(O3e,"encodeAttributes");function Nut(t,e){let r={};return Object.keys(e).forEach(n=>{let i=e[n],s=Object.fromEntries(Object.entries(i.extraLogging??{}).map(f=>f.map(ul))),a=SK(n,t);r[a]={flagKey:a,variationType:i.variationType,extraLogging:s,doLog:i.doLog,allocationKey:ul(i.allocationKey??""),variationKey:ul(i.variationKey??""),variationValue:ul(i.variationValue)}}),r}o(Nut,"obfuscatePrecomputedFlags")});var KE=V(o2=>{"use strict";m();g();Object.defineProperty(o2,"__esModule",{value:!0});o2.AbstractAssignmentCache=void 0;o2.assignmentCacheKeyToString=EK;o2.assignmentCacheValueToString=AK;var C3e=bh();function EK({subjectKey:t,flagKey:e}){return(0,C3e.getMD5Hash)([t,e].join(";"))}o(EK,"assignmentCacheKeyToString");function AK(t){return(0,C3e.getMD5Hash)(Object.values(t).join(";"))}o(AK,"assignmentCacheValueToString");var IK=class{static{o(this,"AbstractAssignmentCache")}constructor(e){this.delegate=e}has(e){return this.get(e)===AK(e)}get(e){return this.delegate.get(EK(e))}set(e){this.delegate.set(EK(e),AK(e))}entries(){return this.delegate.entries()}};o2.AbstractAssignmentCache=IK});var RK=V(iO=>{"use strict";m();g();Object.defineProperty(iO,"__esModule",{value:!0});iO.LRUCache=void 0;var TK=class{static{o(this,"LRUCache")}constructor(e){this.capacity=e,this.cache=new Map,this.size=this.cache.size}[Symbol.iterator](){return this.cache[Symbol.iterator]()}forEach(e,r){this.cache.forEach(e,r)}entries(){return this.cache.entries()}clear(){this.cache.clear()}delete(e){return this.cache.delete(e)}keys(){return this.cache.keys()}values(){return this.cache.values()}has(e){return this.cache.has(e)}get(e){if(!this.has(e))return;let r=this.cache.get(e);return r!==void 0&&(this.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.capacity===0)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){let n=this.cache.keys().next().value;n&&this.delete(n)}return this.cache.set(e,r),this}};iO.LRUCache=TK});var sO=V(oO=>{"use strict";m();g();Object.defineProperty(oO,"__esModule",{value:!0});oO.LRUInMemoryAssignmentCache=void 0;var Mut=KE(),Cut=RK(),OK=class extends Mut.AbstractAssignmentCache{static{o(this,"LRUInMemoryAssignmentCache")}constructor(e){super(new Cut.LRUCache(e))}};oO.LRUInMemoryAssignmentCache=OK});var cO=V(aO=>{"use strict";m();g();Object.defineProperty(aO,"__esModule",{value:!0});aO.NonExpiringInMemoryAssignmentCache=void 0;var kut=KE(),NK=class extends kut.AbstractAssignmentCache{static{o(this,"NonExpiringInMemoryAssignmentCache")}constructor(e=new Map){super(e)}};aO.NonExpiringInMemoryAssignmentCache=NK});var CK=V(dy=>{"use strict";m();g();Object.defineProperty(dy,"__esModule",{value:!0});dy.isInstanceOfContextualAttributes=fO;dy.ensureNonContextualSubjectAttributes=But;dy.ensureContextualSubjectAttributes=Put;dy.deduceAttributeContext=MK;dy.ensureActionsWithContextualAttributes=Lut;function fO(t){return!!(typeof t=="object"&&t&&"numericAttributes"in t&&"categoricalAttributes"in t)}o(fO,"isInstanceOfContextualAttributes");function But(t){let e;if(fO(t)){let r=t;e={...r.numericAttributes,...r.categoricalAttributes}}else e=t;return e}o(But,"ensureNonContextualSubjectAttributes");function Put(t){return fO(t)?t:MK(t)}o(Put,"ensureContextualSubjectAttributes");function MK(t){let e={numericAttributes:{},categoricalAttributes:{}};return Object.entries(t).forEach(([r,n])=>{typeof n=="number"?e.numericAttributes[r]=n:e.categoricalAttributes[r]=n}),e}o(MK,"deduceAttributeContext");function Lut(t){let e={};return Array.isArray(t)?t.forEach(r=>{e[r]={numericAttributes:{},categoricalAttributes:{}}}):Object.values(t).every(fO)?e=t:Object.entries(t).forEach(([r,n])=>{e[r]=MK(n)}),e}o(Lut,"ensureActionsWithContextualAttributes")});var PK=V(Hm=>{"use strict";m();g();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.DeterministicSharder=Hm.MD5Sharder=Hm.Sharder=void 0;var Dut=bh(),zE=class{static{o(this,"Sharder")}};Hm.Sharder=zE;var kK=class extends zE{static{o(this,"MD5Sharder")}getShard(e,r){let n=(0,Dut.getMD5Hash)(e);return parseInt(n.slice(0,8),16)%r}};Hm.MD5Sharder=kK;var BK=class extends zE{static{o(this,"DeterministicSharder")}constructor(e){super(),this.lookup=e}getShard(e,r){return this.lookup[e]??0}};Hm.DeterministicSharder=BK});var k3e=V(uO=>{"use strict";m();g();Object.defineProperty(uO,"__esModule",{value:!0});uO.BanditEvaluator=void 0;var Uut=gh(),Hut=PK(),LK=class{static{o(this,"BanditEvaluator")}constructor(){this.assignmentShards=Uut.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new Hut.MD5Sharder}evaluateBestBanditAction(e,r,n){let i=this.scoreActions(e,r,n),{topAction:s}=this.getTopScore(i);return s}evaluateBandit(e,r,n,i,s){let a=this.scoreActions(n,i,s),f=this.weighActions(a,s.gamma,s.actionProbabilityFloor),l=this.selectAction(e,r,f),b=Object.values(a).reduce((y,E)=>E>y?E:y,-1/0)-a[l];return{flagKey:e,subjectKey:r,subjectAttributes:n,actionKey:l,actionAttributes:i[l],actionScore:a[l],actionWeight:f[l],gamma:s.gamma,optimalityGap:b}}scoreActions(e,r,n){let i={};return Object.entries(r).forEach(([s,a])=>{let f=n.defaultActionScore,l=n.coefficients[s];l&&(f=l.intercept,f+=this.scoreNumericAttributes(l.subjectNumericCoefficients,e.numericAttributes),f+=this.scoreCategoricalAttributes(l.subjectCategoricalCoefficients,e.categoricalAttributes),f+=this.scoreNumericAttributes(l.actionNumericCoefficients,a.numericAttributes),f+=this.scoreCategoricalAttributes(l.actionCategoricalCoefficients,a.categoricalAttributes)),i[s]=f}),i}scoreNumericAttributes(e,r){return e.reduce((n,i)=>{let s=r[i.attributeKey];return typeof s=="number"&&isFinite(s)?n+=s*i.coefficient:n+=i.missingValueCoefficient,n},0)}scoreCategoricalAttributes(e,r){return e.reduce((n,i)=>{let s=r[i.attributeKey]?.toString(),a=s&&i.valueCoefficients[s];return n+=typeof a=="number"?a:i.missingValueCoefficient,n},0)}weighActions(e,r,n){let i={},s=Object.entries(e);if(!s.length)return i;let{topScore:a,topAction:f}=this.getTopScore(e);if(a===null||f===null)throw new Error("Unable to find top score");let l=a,h=f,b=s.length,y=n/b,E=0;return s.forEach(([I,O])=>{if(I===h)return;let N=1/(b+r*(l-O)),k=Math.max(N,y);E+=k,i[I]=k}),i[h]=Math.max(1-E,0),i}selectAction(e,r,n){let i=Object.entries(n).sort((h,b)=>{let y=this.sharder.getShard(`${e}-${r}-${h[0]}`,this.assignmentShards),E=this.sharder.getShard(`${e}-${r}-${b[0]}`,this.assignmentShards),I=y-E;return I===0&&(I=h[0]<b[0]?-1:1),I}),a=this.sharder.getShard(`${e}-${r}`,this.assignmentShards)/this.assignmentShards,f=0,l=null;for(let h of i)if(f+=h[1],f>a){l=h[0];break}if(l===null)throw new Error(`No bandit action selected for flag "${e}" and subject "${r}"`);return l}getTopScore(e){let r=Object.entries(e),n=null,i=null;return r.forEach(([s,a])=>{(n===null||i===null||a>n||a===n&&s<i)&&(n=a,i=s)}),{topScore:n,topAction:i}}};uO.BanditEvaluator=LK});var B3e=V(lO=>{"use strict";m();g();Object.defineProperty(lO,"__esModule",{value:!0});lO.TLRUCache=void 0;var Fut=RK(),DK=class extends Fut.LRUCache{static{o(this,"TLRUCache")}constructor(e,r){super(e),this.maxSize=e,this.ttl=r,this.cacheEntriesTTLRegistry=new Map}getCacheEntryEvictionTime(){return new Date(Date.now()+this.ttl)}clearCacheEntryEvictionTimeIfExists(e){this.cacheEntriesTTLRegistry.has(e)&&this.cacheEntriesTTLRegistry.delete(e)}isCacheEntryValid(e){let r=new Date(Date.now()),n=this.cacheEntriesTTLRegistry.get(e);return n!==void 0?r<n:!1}setCacheEntryEvictionTime(e){this.cacheEntriesTTLRegistry.set(e,this.getCacheEntryEvictionTime())}resetCacheEntryEvictionTime(e){this.clearCacheEntryEvictionTimeIfExists(e),this.setCacheEntryEvictionTime(e)}evictExpiredCacheEntries(){let e;for(e of this.cache.keys())if(!this.isCacheEntryValid(e))this.delete(e);else break}entries(){return this.evictExpiredCacheEntries(),super.entries()}keys(){return this.evictExpiredCacheEntries(),super.keys()}values(){return this.evictExpiredCacheEntries(),super.values()}delete(e){return this.clearCacheEntryEvictionTimeIfExists(e),super.delete(e)}has(e){return this.isCacheEntryValid(e)?this.cache.has(e):(this.delete(e),!1)}get(e){if(!this.isCacheEntryValid(e)){this.delete(e);return}let r=super.get(e);return r!==void 0&&this.resetCacheEntryEvictionTime(e),r}set(e,r){let n=super.set(e,r);return this.resetCacheEntryEvictionTime(e),n}};lO.TLRUCache=DK});var P3e=V(dO=>{"use strict";m();g();Object.defineProperty(dO,"__esModule",{value:!0});dO.TLRUInMemoryAssignmentCache=void 0;var qut=gh(),Vut=KE(),jut=B3e(),UK=class extends Vut.AbstractAssignmentCache{static{o(this,"TLRUInMemoryAssignmentCache")}constructor(e,r=qut.DEFAULT_TLRU_TTL_MS){super(new jut.TLRUCache(e,r))}};dO.TLRUInMemoryAssignmentCache=UK});var xh=V(Fm=>{"use strict";m();g();Object.defineProperty(Fm,"__esModule",{value:!0});Fm.FormatEnum=Fm.UNKNOWN_ENVIRONMENT_NAME=Fm.VariationType=void 0;var L3e;(function(t){t.STRING="STRING",t.INTEGER="INTEGER",t.NUMERIC="NUMERIC",t.BOOLEAN="BOOLEAN",t.JSON="JSON"})(L3e||(Fm.VariationType=L3e={}));Fm.UNKNOWN_ENVIRONMENT_NAME="UNKNOWN";var D3e;(function(t){t.SERVER="SERVER",t.CLIENT="CLIENT",t.PRECOMPUTED="PRECOMPUTED"})(D3e||(Fm.FormatEnum=D3e={}))});var H3e=V(zd=>{"use strict";m();g();Object.defineProperty(zd,"__esModule",{value:!0});zd.ConfigurationWireV1=zd.ObfuscatedPrecomputedConfigurationResponse=zd.PrecomputedConfigurationResponse=zd.PrecomputedConfiguration=void 0;var Kut=xh(),U3e=bh(),hO=class{static{o(this,"BasePrecomputedConfigurationResponse")}constructor(e,r,n){this.subjectKey=e,this.subjectAttributes=r,this.environment=n,this.format=Kut.FormatEnum.PRECOMPUTED,this.createdAt=new Date().toISOString()}},HK=class t{static{o(this,"PrecomputedConfiguration")}constructor(e,r,n){this.response=e,this.subjectKey=r,this.subjectAttributes=n}static obfuscated(e,r,n,i,s,a){let f=new mO(e,r,n,i,s,a);return new t(JSON.stringify(f),e,s)}static unobfuscated(e,r,n,i,s){let a=new pO(e,r,n,i,s);return new t(JSON.stringify(a),e,i)}};zd.PrecomputedConfiguration=HK;var pO=class extends hO{static{o(this,"PrecomputedConfigurationResponse")}constructor(e,r,n,i,s){super(e,i,s),this.flags=r,this.bandits=n,this.obfuscated=!1}};zd.PrecomputedConfigurationResponse=pO;var mO=class extends hO{static{o(this,"ObfuscatedPrecomputedConfigurationResponse")}constructor(e,r,n,i,s,a){super(e,s,a),this.obfuscated=!0,this.salt=i,this.bandits=(0,U3e.obfuscatePrecomputedBanditMap)(this.salt,n),this.flags=(0,U3e.obfuscatePrecomputedFlags)(this.salt,r)}};zd.ObfuscatedPrecomputedConfigurationResponse=mO;var FK=class{static{o(this,"ConfigurationWireV1")}constructor(e){this.precomputed=e,this.version=1}};zd.ConfigurationWireV1=FK});var VK=V(qK=>{"use strict";m();g();Object.defineProperty(qK,"__esModule",{value:!0});qK.hydrateConfigurationStore=zut;async function zut(t,e){t&&await t.setEntries(e.entries)&&(t.setEnvironment(e.environment),t.setConfigFetchedAt(new Date().toISOString()),t.setConfigPublishedAt(e.createdAt),t.setFormat(e.format),t.salt=e.salt)}o(zut,"hydrateConfigurationStore")});var GK=V(zK=>{"use strict";m();g();Object.defineProperty(zK,"__esModule",{value:!0});var jK=VK(),KK=class{static{o(this,"ConfigurationRequestor")}constructor(e,r,n,i){this.httpClient=e,this.flagConfigurationStore=r,this.banditVariationConfigurationStore=n,this.banditModelConfigurationStore=i,this.banditModelVersions=[]}async fetchAndStoreConfigurations(){let e=await this.httpClient.getUniversalFlagConfiguration();if(!e?.flags)return;await(0,jK.hydrateConfigurationStore)(this.flagConfigurationStore,{entries:e.flags,environment:e.environment,createdAt:e.createdAt,format:e.format});let r=Object.keys(e.banditReferences??{}).length>0,n=!!(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore);if(r&&n){let i=this.indexBanditVariationsByFlagKey(e.banditReferences);if(await(0,jK.hydrateConfigurationStore)(this.banditVariationConfigurationStore,{entries:i,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.requiresBanditModelConfigurationStoreUpdate(this.banditModelVersions,e.banditReferences)){let s=await this.httpClient.getBanditParameters();s?.bandits&&(await(0,jK.hydrateConfigurationStore)(this.banditModelConfigurationStore,{entries:s.bandits,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.banditModelVersions=this.getLoadedBanditModelVersionsFromStore(this.banditModelConfigurationStore))}}}getLoadedBanditModelVersionsFromStore(e){return e===null?[]:Object.values(e.entries()).map(r=>r.modelVersion)}requiresBanditModelConfigurationStoreUpdate(e,r){return!Object.values(r).map(i=>i.modelVersion).every(i=>e.includes(i))}indexBanditVariationsByFlagKey(e){let r={};return Object.values(e).forEach(n=>{n.flagVariations.forEach(i=>{let s=r[i.flagKey];s||(s=[],r[i.flagKey]=s),s.push(i)})}),r}};zK.default=KK});var yO=V(cu=>{"use strict";m();g();Object.defineProperty(cu,"__esModule",{value:!0});cu.decodeFlag=Gut;cu.decodeVariations=F3e;cu.decodeValue=WK;cu.decodeAllocation=q3e;cu.decodeSplit=V3e;cu.decodeShard=j3e;cu.decodeObject=gO;cu.decodeObjectTo=YK;cu.decodePrecomputedFlag=$ut;cu.decodePrecomputedBandit=Wut;var $K=xh(),ba=bh();function Gut(t){return{...t,variations:F3e(t.variations,t.variationType),allocations:t.allocations.map(q3e)}}o(Gut,"decodeFlag");function F3e(t,e){return Object.fromEntries(Object.entries(t).map(([,r])=>{let n=(0,ba.decodeBase64)(r.key);return[n,{key:n,value:WK(r.value,e)}]}))}o(F3e,"decodeVariations");function WK(t,e){switch(e){case $K.VariationType.INTEGER:case $K.VariationType.NUMERIC:return Number((0,ba.decodeBase64)(t));case $K.VariationType.BOOLEAN:return(0,ba.decodeBase64)(t)==="true";default:return(0,ba.decodeBase64)(t)}}o(WK,"decodeValue");function q3e(t){return{...t,key:(0,ba.decodeBase64)(t.key),splits:t.splits.map(V3e),startAt:t.startAt?new Date((0,ba.decodeBase64)(t.startAt)).toISOString():void 0,endAt:t.endAt?new Date((0,ba.decodeBase64)(t.endAt)).toISOString():void 0}}o(q3e,"decodeAllocation");function V3e(t){return{extraLogging:t.extraLogging?gO(t.extraLogging):void 0,variationKey:(0,ba.decodeBase64)(t.variationKey),shards:t.shards.map(j3e)}}o(V3e,"decodeSplit");function j3e(t){return{...t,salt:(0,ba.decodeBase64)(t.salt)}}o(j3e,"decodeShard");function gO(t){return YK(t,e=>e)}o(gO,"decodeObject");function YK(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[(0,ba.decodeBase64)(r),e((0,ba.decodeBase64)(n))]))}o(YK,"decodeObjectTo");function $ut(t){return{...t,allocationKey:(0,ba.decodeBase64)(t.allocationKey??""),variationKey:(0,ba.decodeBase64)(t.variationKey??""),variationValue:WK(t.variationValue,t.variationType),extraLogging:gO(t.extraLogging??{})}}o($ut,"decodePrecomputedFlag");function Wut(t){return{...t,banditKey:(0,ba.decodeBase64)(t.banditKey),action:(0,ba.decodeBase64)(t.action),modelVersion:(0,ba.decodeBase64)(t.modelVersion),actionNumericAttributes:YK(t.actionNumericAttributes??{},e=>+e),actionCategoricalAttributes:gO(t.actionCategoricalAttributes??{})}}o(Wut,"decodePrecomputedBandit")});var K3e=V(s2=>{"use strict";m();g();Object.defineProperty(s2,"__esModule",{value:!0});s2.EppoValue=s2.EppoValueType=void 0;var GE=xh(),Yut=bh(),fu;(function(t){t[t.NullType=0]="NullType",t[t.BoolType=1]="BoolType",t[t.NumericType=2]="NumericType",t[t.StringType=3]="StringType",t[t.JSONType=4]="JSONType"})(fu||(s2.EppoValueType=fu={}));var XK=class t{static{o(this,"EppoValue")}constructor(e,r,n,i,s){this.valueType=e,this.boolValue=r,this.numericValue=n,this.stringValue=i,this.objectValue=s}static valueOf(e,r){if(e==null)return t.Null();switch(r){case GE.VariationType.BOOLEAN:return t.Bool(e);case GE.VariationType.NUMERIC:return t.Numeric(e);case GE.VariationType.INTEGER:return t.Numeric(e);case GE.VariationType.STRING:return t.String(e);case GE.VariationType.JSON:return t.JSON(e);default:return t.String(e)}}toString(){switch(this.valueType){case fu.NullType:return"null";case fu.BoolType:return this.boolValue?"true":"false";case fu.NumericType:return this.numericValue?this.numericValue.toString():"0";case fu.StringType:return this.stringValue??"";case fu.JSONType:try{return JSON.stringify(this.objectValue)??""}catch{return this.stringValue??""}}}toHashedString(){let e=this.toString();return(0,Yut.getMD5Hash)(e)}static Bool(e){return new t(fu.BoolType,e,void 0,void 0,void 0)}static Numeric(e){return new t(fu.NumericType,void 0,e,void 0,void 0)}static String(e){return new t(fu.StringType,void 0,void 0,e,void 0)}static JSON(e){return new t(fu.JSONType,void 0,void 0,void 0,typeof e=="string"?JSON.parse(e):e)}static Null(){return new t(fu.NullType,void 0,void 0,void 0,void 0)}};s2.EppoValue=XK});var JK=V(qm=>{"use strict";m();g();Object.defineProperty(qm,"__esModule",{value:!0});qm.FlagEvaluationDetailsBuilder=qm.AllocationEvaluationCode=qm.flagEvaluationCodes=void 0;var Xut=xh();qm.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT","BANDIT_ERROR"];var bO;(function(t){t.UNEVALUATED="UNEVALUATED",t.MATCH="MATCH",t.BEFORE_START_TIME="BEFORE_START_TIME",t.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",t.AFTER_END_TIME="AFTER_END_TIME",t.FAILING_RULE="FAILING_RULE"})(bO||(qm.AllocationEvaluationCode=bO={}));var ZK=class{static{o(this,"FlagEvaluationDetailsBuilder")}constructor(e,r,n,i){this.environmentName=e,this.allocations=r,this.configFetchedAt=n,this.configPublishedAt=i,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.addUnmatchedAllocation=s=>{this.unmatchedAllocations.push(s)},this.setNone=()=>(this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this),this.setMatch=(s,a,f,l,h)=>(this.variationKey=a.key,this.variationValue=h===Xut.VariationType.JSON&&typeof a.value=="string"?JSON.parse(a.value):a.value,this.matchedRule=l,this.matchedAllocation={key:f.key,allocationEvaluationCode:bO.MATCH,orderPosition:s+1},this),this.buildForNoneResult=(s,a)=>this.setNone().build(s,a),this.build=(s,a)=>({environmentName:this.environmentName,flagEvaluationCode:s,flagEvaluationDescription:a,variationKey:this.variationKey,variationValue:this.variationValue,banditKey:null,banditAction:null,configFetchedAt:this.configFetchedAt,configPublishedAt:this.configPublishedAt,matchedRule:this.matchedRule,matchedAllocation:this.matchedAllocation,unmatchedAllocations:this.unmatchedAllocations,unevaluatedAllocations:this.calculateUnevaluatedAllocations()}),this.gracefulBuild=(s,a)=>{try{return this.build(s,a)}catch{return null}},this.calculateUnevaluatedAllocations=()=>{let s=this.matchedAllocation?this.unmatchedAllocations.length+1:this.unmatchedAllocations.length,a=s+1;return this.allocations.slice(s).map((f,l)=>({key:f.key,allocationEvaluationCode:bO.UNEVALUATED,orderPosition:a+l}))},this.setNone()}};qm.FlagEvaluationDetailsBuilder=ZK});var ez=V(xO=>{"use strict";m();g();Object.defineProperty(xO,"__esModule",{value:!0});xO.FlagEvaluationError=void 0;var QK=class extends Error{static{o(this,"FlagEvaluationError")}};xO.FlagEvaluationError=QK});var $E=V((cUr,z3e)=>{m();g();var Zut="2.0.0",Jut=Number.MAX_SAFE_INTEGER||9007199254740991,Qut=16,elt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];z3e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Qut,MAX_SAFE_INTEGER:Jut,RELEASE_TYPES:elt,SEMVER_SPEC_VERSION:Zut,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var WE=V((lUr,G3e)=>{m();g();var tlt=typeof process=="object"&&R&&R.NODE_DEBUG&&/\bsemver\b/i.test(R.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};G3e.exports=tlt});var a2=V((vh,$3e)=>{m();g();var{MAX_SAFE_COMPONENT_LENGTH:tz}=$E(),rlt=WE();vh=$3e.exports={};var nlt=vh.re=[],ilt=vh.safeRe=[],Ct=vh.src=[],kt=vh.t={},olt=0,Mr=o((t,e,r)=>{let n=e.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),i=olt++;rlt(t,i,e),kt[t]=i,Ct[i]=e,nlt[i]=new RegExp(e,r?"g":void 0),ilt[i]=new RegExp(n,r?"g":void 0)},"createToken");Mr("NUMERICIDENTIFIER","0|[1-9]\\d*");Mr("NUMERICIDENTIFIERLOOSE","[0-9]+");Mr("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Mr("MAINVERSION",`(${Ct[kt.NUMERICIDENTIFIER]})\\.(${Ct[kt.NUMERICIDENTIFIER]})\\.(${Ct[kt.NUMERICIDENTIFIER]})`);Mr("MAINVERSIONLOOSE",`(${Ct[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Ct[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Ct[kt.NUMERICIDENTIFIERLOOSE]})`);Mr("PRERELEASEIDENTIFIER",`(?:${Ct[kt.NUMERICIDENTIFIER]}|${Ct[kt.NONNUMERICIDENTIFIER]})`);Mr("PRERELEASEIDENTIFIERLOOSE",`(?:${Ct[kt.NUMERICIDENTIFIERLOOSE]}|${Ct[kt.NONNUMERICIDENTIFIER]})`);Mr("PRERELEASE",`(?:-(${Ct[kt.PRERELEASEIDENTIFIER]}(?:\\.${Ct[kt.PRERELEASEIDENTIFIER]})*))`);Mr("PRERELEASELOOSE",`(?:-?(${Ct[kt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ct[kt.PRERELEASEIDENTIFIERLOOSE]})*))`);Mr("BUILDIDENTIFIER","[0-9A-Za-z-]+");Mr("BUILD",`(?:\\+(${Ct[kt.BUILDIDENTIFIER]}(?:\\.${Ct[kt.BUILDIDENTIFIER]})*))`);Mr("FULLPLAIN",`v?${Ct[kt.MAINVERSION]}${Ct[kt.PRERELEASE]}?${Ct[kt.BUILD]}?`);Mr("FULL",`^${Ct[kt.FULLPLAIN]}$`);Mr("LOOSEPLAIN",`[v=\\s]*${Ct[kt.MAINVERSIONLOOSE]}${Ct[kt.PRERELEASELOOSE]}?${Ct[kt.BUILD]}?`);Mr("LOOSE",`^${Ct[kt.LOOSEPLAIN]}$`);Mr("GTLT","((?:<|>)?=?)");Mr("XRANGEIDENTIFIERLOOSE",`${Ct[kt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Mr("XRANGEIDENTIFIER",`${Ct[kt.NUMERICIDENTIFIER]}|x|X|\\*`);Mr("XRANGEPLAIN",`[v=\\s]*(${Ct[kt.XRANGEIDENTIFIER]})(?:\\.(${Ct[kt.XRANGEIDENTIFIER]})(?:\\.(${Ct[kt.XRANGEIDENTIFIER]})(?:${Ct[kt.PRERELEASE]})?${Ct[kt.BUILD]}?)?)?`);Mr("XRANGEPLAINLOOSE",`[v=\\s]*(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:${Ct[kt.PRERELEASELOOSE]})?${Ct[kt.BUILD]}?)?)?`);Mr("XRANGE",`^${Ct[kt.GTLT]}\\s*${Ct[kt.XRANGEPLAIN]}$`);Mr("XRANGELOOSE",`^${Ct[kt.GTLT]}\\s*${Ct[kt.XRANGEPLAINLOOSE]}$`);Mr("COERCE",`(^|[^\\d])(\\d{1,${tz}})(?:\\.(\\d{1,${tz}}))?(?:\\.(\\d{1,${tz}}))?(?:$|[^\\d])`);Mr("COERCERTL",Ct[kt.COERCE],!0);Mr("LONETILDE","(?:~>?)");Mr("TILDETRIM",`(\\s*)${Ct[kt.LONETILDE]}\\s+`,!0);vh.tildeTrimReplace="$1~";Mr("TILDE",`^${Ct[kt.LONETILDE]}${Ct[kt.XRANGEPLAIN]}$`);Mr("TILDELOOSE",`^${Ct[kt.LONETILDE]}${Ct[kt.XRANGEPLAINLOOSE]}$`);Mr("LONECARET","(?:\\^)");Mr("CARETTRIM",`(\\s*)${Ct[kt.LONECARET]}\\s+`,!0);vh.caretTrimReplace="$1^";Mr("CARET",`^${Ct[kt.LONECARET]}${Ct[kt.XRANGEPLAIN]}$`);Mr("CARETLOOSE",`^${Ct[kt.LONECARET]}${Ct[kt.XRANGEPLAINLOOSE]}$`);Mr("COMPARATORLOOSE",`^${Ct[kt.GTLT]}\\s*(${Ct[kt.LOOSEPLAIN]})$|^$`);Mr("COMPARATOR",`^${Ct[kt.GTLT]}\\s*(${Ct[kt.FULLPLAIN]})$|^$`);Mr("COMPARATORTRIM",`(\\s*)${Ct[kt.GTLT]}\\s*(${Ct[kt.LOOSEPLAIN]}|${Ct[kt.XRANGEPLAIN]})`,!0);vh.comparatorTrimReplace="$1$2$3";Mr("HYPHENRANGE",`^\\s*(${Ct[kt.XRANGEPLAIN]})\\s+-\\s+(${Ct[kt.XRANGEPLAIN]})\\s*$`);Mr("HYPHENRANGELOOSE",`^\\s*(${Ct[kt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ct[kt.XRANGEPLAINLOOSE]})\\s*$`);Mr("STAR","(<|>)?=?\\s*\\*");Mr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Mr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var vO=V((yUr,W3e)=>{m();g();var slt=Object.freeze({loose:!0}),alt=Object.freeze({}),clt=o(t=>t?typeof t!="object"?slt:t:alt,"parseOptions");W3e.exports=clt});var rz=V((_Ur,Z3e)=>{m();g();var Y3e=/^[0-9]+$/,X3e=o((t,e)=>{let r=Y3e.test(t),n=Y3e.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},"compareIdentifiers"),flt=o((t,e)=>X3e(e,t),"rcompareIdentifiers");Z3e.exports={compareIdentifiers:X3e,rcompareIdentifiers:flt}});var xa=V((AUr,t6e)=>{m();g();var _O=WE(),{MAX_LENGTH:J3e,MAX_SAFE_INTEGER:wO}=$E(),{safeRe:Q3e,t:e6e}=a2(),ult=vO(),{compareIdentifiers:c2}=rz(),nz=class t{static{o(this,"SemVer")}constructor(e,r){if(r=ult(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>J3e)throw new TypeError(`version is longer than ${J3e} characters`);_O("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Q3e[e6e.LOOSE]:Q3e[e6e.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>wO||this.major<0)throw new TypeError("Invalid major version");if(this.minor>wO||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>wO||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<wO)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_O("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),c2(this.major,e.major)||c2(this.minor,e.minor)||c2(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(_O("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return c2(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(_O("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return c2(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),c2(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};t6e.exports=nz});var hy=V((OUr,n6e)=>{m();g();var r6e=xa(),llt=o((t,e,r=!1)=>{if(t instanceof r6e)return t;try{return new r6e(t,e)}catch(n){if(!r)return null;throw n}},"parse");n6e.exports=llt});var o6e=V((kUr,i6e)=>{m();g();var dlt=hy(),hlt=o((t,e)=>{let r=dlt(t,e);return r?r.version:null},"valid");i6e.exports=hlt});var a6e=V((DUr,s6e)=>{m();g();var plt=hy(),mlt=o((t,e)=>{let r=plt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},"clean");s6e.exports=mlt});var u6e=V((qUr,f6e)=>{m();g();var c6e=xa(),glt=o((t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new c6e(t instanceof c6e?t.version:t,r).inc(e,n,i).version}catch{return null}},"inc");f6e.exports=glt});var h6e=V((zUr,d6e)=>{m();g();var l6e=hy(),ylt=o((t,e)=>{let r=l6e(t,null,!0),n=l6e(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,f=s?n:r,l=!!a.prerelease.length;if(!!f.prerelease.length&&!l)return!f.patch&&!f.minor?"major":a.patch?"patch":a.minor?"minor":"major";let b=l?"pre":"";return r.major!==n.major?b+"major":r.minor!==n.minor?b+"minor":r.patch!==n.patch?b+"patch":"prerelease"},"diff");d6e.exports=ylt});var m6e=V((YUr,p6e)=>{m();g();var blt=xa(),xlt=o((t,e)=>new blt(t,e).major,"major");p6e.exports=xlt});var y6e=V((QUr,g6e)=>{m();g();var vlt=xa(),_lt=o((t,e)=>new vlt(t,e).minor,"minor");g6e.exports=_lt});var x6e=V((nHr,b6e)=>{m();g();var wlt=xa(),Slt=o((t,e)=>new wlt(t,e).patch,"patch");b6e.exports=Slt});var _6e=V((aHr,v6e)=>{m();g();var Elt=hy(),Alt=o((t,e)=>{let r=Elt(t,e);return r&&r.prerelease.length?r.prerelease:null},"prerelease");v6e.exports=Alt});var uu=V((lHr,S6e)=>{m();g();var w6e=xa(),Ilt=o((t,e,r)=>new w6e(t,r).compare(new w6e(e,r)),"compare");S6e.exports=Ilt});var A6e=V((mHr,E6e)=>{m();g();var Tlt=uu(),Rlt=o((t,e,r)=>Tlt(e,t,r),"rcompare");E6e.exports=Rlt});var T6e=V((xHr,I6e)=>{m();g();var Olt=uu(),Nlt=o((t,e)=>Olt(t,e,!0),"compareLoose");I6e.exports=Nlt});var SO=V((SHr,O6e)=>{m();g();var R6e=xa(),Mlt=o((t,e,r)=>{let n=new R6e(t,r),i=new R6e(e,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");O6e.exports=Mlt});var M6e=V((THr,N6e)=>{m();g();var Clt=SO(),klt=o((t,e)=>t.sort((r,n)=>Clt(r,n,e)),"sort");N6e.exports=klt});var k6e=V((MHr,C6e)=>{m();g();var Blt=SO(),Plt=o((t,e)=>t.sort((r,n)=>Blt(n,r,e)),"rsort");C6e.exports=Plt});var YE=V((PHr,B6e)=>{m();g();var Llt=uu(),Dlt=o((t,e,r)=>Llt(t,e,r)>0,"gt");B6e.exports=Dlt});var EO=V((HHr,P6e)=>{m();g();var Ult=uu(),Hlt=o((t,e,r)=>Ult(t,e,r)<0,"lt");P6e.exports=Hlt});var iz=V((jHr,L6e)=>{m();g();var Flt=uu(),qlt=o((t,e,r)=>Flt(t,e,r)===0,"eq");L6e.exports=qlt});var oz=V(($Hr,D6e)=>{m();g();var Vlt=uu(),jlt=o((t,e,r)=>Vlt(t,e,r)!==0,"neq");D6e.exports=jlt});var AO=V((ZHr,U6e)=>{m();g();var Klt=uu(),zlt=o((t,e,r)=>Klt(t,e,r)>=0,"gte");U6e.exports=zlt});var IO=V((tFr,H6e)=>{m();g();var Glt=uu(),$lt=o((t,e,r)=>Glt(t,e,r)<=0,"lte");H6e.exports=$lt});var sz=V((oFr,F6e)=>{m();g();var Wlt=iz(),Ylt=oz(),Xlt=YE(),Zlt=AO(),Jlt=EO(),Qlt=IO(),edt=o((t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Wlt(t,r,n);case"!=":return Ylt(t,r,n);case">":return Xlt(t,r,n);case">=":return Zlt(t,r,n);case"<":return Jlt(t,r,n);case"<=":return Qlt(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");F6e.exports=edt});var V6e=V((fFr,q6e)=>{m();g();var tdt=xa(),rdt=hy(),{safeRe:TO,t:RO}=a2(),ndt=o((t,e)=>{if(t instanceof tdt)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(TO[RO.COERCE]);else{let n;for(;(n=TO[RO.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),TO[RO.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;TO[RO.COERCERTL].lastIndex=-1}return r===null?null:rdt(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)},"coerce");q6e.exports=ndt});var K6e=V((hFr,j6e)=>{"use strict";m();g();j6e.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var G6e=V((gFr,z6e)=>{"use strict";m();g();z6e.exports=pn;pn.Node=py;pn.create=pn;function pn(t){var e=this;if(e instanceof pn||(e=new pn),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}o(pn,"Yallist");pn.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};pn.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};pn.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};pn.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)odt(this,arguments[t]);return this.length};pn.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)sdt(this,arguments[t]);return this.length};pn.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};pn.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};pn.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};pn.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};pn.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};pn.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};pn.prototype.map=function(t,e){e=e||this;for(var r=new pn,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};pn.prototype.mapReverse=function(t,e){e=e||this;for(var r=new pn,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};pn.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};pn.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};pn.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};pn.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};pn.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new pn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};pn.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new pn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};pn.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=idt(this,i,r[n]);return s};pn.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function idt(t,e,r){var n=e===t.head?new py(r,null,e,t):new py(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}o(idt,"insert");function odt(t,e){t.tail=new py(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}o(odt,"push");function sdt(t,e){t.head=new py(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}o(sdt,"unshift");function py(t,e,r,n){if(!(this instanceof py))return new py(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}o(py,"Node");try{K6e()(pn)}catch{}});var Z6e=V((vFr,X6e)=>{"use strict";m();g();var adt=G6e(),my=Symbol("max"),wh=Symbol("length"),f2=Symbol("lengthCalculator"),ZE=Symbol("allowStale"),gy=Symbol("maxAge"),_h=Symbol("dispose"),$6e=Symbol("noDisposeOnSet"),es=Symbol("lruList"),ll=Symbol("cache"),Y6e=Symbol("updateAgeOnGet"),az=o(()=>1,"naiveLength"),fz=class{static{o(this,"LRUCache")}constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[my]=e.max||1/0,n=e.length||az;if(this[f2]=typeof n!="function"?az:n,this[ZE]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[gy]=e.maxAge||0,this[_h]=e.dispose,this[$6e]=e.noDisposeOnSet||!1,this[Y6e]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[my]=e||1/0,XE(this)}get max(){return this[my]}set allowStale(e){this[ZE]=!!e}get allowStale(){return this[ZE]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[gy]=e,XE(this)}get maxAge(){return this[gy]}set lengthCalculator(e){typeof e!="function"&&(e=az),e!==this[f2]&&(this[f2]=e,this[wh]=0,this[es].forEach(r=>{r.length=this[f2](r.value,r.key),this[wh]+=r.length})),XE(this)}get lengthCalculator(){return this[f2]}get length(){return this[wh]}get itemCount(){return this[es].length}rforEach(e,r){r=r||this;for(let n=this[es].tail;n!==null;){let i=n.prev;W6e(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[es].head;n!==null;){let i=n.next;W6e(this,e,n,r),n=i}}keys(){return this[es].toArray().map(e=>e.key)}values(){return this[es].toArray().map(e=>e.value)}reset(){this[_h]&&this[es]&&this[es].length&&this[es].forEach(e=>this[_h](e.key,e.value)),this[ll]=new Map,this[es]=new adt,this[wh]=0}dump(){return this[es].map(e=>OO(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[es]}set(e,r,n){if(n=n||this[gy],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[f2](r,e);if(this[ll].has(e)){if(s>this[my])return u2(this,this[ll].get(e)),!1;let l=this[ll].get(e).value;return this[_h]&&(this[$6e]||this[_h](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[wh]+=s-l.length,l.length=s,this.get(e),XE(this),!0}let a=new uz(e,r,s,i,n);return a.length>this[my]?(this[_h]&&this[_h](e,r),!1):(this[wh]+=a.length,this[es].unshift(a),this[ll].set(e,this[es].head),XE(this),!0)}has(e){if(!this[ll].has(e))return!1;let r=this[ll].get(e).value;return!OO(this,r)}get(e){return cz(this,e,!0)}peek(e){return cz(this,e,!1)}pop(){let e=this[es].tail;return e?(u2(this,e),e.value):null}del(e){u2(this,this[ll].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let a=s-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[ll].forEach((e,r)=>cz(this,r,!1))}},cz=o((t,e,r)=>{let n=t[ll].get(e);if(n){let i=n.value;if(OO(t,i)){if(u2(t,n),!t[ZE])return}else r&&(t[Y6e]&&(n.value.now=Date.now()),t[es].unshiftNode(n));return i.value}},"get"),OO=o((t,e)=>{if(!e||!e.maxAge&&!t[gy])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[gy]&&r>t[gy]},"isStale"),XE=o(t=>{if(t[wh]>t[my])for(let e=t[es].tail;t[wh]>t[my]&&e!==null;){let r=e.prev;u2(t,e),e=r}},"trim"),u2=o((t,e)=>{if(e){let r=e.value;t[_h]&&t[_h](r.key,r.value),t[wh]-=r.length,t[ll].delete(r.key),t[es].removeNode(e)}},"del"),uz=class{static{o(this,"Entry")}constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},W6e=o((t,e,r,n)=>{let i=r.value;OO(t,i)&&(u2(t,r),t[ZE]||(i=void 0)),i&&e.call(n,i.value,i.key,t)},"forEachStep");X6e.exports=fz});var lu=V((EFr,tAe)=>{m();g();var lz=class t{static{o(this,"Range")}constructor(e,r){if(r=fdt(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof dz)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n)).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Q6e(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&gdt(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&pdt)|(this.options.loose&&mdt))+":"+e,i=J6e.get(n);if(i)return i;let s=this.options.loose,a=s?Mc[Ga.HYPHENRANGELOOSE]:Mc[Ga.HYPHENRANGE];e=e.replace(a,Idt(this.options.includePrerelease)),Ci("hyphen replace",e),e=e.replace(Mc[Ga.COMPARATORTRIM],ldt),Ci("comparator trim",e),e=e.replace(Mc[Ga.TILDETRIM],ddt),e=e.replace(Mc[Ga.CARETTRIM],hdt);let f=e.split(" ").map(y=>ydt(y,this.options)).join(" ").split(/\s+/).map(y=>Adt(y,this.options));s&&(f=f.filter(y=>(Ci("loose invalid filter",y,this.options),!!y.match(Mc[Ga.COMPARATORLOOSE])))),Ci("range list",f);let l=new Map,h=f.map(y=>new dz(y,this.options));for(let y of h){if(Q6e(y))return[y];l.set(y.value,y)}l.size>1&&l.has("")&&l.delete("");let b=[...l.values()];return J6e.set(n,b),b}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>eAe(n,r)&&e.set.some(i=>eAe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new udt(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Tdt(this.set[r],e,this.options))return!0;return!1}};tAe.exports=lz;var cdt=Z6e(),J6e=new cdt({max:1e3}),fdt=vO(),dz=JE(),Ci=WE(),udt=xa(),{safeRe:Mc,t:Ga,comparatorTrimReplace:ldt,tildeTrimReplace:ddt,caretTrimReplace:hdt}=a2(),{FLAG_INCLUDE_PRERELEASE:pdt,FLAG_LOOSE:mdt}=$E(),Q6e=o(t=>t.value==="<0.0.0-0","isNullSet"),gdt=o(t=>t.value==="","isAny"),eAe=o((t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},"isSatisfiable"),ydt=o((t,e)=>(Ci("comp",t,e),t=vdt(t,e),Ci("caret",t),t=bdt(t,e),Ci("tildes",t),t=wdt(t,e),Ci("xrange",t),t=Edt(t,e),Ci("stars",t),t),"parseComparator"),$a=o(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),bdt=o((t,e)=>t.trim().split(/\s+/).map(r=>xdt(r,e)).join(" "),"replaceTildes"),xdt=o((t,e)=>{let r=e.loose?Mc[Ga.TILDELOOSE]:Mc[Ga.TILDE];return t.replace(r,(n,i,s,a,f)=>{Ci("tilde",t,n,i,s,a,f);let l;return $a(i)?l="":$a(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:$a(a)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:f?(Ci("replaceTilde pr",f),l=`>=${i}.${s}.${a}-${f} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,Ci("tilde return",l),l})},"replaceTilde"),vdt=o((t,e)=>t.trim().split(/\s+/).map(r=>_dt(r,e)).join(" "),"replaceCarets"),_dt=o((t,e)=>{Ci("caret",t,e);let r=e.loose?Mc[Ga.CARETLOOSE]:Mc[Ga.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,a,f,l)=>{Ci("caret",t,i,s,a,f,l);let h;return $a(s)?h="":$a(a)?h=`>=${s}.0.0${n} <${+s+1}.0.0-0`:$a(f)?s==="0"?h=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:l?(Ci("replaceCaret pr",l),s==="0"?a==="0"?h=`>=${s}.${a}.${f}-${l} <${s}.${a}.${+f+1}-0`:h=`>=${s}.${a}.${f}-${l} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.${f}-${l} <${+s+1}.0.0-0`):(Ci("no pr"),s==="0"?a==="0"?h=`>=${s}.${a}.${f}${n} <${s}.${a}.${+f+1}-0`:h=`>=${s}.${a}.${f}${n} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.${f} <${+s+1}.0.0-0`),Ci("caret return",h),h})},"replaceCaret"),wdt=o((t,e)=>(Ci("replaceXRanges",t,e),t.split(/\s+/).map(r=>Sdt(r,e)).join(" ")),"replaceXRanges"),Sdt=o((t,e)=>{t=t.trim();let r=e.loose?Mc[Ga.XRANGELOOSE]:Mc[Ga.XRANGE];return t.replace(r,(n,i,s,a,f,l)=>{Ci("xRange",t,n,i,s,a,f,l);let h=$a(s),b=h||$a(a),y=b||$a(f),E=y;return i==="="&&E&&(i=""),l=e.includePrerelease?"-0":"",h?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&E?(b&&(a=0),f=0,i===">"?(i=">=",b?(s=+s+1,a=0,f=0):(a=+a+1,f=0)):i==="<="&&(i="<",b?s=+s+1:a=+a+1),i==="<"&&(l="-0"),n=`${i+s}.${a}.${f}${l}`):b?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:y&&(n=`>=${s}.${a}.0${l} <${s}.${+a+1}.0-0`),Ci("xRange return",n),n})},"replaceXRange"),Edt=o((t,e)=>(Ci("replaceStars",t,e),t.trim().replace(Mc[Ga.STAR],"")),"replaceStars"),Adt=o((t,e)=>(Ci("replaceGTE0",t,e),t.trim().replace(Mc[e.includePrerelease?Ga.GTE0PRE:Ga.GTE0],"")),"replaceGTE0"),Idt=o(t=>(e,r,n,i,s,a,f,l,h,b,y,E,I)=>($a(n)?r="":$a(i)?r=`>=${n}.0.0${t?"-0":""}`:$a(s)?r=`>=${n}.${i}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,$a(h)?l="":$a(b)?l=`<${+h+1}.0.0-0`:$a(y)?l=`<${h}.${+b+1}.0-0`:E?l=`<=${h}.${b}.${y}-${E}`:t?l=`<${h}.${b}.${+y+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),"hyphenReplace"),Tdt=o((t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Ci(t[n].semver),t[n].semver!==dz.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},"testSet")});var JE=V((RFr,aAe)=>{m();g();var QE=Symbol("SemVer ANY"),mz=class t{static{o(this,"Comparator")}static get ANY(){return QE}constructor(e,r){if(r=rAe(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),pz("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===QE?this.value="":this.value=this.operator+this.semver.version,pz("comp",this)}parse(e){let r=this.options.loose?nAe[iAe.COMPARATORLOOSE]:nAe[iAe.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new oAe(n[2],this.options.loose):this.semver=QE}toString(){return this.value}test(e){if(pz("Comparator.test",e,this.options.loose),this.semver===QE||e===QE)return!0;if(typeof e=="string")try{e=new oAe(e,this.options)}catch{return!1}return hz(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new sAe(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new sAe(this.value,r).test(e.semver):(r=rAe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||hz(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||hz(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};aAe.exports=mz;var rAe=vO(),{safeRe:nAe,t:iAe}=a2(),hz=sz(),pz=WE(),oAe=xa(),sAe=lu()});var e3=V((CFr,cAe)=>{m();g();var Rdt=lu(),Odt=o((t,e,r)=>{try{e=new Rdt(e,r)}catch{return!1}return e.test(t)},"satisfies");cAe.exports=Odt});var uAe=V((LFr,fAe)=>{m();g();var Ndt=lu(),Mdt=o((t,e)=>new Ndt(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");fAe.exports=Mdt});var dAe=V((FFr,lAe)=>{m();g();var Cdt=xa(),kdt=lu(),Bdt=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new kdt(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new Cdt(n,r))}),n},"maxSatisfying");lAe.exports=Bdt});var pAe=V((KFr,hAe)=>{m();g();var Pdt=xa(),Ldt=lu(),Ddt=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new Ldt(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new Pdt(n,r))}),n},"minSatisfying");hAe.exports=Ddt});var yAe=V((WFr,gAe)=>{m();g();var gz=xa(),Udt=lu(),mAe=YE(),Hdt=o((t,e)=>{t=new Udt(t,e);let r=new gz("0.0.0");if(t.test(r)||(r=new gz("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(a=>{let f=new gz(a.semver.version);switch(a.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!s||mAe(f,s))&&(s=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||mAe(r,s))&&(r=s)}return r&&t.test(r)?r:null},"minVersion");gAe.exports=Hdt});var xAe=V((JFr,bAe)=>{m();g();var Fdt=lu(),qdt=o((t,e)=>{try{return new Fdt(t,e).range||"*"}catch{return null}},"validRange");bAe.exports=qdt});var NO=V((rqr,SAe)=>{m();g();var Vdt=xa(),wAe=JE(),{ANY:jdt}=wAe,Kdt=lu(),zdt=e3(),vAe=YE(),_Ae=EO(),Gdt=IO(),$dt=AO(),Wdt=o((t,e,r,n)=>{t=new Vdt(t,n),e=new Kdt(e,n);let i,s,a,f,l;switch(r){case">":i=vAe,s=Gdt,a=_Ae,f=">",l=">=";break;case"<":i=_Ae,s=$dt,a=vAe,f="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(zdt(t,e,n))return!1;for(let h=0;h<e.set.length;++h){let b=e.set[h],y=null,E=null;if(b.forEach(I=>{I.semver===jdt&&(I=new wAe(">=0.0.0")),y=y||I,E=E||I,i(I.semver,y.semver,n)?y=I:a(I.semver,E.semver,n)&&(E=I)}),y.operator===f||y.operator===l||(!E.operator||E.operator===f)&&s(t,E.semver))return!1;if(E.operator===l&&a(t,E.semver))return!1}return!0},"outside");SAe.exports=Wdt});var AAe=V((sqr,EAe)=>{m();g();var Ydt=NO(),Xdt=o((t,e,r)=>Ydt(t,e,">",r),"gtr");EAe.exports=Xdt});var TAe=V((uqr,IAe)=>{m();g();var Zdt=NO(),Jdt=o((t,e,r)=>Zdt(t,e,"<",r),"ltr");IAe.exports=Jdt});var NAe=V((pqr,OAe)=>{m();g();var RAe=lu(),Qdt=o((t,e,r)=>(t=new RAe(t,r),e=new RAe(e,r),t.intersects(e,r)),"intersects");OAe.exports=Qdt});var CAe=V((bqr,MAe)=>{m();g();var e0t=e3(),t0t=uu();MAe.exports=(t,e,r)=>{let n=[],i=null,s=null,a=t.sort((b,y)=>t0t(b,y,r));for(let b of a)e0t(b,e,r)?(s=b,i||(i=b)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let f=[];for(let[b,y]of n)b===y?f.push(b):!y&&b===a[0]?f.push("*"):y?b===a[0]?f.push(`<=${y}`):f.push(`${b} - ${y}`):f.push(`>=${b}`);let l=f.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return l.length<h.length?l:e}});var UAe=V((_qr,DAe)=>{m();g();var kAe=lu(),bz=JE(),{ANY:yz}=bz,t3=e3(),xz=uu(),r0t=o((t,e,r={})=>{if(t===e)return!0;t=new kAe(t,r),e=new kAe(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let a=i0t(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),n0t=[new bz(">=0.0.0-0")],BAe=[new bz(">=0.0.0")],i0t=o((t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===yz){if(e.length===1&&e[0].semver===yz)return!0;r.includePrerelease?t=n0t:t=BAe}if(e.length===1&&e[0].semver===yz){if(r.includePrerelease)return!0;e=BAe}let n=new Set,i,s;for(let I of t)I.operator===">"||I.operator===">="?i=PAe(i,I,r):I.operator==="<"||I.operator==="<="?s=LAe(s,I,r):n.add(I.semver);if(n.size>1)return null;let a;if(i&&s){if(a=xz(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let I of n){if(i&&!t3(I,String(i),r)||s&&!t3(I,String(s),r))return null;for(let O of e)if(!t3(I,String(O),r))return!1;return!0}let f,l,h,b,y=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,E=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;y&&y.prerelease.length===1&&s.operator==="<"&&y.prerelease[0]===0&&(y=!1);for(let I of e){if(b=b||I.operator===">"||I.operator===">=",h=h||I.operator==="<"||I.operator==="<=",i){if(E&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===E.major&&I.semver.minor===E.minor&&I.semver.patch===E.patch&&(E=!1),I.operator===">"||I.operator===">="){if(f=PAe(i,I,r),f===I&&f!==i)return!1}else if(i.operator===">="&&!t3(i.semver,String(I),r))return!1}if(s){if(y&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===y.major&&I.semver.minor===y.minor&&I.semver.patch===y.patch&&(y=!1),I.operator==="<"||I.operator==="<="){if(l=LAe(s,I,r),l===I&&l!==s)return!1}else if(s.operator==="<="&&!t3(s.semver,String(I),r))return!1}if(!I.operator&&(s||i)&&a!==0)return!1}return!(i&&h&&!s&&a!==0||s&&b&&!i&&a!==0||E||y)},"simpleSubset"),PAe=o((t,e,r)=>{if(!t)return e;let n=xz(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),LAe=o((t,e,r)=>{if(!t)return e;let n=xz(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");DAe.exports=r0t});var VAe=V((Aqr,qAe)=>{m();g();var vz=a2(),HAe=$E(),o0t=xa(),FAe=rz(),s0t=hy(),a0t=o6e(),c0t=a6e(),f0t=u6e(),u0t=h6e(),l0t=m6e(),d0t=y6e(),h0t=x6e(),p0t=_6e(),m0t=uu(),g0t=A6e(),y0t=T6e(),b0t=SO(),x0t=M6e(),v0t=k6e(),_0t=YE(),w0t=EO(),S0t=iz(),E0t=oz(),A0t=AO(),I0t=IO(),T0t=sz(),R0t=V6e(),O0t=JE(),N0t=lu(),M0t=e3(),C0t=uAe(),k0t=dAe(),B0t=pAe(),P0t=yAe(),L0t=xAe(),D0t=NO(),U0t=AAe(),H0t=TAe(),F0t=NAe(),q0t=CAe(),V0t=UAe();qAe.exports={parse:s0t,valid:a0t,clean:c0t,inc:f0t,diff:u0t,major:l0t,minor:d0t,patch:h0t,prerelease:p0t,compare:m0t,rcompare:g0t,compareLoose:y0t,compareBuild:b0t,sort:x0t,rsort:v0t,gt:_0t,lt:w0t,eq:S0t,neq:E0t,gte:A0t,lte:I0t,cmp:T0t,coerce:R0t,Comparator:O0t,Range:N0t,satisfies:M0t,toComparators:C0t,maxSatisfying:k0t,minSatisfying:B0t,minVersion:P0t,validRange:L0t,outside:D0t,gtr:U0t,ltr:H0t,intersects:F0t,simplifyRange:q0t,subset:V0t,SemVer:o0t,re:vz.re,src:vz.src,tokens:vz.t,SEMVER_SPEC_VERSION:HAe.SEMVER_SPEC_VERSION,RELEASE_TYPES:HAe.RELEASE_TYPES,compareIdentifiers:FAe.compareIdentifiers,rcompareIdentifiers:FAe.rcompareIdentifiers}});var YAe=V(by=>{"use strict";m();g();Object.defineProperty(by,"__esModule",{value:!0});by.ObfuscatedOperatorType=by.OperatorType=void 0;by.matchesRule=j0t;var dl=VAe(),yy=bh(),As;(function(t){t.MATCHES="MATCHES",t.NOT_MATCHES="NOT_MATCHES",t.GTE="GTE",t.GT="GT",t.LTE="LTE",t.LT="LT",t.ONE_OF="ONE_OF",t.NOT_ONE_OF="NOT_ONE_OF",t.IS_NULL="IS_NULL"})(As||(by.OperatorType=As={}));var Is;(function(t){t.MATCHES="05015086bdd8402218f6aad6528bef08",t.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",t.GTE="32d35312e8f24bc1669bd2b45c00d47c",t.GT="cd6a9bd2a175104eed40f0d33a8b4020",t.LTE="cc981ecc65ecf63ad1673cbec9c64198",t.LT="c562607189d77eb9dfb707464c1e7b0b",t.ONE_OF="27457ce369f2a74203396a35ef537c0b",t.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",t.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"})(Is||(by.ObfuscatedOperatorType=Is={}));var Sh;(function(t){t.PLAIN_STRING="PLAIN_STRING",t.STRING_ARRAY="STRING_ARRAY",t.SEM_VER="SEM_VER",t.NUMERIC="NUMERIC"})(Sh||(Sh={}));function j0t(t,e,r){return!K0t(e,t.conditions,r).includes(!1)}o(j0t,"matchesRule");function K0t(t,e,r){return e.map(n=>r?G0t(Object.entries(t).reduce((i,[s,a])=>({[(0,yy.getMD5Hash)(s)]:a,...i}),{}),n):z0t(t,n))}o(K0t,"evaluateRuleConditions");function z0t(t,e){let r=t[e.attribute];if(e.operator===As.IS_NULL)return e.value?r==null:r!=null;if(r!=null)switch(e.operator){case As.GTE:case As.GT:case As.LTE:case As.LT:{if(WAe(e.value)===Sh.SEM_VER){let s=e.operator===As.GTE?dl.gte:e.operator===As.GT?dl.gt:e.operator===As.LTE?dl.lte:dl.lt;return $Ae(r,e.value,s)}let i=o((s,a)=>e.operator===As.GTE?s>=a:e.operator===As.GT?s>a:e.operator===As.LTE?s<=a:s<a,"comparator");return GAe(r,e.value,i)}case As.MATCHES:return new RegExp(e.value).test(r);case As.NOT_MATCHES:return!new RegExp(e.value).test(r);case As.ONE_OF:return jAe(r.toString(),e.value);case As.NOT_ONE_OF:return KAe(r.toString(),e.value)}return!1}o(z0t,"evaluateCondition");function G0t(t,e){let r=t[e.attribute];if(e.operator===Is.IS_NULL)return e.value===(0,yy.getMD5Hash)("true")?r==null:r!=null;if(r!=null)switch(e.operator){case Is.GTE:case Is.GT:case Is.LTE:case Is.LT:{let n=(0,yy.decodeBase64)(e.value);if(WAe(n)===Sh.SEM_VER){let a=e.operator===Is.GTE?dl.gte:e.operator===Is.GT?dl.gt:e.operator===Is.LTE?dl.lte:dl.lt;return $Ae(r,n,a)}let s=o((a,f)=>e.operator===Is.GTE?a>=f:e.operator===Is.GT?a>f:e.operator===Is.LTE?a<=f:a<f,"comparator");return GAe(r,Number(n),s)}case Is.MATCHES:return new RegExp((0,yy.decodeBase64)(e.value)).test(r);case Is.NOT_MATCHES:return!new RegExp((0,yy.decodeBase64)(e.value)).test(r);case Is.ONE_OF:return jAe((0,yy.getMD5Hash)(r.toString()),e.value);case Is.NOT_ONE_OF:return KAe((0,yy.getMD5Hash)(r.toString()),e.value)}return!1}o(G0t,"evaluateObfuscatedCondition");function jAe(t,e){return zAe(t,e).length>0}o(jAe,"isOneOf");function KAe(t,e){return zAe(t,e).length===0}o(KAe,"isNotOneOf");function zAe(t,e){return e.filter(r=>r===t)}o(zAe,"getMatchingStringValues");function GAe(t,e,r){return r(Number(t),Number(e))}o(GAe,"compareNumber");function $Ae(t,e,r){return!!(0,dl.valid)(t)&&!!(0,dl.valid)(e)&&r(t,e)}o($Ae,"compareSemVer");function WAe(t){return typeof t=="number"?Sh.NUMERIC:Array.isArray(t)?Sh.STRING_ARRAY:typeof t=="string"&&(0,dl.valid)(t)?Sh.SEM_VER:isNaN(Number(t))?Sh.PLAIN_STRING:Sh.NUMERIC}o(WAe,"targetingRuleConditionValuesTypesFromValues")});var QAe=V(Vm=>{"use strict";m();g();Object.defineProperty(Vm,"__esModule",{value:!0});Vm.Evaluator=void 0;Vm.isInShardRange=XAe;Vm.hashKey=ZAe;Vm.noneResult=wz;Vm.matchesRules=JAe;var $0t=MO(),r3=JK(),W0t=ez(),Y0t=YAe(),X0t=PK(),_z=class{static{o(this,"Evaluator")}constructor(e){this.getMatchedEvaluationCodeAndDescription=(r,n,i,s,a)=>{if(!(0,$0t.checkValueTypeMatch)(a,r.value)){let{key:y,value:E}=r;return{flagEvaluationCode:"ASSIGNMENT_ERROR",flagEvaluationDescription:`Variation (${y}) is configured for type ${a}, but is set to incompatible value (${E})`}}let f=!!n.rules?.length,l=n.splits.length>1,h=i.shards.length>1,b=l||h;return f&&b?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}" and ${s} belongs to the range of traffic assigned to "${i.variationKey}".`}:f&&!b?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}".`}:{flagEvaluationCode:"MATCH",flagEvaluationDescription:`${s} belongs to the range of traffic assigned to "${i.variationKey}" defined in allocation "${n.key}".`}},this.sharder=e??new X0t.MD5Sharder}evaluateFlag(e,r,n,i,s,a){let f=new r3.FlagEvaluationDetailsBuilder(r.configEnvironment.name,e.allocations,r.configFetchedAt,r.configPublishedAt);try{if(!e.enabled)return wz(e.key,n,i,f.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e.key}`),r.configFormat);let l=new Date;for(let h=0;h<e.allocations.length;h++){let b=e.allocations[h],y=o(O=>{f.addUnmatchedAllocation({key:b.key,allocationEvaluationCode:O,orderPosition:h+1})},"addUnmatchedAllocation");if(b.startAt&&l<new Date(b.startAt)){y(r3.AllocationEvaluationCode.BEFORE_START_TIME);continue}if(b.endAt&&l>new Date(b.endAt)){y(r3.AllocationEvaluationCode.AFTER_END_TIME);continue}let{matched:E,matchedRule:I}=JAe(b?.rules??[],{id:n,...i},s);if(E){for(let O of b.splits)if(O.shards.every(N=>this.matchesShard(N,n,e.totalShards))){let N=e.variations[O.variationKey],{flagEvaluationCode:k,flagEvaluationDescription:C}=this.getMatchedEvaluationCodeAndDescription(N,b,O,n,a),L=f.setMatch(h,N,b,I,a).build(k,C);return{flagKey:e.key,format:r.configFormat,subjectKey:n,subjectAttributes:i,allocationKey:b.key,variation:N,extraLogging:O.extraLogging??{},doLog:b.doLog,flagEvaluationDetails:L}}y(r3.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else y(r3.AllocationEvaluationCode.FAILING_RULE)}return wz(e.key,n,i,f.buildForNoneResult("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'),r.configFormat)}catch(l){console.error(">>>>",l);let h=f.gracefulBuild("ASSIGNMENT_ERROR",`Assignment Error: ${l.message}`);if(h){let b=new W0t.FlagEvaluationError(l.message);throw b.flagEvaluationDetails=h,b}throw l}}matchesShard(e,r,n){let i=this.sharder.getShard(ZAe(e.salt,r),n);return e.ranges.some(s=>XAe(i,s))}};Vm.Evaluator=_z;function XAe(t,e){return e.start<=t&&t<e.end}o(XAe,"isInShardRange");function ZAe(t,e){return`${t}-${e}`}o(ZAe,"hashKey");function wz(t,e,r,n,i){return{flagKey:t,format:i,subjectKey:e,subjectAttributes:r,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:n}}o(wz,"noneResult");function JAe(t,e,r){if(!t.length)return{matched:!0,matchedRule:null};let n=null;return t.some(s=>{let a=(0,Y0t.matchesRule)(s,e,r);return a&&(n=s),a})?{matched:!0,matchedRule:n}:{matched:!1,matchedRule:null}}o(JAe,"matchesRules")});var Ez=V(CO=>{"use strict";m();g();Object.defineProperty(CO,"__esModule",{value:!0});CO.BoundedEventQueue=void 0;var Z0t=Kd(),J0t=gh(),Sz=class{static{o(this,"BoundedEventQueue")}constructor(e,r=new Array,n=J0t.MAX_EVENT_QUEUE_SIZE){this.name=e,this.queue=r,this.maxSize=n}get length(){return this.queue.length}splice(e){return this.queue.splice(e)}isEmpty(){return this.queue.length===0}[Symbol.iterator](){return this.queue[Symbol.iterator]()}push(...e){let{name:r,maxSize:n,queue:i}=this;for(;i.length<n&&e.length>0;)i.push(...e.splice(0,1));e.length>0&&Z0t.logger.warn(`Dropping ${e.length} events for queue ${r} since maxSize of ${n} reached.`)}flush(){let e=[...this.queue];return this.queue.length=0,e}};CO.BoundedEventQueue=Sz});var Tz=V(Iz=>{"use strict";m();g();Object.defineProperty(Iz,"__esModule",{value:!0});var Az=class{static{o(this,"NoOpEventDispatcher")}dispatch(e){}};Iz.default=Az});var kO=V(n3=>{"use strict";m();g();Object.defineProperty(n3,"__esModule",{value:!0});n3.HttpRequestError=void 0;var hl=class extends Error{static{o(this,"HttpRequestError")}constructor(e,r,n){super(e),this.message=e,this.status=r,this.cause=n,n&&(this.cause=n)}};n3.HttpRequestError=hl;var Rz=class{static{o(this,"FetchHttpClient")}constructor(e,r){this.apiEndpoints=e,this.timeout=r}async getUniversalFlagConfiguration(){let e=this.apiEndpoints.ufcEndpoint();return await this.rawGet(e)}async getBanditParameters(){let e=this.apiEndpoints.banditParametersEndpoint();return await this.rawGet(e)}async getPrecomputedFlags(e){let r=this.apiEndpoints.precomputedFlagsEndpoint();return await this.rawPost(r,e)}async rawGet(e){try{let r=new AbortController,n=r.signal,i=setTimeout(()=>r.abort(),this.timeout),s=await fetch(e.toString(),{signal:n});if(clearTimeout(i),!s?.ok)throw new hl("Failed to fetch data",s?.status);return await s.json()}catch(r){throw r.name==="AbortError"?new hl("Request timed out",408,r):r instanceof hl?r:new hl("Network error",0,r)}}async rawPost(e,r){try{let n=new AbortController,i=n.signal,s=setTimeout(()=>n.abort(),this.timeout),a=await fetch(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:i});if(clearTimeout(s),!a?.ok){let f=await a.text();throw new hl(f||"Failed to post data",a?.status)}return await a.json()}catch(n){throw n.name==="AbortError"?new hl("Request timed out",408,n):n instanceof hl?n:new hl("Network error",0,n)}}};n3.default=Rz});var e4e=V(Oz=>{"use strict";m();g();Object.defineProperty(Oz,"__esModule",{value:!0});Oz.waitForMs=Q0t;async function Q0t(t){await new Promise(e=>setTimeout(e,t))}o(Q0t,"waitForMs")});var Mz=V(Nz=>{"use strict";m();g();Object.defineProperty(Nz,"__esModule",{value:!0});Nz.default=tht;var uf=Kd(),BO=gh(),eht=e4e();function tht(t,e,r){let n=!1,i=0,s=t,a=!1,f,l=o(async()=>{n=!1;let y=!1,E=r?.skipInitialPoll?0:1+(r?.maxStartRetries??BO.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),I=null;for(;!y&&E>0;)try{await e(),y=!0,a=!1,uf.logger.info("Eppo SDK successfully requested initial configuration")}catch(N){if(a=!0,uf.logger.warn(`Eppo SDK encountered an error with initial poll of configurations: ${N.message}`),--E>0){let k=t4e(t);uf.logger.warn(`Eppo SDK will retry the initial poll again in ${k} ms (${E} attempts remaining)`),await(0,eht.waitForMs)(k)}else r?.pollAfterFailedStart?uf.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(uf.logger.error("Eppo SDK initial poll failed. Aborting polling"),h()),r?.errorOnFailedStart&&(I=N)}if(!n&&(y&&r?.pollAfterSuccessfulStart||!y&&r?.pollAfterFailedStart)?(uf.logger.info(`Eppo SDK starting regularly polling every ${t} ms`),f=setTimeout(b,t)):uf.logger.info("Eppo SDK will not poll for configuration updates"),I)throw uf.logger.info("Eppo SDK rethrowing start error"),I},"start"),h=o(()=>{n||(n=!0,f&&clearTimeout(f),uf.logger.info("Eppo SDK polling stopped"))},"stop");async function b(){if(!n){try{await e(),i=0,s=t,a&&(a=!1,uf.logger.info("Eppo SDK poll successful; resuming normal polling"))}catch(y){a=!0,uf.logger.warn(`Eppo SDK encountered an error polling configurations: ${y.message}`);let E=1+(r?.maxPollRetries??BO.DEFAULT_POLL_CONFIG_REQUEST_RETRIES);if(++i<E){let I=Math.pow(2,i),O=t4e(t);s=I*t+O,uf.logger.warn(`Eppo SDK will try polling again in ${s} ms (${E-i} attempts remaining)`)}else uf.logger.error(`Eppo SDK reached maximum of ${i} failed polling attempts. Stopping polling`),h()}setTimeout(b,s)}}return o(b,"poll"),{start:l,stop:h}}o(tht,"initPoller");function t4e(t){let e=t*BO.POLL_JITTER_PCT/2,r=Math.max(Math.floor(Math.random()*t*BO.POLL_JITTER_PCT/2),1);return e+r}o(t4e,"randomJitterMs")});var LO=V(i3=>{"use strict";m();g();Object.defineProperty(i3,"__esModule",{value:!0});i3.InvalidArgumentError=void 0;i3.validateNotBlank=rht;var PO=class extends Error{static{o(this,"InvalidArgumentError")}};i3.InvalidArgumentError=PO;function rht(t,e){if(t==null||t.length===0)throw new PO(e)}o(rht,"validateNotBlank")});var r4e=V((sVr,nht)=>{nht.exports={name:"@eppo/js-client-sdk-common",version:"4.8.4",description:"Common library for Eppo JavaScript SDKs (web, react native, and node)",main:"dist/index.js",files:["/dist","/src","!*.spec.ts"],types:"./dist/index.d.ts",engines:{node:">=18.x"},exports:{".":{types:"./dist/index.d.ts",default:"./dist/index.js"}},scripts:{lint:"eslint '**/*.{ts,tsx}' --cache","lint:fix":"eslint --fix '**/*.{ts,tsx}' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix '**/*.{ts,tsx}' --no-eslintrc --cache",prepare:"make prepare","pre-commit":"lint-staged && tsc",typecheck:"tsc",test:"yarn test:unit","test:unit":"NODE_ENV=test jest '.*\\.spec\\.ts'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},jsdelivr:"dist/eppo-sdk.js",repository:{type:"git",url:"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},author:"",license:"MIT",bugs:{url:"https://github.com/Eppo-exp/js-client-sdk-common/issues"},homepage:"https://github.com/Eppo-exp/js-client-sdk-common#readme",devDependencies:{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/semver":"^7.5.6","@types/spark-md5":"^3.0.5","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0",eslint:"^8.17.0","eslint-config-prettier":"^10.0.1","eslint-import-resolver-typescript":"^3.7.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"5.0.0","eslint-plugin-promise":"^7.2.1","eslint-plugin-unused-imports":"^4.1.4",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",lodash:"^4.17.21",prettier:"^3.4.2","terser-webpack-plugin":"^5.3.3",testdouble:"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1",typescript:"^5.7.2",webpack:"^5.73.0","webpack-cli":"^6.0.1"},dependencies:{buffer:"npm:@eppo/buffer@6.2.0","js-base64":"^3.7.7",pino:"^9.5.0",semver:"^7.5.4","spark-md5":"^3.0.2",uuid:"^11.0.5"},packageManager:"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}});var Cz=V(DO=>{"use strict";m();g();Object.defineProperty(DO,"__esModule",{value:!0});DO.LIB_VERSION=void 0;var iht=r4e();DO.LIB_VERSION=iht.version});var MO=V(s3=>{"use strict";m();g();Object.defineProperty(s3,"__esModule",{value:!0});s3.checkTypeMatch=c4e;s3.checkValueTypeMatch=bht;var oht=hA(),sht=tO(),ki=Kd(),xy=CK(),aht=k3e(),cht=sO(),n4e=cO(),fht=P3e(),i4e=H3e(),uht=GK(),o3=gh(),lht=yO(),vy=K3e(),UO=QAe(),o4e=Ez(),dht=Tz(),s4e=JK(),hht=ez(),pht=kO(),Gd=xh(),mht=bh(),ght=Mz(),a4e=LO(),yht=Cz(),kz=class{static{o(this,"EppoClient")}constructor({eventDispatcher:e=new dht.default,isObfuscated:r=!1,flagConfigurationStore:n,banditVariationConfigurationStore:i,banditModelConfigurationStore:s,configurationRequestParameters:a}){this.assignmentEventsQueue=new o4e.BoundedEventQueue("assignments"),this.banditEventsQueue=new o4e.BoundedEventQueue("bandit"),this.banditEvaluator=new aht.BanditEvaluator,this.isGracefulFailureMode=!0,this.evaluator=new UO.Evaluator,this.eventDispatcher=e,this.flagConfigurationStore=n,this.banditVariationConfigurationStore=i,this.banditModelConfigurationStore=s,this.configurationRequestParameters=a,this.isObfuscated=r}setConfigurationRequestParameters(e){this.configurationRequestParameters=e}setFlagConfigurationStore(e){this.flagConfigurationStore=e}setBanditVariationConfigurationStore(e){this.banditVariationConfigurationStore=e}setEventDispatcher(e){this.eventDispatcher=e}setBanditModelConfigurationStore(e){this.banditModelConfigurationStore=e}setIsObfuscated(e){this.isObfuscated=e}async fetchFlagConfigurations(){if(!this.configurationRequestParameters)throw new Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:s=o3.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:a=o3.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:f=o3.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:h=!1,throwOnFailedInitialization:b=!1,skipInitialPoll:y=!1}=this.configurationRequestParameters,{pollingIntervalMs:E=o3.DEFAULT_POLL_INTERVAL_MS}=this.configurationRequestParameters;E<=0&&(ki.logger.error("pollingIntervalMs must be greater than 0. Using default"),E=o3.DEFAULT_POLL_INTERVAL_MS);let I=new sht.default({baseUrl:i,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),O=new pht.default(I,s),N=new uht.default(O,this.flagConfigurationStore,this.banditVariationConfigurationStore??null,this.banditModelConfigurationStore??null),k=o(async()=>{if(await this.flagConfigurationStore.isExpired())return N.fetchAndStoreConfigurations()},"pollingCallback");this.requestPoller=(0,ght.default)(E,k,{maxStartRetries:a,maxPollRetries:f,pollAfterSuccessfulStart:l,pollAfterFailedStart:h,errorOnFailedStart:b,skipInitialPoll:y}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getStringAssignment(e,r,n,i){return this.getStringAssignmentDetails(e,r,n,i).variation}getStringAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,vy.EppoValue.String(i),Gd.VariationType.STRING);return{variation:s.stringValue??i,action:null,evaluationDetails:a}}getBoolAssignment(e,r,n,i){return this.getBooleanAssignment(e,r,n,i)}getBooleanAssignment(e,r,n,i){return this.getBooleanAssignmentDetails(e,r,n,i).variation}getBooleanAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,vy.EppoValue.Bool(i),Gd.VariationType.BOOLEAN);return{variation:s.boolValue??i,action:null,evaluationDetails:a}}getIntegerAssignment(e,r,n,i){return this.getIntegerAssignmentDetails(e,r,n,i).variation}getIntegerAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,vy.EppoValue.Numeric(i),Gd.VariationType.INTEGER);return{variation:s.numericValue??i,action:null,evaluationDetails:a}}getNumericAssignment(e,r,n,i){return this.getNumericAssignmentDetails(e,r,n,i).variation}getNumericAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,vy.EppoValue.Numeric(i),Gd.VariationType.NUMERIC);return{variation:s.numericValue??i,action:null,evaluationDetails:a}}getJSONAssignment(e,r,n,i){return this.getJSONAssignmentDetails(e,r,n,i).variation}getJSONAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,vy.EppoValue.JSON(i),Gd.VariationType.JSON);return{variation:s.objectValue??i,action:null,evaluationDetails:a}}getBanditAction(e,r,n,i,s){let{variation:a,action:f}=this.getBanditActionDetails(e,r,n,i,s);return{variation:a,action:f}}getBestAction(e,r,n,i){let s=null,f=this.banditVariationConfigurationStore?.get(e)?.at(0)?.key;if(f){let l=this.getBandit(f);if(l){let h=(0,xy.ensureContextualSubjectAttributes)(r),b=(0,xy.ensureActionsWithContextualAttributes)(n);s=this.banditEvaluator.evaluateBestBanditAction(h,b,l.modelData)}}return s??i}getBanditActionDetails(e,r,n,i,s){let a=s,f=null,l=this.newFlagEvaluationDetailsBuilder(e).buildForNoneResult("ASSIGNMENT_ERROR","Unexpected error getting assigned variation for bandit action");try{let h=(0,xy.ensureNonContextualSubjectAttributes)(n),{variation:b,evaluationDetails:y}=this.getStringAssignmentDetails(e,r,h,s);a=b,l=y;let E=this.findBanditByVariation(e,a);if(!E)return{variation:a,action:null,evaluationDetails:l};l.banditKey=E.banditKey;let I=this.evaluateBanditAction(e,r,n,i,E.modelData);if(I?.actionKey){f=I.actionKey;let O={timestamp:new Date().toISOString(),featureFlag:e,bandit:E.banditKey,subject:r,action:f,actionProbability:I.actionWeight,optimalityGap:I.optimalityGap,modelVersion:E.modelVersion,subjectNumericAttributes:I.subjectAttributes.numericAttributes,subjectCategoricalAttributes:I.subjectAttributes.categoricalAttributes,actionNumericAttributes:I.actionAttributes.numericAttributes,actionCategoricalAttributes:I.actionAttributes.categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:l};try{this.logBanditAction(O)}catch(N){ki.logger.error("Error logging bandit event",N)}l.banditAction=f}}catch(h){if(ki.logger.error("Error determining bandit action",h),!this.isGracefulFailureMode)throw h;a&&(l.flagEvaluationCode="BANDIT_ERROR"),l.flagEvaluationDescription=`Error evaluating bandit action: ${h.message}`}return{variation:a,action:f,evaluationDetails:l}}getExperimentContainerEntry(e,r,n){let{flagKey:i,controlVariationEntry:s,treatmentVariationEntries:a}=e,f=this.getStringAssignment(i,r,n,"control");if(f==="control")return s;if(!f.startsWith("treatment-"))return ki.logger.warn(`Variation '${f}' cannot be mapped to a container. Defaulting to control variation.`),s;let l=Number.parseInt(f.split("-")[1])-1;return isNaN(l)?(ki.logger.warn(`Variation '${f}' cannot be mapped to a container. Defaulting to control variation.`),s):l>=a.length?(ki.logger.warn(`Selected treatment variation (${l}) index is out of bounds. Defaulting to control variation.`),s):a[l]}evaluateBanditAction(e,r,n,i,s){if(!Object.keys(i).length)return null;let a=(0,xy.ensureContextualSubjectAttributes)(n),f=(0,xy.ensureActionsWithContextualAttributes)(i);return this.banditEvaluator.evaluateBandit(e,r,a,f,s)}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,s=e.action??"__eppo_no_action",a={flagKey:n,subjectKey:r,banditKey:i,actionKey:s};if(!this.banditAssignmentCache?.has(a))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(a)}catch(f){ki.logger.warn("Error encountered logging bandit action",f)}}getAssignmentVariation(e,r,n,i,s){try{let a=this.getAssignmentDetail(e,r,n,s);return this.parseVariationWithDetails(a,i,s)}catch(a){let f=this.rethrowIfNotGraceful(a,i);if(a instanceof hht.FlagEvaluationError&&a.flagEvaluationDetails)return{eppoValue:f,flagEvaluationDetails:a.flagEvaluationDetails};{let l=new s4e.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR",`Assignment Error: ${a.message}`);return{eppoValue:f,flagEvaluationDetails:l}}}}parseVariationWithDetails({flagEvaluationDetails:e,variation:r},n,i){try{return!r||e.flagEvaluationCode!=="MATCH"?{eppoValue:n,flagEvaluationDetails:e}:{eppoValue:vy.EppoValue.valueOf(r.value,i),flagEvaluationDetails:e}}catch(s){return{eppoValue:this.rethrowIfNotGraceful(s,n),flagEvaluationDetails:e}}}rethrowIfNotGraceful(e,r){if(this.isGracefulFailureMode)return ki.logger.error(`${ki.loggerPrefix} Error getting assignment: ${e.message}`),r??vy.EppoValue.Null();throw e}getAllAssignments(e,r={}){let n=this.getConfigDetails(),i=this.getFlagKeys(),s={};return i.forEach(a=>{let f=this.getFlag(a);if(!f){ki.logger.debug(`${ki.loggerPrefix} No assigned variation. Flag does not exist.`);return}let l=this.evaluator.evaluateFlag(f,n,e,r,this.isObfuscated);if(!l.variation||!l.allocationKey){ki.logger.debug(`${ki.loggerPrefix} No assigned variation: ${a}`);return}s[a]={flagKey:a,allocationKey:l.allocationKey,doLog:l.doLog,extraLogging:l.extraLogging,variationKey:l.variation.key,variationType:f.variationType,variationValue:l.variation.value.toString()}}),s}getPrecomputedConfiguration(e,r={},n={},i){let s=this.getConfigDetails(),a=(0,xy.ensureContextualSubjectAttributes)(r),f=(0,xy.ensureNonContextualSubjectAttributes)(r),l=this.getAllAssignments(e,f),h=this.computeBanditsForFlags(e,a,n,l),b=i4e.PrecomputedConfiguration.obfuscated(e,l,h,i??"",a,s.configEnvironment),y=new i4e.ConfigurationWireV1(b);return JSON.stringify(y)}getAssignmentDetail(e,r,n={},i){(0,a4e.validateNotBlank)(r,"Invalid argument: subjectKey cannot be blank"),(0,a4e.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.newFlagEvaluationDetailsBuilder(e),a=this.getConfigDetails(),f=this.getFlag(e);if(f===null){ki.logger.warn(`${ki.loggerPrefix} No assigned variation. Flag not found: ${e}`);let h=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,UO.noneResult)(e,r,n,h,a.configFormat)}if(!c4e(i,f.variationType)){let h=`Variation value does not have the correct type. Found ${f.variationType}, but expected ${i} for flag ${e}`;if(this.isGracefulFailureMode){let b=s.buildForNoneResult("TYPE_MISMATCH",h);return(0,UO.noneResult)(e,r,n,b,a.configFormat)}throw new TypeError(h)}if(!f.enabled){ki.logger.info(`${ki.loggerPrefix} No assigned variation. Flag is disabled: ${e}`);let h=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,UO.noneResult)(e,r,n,h,a.configFormat)}let l=this.evaluator.evaluateFlag(f,a,r,n,this.isObfuscated,i);this.isObfuscated&&(l.flagKey=e);try{l?.doLog&&this.maybeLogAssignment(l)}catch(h){ki.logger.error(`${ki.loggerPrefix} Error logging assignment event: ${h}`)}return l}track(e,r){this.eventDispatcher.dispatch({uuid:(0,oht.v4)(),type:e,timestamp:new Date().getTime(),payload:r})}newFlagEvaluationDetailsBuilder(e){let r=this.getFlag(e),n=this.getConfigDetails();return new s4e.FlagEvaluationDetailsBuilder(n.configEnvironment.name,r?.allocations??[],n.configFetchedAt,n.configPublishedAt)}getConfigDetails(){return{configFetchedAt:this.flagConfigurationStore.getConfigFetchedAt()??"",configPublishedAt:this.flagConfigurationStore.getConfigPublishedAt()??"",configEnvironment:this.flagConfigurationStore.getEnvironment()??{name:""},configFormat:this.flagConfigurationStore.getFormat()??""}}getFlag(e){return this.isObfuscated?this.getObfuscatedFlag(e):this.flagConfigurationStore.get(e)}getObfuscatedFlag(e){let r=this.flagConfigurationStore.get((0,mht.getMD5Hash)(e));return r?(0,lht.decodeFlag)(r):null}getBandit(e){return this.banditModelConfigurationStore?.get(e)??null}getFlagKeys(){return this.flagConfigurationStore.getKeys()}isInitialized(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}setLogger(e){this.setAssignmentLogger(e)}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.assignmentEventsQueue,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new n4e.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new cht.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}disableBanditAssignmentCache(){this.banditAssignmentCache=void 0}useNonExpiringInMemoryBanditAssignmentCache(){this.banditAssignmentCache=new n4e.NonExpiringInMemoryAssignmentCache}useExpiringInMemoryBanditAssignmentCache(e,r){this.banditAssignmentCache=new fht.TLRUInMemoryAssignmentCache(e,r)}useCustomBanditAssignmentCache(e){this.banditAssignmentCache=e}setIsGracefulFailureMode(e){this.isGracefulFailureMode=e}getFlagConfigurations(){return this.flagConfigurationStore.entries()}flushQueuedEvents(e,r){let n=e.flush();r&&n.forEach(i=>{try{r(i)}catch(s){ki.logger.error(`${ki.loggerPrefix} Error flushing event to logger: ${s.message}`)}})}maybeLogAssignment(e){let{flagKey:r,format:n,subjectKey:i,allocationKey:s,subjectAttributes:a,variation:f}=e,l={...e.extraLogging??{},allocation:s??null,experiment:s?`${r}-${s}`:null,featureFlag:r,format:n,variation:f?.key??null,subject:i,timestamp:new Date().toISOString(),subjectAttributes:a,metaData:this.buildLoggerMetadata(),evaluationDetails:e.flagEvaluationDetails};if(!(f&&s&&this.assignmentCache?.has({flagKey:r,subjectKey:i,allocationKey:s,variationKey:f.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.assignmentEventsQueue.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:i,allocationKey:s??"__eppo_no_allocation",variationKey:f?.key??"__eppo_no_variation"})}catch(h){ki.logger.error(`${ki.loggerPrefix} Error logging assignment event: ${h.message}`)}}buildLoggerMetadata(){return{obfuscated:this.isObfuscated,sdkLanguage:"javascript",sdkLibVersion:yht.LIB_VERSION}}computeBanditsForFlags(e,r,n,i){let s={};return Object.keys(n).forEach(a=>{let f=i[a];if(f){let l=this.getPrecomputedBandit(a,f.variationValue,e,r,n[a]);l&&(s[a]=l)}}),s}findBanditByVariation(e,r){let i=this.banditVariationConfigurationStore?.get(e)?.find(s=>s.variationValue===r)?.key;return i?this.getBandit(i):null}getPrecomputedBandit(e,r,n,i,s){let a=this.findBanditByVariation(e,r);if(!a)return null;let f=this.evaluateBanditAction(e,n,i,s,a.modelData);return f?{banditKey:a.banditKey,action:f.actionKey,actionNumericAttributes:f.actionAttributes.numericAttributes,actionCategoricalAttributes:f.actionAttributes.categoricalAttributes,actionProbability:f.actionWeight,modelVersion:a.modelVersion,optimalityGap:f.optimalityGap}:null}};s3.default=kz;function c4e(t,e){return t===void 0||e===t}o(c4e,"checkTypeMatch");function bht(t,e){if(t==null)return!0;switch(t){case Gd.VariationType.STRING:return typeof e=="string";case Gd.VariationType.BOOLEAN:return typeof e=="boolean";case Gd.VariationType.INTEGER:return typeof e=="number"&&Number.isInteger(e);case Gd.VariationType.NUMERIC:return typeof e=="number";case Gd.VariationType.JSON:return typeof e=="string";default:return!1}}o(bht,"checkValueTypeMatch")});var l4e=V(Pz=>{"use strict";m();g();Object.defineProperty(Pz,"__esModule",{value:!0});var f4e=VK(),u4e=xh(),Bz=class{static{o(this,"PrecomputedFlagRequestor")}constructor(e,r,n,i,s,a){this.httpClient=e,this.precomputedFlagStore=r,this.subjectKey=n,this.subjectAttributes=i,this.precomputedBanditsStore=s,this.banditActions=a}async fetchAndStorePrecomputedFlags(){let e=await this.httpClient.getPrecomputedFlags({subject_key:this.subjectKey,subject_attributes:this.subjectAttributes,bandit_actions:this.banditActions});if(!e)return;let r=[];r.push((0,f4e.hydrateConfigurationStore)(this.precomputedFlagStore,{entries:e.flags,environment:e.environment??{name:u4e.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt})),this.precomputedBanditsStore&&r.push((0,f4e.hydrateConfigurationStore)(this.precomputedBanditsStore,{entries:e.bandits,environment:e.environment??{name:u4e.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt}))}};Pz.default=Bz});var m4e=V(Dz=>{"use strict";m();g();Object.defineProperty(Dz,"__esModule",{value:!0});var xht=tO(),Jn=Kd(),d4e=CK(),vht=sO(),_ht=cO(),_y=gh(),h4e=yO(),wht=kO(),a3=xh(),p4e=bh(),Sht=Mz(),Eht=l4e(),Aht=LO(),Iht=Cz(),Tht=MO(),Lz=class{static{o(this,"EppoPrecomputedClient")}constructor(e){this.queuedAssignmentEvents=[],this.banditEventsQueue=[],this.precomputedFlagStore=e.precomputedFlagStore,this.precomputedBanditStore=e.precomputedBanditStore;let{subjectKey:r,subjectAttributes:n}=e.subject;this.subject={subjectKey:r,subjectAttributes:(0,d4e.ensureContextualSubjectAttributes)(n)},this.banditActions=e.banditActions,e.requestParameters?this.requestParameters=e.requestParameters:(this.precomputedFlagStore.isInitialized()||Jn.logger.error(`${Jn.loggerPrefix} EppoPrecomputedClient requires an initialized precomputedFlagStore if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.isInitialized()&&Jn.logger.error(`${Jn.loggerPrefix} Passing banditOptions without requestParameters requires an initialized precomputedBanditStore`),this.precomputedFlagStore.salt||Jn.logger.error(`${Jn.loggerPrefix} EppoPrecomputedClient requires a precomputedFlagStore with a salt if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.salt&&Jn.logger.warn(`${Jn.loggerPrefix} EppoPrecomputedClient missing or empty salt for precomputedBanditStore`))}async fetchPrecomputedFlags(){if(!this.requestParameters)throw new Error("Eppo SDK unable to fetch precomputed flags without the request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:s=_y.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:a=_y.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:f=_y.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:h=!1,throwOnFailedInitialization:b=!1,skipInitialPoll:y=!1}=this.requestParameters,{subjectKey:E,subjectAttributes:I}=this.subject,{pollingIntervalMs:O=_y.DEFAULT_POLL_INTERVAL_MS}=this.requestParameters;O<=0&&(Jn.logger.error("pollingIntervalMs must be greater than 0. Using default"),O=_y.DEFAULT_POLL_INTERVAL_MS);let N=new xht.default({baseUrl:i??_y.PRECOMPUTED_BASE_URL,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),k=new wht.default(N,s),C=new Eht.default(k,this.precomputedFlagStore,E,I,this.precomputedBanditStore,this.banditActions),L=o(async()=>{if(await this.precomputedFlagStore.isExpired())return C.fetchAndStorePrecomputedFlags()},"pollingCallback");this.requestPoller=(0,Sht.default)(O,L,{maxStartRetries:a,maxPollRetries:f,pollAfterSuccessfulStart:l,pollAfterFailedStart:h,errorOnFailedStart:b,skipInitialPoll:y}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getPrecomputedAssignment(e,r,n,i=s=>s){(0,Aht.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.getPrecomputedFlag(e);if(s==null)return Jn.logger.warn(`${Jn.loggerPrefix} No assigned variation. Flag not found: ${e}`),r;if(!(0,Tht.checkTypeMatch)(n,s.variationType)){let f=`${Jn.loggerPrefix} Type mismatch: expected ${n} but flag ${e} has type ${s.variationType}`;return Jn.logger.error(f),r}let a={flagKey:e,format:this.precomputedFlagStore.getFormat()??"",subjectKey:this.subject.subjectKey??"",subjectAttributes:(0,d4e.ensureNonContextualSubjectAttributes)(this.subject.subjectAttributes??{}),variation:{key:s.variationKey??"",value:s.variationValue},allocationKey:s.allocationKey??"",extraLogging:s.extraLogging??{},doLog:s.doLog};try{a?.doLog&&this.logAssignment(a)}catch(f){Jn.logger.error(`${Jn.loggerPrefix} Error logging assignment event: ${f}`)}try{return a.variation?.value!==void 0?i(a.variation.value):r}catch(f){return Jn.logger.error(`${Jn.loggerPrefix} Error transforming value: ${f}`),r}}getStringAssignment(e,r){return this.getPrecomputedAssignment(e,r,a3.VariationType.STRING)}getBooleanAssignment(e,r){return this.getPrecomputedAssignment(e,r,a3.VariationType.BOOLEAN)}getIntegerAssignment(e,r){return this.getPrecomputedAssignment(e,r,a3.VariationType.INTEGER)}getNumericAssignment(e,r){return this.getPrecomputedAssignment(e,r,a3.VariationType.NUMERIC)}getJSONAssignment(e,r){return this.getPrecomputedAssignment(e,r,a3.VariationType.JSON,n=>typeof n=="string"?JSON.parse(n):r)}getBanditAction(e,r){let n=this.getPrecomputedBandit(e);if(n==null)return Jn.logger.warn(`${Jn.loggerPrefix} No assigned variation. Bandit not found: ${e}`),{variation:r,action:null};let i=this.getStringAssignment(e,r),s={timestamp:new Date().toISOString(),featureFlag:e,bandit:n.banditKey,subject:this.subject.subjectKey??"",action:n.action,actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:n.actionNumericAttributes,subjectCategoricalAttributes:n.actionCategoricalAttributes,actionNumericAttributes:n.actionNumericAttributes,actionCategoricalAttributes:n.actionCategoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:null};try{this.logBanditAction(s)}catch(a){Jn.logger.error(`${Jn.loggerPrefix} Error logging bandit action: ${a}`)}return{variation:i,action:s.action}}getPrecomputedFlag(e){return this.getObfuscatedFlag(e)}getObfuscatedFlag(e){let r=this.precomputedFlagStore.salt,n=(0,p4e.getMD5Hash)(e,r),i=this.precomputedFlagStore.get(n);return i?(0,h4e.decodePrecomputedFlag)(i):null}getPrecomputedBandit(e){let r=this.getObfuscatedPrecomputedBandit(e);return r?(0,h4e.decodePrecomputedBandit)(r):null}getObfuscatedPrecomputedBandit(e){let r=this.precomputedBanditStore?.salt,n=(0,p4e.getMD5Hash)(e,r);return this.precomputedBanditStore?.get(n)??null}isInitialized(){return this.precomputedFlagStore.isInitialized()}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new _ht.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new vht.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}flushQueuedEvents(e,r){let n=[...e];e.length=0,r&&n.forEach(i=>{try{r(i)}catch(s){Jn.logger.error(`${Jn.loggerPrefix} Error flushing event to logger: ${s.message}`)}})}logAssignment(e){let{flagKey:r,subjectKey:n,allocationKey:i,subjectAttributes:s,variation:a,format:f}=e,l={...e.extraLogging??{},allocation:i??null,experiment:i?`${r}-${i}`:null,featureFlag:r,format:f,variation:a?.key??null,subject:n,timestamp:new Date().toISOString(),subjectAttributes:s,metaData:this.buildLoggerMetadata(),evaluationDetails:null};if(!(a&&i&&this.assignmentCache?.has({flagKey:r,subjectKey:n,allocationKey:i,variationKey:a.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.queuedAssignmentEvents.length<_y.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:n,allocationKey:i??"__eppo_no_allocation",variationKey:a?.key??"__eppo_no_variation"})}catch(h){Jn.logger.error(`${Jn.loggerPrefix} Error logging assignment event: ${h.message}`)}}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,s=e.action??"__eppo_no_action",a={flagKey:n,subjectKey:r,banditKey:i,actionKey:s};if(!this.banditAssignmentCache?.has(a))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(a)}catch(f){Jn.logger.warn("Error encountered logging bandit action",f)}}buildLoggerMetadata(){return{obfuscated:!0,sdkLanguage:"javascript",sdkLibVersion:Iht.LIB_VERSION}}};Dz.default=Lz});var g4e=V(FO=>{"use strict";m();g();Object.defineProperty(FO,"__esModule",{value:!0});FO.HybridConfigurationStore=void 0;var HO=Kd(),Uz=class{static{o(this,"HybridConfigurationStore")}constructor(e,r){this.servingStore=e,this.persistentStore=r,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null,this.format=null}async init(){if(!this.persistentStore)return;this.persistentStore.isInitialized()||HO.logger.warn(`${HO.loggerPrefix} Persistent store is not initialized from remote configuration. Serving assignments that may be stale.`);let e=await this.persistentStore.entries();this.servingStore.setEntries(e)}isInitialized(){return this.servingStore.isInitialized()&&(this.persistentStore?.isInitialized()??!0)}async isExpired(){return await this.persistentStore?.isExpired()??!0}get(e){return this.servingStore.isInitialized()||HO.logger.warn(`${HO.loggerPrefix} getting a value from a ServingStore that is not initialized.`),this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async setEntries(e){return this.persistentStore&&await this.persistentStore.setEntries(e),this.servingStore.setEntries(e),!0}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};FO.HybridConfigurationStore=Uz});var y4e=V(l2=>{"use strict";m();g();Object.defineProperty(l2,"__esModule",{value:!0});l2.MemoryOnlyConfigurationStore=l2.MemoryStore=void 0;var qO=class{static{o(this,"MemoryStore")}constructor(){this.store={},this.initialized=!1}get(e){return this.store[e]??null}entries(){return this.store}getKeys(){return Object.keys(this.store)}isInitialized(){return this.initialized}setEntries(e){this.store={...e},this.initialized=!0}};l2.MemoryStore=qO;var Hz=class{static{o(this,"MemoryOnlyConfigurationStore")}constructor(){this.servingStore=new qO,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null,this.format=null}init(){return this.initialized=!0,Promise.resolve()}get(e){return this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async isExpired(){return!0}isInitialized(){return this.initialized}async setEntries(e){return this.servingStore.setEntries(e),this.initialized=!0,!0}getEnvironment(){return this.environment}setEnvironment(e){this.environment=e}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};l2.MemoryOnlyConfigurationStore=Hz});var Vz=V(qz=>{"use strict";m();g();Object.defineProperty(qz,"__esModule",{value:!0});var Rht=100,Oht=1e4,Fz=class{static{o(this,"BatchEventProcessor")}constructor(e,r){this.eventQueue=e,this.batchSize=Math.max(Rht,Math.min(Oht,r))}nextBatch(){return this.eventQueue.splice(this.batchSize)}push(...e){this.eventQueue.push(...e)}isEmpty(){return this.eventQueue.isEmpty()}};qz.default=Fz});var b4e=V(zz=>{"use strict";m();g();Object.defineProperty(zz,"__esModule",{value:!0});var jz=Kd(),Kz=class{static{o(this,"BatchRetryManager")}constructor(e,r){this.delivery=e,this.config=r}async retry(e,r=0){let{retryIntervalMs:n,maxRetryDelayMs:i,maxRetries:s}=this.config,a=Math.min(n*Math.pow(2,r),i);jz.logger.info(`[BatchRetryManager] Retrying batch delivery of ${e.length} events in ${a}ms...`),await new Promise(l=>setTimeout(l,a));let{failedEvents:f}=await this.delivery.deliver(e);return f.length===0?(jz.logger.info(`[BatchRetryManager] Batch delivery successfully after ${r+1} tries.`),[]):r<s-1?this.retry(f,r+1):(jz.logger.warn(`[BatchRetryManager] Failed to deliver batch after ${s} tries, bailing`),e)}};zz.default=Kz});var x4e=V($z=>{"use strict";m();g();Object.defineProperty($z,"__esModule",{value:!0});var VO=Kd(),Gz=class{static{o(this,"EventDelivery")}constructor(e,r){this.sdkKey=e,this.ingestionUrl=r}async deliver(e){try{VO.logger.info(`[EventDispatcher] Delivering batch of ${e.length} events to ${this.ingestionUrl}...`);let r=await fetch(this.ingestionUrl,{method:"POST",headers:{"Content-Type":"application/json","x-eppo-token":this.sdkKey},body:JSON.stringify({eppo_events:e})});return r.ok?await this.parseFailedEvents(r,e):{failedEvents:e}}catch(r){return VO.logger.warn("Failed to upload event batch",r),{failedEvents:e}}}async parseFailedEvents(e,r){VO.logger.info("[EventDispatcher] Batch delivered successfully.");let n=await e.json(),i=new Set(n?.failed_events||[]);return i.size>0?(VO.logger.warn(`[EventDispatcher] ${i.size}/${r.length} events failed ingestion.`),{failedEvents:r.filter(({uuid:s})=>i.has(s))}):{failedEvents:[]}}};$z.default=Gz});var _4e=V(Yz=>{"use strict";m();g();Object.defineProperty(Yz,"__esModule",{value:!0});var Nht=wK(),v4e="v0/i",Wz=class{static{o(this,"SdkKeyDecoder")}decodeEventIngestionUrl(e){let r=e.split(".")[1];if(!r)return null;let n=Nht.Base64.decode(r),s=new URLSearchParams(n).get("eh");if(!s)return null;let a=s.endsWith("/")?`${s}${v4e}`:`${s}/${v4e}`;return!a.startsWith("http://")&&!a.startsWith("https://")?`https://${a}`:a}};Yz.default=Wz});var w4e=V($d=>{"use strict";m();g();Object.defineProperty($d,"__esModule",{value:!0});$d.DEFAULT_EVENT_DISPATCHER_CONFIG=$d.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=void 0;$d.newDefaultEventDispatcher=Lht;var d2=Kd(),Mht=Vz(),Cht=b4e(),kht=x4e(),Bht=Tz(),Pht=_4e();$d.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=1e3;$d.DEFAULT_EVENT_DISPATCHER_CONFIG={deliveryIntervalMs:1e4,retryIntervalMs:5e3,maxRetryDelayMs:3e4,maxRetries:3};var jO=class{static{o(this,"DefaultEventDispatcher")}constructor(e,r,n){this.batchProcessor=e,this.networkStatusListener=r,this.dispatchTimer=null,this.isOffline=!1,this.ensureConfigFields(n);let{sdkKey:i,ingestionUrl:s,retryIntervalMs:a,maxRetryDelayMs:f,maxRetries:l=3}=n;this.eventDelivery=new kht.default(i,s),this.retryManager=new Cht.default(this.eventDelivery,{retryIntervalMs:a,maxRetryDelayMs:f,maxRetries:l}),this.deliveryIntervalMs=n.deliveryIntervalMs,this.networkStatusListener.onNetworkStatusChange(h=>{d2.logger.info(`[EventDispatcher] Network status change, isOffline=${h}.`),this.isOffline=h,h?this.dispatchTimer=null:this.maybeScheduleNextDelivery()})}dispatch(e){this.batchProcessor.push(e),this.maybeScheduleNextDelivery()}async deliverNextBatch(){if(this.isOffline){d2.logger.warn("[EventDispatcher] Skipping delivery; network status is offline.");return}let e=this.batchProcessor.nextBatch();if(e.length===0){this.dispatchTimer=null;return}let{failedEvents:r}=await this.eventDelivery.deliver(e);if(r.length>0){d2.logger.warn("[EventDispatcher] Failed to deliver some events from batch, retrying...");let n=await this.retryManager.retry(r);n.length>0&&this.batchProcessor.push(...n)}d2.logger.debug(`[EventDispatcher] Delivered batch of ${e.length} events.`),this.dispatchTimer=null,this.maybeScheduleNextDelivery()}maybeScheduleNextDelivery(){!this.isOffline&&!this.batchProcessor.isEmpty()&&!this.dispatchTimer&&(d2.logger.info(`[EventDispatcher] Scheduling next delivery in ${this.deliveryIntervalMs}ms.`),this.dispatchTimer=setTimeout(()=>this.deliverNextBatch(),this.deliveryIntervalMs))}ensureConfigFields(e){if(!e.ingestionUrl)throw new Error("Missing required ingestionUrl in EventDispatcherConfig");if(!e.deliveryIntervalMs)throw new Error("Missing required deliveryIntervalMs in EventDispatcherConfig");if(!e.retryIntervalMs)throw new Error("Missing required retryIntervalMs in EventDispatcherConfig");if(!e.maxRetryDelayMs)throw new Error("Missing required maxRetryDelayMs in EventDispatcherConfig")}};$d.default=jO;function Lht(t,e,r,n=$d.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE,i=$d.DEFAULT_EVENT_DISPATCHER_CONFIG){let a=new Pht.default().decodeEventIngestionUrl(r);return a?new jO(new Mht.default(t,n),e,{...i,ingestionUrl:a,sdkKey:r}):(d2.logger.debug("Unable to parse Event ingestion URL from SDK key, falling back to no-op event dispatcher"),new Bht.default)}o(Lht,"newDefaultEventDispatcher")});var I4e=V(Ht=>{"use strict";m();g();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.decodePrecomputedFlag=Ht.DefaultEventDispatcher=Ht.BatchEventProcessor=Ht.newDefaultEventDispatcher=Ht.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=Ht.DEFAULT_EVENT_DISPATCHER_CONFIG=Ht.BoundedEventQueue=Ht.FormatEnum=Ht.VariationType=Ht.assignmentCacheValueToString=Ht.assignmentCacheKeyToString=Ht.LRUInMemoryAssignmentCache=Ht.NonExpiringInMemoryAssignmentCache=Ht.MemoryOnlyConfigurationStore=Ht.HybridConfigurationStore=Ht.MemoryStore=Ht.EppoPrecomputedClient=Ht.validation=Ht.HttpClient=Ht.FlagConfigRequestor=Ht.ApiEndpoints=Ht.constants=Ht.EppoClient=Ht.AbstractAssignmentCache=Ht.applicationLogger=Ht.loggerPrefix=void 0;var Dht=tO();Ht.ApiEndpoints=Dht.default;var S4e=Kd();Object.defineProperty(Ht,"applicationLogger",{enumerable:!0,get:o(function(){return S4e.logger},"get")});Object.defineProperty(Ht,"loggerPrefix",{enumerable:!0,get:o(function(){return S4e.loggerPrefix},"get")});var Xz=KE();Object.defineProperty(Ht,"AbstractAssignmentCache",{enumerable:!0,get:o(function(){return Xz.AbstractAssignmentCache},"get")});Object.defineProperty(Ht,"assignmentCacheKeyToString",{enumerable:!0,get:o(function(){return Xz.assignmentCacheKeyToString},"get")});Object.defineProperty(Ht,"assignmentCacheValueToString",{enumerable:!0,get:o(function(){return Xz.assignmentCacheValueToString},"get")});var Uht=sO();Object.defineProperty(Ht,"LRUInMemoryAssignmentCache",{enumerable:!0,get:o(function(){return Uht.LRUInMemoryAssignmentCache},"get")});var Hht=cO();Object.defineProperty(Ht,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:o(function(){return Hht.NonExpiringInMemoryAssignmentCache},"get")});var Fht=MO();Ht.EppoClient=Fht.default;var qht=m4e();Ht.EppoPrecomputedClient=qht.default;var Vht=GK();Ht.FlagConfigRequestor=Vht.default;var jht=g4e();Object.defineProperty(Ht,"HybridConfigurationStore",{enumerable:!0,get:o(function(){return jht.HybridConfigurationStore},"get")});var E4e=y4e();Object.defineProperty(Ht,"MemoryStore",{enumerable:!0,get:o(function(){return E4e.MemoryStore},"get")});Object.defineProperty(Ht,"MemoryOnlyConfigurationStore",{enumerable:!0,get:o(function(){return E4e.MemoryOnlyConfigurationStore},"get")});var Kht=gh();Ht.constants=Kht;var zht=yO();Object.defineProperty(Ht,"decodePrecomputedFlag",{enumerable:!0,get:o(function(){return zht.decodePrecomputedFlag},"get")});var Ght=Vz();Ht.BatchEventProcessor=Ght.default;var $ht=Ez();Object.defineProperty(Ht,"BoundedEventQueue",{enumerable:!0,get:o(function(){return $ht.BoundedEventQueue},"get")});var KO=w4e();Ht.DefaultEventDispatcher=KO.default;Object.defineProperty(Ht,"DEFAULT_EVENT_DISPATCHER_CONFIG",{enumerable:!0,get:o(function(){return KO.DEFAULT_EVENT_DISPATCHER_CONFIG},"get")});Object.defineProperty(Ht,"DEFAULT_EVENT_DISPATCHER_BATCH_SIZE",{enumerable:!0,get:o(function(){return KO.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE},"get")});Object.defineProperty(Ht,"newDefaultEventDispatcher",{enumerable:!0,get:o(function(){return KO.newDefaultEventDispatcher},"get")});var Wht=kO();Ht.HttpClient=Wht.default;var A4e=xh();Object.defineProperty(Ht,"VariationType",{enumerable:!0,get:o(function(){return A4e.VariationType},"get")});Object.defineProperty(Ht,"FormatEnum",{enumerable:!0,get:o(function(){return A4e.FormatEnum},"get")});var Yht=LO();Ht.validation=Yht});var q4e=V((Wzr,F4e)=>{m();g();function Rpt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}o(Rpt,"arrayEach");F4e.exports=Rpt});var j4e=V((Jzr,V4e)=>{m();g();var Opt=e6(),Npt=DW();function Mpt(t,e){return t&&Opt(e,Npt(e),t)}o(Mpt,"baseAssign");V4e.exports=Mpt});var z4e=V((rGr,K4e)=>{m();g();var Cpt=e6(),kpt=RM();function Bpt(t,e){return t&&Cpt(e,kpt(e),t)}o(Bpt,"baseAssignIn");K4e.exports=Bpt});var $4e=V((sGr,G4e)=>{m();g();var Ppt=e6(),Lpt=UW();function Dpt(t,e){return Ppt(t,Lpt(t),e)}o(Dpt,"copySymbols");G4e.exports=Dpt});var uG=V((uGr,W4e)=>{m();g();var Upt=SRe(),Hpt=ERe(),Fpt=UW(),qpt=wRe(),Vpt=Object.getOwnPropertySymbols,jpt=Vpt?function(t){for(var e=[];t;)Upt(e,Fpt(t)),t=Hpt(t);return e}:qpt;W4e.exports=jpt});var X4e=V((hGr,Y4e)=>{m();g();var Kpt=e6(),zpt=uG();function Gpt(t,e){return Kpt(t,zpt(t),e)}o(Gpt,"copySymbolsIn");Y4e.exports=Gpt});var J4e=V((yGr,Z4e)=>{m();g();var $pt=ARe(),Wpt=uG(),Ypt=RM();function Xpt(t){return $pt(t,Ypt,Wpt)}o(Xpt,"getAllKeysIn");Z4e.exports=Xpt});var e8e=V((_Gr,Q4e)=>{m();g();var Zpt=Object.prototype,Jpt=Zpt.hasOwnProperty;function Qpt(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Jpt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}o(Qpt,"initCloneArray");Q4e.exports=Qpt});var r8e=V((AGr,t8e)=>{m();g();var emt=HW();function tmt(t,e){var r=e?emt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}o(tmt,"cloneDataView");t8e.exports=tmt});var i8e=V((OGr,n8e)=>{m();g();var rmt=/\w*$/;function nmt(t){var e=new t.constructor(t.source,rmt.exec(t));return e.lastIndex=t.lastIndex,e}o(nmt,"cloneRegExp");n8e.exports=nmt});var f8e=V((kGr,c8e)=>{m();g();var o8e=dRe(),s8e=o8e?o8e.prototype:void 0,a8e=s8e?s8e.valueOf:void 0;function imt(t){return a8e?Object(a8e.call(t)):{}}o(imt,"cloneSymbol");c8e.exports=imt});var l8e=V((DGr,u8e)=>{m();g();var omt=HW(),smt=r8e(),amt=i8e(),cmt=f8e(),fmt=TRe(),umt="[object Boolean]",lmt="[object Date]",dmt="[object Map]",hmt="[object Number]",pmt="[object RegExp]",mmt="[object Set]",gmt="[object String]",ymt="[object Symbol]",bmt="[object ArrayBuffer]",xmt="[object DataView]",vmt="[object Float32Array]",_mt="[object Float64Array]",wmt="[object Int8Array]",Smt="[object Int16Array]",Emt="[object Int32Array]",Amt="[object Uint8Array]",Imt="[object Uint8ClampedArray]",Tmt="[object Uint16Array]",Rmt="[object Uint32Array]";function Omt(t,e,r){var n=t.constructor;switch(e){case bmt:return omt(t);case umt:case lmt:return new n(+t);case xmt:return smt(t,r);case vmt:case _mt:case wmt:case Smt:case Emt:case Amt:case Imt:case Tmt:case Rmt:return fmt(t,r);case dmt:return new n;case hmt:case gmt:return new n(t);case pmt:return amt(t);case mmt:return new n;case ymt:return cmt(t)}}o(Omt,"initCloneByTag");u8e.exports=Omt});var h8e=V((qGr,d8e)=>{m();g();var Nmt=OM(),Mmt=AM(),Cmt="[object Map]";function kmt(t){return Mmt(t)&&Nmt(t)==Cmt}o(kmt,"baseIsMap");d8e.exports=kmt});var y8e=V((zGr,g8e)=>{m();g();var Bmt=h8e(),Pmt=IM(),p8e=TM(),m8e=p8e&&p8e.isMap,Lmt=m8e?Pmt(m8e):Bmt;g8e.exports=Lmt});var x8e=V((WGr,b8e)=>{m();g();var Dmt=OM(),Umt=AM(),Hmt="[object Set]";function Fmt(t){return Umt(t)&&Dmt(t)==Hmt}o(Fmt,"baseIsSet");b8e.exports=Fmt});var S8e=V((JGr,w8e)=>{m();g();var qmt=x8e(),Vmt=IM(),v8e=TM(),_8e=v8e&&v8e.isSet,jmt=_8e?Vmt(_8e):qmt;w8e.exports=jmt});var R8e=V((t$r,T8e)=>{m();g();var Kmt=gRe(),zmt=q4e(),Gmt=yRe(),$mt=j4e(),Wmt=z4e(),Ymt=vRe(),Xmt=_Re(),Zmt=$4e(),Jmt=X4e(),Qmt=IRe(),egt=J4e(),tgt=OM(),rgt=e8e(),ngt=l8e(),igt=RRe(),ogt=bRe(),sgt=xRe(),agt=y8e(),cgt=mRe(),fgt=S8e(),ugt=DW(),lgt=RM(),dgt=1,hgt=2,pgt=4,E8e="[object Arguments]",mgt="[object Array]",ggt="[object Boolean]",ygt="[object Date]",bgt="[object Error]",A8e="[object Function]",xgt="[object GeneratorFunction]",vgt="[object Map]",_gt="[object Number]",I8e="[object Object]",wgt="[object RegExp]",Sgt="[object Set]",Egt="[object String]",Agt="[object Symbol]",Igt="[object WeakMap]",Tgt="[object ArrayBuffer]",Rgt="[object DataView]",Ogt="[object Float32Array]",Ngt="[object Float64Array]",Mgt="[object Int8Array]",Cgt="[object Int16Array]",kgt="[object Int32Array]",Bgt="[object Uint8Array]",Pgt="[object Uint8ClampedArray]",Lgt="[object Uint16Array]",Dgt="[object Uint32Array]",Qn={};Qn[E8e]=Qn[mgt]=Qn[Tgt]=Qn[Rgt]=Qn[ggt]=Qn[ygt]=Qn[Ogt]=Qn[Ngt]=Qn[Mgt]=Qn[Cgt]=Qn[kgt]=Qn[vgt]=Qn[_gt]=Qn[I8e]=Qn[wgt]=Qn[Sgt]=Qn[Egt]=Qn[Agt]=Qn[Bgt]=Qn[Pgt]=Qn[Lgt]=Qn[Dgt]=!0;Qn[bgt]=Qn[A8e]=Qn[Igt]=!1;function QO(t,e,r,n,i,s){var a,f=e&dgt,l=e&hgt,h=e&pgt;if(r&&(a=i?r(t,n,i,s):r(t)),a!==void 0)return a;if(!cgt(t))return t;var b=ogt(t);if(b){if(a=rgt(t),!f)return Xmt(t,a)}else{var y=tgt(t),E=y==A8e||y==xgt;if(sgt(t))return Ymt(t,f);if(y==I8e||y==E8e||E&&!i){if(a=l||E?{}:igt(t),!f)return l?Jmt(t,Wmt(a,t)):Zmt(t,$mt(a,t))}else{if(!Qn[y])return i?t:{};a=ngt(t,y,f)}}s||(s=new Kmt);var I=s.get(t);if(I)return I;s.set(t,a),fgt(t)?t.forEach(function(k){a.add(QO(k,e,r,k,t,s))}):agt(t)&&t.forEach(function(k,C){a.set(C,QO(k,e,r,C,t,s))});var O=h?l?egt:Qmt:l?lgt:ugt,N=b?void 0:O(t);return zmt(N||t,function(k,C){N&&(C=k,k=t[C]),Gmt(a,C,QO(k,e,r,C,t,s))}),a}o(QO,"baseClone");T8e.exports=QO});var Vgt=V((o$r,O8e)=>{m();g();var Ugt=R8e(),Hgt=1,Fgt=4;function qgt(t){return Ugt(t,Hgt|Fgt)}o(qgt,"cloneDeep");O8e.exports=qgt});var KN=V((DYr,Z5e)=>{"use strict";m();g();var Y5e=H4(),X5e=V_(),Lyt=X5e(Y5e("String.prototype.indexOf"));Z5e.exports=o(function(e,r){var n=Y5e(e,!!r);return typeof n=="function"&&Lyt(e,".prototype.")>-1?X5e(n):n},"callBoundIntrinsic")});var eIe=V((qYr,Q5e)=>{"use strict";m();g();var Dyt=j4()(),Uyt=KN(),c$=Uyt("Object.prototype.toString"),zN=o(function(e){return Dyt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:c$(e)==="[object Arguments]"},"isArguments"),J5e=o(function(e){return zN(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&c$(e)!=="[object Array]"&&c$(e.callee)==="[object Function]"},"isArguments"),Hyt=function(){return zN(arguments)}();zN.isLegacyArguments=J5e;Q5e.exports=Hyt?zN:J5e});var nIe=V((zYr,rIe)=>{"use strict";m();g();var Fyt=Object.prototype.toString,qyt=Function.prototype.toString,Vyt=/^\s*(?:function)?\*/,tIe=j4()(),f$=Object.getPrototypeOf,jyt=o(function(){if(!tIe)return!1;try{return Function("return function*() {}")()}catch{}},"getGeneratorFunc"),u$;rIe.exports=o(function(e){if(typeof e!="function")return!1;if(Vyt.test(qyt.call(e)))return!0;if(!tIe){var r=Fyt.call(e);return r==="[object GeneratorFunction]"}if(!f$)return!1;if(typeof u$>"u"){var n=jyt();u$=n?f$(n):!1}return f$(e)===u$},"isGeneratorFunction")});var yIe=V(Ur=>{"use strict";m();g();var Kyt=eIe(),zyt=nIe(),xl=oP(),iIe=sP();function T2(t){return t.call.bind(t)}o(T2,"uncurryThis");var oIe=typeof BigInt<"u",sIe=typeof Symbol<"u",mu=T2(Object.prototype.toString),Gyt=T2(Number.prototype.valueOf),$yt=T2(String.prototype.valueOf),Wyt=T2(Boolean.prototype.valueOf);oIe&&(aIe=T2(BigInt.prototype.valueOf));var aIe;sIe&&(cIe=T2(Symbol.prototype.valueOf));var cIe;function w3(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}o(w3,"checkBoxedPrimitive");Ur.isArgumentsObject=Kyt;Ur.isGeneratorFunction=zyt;Ur.isTypedArray=iIe;function Yyt(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}o(Yyt,"isPromise");Ur.isPromise=Yyt;function Xyt(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):iIe(t)||uIe(t)}o(Xyt,"isArrayBufferView");Ur.isArrayBufferView=Xyt;function Zyt(t){return xl(t)==="Uint8Array"}o(Zyt,"isUint8Array");Ur.isUint8Array=Zyt;function Jyt(t){return xl(t)==="Uint8ClampedArray"}o(Jyt,"isUint8ClampedArray");Ur.isUint8ClampedArray=Jyt;function Qyt(t){return xl(t)==="Uint16Array"}o(Qyt,"isUint16Array");Ur.isUint16Array=Qyt;function ebt(t){return xl(t)==="Uint32Array"}o(ebt,"isUint32Array");Ur.isUint32Array=ebt;function tbt(t){return xl(t)==="Int8Array"}o(tbt,"isInt8Array");Ur.isInt8Array=tbt;function rbt(t){return xl(t)==="Int16Array"}o(rbt,"isInt16Array");Ur.isInt16Array=rbt;function nbt(t){return xl(t)==="Int32Array"}o(nbt,"isInt32Array");Ur.isInt32Array=nbt;function ibt(t){return xl(t)==="Float32Array"}o(ibt,"isFloat32Array");Ur.isFloat32Array=ibt;function obt(t){return xl(t)==="Float64Array"}o(obt,"isFloat64Array");Ur.isFloat64Array=obt;function sbt(t){return xl(t)==="BigInt64Array"}o(sbt,"isBigInt64Array");Ur.isBigInt64Array=sbt;function abt(t){return xl(t)==="BigUint64Array"}o(abt,"isBigUint64Array");Ur.isBigUint64Array=abt;function GN(t){return mu(t)==="[object Map]"}o(GN,"isMapToString");GN.working=typeof Map<"u"&&GN(new Map);function cbt(t){return typeof Map>"u"?!1:GN.working?GN(t):t instanceof Map}o(cbt,"isMap");Ur.isMap=cbt;function $N(t){return mu(t)==="[object Set]"}o($N,"isSetToString");$N.working=typeof Set<"u"&&$N(new Set);function fbt(t){return typeof Set>"u"?!1:$N.working?$N(t):t instanceof Set}o(fbt,"isSet");Ur.isSet=fbt;function WN(t){return mu(t)==="[object WeakMap]"}o(WN,"isWeakMapToString");WN.working=typeof WeakMap<"u"&&WN(new WeakMap);function ubt(t){return typeof WeakMap>"u"?!1:WN.working?WN(t):t instanceof WeakMap}o(ubt,"isWeakMap");Ur.isWeakMap=ubt;function d$(t){return mu(t)==="[object WeakSet]"}o(d$,"isWeakSetToString");d$.working=typeof WeakSet<"u"&&d$(new WeakSet);function lbt(t){return d$(t)}o(lbt,"isWeakSet");Ur.isWeakSet=lbt;function YN(t){return mu(t)==="[object ArrayBuffer]"}o(YN,"isArrayBufferToString");YN.working=typeof ArrayBuffer<"u"&&YN(new ArrayBuffer);function fIe(t){return typeof ArrayBuffer>"u"?!1:YN.working?YN(t):t instanceof ArrayBuffer}o(fIe,"isArrayBuffer");Ur.isArrayBuffer=fIe;function XN(t){return mu(t)==="[object DataView]"}o(XN,"isDataViewToString");XN.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&XN(new DataView(new ArrayBuffer(1),0,1));function uIe(t){return typeof DataView>"u"?!1:XN.working?XN(t):t instanceof DataView}o(uIe,"isDataView");Ur.isDataView=uIe;var l$=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function _3(t){return mu(t)==="[object SharedArrayBuffer]"}o(_3,"isSharedArrayBufferToString");function lIe(t){return typeof l$>"u"?!1:(typeof _3.working>"u"&&(_3.working=_3(new l$)),_3.working?_3(t):t instanceof l$)}o(lIe,"isSharedArrayBuffer");Ur.isSharedArrayBuffer=lIe;function dbt(t){return mu(t)==="[object AsyncFunction]"}o(dbt,"isAsyncFunction");Ur.isAsyncFunction=dbt;function hbt(t){return mu(t)==="[object Map Iterator]"}o(hbt,"isMapIterator");Ur.isMapIterator=hbt;function pbt(t){return mu(t)==="[object Set Iterator]"}o(pbt,"isSetIterator");Ur.isSetIterator=pbt;function mbt(t){return mu(t)==="[object Generator]"}o(mbt,"isGeneratorObject");Ur.isGeneratorObject=mbt;function gbt(t){return mu(t)==="[object WebAssembly.Module]"}o(gbt,"isWebAssemblyCompiledModule");Ur.isWebAssemblyCompiledModule=gbt;function dIe(t){return w3(t,Gyt)}o(dIe,"isNumberObject");Ur.isNumberObject=dIe;function hIe(t){return w3(t,$yt)}o(hIe,"isStringObject");Ur.isStringObject=hIe;function pIe(t){return w3(t,Wyt)}o(pIe,"isBooleanObject");Ur.isBooleanObject=pIe;function mIe(t){return oIe&&w3(t,aIe)}o(mIe,"isBigIntObject");Ur.isBigIntObject=mIe;function gIe(t){return sIe&&w3(t,cIe)}o(gIe,"isSymbolObject");Ur.isSymbolObject=gIe;function ybt(t){return dIe(t)||hIe(t)||pIe(t)||mIe(t)||gIe(t)}o(ybt,"isBoxedPrimitive");Ur.isBoxedPrimitive=ybt;function bbt(t){return typeof Uint8Array<"u"&&(fIe(t)||lIe(t))}o(bbt,"isAnyArrayBuffer");Ur.isAnyArrayBuffer=bbt;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Ur,t,{enumerable:!1,value:o(function(){throw new Error(t+" is not supported in userland")},"value")})})});var xIe=V((QYr,bIe)=>{m();g();bIe.exports=o(function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},"isBuffer")});var O2=V(Hr=>{m();g();var vIe=Object.getOwnPropertyDescriptors||o(function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},"getOwnPropertyDescriptors"),xbt=/%[sdj%]/g;Hr.format=function(t){if(!nM(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Jm(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(xbt,function(f){if(f==="%%")return"%";if(r>=i)return f;switch(f){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return f}}),a=n[r];r<i;a=n[++r])rM(a)||!R2(a)?s+=" "+a:s+=" "+Jm(a);return s};Hr.deprecate=function(t,e){if(typeof process<"u"&&process.noDeprecation===!0)return t;if(typeof process>"u")return function(){return Hr.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return o(n,"deprecated"),n};var ZN={},_Ie=/^$/;R.NODE_DEBUG&&(JN=R.NODE_DEBUG,JN=JN.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),_Ie=new RegExp("^"+JN+"$","i"));var JN;Hr.debuglog=function(t){if(t=t.toUpperCase(),!ZN[t])if(_Ie.test(t)){var e=process.pid;ZN[t]=function(){var r=Hr.format.apply(Hr,arguments);console.error("%s %d: %s",t,e,r)}}else ZN[t]=function(){};return ZN[t]};function Jm(t,e){var r={seen:[],stylize:_bt};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g$(e)?r.showHidden=e:e&&Hr._extend(r,e),Ny(r.showHidden)&&(r.showHidden=!1),Ny(r.depth)&&(r.depth=2),Ny(r.colors)&&(r.colors=!1),Ny(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=vbt),eM(r,t,r.depth)}o(Jm,"inspect");Hr.inspect=Jm;Jm.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Jm.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function vbt(t,e){var r=Jm.styles[e];return r?"\x1B["+Jm.colors[r][0]+"m"+t+"\x1B["+Jm.colors[r][1]+"m":t}o(vbt,"stylizeWithColor");function _bt(t,e){return t}o(_bt,"stylizeNoColor");function wbt(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}o(wbt,"arrayToHash");function eM(t,e,r){if(t.customInspect&&e&&QN(e.inspect)&&e.inspect!==Hr.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return nM(n)||(n=eM(t,n,r)),n}var i=Sbt(t,e);if(i)return i;var s=Object.keys(e),a=wbt(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),E3(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h$(e);if(s.length===0){if(QN(e)){var f=e.name?": "+e.name:"";return t.stylize("[Function"+f+"]","special")}if(S3(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(tM(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E3(e))return h$(e)}var l="",h=!1,b=["{","}"];if(wIe(e)&&(h=!0,b=["[","]"]),QN(e)){var y=e.name?": "+e.name:"";l=" [Function"+y+"]"}if(S3(e)&&(l=" "+RegExp.prototype.toString.call(e)),tM(e)&&(l=" "+Date.prototype.toUTCString.call(e)),E3(e)&&(l=" "+h$(e)),s.length===0&&(!h||e.length==0))return b[0]+l+b[1];if(r<0)return S3(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return h?E=Ebt(t,e,r,a,s):E=s.map(function(I){return m$(t,e,r,a,I,h)}),t.seen.pop(),Abt(E,l,b)}o(eM,"formatValue");function Sbt(t,e){if(Ny(e))return t.stylize("undefined","undefined");if(nM(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(SIe(e))return t.stylize(""+e,"number");if(g$(e))return t.stylize(""+e,"boolean");if(rM(e))return t.stylize("null","null")}o(Sbt,"formatPrimitive");function h$(t){return"["+Error.prototype.toString.call(t)+"]"}o(h$,"formatError");function Ebt(t,e,r,n,i){for(var s=[],a=0,f=e.length;a<f;++a)EIe(e,String(a))?s.push(m$(t,e,r,n,String(a),!0)):s.push("");return i.forEach(function(l){l.match(/^\d+$/)||s.push(m$(t,e,r,n,l,!0))}),s}o(Ebt,"formatArray");function m$(t,e,r,n,i,s){var a,f,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?f=t.stylize("[Getter/Setter]","special"):f=t.stylize("[Getter]","special"):l.set&&(f=t.stylize("[Setter]","special")),EIe(n,i)||(a="["+i+"]"),f||(t.seen.indexOf(l.value)<0?(rM(r)?f=eM(t,l.value,null):f=eM(t,l.value,r-1),f.indexOf(`
`)>-1&&(s?f=f.split(`
`).map(function(h){return"  "+h}).join(`
`).slice(2):f=`
`+f.split(`
`).map(function(h){return"   "+h}).join(`
`))):f=t.stylize("[Circular]","special")),Ny(a)){if(s&&i.match(/^\d+$/))return f;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+f}o(m$,"formatProperty");function Abt(t,e,r){var n=0,i=t.reduce(function(s,a){return n++,a.indexOf(`
`)>=0&&n++,s+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}o(Abt,"reduceToSingleString");Hr.types=yIe();function wIe(t){return Array.isArray(t)}o(wIe,"isArray");Hr.isArray=wIe;function g$(t){return typeof t=="boolean"}o(g$,"isBoolean");Hr.isBoolean=g$;function rM(t){return t===null}o(rM,"isNull");Hr.isNull=rM;function Ibt(t){return t==null}o(Ibt,"isNullOrUndefined");Hr.isNullOrUndefined=Ibt;function SIe(t){return typeof t=="number"}o(SIe,"isNumber");Hr.isNumber=SIe;function nM(t){return typeof t=="string"}o(nM,"isString");Hr.isString=nM;function Tbt(t){return typeof t=="symbol"}o(Tbt,"isSymbol");Hr.isSymbol=Tbt;function Ny(t){return t===void 0}o(Ny,"isUndefined");Hr.isUndefined=Ny;function S3(t){return R2(t)&&y$(t)==="[object RegExp]"}o(S3,"isRegExp");Hr.isRegExp=S3;Hr.types.isRegExp=S3;function R2(t){return typeof t=="object"&&t!==null}o(R2,"isObject");Hr.isObject=R2;function tM(t){return R2(t)&&y$(t)==="[object Date]"}o(tM,"isDate");Hr.isDate=tM;Hr.types.isDate=tM;function E3(t){return R2(t)&&(y$(t)==="[object Error]"||t instanceof Error)}o(E3,"isError");Hr.isError=E3;Hr.types.isNativeError=E3;function QN(t){return typeof t=="function"}o(QN,"isFunction");Hr.isFunction=QN;function Rbt(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}o(Rbt,"isPrimitive");Hr.isPrimitive=Rbt;Hr.isBuffer=xIe();function y$(t){return Object.prototype.toString.call(t)}o(y$,"objectToString");function p$(t){return t<10?"0"+t.toString(10):t.toString(10)}o(p$,"pad");var Obt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Nbt(){var t=new Date,e=[p$(t.getHours()),p$(t.getMinutes()),p$(t.getSeconds())].join(":");return[t.getDate(),Obt[t.getMonth()],e].join(" ")}o(Nbt,"timestamp");Hr.log=function(){console.log("%s - %s",Nbt(),Hr.format.apply(Hr,arguments))};Hr.inherits=hr();Hr._extend=function(t,e){if(!e||!R2(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function EIe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}o(EIe,"hasOwnProperty");var Oy=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Hr.promisify=o(function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Oy&&e[Oy]){var r=e[Oy];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Oy,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,s=new Promise(function(l,h){n=l,i=h}),a=[],f=0;f<arguments.length;f++)a.push(arguments[f]);a.push(function(l,h){l?i(l):n(h)});try{e.apply(this,a)}catch(l){i(l)}return s}return o(r,"fn"),Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Oy&&Object.defineProperty(r,Oy,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,vIe(e))},"promisify");Hr.promisify.custom=Oy;function Mbt(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}o(Mbt,"callbackifyOnRejected");function Cbt(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,a=o(function(){return i.apply(s,arguments)},"cb");t.apply(this,r).then(function(f){process.nextTick(a.bind(null,null,f))},function(f){process.nextTick(Mbt.bind(null,f,a))})}return o(e,"callbackified"),Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,vIe(t)),e}o(Cbt,"callbackify");Hr.callbackify=Cbt});var v$=V((aXr,RIe)=>{"use strict";m();g();function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}o(Qm,"_typeof");function AIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bbt(n.key),n)}}o(AIe,"_defineProperties");function kbt(t,e,r){return e&&AIe(t.prototype,e),r&&AIe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}o(kbt,"_createClass");function Bbt(t){var e=Pbt(t,"string");return Qm(e)==="symbol"?e:String(e)}o(Bbt,"_toPropertyKey");function Pbt(t,e){if(Qm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(Pbt,"_toPrimitive");function Lbt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(Lbt,"_classCallCheck");function Dbt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x$(t,e)}o(Dbt,"_inherits");function x$(t,e){return x$=Object.setPrototypeOf?Object.setPrototypeOf.bind():o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),x$(t,e)}o(x$,"_setPrototypeOf");function Ubt(t){var e=qbt();return o(function(){var n=iM(t),i;if(e){var s=iM(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Hbt(this,i)},"_createSuperInternal")}o(Ubt,"_createSuper");function Hbt(t,e){if(e&&(Qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fbt(t)}o(Hbt,"_possibleConstructorReturn");function Fbt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o(Fbt,"_assertThisInitialized");function qbt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}o(qbt,"_isNativeReflectConstruct");function iM(t){return iM=Object.setPrototypeOf?Object.getPrototypeOf.bind():o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),iM(t)}o(iM,"_getPrototypeOf");var TIe={},N2,b$;function A3(t,e,r){r||(r=Error);function n(s,a,f){return typeof e=="string"?e:e(s,a,f)}o(n,"getMessage");var i=function(s){Dbt(f,s);var a=Ubt(f);function f(l,h,b){var y;return Lbt(this,f),y=a.call(this,n(l,h,b)),y.code=t,y}return o(f,"NodeError"),kbt(f)}(r);TIe[t]=i}o(A3,"createErrorType");function IIe(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(IIe,"oneOf");function Vbt(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(Vbt,"startsWith");function jbt(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(jbt,"endsWith");function Kbt(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(Kbt,"includes");A3("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);A3("ERR_INVALID_ARG_TYPE",function(t,e,r){N2===void 0&&(N2=_$()),N2(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&Vbt(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(jbt(t," argument"))i="The ".concat(t," ").concat(n," ").concat(IIe(e,"type"));else{var s=Kbt(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(IIe(e,"type"))}return i+=". Received type ".concat(Qm(r)),i},TypeError);A3("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";b$===void 0&&(b$=O2());var n=b$.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);A3("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(Qm(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);A3("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];N2===void 0&&(N2=_$()),N2(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);RIe.exports.codes=TIe});var UIe=V((lXr,DIe)=>{"use strict";m();g();function OIe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}o(OIe,"ownKeys");function NIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OIe(Object(r),!0).forEach(function(n){zbt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OIe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}o(NIe,"_objectSpread");function zbt(t,e,r){return e=BIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(zbt,"_defineProperty");function Gbt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(Gbt,"_classCallCheck");function MIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BIe(n.key),n)}}o(MIe,"_defineProperties");function $bt(t,e,r){return e&&MIe(t.prototype,e),r&&MIe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}o($bt,"_createClass");function BIe(t){var e=Wbt(t,"string");return Cc(e)==="symbol"?e:String(e)}o(BIe,"_toPropertyKey");function Wbt(t,e){if(Cc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(Wbt,"_toPrimitive");function Ybt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O3(t,e)}o(Ybt,"_inherits");function Xbt(t){var e=LIe();return o(function(){var n=N3(t),i;if(e){var s=N3(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return PIe(this,i)},"_createSuperInternal")}o(Xbt,"_createSuper");function PIe(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w$(t)}o(PIe,"_possibleConstructorReturn");function w$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o(w$,"_assertThisInitialized");function S$(t){var e=typeof Map=="function"?new Map:void 0;return S$=o(function(n){if(n===null||!Zbt(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return oM(n,arguments,N3(this).constructor)}return o(i,"Wrapper"),i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),O3(i,n)},"_wrapNativeSuper"),S$(t)}o(S$,"_wrapNativeSuper");function oM(t,e,r){return LIe()?oM=Reflect.construct.bind():oM=o(function(i,s,a){var f=[null];f.push.apply(f,s);var l=Function.bind.apply(i,f),h=new l;return a&&O3(h,a.prototype),h},"_construct"),oM.apply(null,arguments)}o(oM,"_construct");function LIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}o(LIe,"_isNativeReflectConstruct");function Zbt(t){return Function.toString.call(t).indexOf("[native code]")!==-1}o(Zbt,"_isNativeFunction");function O3(t,e){return O3=Object.setPrototypeOf?Object.setPrototypeOf.bind():o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),O3(t,e)}o(O3,"_setPrototypeOf");function N3(t){return N3=Object.setPrototypeOf?Object.getPrototypeOf.bind():o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),N3(t)}o(N3,"_getPrototypeOf");function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}o(Cc,"_typeof");var Jbt=O2(),E$=Jbt.inspect,Qbt=v$(),ext=Qbt.codes.ERR_INVALID_ARG_TYPE;function CIe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(CIe,"endsWith");function txt(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}o(txt,"repeat");var vl="",I3="",T3="",Ns="",My={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},rxt=10;function kIe(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}o(kIe,"copyError");function R3(t){return E$(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}o(R3,"inspectValue");function nxt(t,e,r){var n="",i="",s=0,a="",f=!1,l=R3(t),h=l.split(`
`),b=R3(e).split(`
`),y=0,E="";if(r==="strictEqual"&&Cc(t)==="object"&&Cc(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),h.length===1&&b.length===1&&h[0]!==b[0]){var I=h[0].length+b[0].length;if(I<=rxt){if((Cc(t)!=="object"||t===null)&&(Cc(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(My[r],`

`)+"".concat(h[0]," !== ").concat(b[0],`
`)}else if(r!=="strictEqualObject"){var O=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(I<O){for(;h[0][y]===b[0][y];)y++;y>2&&(E=`
  `.concat(txt(" ",y),"^"),y=0)}}}for(var N=h[h.length-1],k=b[b.length-1];N===k&&(y++<2?a=`
  `.concat(N).concat(a):n=N,h.pop(),b.pop(),!(h.length===0||b.length===0));)N=h[h.length-1],k=b[b.length-1];var C=Math.max(h.length,b.length);if(C===0){var L=l.split(`
`);if(L.length>30)for(L[26]="".concat(vl,"...").concat(Ns);L.length>27;)L.pop();return"".concat(My.notIdentical,`

`).concat(L.join(`
`),`
`)}y>3&&(a=`
`.concat(vl,"...").concat(Ns).concat(a),f=!0),n!==""&&(a=`
  `.concat(n).concat(a),n="");var M=0,U=My[r]+`
`.concat(I3,"+ actual").concat(Ns," ").concat(T3,"- expected").concat(Ns),q=" ".concat(vl,"...").concat(Ns," Lines skipped");for(y=0;y<C;y++){var j=y-s;if(h.length<y+1)j>1&&y>2&&(j>4?(i+=`
`.concat(vl,"...").concat(Ns),f=!0):j>3&&(i+=`
  `.concat(b[y-2]),M++),i+=`
  `.concat(b[y-1]),M++),s=y,n+=`
`.concat(T3,"-").concat(Ns," ").concat(b[y]),M++;else if(b.length<y+1)j>1&&y>2&&(j>4?(i+=`
`.concat(vl,"...").concat(Ns),f=!0):j>3&&(i+=`
  `.concat(h[y-2]),M++),i+=`
  `.concat(h[y-1]),M++),s=y,i+=`
`.concat(I3,"+").concat(Ns," ").concat(h[y]),M++;else{var re=b[y],Y=h[y],X=Y!==re&&(!CIe(Y,",")||Y.slice(0,-1)!==re);X&&CIe(re,",")&&re.slice(0,-1)===Y&&(X=!1,Y+=","),X?(j>1&&y>2&&(j>4?(i+=`
`.concat(vl,"...").concat(Ns),f=!0):j>3&&(i+=`
  `.concat(h[y-2]),M++),i+=`
  `.concat(h[y-1]),M++),s=y,i+=`
`.concat(I3,"+").concat(Ns," ").concat(Y),n+=`
`.concat(T3,"-").concat(Ns," ").concat(re),M+=2):(i+=n,n="",(j===1||y===0)&&(i+=`
  `.concat(Y),M++))}if(M>20&&y<C-2)return"".concat(U).concat(q,`
`).concat(i,`
`).concat(vl,"...").concat(Ns).concat(n,`
`)+"".concat(vl,"...").concat(Ns)}return"".concat(U).concat(f?q:"",`
`).concat(i).concat(n).concat(a).concat(E)}o(nxt,"createErrDiff");var ixt=function(t,e){Ybt(n,t);var r=Xbt(n);function n(i){var s;if(Gbt(this,n),Cc(i)!=="object"||i===null)throw new ext("options","Object",i);var a=i.message,f=i.operator,l=i.stackStartFn,h=i.actual,b=i.expected,y=Error.stackTraceLimit;if(Error.stackTraceLimit=0,a!=null)s=r.call(this,String(a));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(vl="\x1B[34m",I3="\x1B[32m",Ns="\x1B[39m",T3="\x1B[31m"):(vl="",I3="",Ns="",T3="")),Cc(h)==="object"&&h!==null&&Cc(b)==="object"&&b!==null&&"stack"in h&&h instanceof Error&&"stack"in b&&b instanceof Error&&(h=kIe(h),b=kIe(b)),f==="deepStrictEqual"||f==="strictEqual")s=r.call(this,nxt(h,b,f));else if(f==="notDeepStrictEqual"||f==="notStrictEqual"){var E=My[f],I=R3(h).split(`
`);if(f==="notStrictEqual"&&Cc(h)==="object"&&h!==null&&(E=My.notStrictEqualObject),I.length>30)for(I[26]="".concat(vl,"...").concat(Ns);I.length>27;)I.pop();I.length===1?s=r.call(this,"".concat(E," ").concat(I[0])):s=r.call(this,"".concat(E,`

`).concat(I.join(`
`),`
`))}else{var O=R3(h),N="",k=My[f];f==="notDeepEqual"||f==="notEqual"?(O="".concat(My[f],`

`).concat(O),O.length>1024&&(O="".concat(O.slice(0,1021),"..."))):(N="".concat(R3(b)),O.length>512&&(O="".concat(O.slice(0,509),"...")),N.length>512&&(N="".concat(N.slice(0,509),"...")),f==="deepEqual"||f==="equal"?O="".concat(k,`

`).concat(O,`

should equal

`):N=" ".concat(f," ").concat(N)),s=r.call(this,"".concat(O).concat(N))}return Error.stackTraceLimit=y,s.generatedMessage=!a,Object.defineProperty(w$(s),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),s.code="ERR_ASSERTION",s.actual=h,s.expected=b,s.operator=f,Error.captureStackTrace&&Error.captureStackTrace(w$(s),l),s.stack,s.name="AssertionError",PIe(s)}return o(n,"AssertionError"),$bt(n,[{key:"toString",value:o(function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)},"toString")},{key:e,value:o(function(s,a){return E$(this,NIe(NIe({},a),{},{customInspect:!1,depth:0}))},"value")}]),n}(S$(Error),E$.custom);DIe.exports=ixt});var A$=V((mXr,FIe)=>{"use strict";m();g();var HIe=Object.prototype.toString;FIe.exports=o(function(e){var r=HIe.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&HIe.call(e.callee)==="[object Function]"),n},"isArguments")});var YIe=V((xXr,WIe)=>{"use strict";m();g();var $Ie;Object.keys||(M3=Object.prototype.hasOwnProperty,I$=Object.prototype.toString,qIe=A$(),T$=Object.prototype.propertyIsEnumerable,VIe=!T$.call({toString:null},"toString"),jIe=T$.call(function(){},"prototype"),C3=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],sM=o(function(t){var e=t.constructor;return e&&e.prototype===t},"equalsConstructorPrototype"),KIe={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},zIe=function(){if(typeof self>"u")return!1;for(var t in self)try{if(!KIe["$"+t]&&M3.call(self,t)&&self[t]!==null&&typeof self[t]=="object")try{sM(self[t])}catch{return!0}}catch{return!0}return!1}(),GIe=o(function(t){if(typeof self>"u"||!zIe)return sM(t);try{return sM(t)}catch{return!1}},"equalsConstructorPrototypeIfNotBuggy"),$Ie=o(function(e){var r=e!==null&&typeof e=="object",n=I$.call(e)==="[object Function]",i=qIe(e),s=r&&I$.call(e)==="[object String]",a=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var f=jIe&&n;if(s&&e.length>0&&!M3.call(e,0))for(var l=0;l<e.length;++l)a.push(String(l));if(i&&e.length>0)for(var h=0;h<e.length;++h)a.push(String(h));else for(var b in e)!(f&&b==="prototype")&&M3.call(e,b)&&a.push(String(b));if(VIe)for(var y=GIe(e),E=0;E<C3.length;++E)!(y&&C3[E]==="constructor")&&M3.call(e,C3[E])&&a.push(C3[E]);return a},"keys"));var M3,I$,qIe,T$,VIe,jIe,C3,sM,KIe,zIe,GIe;WIe.exports=$Ie});var R$=V((SXr,JIe)=>{"use strict";m();g();var oxt=Array.prototype.slice,sxt=A$(),XIe=Object.keys,aM=XIe?o(function(e){return XIe(e)},"keys"):YIe(),ZIe=Object.keys;aM.shim=o(function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=o(function(n){return sxt(n)?ZIe(oxt.call(n)):ZIe(n)},"keys"))}else Object.keys=aM;return Object.keys||aM},"shimObjectKeys");JIe.exports=aM});var iTe=V((TXr,nTe)=>{"use strict";m();g();var axt=R$(),tTe=k4()(),rTe=KN(),QIe=Object,cxt=rTe("Array.prototype.push"),eTe=rTe("Object.prototype.propertyIsEnumerable"),fxt=tTe?Object.getOwnPropertySymbols:null;nTe.exports=o(function(e,r){if(e==null)throw new TypeError("target must be an object");var n=QIe(e);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var s=QIe(arguments[i]),a=axt(s),f=tTe&&(Object.getOwnPropertySymbols||fxt);if(f)for(var l=f(s),h=0;h<l.length;++h){var b=l[h];eTe(s,b)&&cxt(a,b)}for(var y=0;y<a.length;++y){var E=a[y];if(eTe(s,E)){var I=s[E];n[E]=I}}}return n},"assign")});var sTe=V((MXr,oTe)=>{"use strict";m();g();var O$=iTe(),uxt=o(function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),s="";for(var a in i)s+=a;return t!==s},"lacksProperEnumerationOrder"),lxt=o(function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},"assignHasPendingExceptions");oTe.exports=o(function(){return!Object.assign||uxt()||lxt()?O$:Object.assign},"getPolyfill")});var N$=V((PXr,cTe)=>{"use strict";m();g();var aTe=o(function(t){return t!==t},"numberIsNaN");cTe.exports=o(function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||aTe(e)&&aTe(r))},"is")});var cM=V((HXr,fTe)=>{"use strict";m();g();var dxt=N$();fTe.exports=o(function(){return typeof Object.is=="function"?Object.is:dxt},"getPolyfill")});var k3=V((jXr,hTe)=>{"use strict";m();g();var hxt=R$(),pxt=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",mxt=Object.prototype.toString,gxt=Array.prototype.concat,uTe=QB(),yxt=o(function(t){return typeof t=="function"&&mxt.call(t)==="[object Function]"},"isFunction"),lTe=tP()(),bxt=o(function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!yxt(n)||!n())return}lTe?uTe(t,e,r,!0):uTe(t,e,r)},"defineProperty"),dTe=o(function(t,e){var r=arguments.length>2?arguments[2]:{},n=hxt(e);pxt&&(n=gxt.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)bxt(t,n[i],e[n[i]],r[n[i]])},"defineProperties");dTe.supportsDescriptors=!!lTe;hTe.exports=dTe});var mTe=V(($Xr,pTe)=>{"use strict";m();g();var xxt=cM(),vxt=k3();pTe.exports=o(function(){var e=xxt();return vxt(Object,{is:e},{is:o(function(){return Object.is!==e},"testObjectIs")}),e},"shimObjectIs")});var xTe=V((ZXr,bTe)=>{"use strict";m();g();var _xt=k3(),wxt=V_(),Sxt=N$(),gTe=cM(),Ext=mTe(),yTe=wxt(gTe(),Object);_xt(yTe,{getPolyfill:gTe,implementation:Sxt,shim:Ext});bTe.exports=yTe});var M$=V((eZr,vTe)=>{"use strict";m();g();vTe.exports=o(function(e){return e!==e},"isNaN")});var C$=V((iZr,_Te)=>{"use strict";m();g();var Axt=M$();_Te.exports=o(function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:Axt},"getPolyfill")});var STe=V((cZr,wTe)=>{"use strict";m();g();var Ixt=k3(),Txt=C$();wTe.exports=o(function(){var e=Txt();return Ixt(Number,{isNaN:e},{isNaN:o(function(){return Number.isNaN!==e},"testIsNaN")}),e},"shimNumberIsNaN")});var TTe=V((dZr,ITe)=>{"use strict";m();g();var Rxt=V_(),Oxt=k3(),Nxt=M$(),ETe=C$(),Mxt=STe(),ATe=Rxt(ETe(),Number);Oxt(ATe,{getPolyfill:ETe,implementation:Nxt,shim:Mxt});ITe.exports=ATe});var $Te=V((mZr,GTe)=>{"use strict";m();g();function RTe(t,e){return Pxt(t)||Bxt(t,e)||kxt(t,e)||Cxt()}o(RTe,"_slicedToArray");function Cxt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(Cxt,"_nonIterableRest");function kxt(t,e){if(t){if(typeof t=="string")return OTe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OTe(t,e)}}o(kxt,"_unsupportedIterableToArray");function OTe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}o(OTe,"_arrayLikeToArray");function Bxt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,f=[],l=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(f.push(n.value),f.length!==e);l=!0);}catch(b){h=!0,i=b}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return f}}o(Bxt,"_iterableToArrayLimit");function Pxt(t){if(Array.isArray(t))return t}o(Pxt,"_arrayWithHoles");function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}o(gu,"_typeof");var Lxt=/a/g.flags!==void 0,mM=o(function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},"arrayFromSet"),NTe=o(function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},"arrayFromMap"),qTe=Object.is?Object.is:xTe(),hM=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},k$=Number.isNaN?Number.isNaN:TTe();function P$(t){return t.call.bind(t)}o(P$,"uncurryThis");var P3=P$(Object.prototype.hasOwnProperty),pM=P$(Object.prototype.propertyIsEnumerable),MTe=P$(Object.prototype.toString),Ya=O2().types,Dxt=Ya.isAnyArrayBuffer,Uxt=Ya.isArrayBufferView,CTe=Ya.isDate,fM=Ya.isMap,kTe=Ya.isRegExp,uM=Ya.isSet,Hxt=Ya.isNativeError,Fxt=Ya.isBoxedPrimitive,BTe=Ya.isNumberObject,PTe=Ya.isStringObject,LTe=Ya.isBooleanObject,DTe=Ya.isBigIntObject,qxt=Ya.isSymbolObject,Vxt=Ya.isFloat32Array,jxt=Ya.isFloat64Array;function Kxt(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}o(Kxt,"isNonIndex");function lM(t){return Object.keys(t).filter(Kxt).concat(hM(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}o(lM,"getOwnNonIndexProperties");function VTe(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}o(VTe,"compare");var dM=void 0,zxt=!0,Gxt=!1,B$=0,L$=1,jTe=2,KTe=3;function $xt(t,e){return Lxt?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}o($xt,"areSimilarRegExps");function Wxt(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}o(Wxt,"areSimilarFloatArrays");function Yxt(t,e){return t.byteLength!==e.byteLength?!1:VTe(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}o(Yxt,"areSimilarTypedArrays");function Xxt(t,e){return t.byteLength===e.byteLength&&VTe(new Uint8Array(t),new Uint8Array(e))===0}o(Xxt,"areEqualArrayBuffers");function Zxt(t,e){return BTe(t)?BTe(e)&&qTe(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):PTe(t)?PTe(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):LTe(t)?LTe(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):DTe(t)?DTe(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):qxt(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}o(Zxt,"isEqualBoxedPrimitive");function yu(t,e,r,n){if(t===e)return t!==0?!0:r?qTe(t,e):!0;if(r){if(gu(t)!=="object")return typeof t=="number"&&k$(t)&&k$(e);if(gu(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||gu(t)!=="object")return e===null||gu(e)!=="object"?t==e:!1;if(e===null||gu(e)!=="object")return!1}var i=MTe(t),s=MTe(e);if(i!==s)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var a=lM(t,dM),f=lM(e,dM);return a.length!==f.length?!1:B3(t,e,r,n,L$,a)}if(i==="[object Object]"&&(!fM(t)&&fM(e)||!uM(t)&&uM(e)))return!1;if(CTe(t)){if(!CTe(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(kTe(t)){if(!kTe(e)||!$xt(t,e))return!1}else if(Hxt(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(Uxt(t)){if(!r&&(Vxt(t)||jxt(t))){if(!Wxt(t,e))return!1}else if(!Yxt(t,e))return!1;var l=lM(t,dM),h=lM(e,dM);return l.length!==h.length?!1:B3(t,e,r,n,B$,l)}else{if(uM(t))return!uM(e)||t.size!==e.size?!1:B3(t,e,r,n,jTe);if(fM(t))return!fM(e)||t.size!==e.size?!1:B3(t,e,r,n,KTe);if(Dxt(t)){if(!Xxt(t,e))return!1}else if(Fxt(t)&&!Zxt(t,e))return!1}return B3(t,e,r,n,B$)}o(yu,"innerDeepEqual");function UTe(t,e){return e.filter(function(r){return pM(t,r)})}o(UTe,"getEnumerables");function B3(t,e,r,n,i,s){if(arguments.length===5){s=Object.keys(t);var a=Object.keys(e);if(s.length!==a.length)return!1}for(var f=0;f<s.length;f++)if(!P3(e,s[f]))return!1;if(r&&arguments.length===5){var l=hM(t);if(l.length!==0){var h=0;for(f=0;f<l.length;f++){var b=l[f];if(pM(t,b)){if(!pM(e,b))return!1;s.push(b),h++}else if(pM(e,b))return!1}var y=hM(e);if(l.length!==y.length&&UTe(e,y).length!==h)return!1}else{var E=hM(e);if(E.length!==0&&UTe(e,E).length!==0)return!1}}if(s.length===0&&(i===B$||i===L$&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var I=n.val1.get(t);if(I!==void 0){var O=n.val2.get(e);if(O!==void 0)return I===O}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var N=rvt(t,e,r,s,n,i);return n.val1.delete(t),n.val2.delete(e),N}o(B3,"keyCheck");function HTe(t,e,r,n){for(var i=mM(t),s=0;s<i.length;s++){var a=i[s];if(yu(e,a,r,n))return t.delete(a),!0}return!1}o(HTe,"setHasEqualElement");function zTe(t){switch(gu(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(k$(t))return!1}return!0}o(zTe,"findLooseMatchingPrimitives");function Jxt(t,e,r){var n=zTe(r);return n??(e.has(n)&&!t.has(n))}o(Jxt,"setMightHaveLoosePrim");function Qxt(t,e,r,n,i){var s=zTe(r);if(s!=null)return s;var a=e.get(s);return a===void 0&&!e.has(s)||!yu(n,a,!1,i)?!1:!t.has(s)&&yu(n,a,!1,i)}o(Qxt,"mapMightHaveLoosePrim");function evt(t,e,r,n){for(var i=null,s=mM(t),a=0;a<s.length;a++){var f=s[a];if(gu(f)==="object"&&f!==null)i===null&&(i=new Set),i.add(f);else if(!e.has(f)){if(r||!Jxt(t,e,f))return!1;i===null&&(i=new Set),i.add(f)}}if(i!==null){for(var l=mM(e),h=0;h<l.length;h++){var b=l[h];if(gu(b)==="object"&&b!==null){if(!HTe(i,b,r,n))return!1}else if(!r&&!t.has(b)&&!HTe(i,b,r,n))return!1}return i.size===0}return!0}o(evt,"setEquiv");function FTe(t,e,r,n,i,s){for(var a=mM(t),f=0;f<a.length;f++){var l=a[f];if(yu(r,l,i,s)&&yu(n,e.get(l),i,s))return t.delete(l),!0}return!1}o(FTe,"mapHasEqualEntry");function tvt(t,e,r,n){for(var i=null,s=NTe(t),a=0;a<s.length;a++){var f=RTe(s[a],2),l=f[0],h=f[1];if(gu(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var b=e.get(l);if(b===void 0&&!e.has(l)||!yu(h,b,r,n)){if(r||!Qxt(t,e,l,h,n))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var y=NTe(e),E=0;E<y.length;E++){var I=RTe(y[E],2),O=I[0],N=I[1];if(gu(O)==="object"&&O!==null){if(!FTe(i,t,O,N,r,n))return!1}else if(!r&&(!t.has(O)||!yu(t.get(O),N,!1,n))&&!FTe(i,t,O,N,!1,n))return!1}return i.size===0}return!0}o(tvt,"mapEquiv");function rvt(t,e,r,n,i,s){var a=0;if(s===jTe){if(!evt(t,e,r,i))return!1}else if(s===KTe){if(!tvt(t,e,r,i))return!1}else if(s===L$)for(;a<t.length;a++)if(P3(t,a)){if(!P3(e,a)||!yu(t[a],e[a],r,i))return!1}else{if(P3(e,a))return!1;for(var f=Object.keys(t);a<f.length;a++){var l=f[a];if(!P3(e,l)||!yu(t[l],e[l],r,i))return!1}return f.length===Object.keys(e).length}for(a=0;a<n.length;a++){var h=n[a];if(!yu(t[h],e[h],r,i))return!1}return!0}o(rvt,"objEquiv");function nvt(t,e){return yu(t,e,Gxt)}o(nvt,"isDeepEqual");function ivt(t,e){return yu(t,e,zxt)}o(ivt,"isDeepStrictEqual");GTe.exports={isDeepEqual:nvt,isDeepStrictEqual:ivt}});var _$=V((xZr,lRe)=>{"use strict";m();g();function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}o(_l,"_typeof");function WTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,svt(n.key),n)}}o(WTe,"_defineProperties");function ovt(t,e,r){return e&&WTe(t.prototype,e),r&&WTe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}o(ovt,"_createClass");function svt(t){var e=avt(t,"string");return _l(e)==="symbol"?e:String(e)}o(svt,"_toPropertyKey");function avt(t,e){if(_l(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_l(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(avt,"_toPrimitive");function cvt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(cvt,"_classCallCheck");var fvt=v$(),L3=fvt.codes,YTe=L3.ERR_AMBIGUOUS_ARGUMENT,M2=L3.ERR_INVALID_ARG_TYPE,uvt=L3.ERR_INVALID_ARG_VALUE,lvt=L3.ERR_INVALID_RETURN_VALUE,tg=L3.ERR_MISSING_ARGS,rg=UIe(),dvt=O2(),gM=dvt.inspect,QTe=O2().types,hvt=QTe.isPromise,yM=QTe.isRegExp,pvt=sTe()(),eRe=cM()(),bM=KN()("RegExp.prototype.test"),eg,xM;function D3(){var t=$Te();eg=t.isDeepEqual,xM=t.isDeepStrictEqual}o(D3,"lazyLoadComparison");var XTe=!1,ei=lRe.exports=D$,vM={};function wl(t){throw t.message instanceof Error?t.message:new rg(t)}o(wl,"innerFail");function tRe(t,e,r,n,i){var s=arguments.length,a;if(s===0)a="Failed";else if(s===1)r=t,t=void 0;else{if(XTe===!1){XTe=!0;var f=process.emitWarning?process.emitWarning:console.warn.bind(console);f("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(n="!=")}if(r instanceof Error)throw r;var l={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||tRe};r!==void 0&&(l.message=r);var h=new rg(l);throw a&&(h.message=a,h.generatedMessage=!0),h}o(tRe,"fail");ei.fail=tRe;ei.AssertionError=rg;function rRe(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var s=new rg({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw s.generatedMessage=i,s}}o(rRe,"innerOk");function D$(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];rRe.apply(void 0,[D$,e.length].concat(e))}o(D$,"ok");ei.ok=D$;ei.equal=o(function t(e,r,n){if(arguments.length<2)throw new tg("actual","expected");e!=r&&wl({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},"equal");ei.notEqual=o(function t(e,r,n){if(arguments.length<2)throw new tg("actual","expected");e==r&&wl({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},"notEqual");ei.deepEqual=o(function t(e,r,n){if(arguments.length<2)throw new tg("actual","expected");eg===void 0&&D3(),eg(e,r)||wl({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},"deepEqual");ei.notDeepEqual=o(function t(e,r,n){if(arguments.length<2)throw new tg("actual","expected");eg===void 0&&D3(),eg(e,r)&&wl({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},"notDeepEqual");ei.deepStrictEqual=o(function t(e,r,n){if(arguments.length<2)throw new tg("actual","expected");eg===void 0&&D3(),xM(e,r)||wl({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},"deepStrictEqual");ei.notDeepStrictEqual=nRe;function nRe(t,e,r){if(arguments.length<2)throw new tg("actual","expected");eg===void 0&&D3(),xM(t,e)&&wl({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:nRe})}o(nRe,"notDeepStrictEqual");ei.strictEqual=o(function t(e,r,n){if(arguments.length<2)throw new tg("actual","expected");eRe(e,r)||wl({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},"strictEqual");ei.notStrictEqual=o(function t(e,r,n){if(arguments.length<2)throw new tg("actual","expected");eRe(e,r)&&wl({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})},"notStrictEqual");var ZTe=ovt(o(function t(e,r,n){var i=this;cvt(this,t),r.forEach(function(s){s in e&&(n!==void 0&&typeof n[s]=="string"&&yM(e[s])&&bM(e[s],n[s])?i[s]=n[s]:i[s]=e[s])})},"Comparison"));function mvt(t,e,r,n,i,s){if(!(r in t)||!xM(t[r],e[r])){if(!n){var a=new ZTe(t,i),f=new ZTe(e,i,t),l=new rg({actual:a,expected:f,operator:"deepStrictEqual",stackStartFn:s});throw l.actual=t,l.expected=e,l.operator=s.name,l}wl({actual:t,expected:e,message:n,operator:s.name,stackStartFn:s})}}o(mvt,"compareExceptionKey");function iRe(t,e,r,n){if(typeof e!="function"){if(yM(e))return bM(e,t);if(arguments.length===2)throw new M2("expected",["Function","RegExp"],e);if(_l(t)!=="object"||t===null){var i=new rg({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new uvt("error",e,"may not be an empty object");return eg===void 0&&D3(),s.forEach(function(a){typeof t[a]=="string"&&yM(e[a])&&bM(e[a],t[a])||mvt(t,e,a,r,s,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}o(iRe,"expectedException");function oRe(t){if(typeof t!="function")throw new M2("fn","Function",t);try{t()}catch(e){return e}return vM}o(oRe,"getActual");function JTe(t){return hvt(t)||t!==null&&_l(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}o(JTe,"checkIsPromise");function sRe(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!JTe(e))throw new lvt("instance of Promise","promiseFn",e)}else if(JTe(t))e=t;else throw new M2("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return vM}).catch(function(r){return r})})}o(sRe,"waitForActual");function aRe(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new M2("error",["Object","Error","Function","RegExp"],r);if(_l(e)==="object"&&e!==null){if(e.message===r)throw new YTe("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new YTe("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&_l(r)!=="object"&&typeof r!="function")throw new M2("error",["Object","Error","Function","RegExp"],r);if(e===vM){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var s=t.name==="rejects"?"rejection":"exception";wl({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:t})}if(r&&!iRe(e,r,n,t))throw e}o(aRe,"expectsError");function cRe(t,e,r,n){if(e!==vM){if(typeof r=="string"&&(n=r,r=void 0),!r||iRe(e,r)){var i=n?": ".concat(n):".",s=t.name==="doesNotReject"?"rejection":"exception";wl({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}o(cRe,"expectsNoError");ei.throws=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];aRe.apply(void 0,[t,oRe(e)].concat(n))},"throws");ei.rejects=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return sRe(e).then(function(s){return aRe.apply(void 0,[t,s].concat(n))})},"rejects");ei.doesNotThrow=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];cRe.apply(void 0,[t,oRe(e)].concat(n))},"doesNotThrow");ei.doesNotReject=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return sRe(e).then(function(s){return cRe.apply(void 0,[t,s].concat(n))})},"doesNotReject");ei.ifError=o(function t(e){if(e!=null){var r="ifError got unwanted exception: ";_l(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=gM(e);var n=new rg({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var a=n.stack.split(`
`),f=0;f<s.length;f++){var l=a.indexOf(s[f]);if(l!==-1){a=a.slice(0,l);break}}n.stack="".concat(a.join(`
`),`
`).concat(s.join(`
`))}throw n}},"ifError");function fRe(t,e,r,n,i){if(!yM(e))throw new M2("regexp","RegExp",e);var s=i==="match";if(typeof t!="string"||bM(e,t)!==s){if(r instanceof Error)throw r;var a=!r;r=r||(typeof t!="string"?'The "string" argument must be of type string. Received type '+"".concat(_l(t)," (").concat(gM(t),")"):(s?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(gM(e),`. Input:

`).concat(gM(t),`
`));var f=new rg({actual:t,expected:e,message:r,operator:i,stackStartFn:n});throw f.generatedMessage=a,f}}o(fRe,"internalMatch");ei.match=o(function t(e,r,n){fRe(e,r,n,t,"match")},"match");ei.doesNotMatch=o(function t(e,r,n){fRe(e,r,n,t,"doesNotMatch")},"doesNotMatch");function uRe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];rRe.apply(void 0,[uRe,e.length].concat(e))}o(uRe,"strict");ei.strict=pvt(uRe,ei,{equal:ei.strictEqual,deepEqual:ei.deepStrictEqual,notEqual:ei.notStrictEqual,notDeepEqual:ei.notDeepStrictEqual});ei.strict.strict=ei.strict});m();g();var _g=Ze(Yi(),1),Zi=Ze(PA(),1),l0=Ze(bu(),1);m();g();C2.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});m();g();var hke=o((t,e)=>t+e,"add"),Zre=o(t=>t.reduce(hke,0),"sum");var Jre=_g.Buffer.alloc(64).fill(0),jk=o(t=>yf(t)?_g.Buffer.from(t.message.serialize()):t.serializeMessage(),"transactionToSerializedMessage"),LA=o(t=>l0.default.encode(jk(t)),"transactionToMessageString"),Qre=o(t=>{try{return LA(ub(t,"bs58"))}catch{return LA(ub(t,"base64"))}},"transactionStringToMessageString"),ene=o(t=>{try{return ub(t,"bs58").version}catch{return ub(t,"base64").version}},"transactionStringToVersion"),tne=o(t=>Kk(Gk(t)),"messageStringToTransactionString"),yf=o(t=>t&&"version"in t,"isVersionedTransaction"),DA=o((t,e)=>yf(t)?_g.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),"transactionToSerializedTransaction"),Kk=o((t,e)=>l0.default.encode(DA(t,e)),"transactionToBase58TransactionString"),rne=o((t,e)=>DA(t,e).toString("base64"),"transactionToBase64TransactionString"),ub=o((t,e)=>{let r;if(e==="base64")r=_g.Buffer.from(t,"base64");else if(e==="bs58")r=l0.default.decode(t);else throw new Error("Unsupported encoding");return Zi.VersionedTransaction.deserialize(r)},"transactionStringToTransaction");function zk(t){return yf(t)?t.signatures.filter(r=>r.every(i=>i===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(i=>i!==0)!==void 0:!1).length>0}o(zk,"isAlreadySigned");var nne=o(t=>{let e=t.map(r=>Zi.VersionedMessage.deserialize(l0.default.decode(r)));return Zre(e.map(r=>r.header.numRequiredSignatures))},"getRequiredSignatures"),Gk=o(t=>{let e=l0.default.decode(t);if(Zi.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let i=Zi.Message.from(e);return Zi.Transaction.populate(i,[])}let n=Zi.VersionedMessage.deserialize(e);return new Zi.VersionedTransaction(n)},"messageStringToTransaction"),ine=o((t,e=[])=>{let r=l0.default.decode(t);if(Zi.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let i=Zi.Message.from(r);return Zi.Transaction.populate(i,e.map(s=>s?l0.default.encode(s):l0.default.encode(Jre)))}else{let i=Zi.VersionedMessage.deserialize(r);return new Zi.VersionedTransaction(i,e.map(s=>s||Jre))}},"messageAndSignaturesToTransaction"),one=o(t=>t.compileMessage().accountKeys,"getAccountsFromTransaction"),$k=o(t=>yf(t)?t.message.recentBlockhash:t.recentBlockhash,"getRecentBlockhash"),sne=o((t,e)=>{yf(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},"setRecentBlockhash"),ane=o(async(t,e)=>{if($k(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;sne(t,r)},"setRecentBlockhashIfNotExists"),cne=o(async(t,e)=>{if(zk(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;sne(t,r)},"setRecentBlockhashIfNotSigned"),Wk=o((t,e)=>{yf(t)||(t.feePayer=e)},"setFeePayer"),Yk=o(t=>yf(t)?t.message.staticAccountKeys[0]:t.feePayer,"getFeePayer"),fne=o((t,e)=>{Yk(t)||Wk(t,e)},"setFeePayerIfNotExists"),une=o((t,e)=>{yf(t)?t.sign(e):t.partialSign(...e)},"signWithAdditionalSigners"),lne=o(t=>yf(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),"getSignaturePubKeys"),dne=o(t=>yf(t)?t.signatures.map(e=>_g.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null),"getSignatures");function hne(t){if(!pke(_g.Buffer.from(t)))return!1;let e;try{e=Zi.Message.from(t)}catch{e=void 0}let r;try{r=Zi.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}o(hne,"isSafeMessage");function pke(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}o(pke,"isValidUTF8");var pne=o(t=>C2(t).dividedBy(Zi.LAMPORTS_PER_SOL),"lamportsToSolana"),mne=o(t=>C2(t).multipliedBy(Zi.LAMPORTS_PER_SOL),"solanaToLamports");var bf={};H$(bf,{BufferLayout:()=>bke,Message:()=>nc.Message,MessageV0:()=>nc.MessageV0,Transaction:()=>nc.Transaction,TransactionInstruction:()=>nc.TransactionInstruction,TransactionMessage:()=>nc.TransactionMessage,VersionedMessage:()=>nc.VersionedMessage,VersionedTransaction:()=>nc.VersionedTransaction,getAccountsFromTransaction:()=>one,getFeePayer:()=>Yk,getRecentBlockhash:()=>$k,getRequiredSignatures:()=>nne,getSignaturePubKeys:()=>lne,getSignatures:()=>dne,isAlreadySigned:()=>zk,isSafeMessage:()=>hne,isVersionedTransaction:()=>yf,lamportsToSolana:()=>pne,messageAndSignaturesToTransaction:()=>ine,messageStringToTransaction:()=>Gk,messageStringToTransactionString:()=>tne,setFeePayer:()=>Wk,setFeePayerIfNotExists:()=>fne,setRecentBlockhashIfNotExists:()=>ane,setRecentBlockhashIfNotSigned:()=>cne,signWithAdditionalSigners:()=>une,solanaInstructionEncodeData:()=>bne,solanaToLamports:()=>mne,transactionStringToMessageString:()=>Qre,transactionStringToTransaction:()=>ub,transactionStringToVersion:()=>ene,transactionToBase58TransactionString:()=>Kk,transactionToBase64TransactionString:()=>rne,transactionToMessageString:()=>LA,transactionToSerializedMessage:()=>jk,transactionToSerializedTransaction:()=>DA});m();g();var bke=Ze(gne(),1),nc=Ze(PA(),1);Th(bf,Ze(PA(),1));m();g();var yne=Ze(Yi());m();g();var gke=Ze(Yi()),pb=Ze(mC());function Qk(t,e){let r=o(i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return Qk({layout:i},e[i.property]);return 0},"getItemAlloc"),n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}o(Qk,"getAlloc");function bne(t,e){let r=t.layout.span>=0?t.layout.span:Qk(t,e),n=yne.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}o(bne,"encodeData");m();g();var We;(function(t){t.BitcoinTaproot="bip122_p2tr",t.BitcoinNativeSegwit="bip122_p2wpkh",t.BitcoinNestedSegwit="bip122_p2sh",t.BitcoinLegacy="bip122_p2pkh",t.Solana="solana",t.EVM="eip155",t.Sui="sui"})(We||(We={}));var n4=[We.BitcoinTaproot,We.BitcoinNativeSegwit,We.BitcoinNestedSegwit,We.BitcoinLegacy],S_=we.enum(n4);m();g();var Et;(function(t){t.Solana="solana",t.Monad="monad",t.Ethereum="ethereum",t.Base="base",t.Arbitrum="arbitrum",t.Polygon="polygon",t.Bitcoin="bitcoin",t.Sui="sui",t.Hypercore="hypercore",t.Hyperevm="hyperevm"})(Et||(Et={}));var In;(function(t){t.Ethereum="60",t.Monad="143",t.Polygon="966",t.Base="8453",t.Arbitrum="9001",t.Solana="501",t.Bitcoin="0",t.Sui="784",t.Hypercore="925",t.Hyperevm="60"})(In||(In={}));m();g();var Ji;(function(t){t.Mainnet="solana:101",t.Testnet="solana:102",t.Devnet="solana:103",t.Localnet="solana:localnet"})(Ji||(Ji={}));var zh=we.union([we.literal(Ji.Mainnet),we.literal(Ji.Testnet),we.literal(Ji.Devnet),we.literal(Ji.Localnet)]),ic;(function(t){t.Mainnet="eip155:1",t.Sepolia="eip155:11155111"})(ic||(ic={}));var i4=we.union([we.literal(ic.Mainnet),we.literal(ic.Sepolia)]),Uc;(function(t){t.Mainnet="eip155:137",t.Amoy="eip155:80002"})(Uc||(Uc={}));var eB=we.union([we.literal(Uc.Mainnet),we.literal(Uc.Amoy)]),Hc;(function(t){t.Mainnet="eip155:8453",t.Sepolia="eip155:84532"})(Hc||(Hc={}));var tB=we.union([we.literal(Hc.Mainnet),we.literal(Hc.Sepolia)]),Fc;(function(t){t.Mainnet="eip155:42161",t.Sepolia="eip155:421614"})(Fc||(Fc={}));var rB=we.union([we.literal(Fc.Mainnet),we.literal(Fc.Sepolia)]),qc;(function(t){t.Mainnet="eip155:143",t.Testnet="eip155:10143"})(qc||(qc={}));var nB=we.union([we.literal(qc.Mainnet),we.literal(qc.Testnet)]),oc;(function(t){t.Mainnet="bip122:000000000019d6689c085ae165831e93",t.Testnet="bip122:000000000933ea01ad0ee984209779ba"})(oc||(oc={}));var Gh=we.union([we.literal(oc.Mainnet),we.literal(oc.Testnet)]),Vc;(function(t){t.Mainnet="sui:mainnet",t.Testnet="sui:testnet"})(Vc||(Vc={}));var wg=we.union([we.literal(Vc.Mainnet),we.literal(Vc.Testnet)]),sc;(function(t){t.Mainnet="hypercore:mainnet",t.Testnet="hypercore:testnet"})(sc||(sc={}));var h0=we.union([we.literal(sc.Mainnet),we.literal(sc.Testnet)]),ac;(function(t){t.Mainnet="eip155:999",t.Testnet="eip155:998"})(ac||(ac={}));var Sg=we.union([we.literal(ac.Mainnet),we.literal(ac.Testnet)]),$h=we.union([i4,eB,tB,nB,rB,h0,Sg]),p0=we.union([Gh,$h,zh,wg,h0,Sg]),Tn={Bitcoin:oc,Ethereum:ic,Polygon:Uc,Solana:Ji,Sui:Vc,Base:Hc,Monad:qc,Arbitrum:Fc,Hypercore:sc,Hyperevm:ac};m();g();m();g();m();g();m();g();m();g();m();g();var nKe=Ze(Bb(),1);var $o=BigInt(0),Yr=BigInt(1),dp=BigInt(2),iKe=BigInt(8),yde=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),ai=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:yde,n:yde,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var wde=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),gw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),SNt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),oKe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),sKe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),aKe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),cKe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Eo=class t{static{o(this,"ExtendedPoint")}constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof Qi))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Qi.ZERO)?t.ZERO:new t(e.x,e.y,Yr,Qe(e.x*e.y))}static toAffineBatch(e){let r=lKe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){xde(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:f}=e,l=Qe(r*f),h=Qe(s*i),b=Qe(n*f),y=Qe(a*i);return l===h&&b===y}negate(){return new t(Qe(-this.x),this.y,this.z,Qe(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=ai,s=Qe(e*e),a=Qe(r*r),f=Qe(dp*Qe(n*n)),l=Qe(i*s),h=e+r,b=Qe(Qe(h*h)-s-a),y=l+a,E=y-f,I=l-a,O=Qe(b*E),N=Qe(y*I),k=Qe(b*I),C=Qe(E*y);return new t(O,N,C,k)}add(e){xde(e);let{x:r,y:n,z:i,t:s}=this,{x:a,y:f,z:l,t:h}=e,b=Qe((n-r)*(f+a)),y=Qe((n+r)*(f-a)),E=Qe(y-b);if(E===$o)return this.double();let I=Qe(i*dp*h),O=Qe(s*dp*l),N=O+I,k=y+b,C=O-I,L=Qe(N*E),M=Qe(k*C),U=Qe(N*C),q=Qe(E*k);return new t(L,M,q,U)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let f=1;f<2**(e-1);f++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=Qi.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&QL.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),QL.set(r,i)));let s=t.ZERO,a=t.BASE,f=1+256/n,l=2**(n-1),h=BigInt(2**n-1),b=2**n,y=BigInt(n);for(let E=0;E<f;E++){let I=E*l,O=Number(e&h);e>>=y,O>l&&(O-=b,e+=Yr);let N=I,k=I+Math.abs(O)-1,C=E%2!==0,L=O<0;O===0?a=a.add(bde(C,i[N])):s=s.add(bde(L,i[k]))}return t.normalizeZ([s,a])[0]}multiply(e,r){return this.wNAF(t5(e,ai.l),r)}multiplyUnsafe(e){let r=t5(e,ai.l,!1),n=t.BASE,i=t.ZERO;if(r===$o)return i;if(this.equals(i)||r===Yr)return this;if(this.equals(n))return this.wNAF(r);let s=i,a=this;for(;r>$o;)r&Yr&&(s=s.add(a)),a=a.double(),r>>=Yr;return s}isSmallOrder(){return this.multiplyUnsafe(ai.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(ai.l/dp).double();return ai.l%dp&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?iKe:n5(i));let a=Qe(r*e),f=Qe(n*e),l=Qe(i*e);if(s)return Qi.ZERO;if(l!==Yr)throw new Error("invZ was invalid");return new Qi(a,f)}fromRistrettoBytes(){ZL()}toRistrettoBytes(){ZL()}fromRistrettoHash(){ZL()}};Eo.BASE=new Eo(ai.Gx,ai.Gy,Yr,Qe(ai.Gx*ai.Gy));Eo.ZERO=new Eo($o,Yr,Yr,$o);function bde(t,e){let r=e.negate();return t?r:e}o(bde,"constTimeNegate");function xde(t){if(!(t instanceof Eo))throw new TypeError("ExtendedPoint expected")}o(xde,"assertExtPoint");function XL(t){if(!(t instanceof Qg))throw new TypeError("RistrettoPoint expected")}o(XL,"assertRstPoint");function ZL(){throw new Error("Legacy method: switch to RistrettoPoint")}o(ZL,"legacyRist");var Qg=class t{static{o(this,"RistrettoPoint")}constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=ai,n=Qe(gw*e*e),i=Qe((n+Yr)*aKe),s=BigInt(-1),a=Qe((s-r*n)*Qe(n+r)),{isValid:f,value:l}=tD(i,a),h=Qe(l*e);lp(h)||(h=Qe(-h)),f||(l=h),f||(s=n);let b=Qe(s*(n-Yr)*cKe-a),y=l*l,E=Qe((l+l)*a),I=Qe(b*oKe),O=Qe(Yr-y),N=Qe(Yr+y);return new Eo(Qe(E*N),Qe(O*I),Qe(I*N),Qe(E*O))}static hashToCurve(e){e=hp(e,64);let r=JL(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=JL(e.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new t(n.add(s))}static fromHex(e){e=hp(e,32);let{a:r,d:n}=ai,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=JL(e);if(!hKe(xw(s),e)||lp(s))throw new Error(i);let a=Qe(s*s),f=Qe(Yr+r*a),l=Qe(Yr-r*a),h=Qe(f*f),b=Qe(l*l),y=Qe(r*n*h-b),{isValid:E,value:I}=_de(Qe(y*b)),O=Qe(I*l),N=Qe(I*O*y),k=Qe((s+s)*O);lp(k)&&(k=Qe(-k));let C=Qe(f*N),L=Qe(k*C);if(!E||lp(L)||C===$o)throw new Error(i);return new t(new Eo(k,C,Yr,L))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,s=Qe(Qe(n+r)*Qe(n-r)),a=Qe(e*r),f=Qe(a*a),{value:l}=_de(Qe(s*f)),h=Qe(l*s),b=Qe(l*a),y=Qe(h*b*i),E;if(lp(i*y)){let O=Qe(r*gw),N=Qe(e*gw);e=O,r=N,E=Qe(h*sKe)}else E=b;lp(e*y)&&(r=Qe(-r));let I=Qe((n-r)*E);return lp(I)&&(I=Qe(-I)),xw(I)}toHex(){return vw(this.toRawBytes())}toString(){return this.toHex()}equals(e){XL(e);let r=this.ep,n=e.ep,i=Qe(r.x*n.y)===Qe(r.y*n.x),s=Qe(r.y*n.y)===Qe(r.x*n.x);return i||s}add(e){return XL(e),new t(this.ep.add(e.ep))}subtract(e){return XL(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};Qg.BASE=new Qg(Eo.BASE);Qg.ZERO=new Qg(Eo.ZERO);var QL=new WeakMap,Qi=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,QL.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=ai;e=hp(e,32);let s=e.slice();s[31]=e[31]&-129;let a=_w(s);if(r&&a>=i)throw new Error("Expected 0 < hex < P");if(!r&&a>=wde)throw new Error("Expected 0 < hex < 2**256");let f=Qe(a*a),l=Qe(f-Yr),h=Qe(n*f+Yr),{isValid:b,value:y}=tD(l,h);if(!b)throw new Error("Point.fromHex: invalid y coordinate");let E=(y&Yr)===Yr;return(e[31]&128)!==0!==E&&(y=Qe(-y)),new t(y,a)}static async fromPrivateKey(e){return(await Ide(e)).point}toRawBytes(){let e=xw(this.y);return e[31]|=this.x&Yr?128:0,e}toHex(){return vw(this.toRawBytes())}toX25519(){let{y:e}=this,r=Qe((Yr+e)*n5(Yr-e));return xw(r)}isTorsionFree(){return Eo.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(Qe(-this.x),this.y)}add(e){return Eo.fromAffine(this).add(Eo.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Eo.fromAffine(this).multiply(e,this).toAffine()}};Qi.BASE=new Qi(ai.Gx,ai.Gy);Qi.ZERO=new Qi($o,Yr);var bw=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=hp(e,64),n=Qi.fromHex(r.slice(0,32),!1),i=_w(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof Qi))throw new Error("Expected Point instance");return t5(r,ai.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(xw(this.s),32),e}toHex(){return vw(this.toRawBytes())}};function vde(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(vde,"concatBytes");var fKe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vw(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=fKe[t[r]];return e}o(vw,"bytesToHex");function eD(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(eD,"hexToBytes");function Sde(t){let r=t.toString(16).padStart(64,"0");return eD(r)}o(Sde,"numberTo32BytesBE");function xw(t){return Sde(t).reverse()}o(xw,"numberTo32BytesLE");function lp(t){return(Qe(t)&Yr)===Yr}o(lp,"edIsNegative");function _w(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+vw(Uint8Array.from(t).reverse()))}o(_w,"bytesToNumberLE");var uKe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function JL(t){return Qe(_w(t)&uKe)}o(JL,"bytes255ToNumberLE");function Qe(t,e=ai.P){let r=t%e;return r>=$o?r:e+r}o(Qe,"mod");function n5(t,e=ai.P){if(t===$o||e<=$o)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Qe(t,e),n=e,i=$o,s=Yr,a=Yr,f=$o;for(;r!==$o;){let h=n/r,b=n%r,y=i-a*h,E=s-f*h;n=r,r=b,i=a,s=f,a=y,f=E}if(n!==Yr)throw new Error("invert: does not exist");return Qe(i,e)}o(n5,"invert");function lKe(t,e=ai.P){let r=new Array(t.length),n=t.reduce((s,a,f)=>a===$o?s:(r[f]=s,Qe(s*a,e)),Yr),i=n5(n,e);return t.reduceRight((s,a,f)=>a===$o?s:(r[f]=Qe(s*r[f],e),Qe(s*a,e)),i),r}o(lKe,"invertBatch");function Ql(t,e){let{P:r}=ai,n=t;for(;e-- >$o;)n*=n,n%=r;return n}o(Ql,"pow2");function dKe(t){let{P:e}=ai,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),a=BigInt(80),l=t*t%e*t%e,h=Ql(l,dp)*l%e,b=Ql(h,Yr)*t%e,y=Ql(b,r)*b%e,E=Ql(y,n)*y%e,I=Ql(E,i)*E%e,O=Ql(I,s)*I%e,N=Ql(O,a)*O%e,k=Ql(N,a)*O%e,C=Ql(k,n)*y%e;return{pow_p_5_8:Ql(C,dp)*t%e,b2:l}}o(dKe,"pow_2_252_3");function tD(t,e){let r=Qe(e*e*e),n=Qe(r*r*e),i=dKe(t*n).pow_p_5_8,s=Qe(t*r*i),a=Qe(e*s*s),f=s,l=Qe(s*gw),h=a===t,b=a===Qe(-t),y=a===Qe(-t*gw);return h&&(s=f),(b||y)&&(s=l),lp(s)&&(s=Qe(-s)),{isValid:h||b,value:s}}o(tD,"uvRatio");function _de(t){return tD(Yr,t)}o(_de,"invertSqrt");function e5(t){return Qe(_w(t),ai.l)}o(e5,"modlLE");function hKe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(hKe,"equalBytes");function hp(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):eD(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}o(hp,"ensureBytes");function t5(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if($o<t)return t}else if($o<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}o(t5,"normalizeScalar");function pKe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}o(pKe,"adjustBytes25519");function Ede(t){if(t=typeof t=="bigint"||typeof t=="number"?Sde(t5(t,wde)):hp(t),t.length!==32)throw new Error("Expected 32 bytes");return t}o(Ede,"checkPrivateKey");function Ade(t){let e=pKe(t.slice(0,32)),r=t.slice(32,64),n=e5(e),i=Qi.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}}o(Ade,"getKeyFromHash");var yw;function r5(...t){if(typeof yw!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return yw(...t)}o(r5,"sha512s");async function Ide(t){return Ade(await R0.sha512(Ede(t)))}o(Ide,"getExtendedPublicKey");function rD(t){return Ade(r5(Ede(t)))}o(rD,"getExtendedPublicKeySync");function mKe(t){return rD(t).pointBytes}o(mKe,"getPublicKeySync");function gKe(t,e){t=hp(t);let{prefix:r,scalar:n,pointBytes:i}=rD(e),s=e5(r5(r,t)),a=Qi.BASE.multiply(s),f=e5(r5(a.toRawBytes(),i,t)),l=Qe(s+f*n,ai.l);return new bw(a,l).toRawBytes()}o(gKe,"signSync");function yKe(t,e,r){e=hp(e),r instanceof Qi||(r=Qi.fromHex(r,!1));let{r:n,s:i}=t instanceof bw?t.assertValidity():bw.fromHex(t),s=Eo.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:r,msg:e}}o(yKe,"prepareVerification");function bKe(t,e,r,n){let i=e5(n),s=Eo.fromAffine(t).multiplyUnsafe(i);return Eo.fromAffine(e).add(s).subtract(r).multiplyUnsafe(ai.h).equals(Eo.ZERO)}o(bKe,"finishVerification");function xKe(t,e,r){let{r:n,SB:i,msg:s,pub:a}=yKe(t,e,r),f=r5(n.toRawBytes(),a.toRawBytes(),s);return bKe(a,n,i,f)}o(xKe,"verifySync");var i5={getExtendedPublicKey:rD,getPublicKey:mKe,sign:gKe,verify:xKe};Qi.BASE._setWindowSize(8);var up={node:nKe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},R0={bytesToHex:vw,hexToBytes:eD,concatBytes:vde,getExtendedPublicKey:Ide,mod:Qe,invert:n5,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:o(t=>{if(t=hp(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return Qe(_w(t),ai.l-Yr)+Yr},"hashToPrivateScalar"),randomBytes:o((t=32)=>{if(up.web)return up.web.getRandomValues(new Uint8Array(t));if(up.node){let{randomBytes:e}=up.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>R0.randomBytes(32),"randomPrivateKey"),sha512:o(async(...t)=>{let e=vde(...t);if(up.web){let r=await up.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(up.node)return Uint8Array.from(up.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},"sha512"),precompute(t=8,e=Qi.BASE){let r=e.equals(Qi.BASE)?e:new Qi(e.x,e.y);return r._setWindowSize(t),r.multiply(dp),r},sha512Sync:void 0};Object.defineProperties(R0,{sha512Sync:{configurable:!1,get(){return yw},set(t){yw||(yw=t)}}});m();g();m();g();m();g();function nD(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(nD,"number");function vKe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}o(vKe,"bool");function Tde(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(Tde,"bytes");function _Ke(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");nD(t.outputLen),nD(t.blockLen)}o(_Ke,"hash");function wKe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(wKe,"exists");function SKe(t,e){Tde(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(SKe,"output");var EKe={number:nD,bool:vKe,bytes:Tde,hash:_Ke,exists:wKe,output:SKe},kn=EKe;m();g();m();g();var ww={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var nx=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32"),ix=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Uu=o((t,e)=>t<<32-e|t>>>e,"rotr"),AKe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!AKe)throw new Error("Non little-endian hardware is not supported");var IKe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function TKe(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=IKe[t[r]];return e}o(TKe,"bytesToHex");function RKe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(RKe,"hexToBytes");var OKe=o(async()=>{},"nextTick");async function o5(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await OKe(),n+=s)}}o(o5,"asyncLoop");function NKe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}o(NKe,"utf8ToBytes");function Hu(t){if(typeof t=="string"&&(t=NKe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}o(Hu,"toBytes");var pp=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},MKe=o(t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object,"isPlainObject");function s5(t,e){if(e!==void 0&&(typeof e!="object"||!MKe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}o(s5,"checkOpts");function ed(t){let e=o(n=>t().update(Hu(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(ed,"wrapConstructor");function Rde(t){let e=o((n,i)=>t(i).update(Hu(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Rde,"wrapConstructorWithOpts");function iD(t=32){if(ww.web)return ww.web.getRandomValues(new Uint8Array(t));if(ww.node)return new Uint8Array(ww.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}o(iD,"randomBytes");function CKe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(CKe,"setBigUint64");var ox=class extends pp{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ix(this.buffer)}update(e){kn.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Hu(e);let s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=ix(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){kn.exists(this),kn.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let y=a;y<i;y++)r[y]=0;CKe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=ix(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,b=this.get();if(h>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)f.setUint32(4*y,b[y],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.length=i,e.pos=f,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};m();g();var a5=BigInt(4294967295),oD=BigInt(32);function Ode(t,e=!1){return e?{h:Number(t&a5),l:Number(t>>oD&a5)}:{h:Number(t>>oD&a5)|0,l:Number(t&a5)|0}}o(Ode,"fromBig");function kKe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=Ode(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(kKe,"split");var BKe=o((t,e)=>BigInt(t>>>0)<<oD|BigInt(e>>>0),"toBig"),PKe=o((t,e,r)=>t>>>r,"shrSH"),LKe=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),DKe=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),UKe=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),HKe=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),FKe=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),qKe=o((t,e)=>e,"rotr32H"),VKe=o((t,e)=>t,"rotr32L"),jKe=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH"),KKe=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL"),zKe=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH"),GKe=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");function $Ke(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o($Ke,"add");var WKe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),YKe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),XKe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),ZKe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),JKe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),QKe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H"),eze={fromBig:Ode,split:kKe,toBig:BKe,shrSH:PKe,shrSL:LKe,rotrSH:DKe,rotrSL:UKe,rotrBH:HKe,rotrBL:FKe,rotr32H:qKe,rotr32L:VKe,rotlSH:jKe,rotlSL:KKe,rotlBH:zKe,rotlBL:GKe,add:$Ke,add3L:WKe,add3H:YKe,add4L:XKe,add4H:ZKe,add5H:QKe,add5L:JKe},tr=eze;var[tze,rze]=tr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),mp=new Uint32Array(80),gp=new Uint32Array(80),sx=class extends ox{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:b,Fh:y,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k]}set(e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=b|0,this.Fh=y|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)mp[M]=e.getUint32(r),gp[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=mp[M-15]|0,q=gp[M-15]|0,j=tr.rotrSH(U,q,1)^tr.rotrSH(U,q,8)^tr.shrSH(U,q,7),re=tr.rotrSL(U,q,1)^tr.rotrSL(U,q,8)^tr.shrSL(U,q,7),Y=mp[M-2]|0,X=gp[M-2]|0,S=tr.rotrSH(Y,X,19)^tr.rotrBH(Y,X,61)^tr.shrSH(Y,X,6),c=tr.rotrSL(Y,X,19)^tr.rotrBL(Y,X,61)^tr.shrSL(Y,X,6),d=tr.add4L(re,c,gp[M-7],gp[M-16]),p=tr.add4H(d,j,S,mp[M-7],mp[M-16]);mp[M]=p|0,gp[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:b,Eh:y,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let U=tr.rotrSH(y,E,14)^tr.rotrSH(y,E,18)^tr.rotrBH(y,E,41),q=tr.rotrSL(y,E,14)^tr.rotrSL(y,E,18)^tr.rotrBL(y,E,41),j=y&I^~y&N,re=E&O^~E&k,Y=tr.add5L(L,q,re,rze[M],gp[M]),X=tr.add5H(Y,C,U,j,tze[M],mp[M]),S=Y|0,c=tr.rotrSH(n,i,28)^tr.rotrBH(n,i,34)^tr.rotrBH(n,i,39),d=tr.rotrSL(n,i,28)^tr.rotrBL(n,i,34)^tr.rotrBL(n,i,39),p=n&s^n&f^s&f,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=y|0,O=E|0,{h:y,l:E}=tr.add(h|0,b|0,X|0,S|0),h=f|0,b=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let v=tr.add3L(S,d,x);n=tr.add3H(v,X,c,p),i=v|0}({h:n,l:i}=tr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=tr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=tr.add(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:b}=tr.add(this.Dh|0,this.Dl|0,h|0,b|0),{h:y,l:E}=tr.add(this.Eh|0,this.El|0,y|0,E|0),{h:I,l:O}=tr.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=tr.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=tr.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,f,l,h,b,y,E,I,O,N,k,C,L)}roundClean(){mp.fill(0),gp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},sD=class extends sx{static{o(this,"SHA512_224")}constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},aD=class extends sx{static{o(this,"SHA512_256")}constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},cD=class extends sx{static{o(this,"SHA384")}constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},td=ed(()=>new sx),QNt=ed(()=>new sD),eMt=ed(()=>new aD),tMt=ed(()=>new cD);m();g();var nze=Ze(Bb(),1);var ln=BigInt(0),gi=BigInt(1),bp=BigInt(2),Aw=BigInt(3),Nde=BigInt(8),yi=Object.freeze({a:ln,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:gi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Mde=o((t,e)=>(t+e/bp)/e,"divNearest"),c5={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=yi,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-gi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),f=Mde(s*t,e),l=Mde(-n*t,e),h=Tt(t-f*r-l*i,e),b=Tt(-f*n-l*s,e),y=h>a,E=b>a;if(y&&(h=e-h),E&&(b=e-b),h>a||b>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:y,k1:h,k2neg:E,k2:b}}},ax=32,Tw=32;var Cde=ax+1,kde=2*ax+1;function Bde(t){let{a:e,b:r}=yi,n=Tt(t*t),i=Tt(n*t);return Tt(i+e*t+r)}o(Bde,"weierstrass");var f5=yi.a===ln,h5=class extends Error{static{o(this,"ShaError")}constructor(e){super(e)}};function Pde(t){if(!(t instanceof Na))throw new TypeError("JacobianPoint expected")}o(Pde,"assertJacPoint");var Na=class t{static{o(this,"JacobianPoint")}constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof eo))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(eo.ZERO)?t.ZERO:new t(e.x,e.y,gi)}static toAffineBatch(e){let r=cze(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Pde(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:f}=e,l=Tt(i*i),h=Tt(f*f),b=Tt(r*h),y=Tt(s*l),E=Tt(Tt(n*f)*h),I=Tt(Tt(a*i)*l);return b===y&&E===I}negate(){return new t(this.x,Tt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=Tt(e*e),s=Tt(r*r),a=Tt(s*s),f=e+s,l=Tt(bp*(Tt(f*f)-i-a)),h=Tt(Aw*i),b=Tt(h*h),y=Tt(b-bp*l),E=Tt(h*(l-y)-Nde*a),I=Tt(bp*r*n);return new t(y,E,I)}add(e){Pde(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:f}=e;if(s===ln||a===ln)return this;if(r===ln||n===ln)return e;let l=Tt(i*i),h=Tt(f*f),b=Tt(r*h),y=Tt(s*l),E=Tt(Tt(n*f)*h),I=Tt(Tt(a*i)*l),O=Tt(y-b),N=Tt(I-E);if(O===ln)return N===ln?this.double():t.ZERO;let k=Tt(O*O),C=Tt(O*k),L=Tt(b*k),M=Tt(N*N-C-bp*L),U=Tt(N*(L-M)-E*C),q=Tt(i*f*O);return new t(M,U,q)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===ln)return r;let n=Ude(e);if(n===gi)return this;if(!f5){let y=r,E=this;for(;n>ln;)n&gi&&(y=y.add(E)),E=E.double(),n>>=gi;return y}let{k1neg:i,k1:s,k2neg:a,k2:f}=c5.splitScalar(n),l=r,h=r,b=this;for(;s>ln||f>ln;)s&gi&&(l=l.add(b)),f&gi&&(h=h.add(b)),b=b.double(),s>>=gi,f>>=gi;return i&&(l=l.negate()),a&&(h=h.negate()),h=new t(Tt(h.x*c5.beta),h.y,h.z),l.add(h)}precomputeWindow(e){let r=f5?128/e+1:256/e+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let f=1;f<2**(e-1);f++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=eo.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&uD.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),uD.set(r,i)));let s=t.ZERO,a=t.BASE,f=1+(f5?128/n:256/n),l=2**(n-1),h=BigInt(2**n-1),b=2**n,y=BigInt(n);for(let E=0;E<f;E++){let I=E*l,O=Number(e&h);e>>=y,O>l&&(O-=b,e+=gi);let N=I,k=I+Math.abs(O)-1,C=E%2!==0,L=O<0;O===0?a=a.add(u5(C,i[N])):s=s.add(u5(L,i[k]))}return{p:s,f:a}}multiply(e,r){let n=Ude(e),i,s;if(f5){let{k1neg:a,k1:f,k2neg:l,k2:h}=c5.splitScalar(n),{p:b,f:y}=this.wNAF(f,r),{p:E,f:I}=this.wNAF(h,r);b=u5(a,b),E=u5(l,E),E=new t(Tt(E.x*c5.beta),E.y,E.z),i=b.add(E),s=y.add(I)}else{let{p:a,f}=this.wNAF(n,r);i=a,s=f}return t.normalizeZ([i,s])[0]}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?Nde:y5(i));let a=e,f=Tt(a*a),l=Tt(f*a),h=Tt(r*f),b=Tt(n*l),y=Tt(i*a);if(s)return eo.ZERO;if(y!==gi)throw new Error("invZ was invalid");return new eo(h,b)}};Na.BASE=new Na(yi.Gx,yi.Gy,gi);Na.ZERO=new Na(ln,gi,ln);function u5(t,e){let r=e.negate();return t?r:e}o(u5,"constTimeNegate");var uD=new WeakMap,eo=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,uD.delete(this)}hasEvenY(){return this.y%bp===ln}static fromCompressedHex(e){let r=e.length===32,n=Pf(r?e:e.subarray(1));if(!d5(n))throw new Error("Point is not on curve");let i=Bde(n),s=aze(i),a=(s&gi)===gi;r?a&&(s=Tt(-s)):(e[0]&1)===1!==a&&(s=Tt(-s));let f=new t(n,s);return f.assertValidity(),f}static fromUncompressedHex(e){let r=Pf(e.subarray(1,ax+1)),n=Pf(e.subarray(ax+1,ax*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=e1(e),n=r.length,i=r[0];if(n===ax)return this.fromCompressedHex(r);if(n===Cde&&(i===2||i===3))return this.fromCompressedHex(r);if(n===kde&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Cde} compressed bytes or ${kde} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(Nw(e))}static fromSignature(e,r,n){let{r:i,s}=dze(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=uze(e1(e)),{n:f}=yi,l=n===2||n===3?i+f:i,h=y5(l,f),b=Tt(-a*h,f),y=Tt(s*h,f),E=n&1?"03":"02",I=t.fromHex(E+xp(l)),O=t.BASE.multiplyAndAddUnsafe(I,b,y);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(e=!1){return vp(this.toHex(e))}toHex(e=!1){let r=xp(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${xp(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!d5(r)||!d5(n))throw new Error(e);let i=Tt(n*n),s=Bde(r);if(Tt(i-s)!==ln)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,Tt(-this.y))}double(){return Na.fromAffine(this).double().toAffine()}add(e){return Na.fromAffine(this).add(Na.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Na.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Na.fromAffine(this),s=r===ln||r===gi||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),a=Na.fromAffine(e).multiplyUnsafe(n),f=s.add(a);return f.equals(Na.ZERO)?void 0:f.toAffine()}};eo.BASE=new eo(yi.Gx,yi.Gy);eo.ZERO=new eo(ln,ln);function Lde(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}o(Lde,"sliceDER");function Dde(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${fx(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Pf(r),left:t.subarray(e+2)}}o(Dde,"parseDERInt");function ize(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${fx(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Dde(t.subarray(2)),{data:n,left:i}=Dde(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${fx(i)}`);return{r:e,s:n}}o(ize,"parseDERSignature");var Iw=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?fx(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(p5(i.slice(0,64)),p5(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=ize(r?e:vp(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Ow(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ow(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=yi.n>>gi;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,Tt(-this.s,yi.n)):this}toDERRawBytes(){return vp(this.toDERHex())}toDERHex(){let e=Lde(Ew(this.s)),r=Lde(Ew(this.r)),n=e.length/2,i=r.length/2,s=Ew(n),a=Ew(i);return`30${Ew(i+n+4)}02${a}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return vp(this.toCompactHex())}toCompactHex(){return xp(this.r)+xp(this.s)}};function Sw(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(Sw,"concatBytes");var oze=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fx(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=oze[t[r]];return e}o(fx,"bytesToHex");var sze=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function xp(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(ln<=t&&t<sze))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}o(xp,"numTo32bStr");function Rw(t){let e=vp(xp(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}o(Rw,"numTo32b");function Ew(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(Ew,"numberToHexUnpadded");function p5(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(p5,"hexToNumber");function vp(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(vp,"hexToBytes");function Pf(t){return p5(fx(t))}o(Pf,"bytesToNumber");function e1(t){return t instanceof Uint8Array?Uint8Array.from(t):vp(t)}o(e1,"ensureBytes");function Ude(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Ow(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}o(Ude,"normalizeScalar");function Tt(t,e=yi.P){let r=t%e;return r>=ln?r:e+r}o(Tt,"mod");function Bf(t,e){let{P:r}=yi,n=t;for(;e-- >ln;)n*=n,n%=r;return n}o(Bf,"pow2");function aze(t){let{P:e}=yi,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),f=BigInt(88),l=t*t*t%e,h=l*l*t%e,b=Bf(h,Aw)*h%e,y=Bf(b,Aw)*h%e,E=Bf(y,bp)*l%e,I=Bf(E,n)*E%e,O=Bf(I,i)*I%e,N=Bf(O,a)*O%e,k=Bf(N,f)*N%e,C=Bf(k,a)*O%e,L=Bf(C,Aw)*h%e,M=Bf(L,s)*I%e,U=Bf(M,r)*l%e,q=Bf(U,bp);if(q*q%e!==t)throw new Error("Cannot find square root");return q}o(aze,"sqrtMod");function y5(t,e=yi.P){if(t===ln||e<=ln)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Tt(t,e),n=e,i=ln,s=gi,a=gi,f=ln;for(;r!==ln;){let h=n/r,b=n%r,y=i-a*h,E=s-f*h;n=r,r=b,i=a,s=f,a=y,f=E}if(n!==gi)throw new Error("invert: does not exist");return Tt(i,e)}o(y5,"invert");function cze(t,e=yi.P){let r=new Array(t.length),n=t.reduce((s,a,f)=>a===ln?s:(r[f]=s,Tt(s*a,e)),gi),i=y5(n,e);return t.reduceRight((s,a,f)=>a===ln?s:(r[f]=Tt(s*r[f],e),Tt(s*a,e)),i),r}o(cze,"invertBatch");function fze(t){let e=t.length*8-Tw*8,r=Pf(t);return e>0?r>>BigInt(e):r}o(fze,"bits2int_2");function uze(t,e=!1){let r=fze(t);if(e)return r;let{n}=yi;return r>=n?r-n:r}o(uze,"truncateHash");var cx,fD;function Ow(t){return ln<t&&t<yi.n}o(Ow,"isWithinCurveOrder");function d5(t){return ln<t&&t<yi.P}o(d5,"isValidFieldElement");function Nw(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Tw)throw new Error("Expected 32 bytes of private key");e=p5(t)}else if(t instanceof Uint8Array){if(t.length!==Tw)throw new Error("Expected 32 bytes of private key");e=Pf(t)}else throw new TypeError("Expected valid private key");if(!Ow(e))throw new Error("Expected private key: 0 < key < n");return e}o(Nw,"normalizePrivateKey");function lze(t){return t instanceof eo?(t.assertValidity(),t):eo.fromHex(t)}o(lze,"normalizePublicKey");function dze(t){if(t instanceof Iw)return t.assertValidity(),t;try{return Iw.fromDER(t)}catch{return Iw.fromCompact(t)}}o(dze,"normalizeSignature");function lx(t,e=!1){return eo.fromPrivateKey(t).toRawBytes(e)}o(lx,"getPublicKey");function m5(t){return Tt(Pf(t),yi.n)}o(m5,"schnorrChallengeFinalize");var ux=class t{static{o(this,"SchnorrSignature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=e1(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=Pf(r.subarray(0,32)),i=Pf(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!d5(e)||!Ow(r))throw new Error("Invalid signature")}toHex(){return xp(this.r)+xp(this.s)}toRawBytes(){return vp(this.toHex())}};function hze(t){return eo.fromPrivateKey(t).toRawX()}o(hze,"schnorrGetPublicKey");var g5=class{static{o(this,"InternalSchnorrSignature")}constructor(e,r,n=rd.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=e1(e);let{x:i,scalar:s}=this.getScalar(Nw(r));if(this.px=i,this.d=s,this.rand=e1(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=eo.fromPrivateKey(e),n=r.hasEvenY()?e:yi.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return Rw(e^Pf(r))}finalizeNonce(e){let r=Tt(Pf(e),yi.n);if(r===ln)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:s}=this.getScalar(r);return{R:n,rx:i,k:s}}finalizeSig(e,r,n,i){return new ux(e.x,Tt(r+n*i,yi.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,s=rd.taggedHash,a=this.initNonce(r,await s(yp.aux,i)),{R:f,rx:l,k:h}=this.finalizeNonce(await s(yp.nonce,a,n,e)),b=m5(await s(yp.challenge,l,n,e)),y=this.finalizeSig(f,h,b,r);return await qde(y,e,n)||this.error(),y}calcSync(){let{m:e,d:r,px:n,rand:i}=this,s=rd.taggedHashSync,a=this.initNonce(r,s(yp.aux,i)),{R:f,rx:l,k:h}=this.finalizeNonce(s(yp.nonce,a,n,e)),b=m5(s(yp.challenge,l,n,e)),y=this.finalizeSig(f,h,b,r);return Vde(y,e,n)||this.error(),y}};async function pze(t,e,r){return new g5(t,e,r).calc()}o(pze,"schnorrSign");function mze(t,e,r){return new g5(t,e,r).calcSync()}o(mze,"schnorrSignSync");function Hde(t,e,r){let n=t instanceof ux,i=n?t:ux.fromHex(t);return n&&i.assertValidity(),{...i,m:e1(e),P:lze(r)}}o(Hde,"initSchnorrVerify");function Fde(t,e,r,n){let i=eo.BASE.multiplyAndAddUnsafe(e,Nw(r),Tt(-n,yi.n));return!(!i||!i.hasEvenY()||i.x!==t)}o(Fde,"finalizeSchnorrVerify");async function qde(t,e,r){try{let{r:n,s:i,m:s,P:a}=Hde(t,e,r),f=m5(await rd.taggedHash(yp.challenge,Rw(n),a.toRawX(),s));return Fde(n,a,i,f)}catch{return!1}}o(qde,"schnorrVerify");function Vde(t,e,r){try{let{r:n,s:i,m:s,P:a}=Hde(t,e,r),f=m5(rd.taggedHashSync(yp.challenge,Rw(n),a.toRawX(),s));return Fde(n,a,i,f)}catch(n){if(n instanceof h5)throw n;return!1}}o(Vde,"schnorrVerifySync");var sMt={Signature:ux,getPublicKey:hze,sign:pze,verify:qde,signSync:mze,verifySync:Vde};eo.BASE._setWindowSize(8);var $c={node:nze,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},yp={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},l5={},rd={bytesToHex:fx,hexToBytes:vp,concatBytes:Sw,mod:Tt,invert:y5,isValidPrivateKey(t){try{return Nw(t),!0}catch{return!1}},_bigintTo32Bytes:Rw,_normalizePrivateKey:Nw,hashToPrivateKey:o(t=>{t=e1(t);let e=Tw+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=Tt(Pf(t),yi.n-gi)+gi;return Rw(r)},"hashToPrivateKey"),randomBytes:o((t=32)=>{if($c.web)return $c.web.getRandomValues(new Uint8Array(t));if($c.node){let{randomBytes:e}=$c.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>rd.hashToPrivateKey(rd.randomBytes(Tw+8)),"randomPrivateKey"),precompute(t=8,e=eo.BASE){let r=e===eo.BASE?e:new eo(e.x,e.y);return r._setWindowSize(t),r.multiply(Aw),r},sha256:o(async(...t)=>{if($c.web){let e=await $c.web.subtle.digest("SHA-256",Sw(...t));return new Uint8Array(e)}else if($c.node){let{createHash:e}=$c.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},"sha256"),hmacSha256:o(async(t,...e)=>{if($c.web){let r=await $c.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Sw(...e),i=await $c.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if($c.node){let{createHmac:r}=$c.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},"hmacSha256"),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:o(async(t,...e)=>{let r=l5[t];if(r===void 0){let n=await rd.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Sw(n,n),l5[t]=r}return rd.sha256(r,...e)},"taggedHash"),taggedHashSync:o((t,...e)=>{if(typeof cx!="function")throw new h5("sha256Sync is undefined, you need to set it");let r=l5[t];if(r===void 0){let n=cx(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Sw(n,n),l5[t]=r}return cx(r,...e)},"taggedHashSync"),_JacobianPoint:Na};Object.defineProperties(rd,{sha256Sync:{configurable:!1,get(){return cx},set(t){cx||(cx=t)}},hmacSha256Sync:{configurable:!1,get(){return fD},set(t){fD||(fD=t)}}});m();g();var gze=new Error("Unsupported path."),hs=o((t,e=gze)=>{throw e},"assertNever");m();g();var jde=new RegExp("^[0-9]+'?$"),Mw=2147483648;m();g();m();g();var b5=class extends pp{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,kn.hash(e);let n=Hu(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return kn.exists(this),this.iHash.update(e),this}digestInto(e){kn.exists(this),kn.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},O0=o((t,e,r)=>new b5(t,e).update(r).digest(),"hmac");O0.create=(t,e)=>new b5(t,e);var IMt=new RegExp("^m(\\/[0-9]+')+$");var yze="ed25519 seed",Kde=o(t=>{let e=Buffer.from(O0(td,Buffer.from(yze),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},"getMasterKeyFromSeed"),zde=o(({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=Buffer.concat([Buffer.alloc(1,0),t,n]),s=Buffer.from(O0(td,e,i)).toString("hex"),a=s.slice(0,64),f=s.slice(64);return{key:Buffer.from(a,"hex"),chainCode:Buffer.from(f,"hex")}},"CKDPriv");m();g();var N0=Ze(Yi());var dx=Ze(ts());var bze=N0.Buffer.from("Bitcoin seed"),Gde=vn.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),$de=o(t=>{let e=N0.Buffer.from(O0(td,N0.Buffer.from(bze),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:N0.Buffer.from(r,"hex"),chainCode:N0.Buffer.from(n,"hex")}},"getMasterKeyFromSeed"),Wde=o((t,e)=>{let{key:r,chainCode:n}=t,i=new Uint8Array(37);if(e&Mw)i.set(r,1);else{let y=lx(r,!0);i.set((0,dx.arrayify)(y))}for(let y=24;y>=0;y-=8)i[33+(y>>3)]=e>>24-y&255;let s=N0.Buffer.from(O0(td,n,i)).toString("hex"),a=s.slice(0,64),f=s.slice(64),l=vn.from(`0x${a}`);if(l.gte(Gde))throw new Error("Invalid private key");let h=l.add(`0x${r.toString("hex")}`).mod(Gde);if(h.eq(vn.from(0)))throw new Error("Invalid private key");let b=(0,dx.hexZeroPad)((0,dx.hexlify)(h),32);return{key:N0.Buffer.from(b.replace("0x",""),"hex"),chainCode:N0.Buffer.from(f,"hex")}},"CKDPriv");m();g();var lD=we.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!jde.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."}),Se;(function(t){t.BitcoinTaproot="bitcoinTaproot",t.BitcoinNativeSegwit="bitcoinNativeSegwit",t.BitcoinNestedSegwit="bitcoinNestedSegwit",t.BitcoinLegacy="bitcoinLegacy",t.Bip44RootSolana="bip44Root",t.Bip44Solana="bip44",t.Bip44ChangeSolana="bip44Change",t.DeprecatedSolana="deprecated",t.Bip44RootEthereum="bip44RootEthereum",t.Bip44Ethereum="bip44Ethereum",t.Bip44EthereumSecondary="bip44EthereumSecondary",t.Bip44EthereumTertiary="bip44EthereumTertiary",t.Bip44Sui="bip44Sui"})(Se||(Se={}));var xze=we.union([we.literal(Se.BitcoinTaproot),we.literal(Se.BitcoinNativeSegwit),we.literal(Se.BitcoinNestedSegwit),we.literal(Se.BitcoinLegacy)]),vze=we.union([we.literal(Se.Bip44RootEthereum),we.literal(Se.Bip44Ethereum),we.literal(Se.Bip44EthereumSecondary),we.literal(Se.Bip44EthereumTertiary)]),_ze=we.union([we.literal(Se.Bip44RootSolana),we.literal(Se.Bip44Solana),we.literal(Se.Bip44ChangeSolana),we.literal(Se.DeprecatedSolana)]),wze=we.literal(Se.Bip44Sui);m();g();var Sze=we.union([we.literal(Se.Bip44ChangeSolana),we.literal(Se.Bip44Solana),we.literal(Se.DeprecatedSolana)]),Eze=we.union([we.literal(Se.Bip44Ethereum),we.literal(Se.Bip44EthereumSecondary),we.literal(Se.Bip44EthereumTertiary)]),Aze=we.union([we.literal(Se.BitcoinTaproot),we.literal(Se.BitcoinNativeSegwit),we.literal(Se.BitcoinNestedSegwit),we.literal(Se.BitcoinLegacy)]),Ize=we.literal(Se.Bip44Sui),x5=we.number().int().min(0),Tze=we.object({pathType:we.literal(Se.Bip44RootSolana),index:we.number().optional()}),Rze=we.object({pathType:Sze,index:x5}),Oze=we.object({pathType:we.literal(Se.Bip44RootEthereum),index:we.number().optional()}),Nze=we.object({pathType:Eze,index:x5}),Mze=we.object({pathType:Aze,index:x5}),Cze=we.object({pathType:Ize,index:x5}),Xde=we.union([Tze,Rze,Oze,Nze,Mze,Cze]),Cw=new Error("Invalid derivation path."),Zde=new Error("Unsupported derivation path."),kze=o(t=>{if(!Xde.safeParse(t).success)throw Cw;switch(t.pathType){case Se.BitcoinTaproot:return`m/86'/0'/0'/0/${t.index}`;case Se.BitcoinNativeSegwit:return`m/84'/0'/0'/0/${t.index}`;case Se.BitcoinNestedSegwit:return`m/46'/0'/0'/0/${t.index}`;case Se.BitcoinLegacy:return`m/44'/0'/0'/0/${t.index}`;case Se.Bip44RootEthereum:return"m/44'/60'";case Se.Bip44Ethereum:return`m/44'/60'/0'/0/${t.index}`;case Se.Bip44EthereumSecondary:return`m/44'/60'/1'/0/${t.index}`;case Se.Bip44EthereumTertiary:return`m/44'/60'/2'/0/${t.index}`;case Se.Bip44RootSolana:return"m/44'/501'";case Se.DeprecatedSolana:return`m/501'/${t.index}'/0/0`;case Se.Bip44Solana:return`m/44'/501'/${t.index}'`;case Se.Bip44ChangeSolana:return`m/44'/501'/${t.index}'/0'`;case Se.Bip44Sui:return`m/44'/784'/${t.index}'/0'/0'`}},"getDerivationPath"),Yde=1<<31>>>0,Bze=o(t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw Cw;let r=parseInt(e[0],16),n="m";for(let i=0;i<r;i++){let s="";for(let l=0;l<4;l++)s+=e[1+i*4+l];let a=parseInt(s,16),f=a>=Yde;f&&(a-=Yde),n+=`/${a.toString(10)}${f?"'":""}`}return n}catch{throw Cw}},"parseHexEncodedPayload"),Pze=o(t=>{let e,r=lD.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=Bze(t)}catch{throw Cw}if(e==="m/44'/501'")return{pathType:Se.Bip44RootSolana};if(e==="m/44'/60'")return{pathType:Se.Bip44RootEthereum};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Se.BitcoinTaproot,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Se.BitcoinNativeSegwit,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Se.BitcoinNestedSegwit,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Se.BitcoinLegacy,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Se.Bip44Ethereum,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:Se.Bip44EthereumSecondary,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:Se.Bip44EthereumTertiary,index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:Se.Bip44ChangeSolana,index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:Se.Bip44Solana,index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:Se.DeprecatedSolana,index:parseInt(n[1],10)}}catch{}throw Zde},"parseDerivationPath");m();g();var JMt=new Error("Unsupported path."),Lze=o(t=>{switch(t){case Se.BitcoinTaproot:case Se.BitcoinNativeSegwit:case Se.BitcoinNestedSegwit:case Se.BitcoinLegacy:return!0;case Se.Bip44RootEthereum:case Se.Bip44Ethereum:case Se.Bip44EthereumSecondary:case Se.Bip44EthereumTertiary:case Se.Bip44RootSolana:case Se.Bip44Solana:case Se.Bip44ChangeSolana:case Se.DeprecatedSolana:case Se.Bip44Sui:return!1}},"isBitcoinDerivationPathType"),Dze=o(t=>{switch(t){case Se.BitcoinTaproot:case Se.BitcoinNativeSegwit:case Se.BitcoinNestedSegwit:case Se.BitcoinLegacy:return!1;case Se.Bip44RootEthereum:case Se.Bip44Ethereum:case Se.Bip44EthereumSecondary:case Se.Bip44EthereumTertiary:return!0;case Se.Bip44RootSolana:case Se.Bip44Solana:case Se.Bip44ChangeSolana:case Se.DeprecatedSolana:case Se.Bip44Sui:return!1}},"isEVMDerivationPathType"),Uze=o(t=>{switch(t){case Se.BitcoinTaproot:case Se.BitcoinNativeSegwit:case Se.BitcoinNestedSegwit:case Se.BitcoinLegacy:case Se.Bip44RootEthereum:case Se.Bip44Ethereum:case Se.Bip44EthereumSecondary:case Se.Bip44EthereumTertiary:case Se.Bip44Sui:return!1;case Se.Bip44RootSolana:case Se.Bip44Solana:case Se.Bip44ChangeSolana:case Se.DeprecatedSolana:return!0}},"isSolanaDerivationPathType");R0.sha512Sync=(...t)=>td(R0.concatBytes(...t));var{getPublicKey:Hze}=i5,nd=class{static{o(this,"CachedHDWallet")}#t;#e;constructor(e){this.#t={ellipticCurve:"ed25519",value:Kde(e),nodes:{}},this.#e={ellipticCurve:"secp256k1",value:$de(e),nodes:{}}}derivePathType(e,r){switch(e){case Se.BitcoinTaproot:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Se.BitcoinNativeSegwit:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Se.BitcoinNestedSegwit:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Se.BitcoinLegacy:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Se.Bip44Ethereum:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case Se.Bip44EthereumSecondary:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case Se.Bip44EthereumTertiary:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case Se.Bip44RootEthereum:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case Se.Bip44ChangeSolana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case Se.Bip44Solana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case Se.DeprecatedSolana:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case Se.Bip44RootSolana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case Se.Bip44Sui:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):hs(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:i}=e,s=n.split("/"),a=this.#t;for(let h of s){if(h==="m")continue;if(!a)throw new Error("Cannot derive path, no current node.");let b=a.nodes?.[h]??null;if(!b){let y={ellipticCurve:r,value:zde(a.value,parseInt(h,10)+Mw),nodes:{}};b=y,a.nodes[h]=y}a=b}if(!a)throw new Error(`Unable to derive ${n} on curve ${r}.`);let f=Hze(a.value.key),l;switch(i){case 32:return l=new Uint8Array(32),l.set(a.value.key),{publicKey:f,secretKey:l};case 64:return l=new Uint8Array(64),l.set(a.value.key),l.set(f,32),{publicKey:f,secretKey:l}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:i=!1}=e,s=n.split("/"),a=this.#e;for(let h of s){if(h==="m")continue;if(!a)throw new Error("Cannot derive path, no current node.");let b=a.nodes?.[h]??null;if(!b){let y=0;h.endsWith("'")&&(y=Mw);let E={ellipticCurve:r,value:Wde(a.value,parseInt(h,10)+y),nodes:{}};b=E,a.nodes[h]=E}a=b}if(!a)throw new Error(`Unable to derive ${n} on curve ${r}.`);let f=a.value.key;return{publicKey:lx(f,i),secretKey:new Uint8Array(f)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#t),this.cleanUpTree(this.#e),this.#t=null,this.#e=null}};var v5=class{static{o(this,"BitcoinLegacyAddressType")}type=We.BitcoinLegacy;displayName="Legacy";defaultDerivationPathType=Se.BitcoinLegacy;otherDerivationPathType=[]};m();g();var _5=class{static{o(this,"BitcoinNativeSegwitAddressType")}type=We.BitcoinNativeSegwit;displayName="Native Segwit";defaultDerivationPathType=Se.BitcoinNativeSegwit;otherDerivationPathType=[]};m();g();var w5=class{static{o(this,"BitcoinNestedSegwitAddressType")}type=We.BitcoinNestedSegwit;displayName="Nested Segwit";defaultDerivationPathType=Se.BitcoinNestedSegwit;otherDerivationPathType=[]};m();g();var S5=class{static{o(this,"BitcoinTaprootAddressType")}type=We.BitcoinTaproot;displayName="Taproot";defaultDerivationPathType=Se.BitcoinTaproot;otherDerivationPathType=[]};m();g();var E5=class{static{o(this,"EVMAddressType")}type=We.EVM;displayName="Ethereum";defaultDerivationPathType=Se.Bip44Ethereum;otherDerivationPathType=[Se.Bip44RootEthereum,Se.Bip44EthereumSecondary,Se.Bip44EthereumTertiary]};m();g();var A5=class{static{o(this,"SolanaAddressType")}type=We.Solana;displayName="Solana";defaultDerivationPathType=Se.Bip44ChangeSolana;otherDerivationPathType=[Se.Bip44RootSolana,Se.Bip44Solana,Se.DeprecatedSolana]};m();g();var I5=class{static{o(this,"SuiAddressType")}type=We.Sui;displayName="Sui";defaultDerivationPathType=Se.Bip44Sui;otherDerivationPathType=[]};var dD=class{static{o(this,"AddressTypesClass")}[We.BitcoinTaproot]=new S5;[We.BitcoinNativeSegwit]=new _5;[We.BitcoinNestedSegwit]=new w5;[We.BitcoinLegacy]=new v5;[We.EVM]=new E5;[We.Solana]=new A5;[We.Sui]=new I5;allAddressTypes=Object.values(We);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},t1=new dD;m();g();function Jde(t){return Buffer.from(t).toString("base64")}o(Jde,"toBase64");m();g();m();g();m();g();m();g();var Qde="Do not return the plaintext from .fold(), convert it to something else inside the callback first.",Lf=class t{static{o(this,"ObfuscatedBytes")}#t;#e;constructor(e){let r=e.length,n=iD(r),i=e0e(e,n);this.#e=n,this.#t=i}static from(e){return new t(e)}read=o(e=>{let r=T5(this.#t,this.#e);try{e(r)}finally{this.cleanup(r)}},"read");readAsync=o(async e=>{let r=T5(this.#t,this.#e);try{await e(r)}finally{this.cleanup(r)}},"readAsync");fold=o(e=>{let r=T5(this.#t,this.#e);try{let n=e(r);if(n===r)throw new Error(Qde);return n}finally{this.cleanup(r)}},"fold");foldAsync=o(async e=>{let r=T5(this.#t,this.#e);try{let n=await e(r);if(n===r)throw new Error(Qde);return n}finally{this.cleanup(r)}},"foldAsync");cleanup=o(e=>{let r=iD(e.length),n=e0e(e,r);this.#e=r,this.#t=n,e.fill(0)},"cleanup")},e0e=o((t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},"encrypt"),T5=o((t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},"decrypt");m();g();var qze=o(t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),"encodeBase64URL");m();g();m();g();var hD=/^[A-Za-z0-9-_]*$/;var pD=o(t=>{if(!t.match(hD))throw new Error("Invalid base64URL string");return Buffer.from(t.replace(/-/g,"+").replace(/_/g,"/"),"base64")},"decodeBase64URL");m();g();var t0e=Ze(bu(),1);function Vze(t){let e=pD(t);return t0e.default.encode(e)}o(Vze,"base64URLToBase58");m();g();function jze(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}o(jze,"strip0xPrefix");m();g();m();g();m();g();var R5=class{static{o(this,"KeypairGeneratorChainPluginBitcoin")}addressTypes=[We.BitcoinTaproot,We.BitcoinNativeSegwit,We.BitcoinNestedSegwit,We.BitcoinLegacy];generateKeypairFromPrivateKey(e){let r=e.fold(i=>Buffer.from(i));return{publicKey:lx(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new nd(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};m();g();m();g();m();g();m();g();var n0e=Ze(Sa());m();g();var r0e="properties/5.7.0";var Kze=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(b){try{h(n.next(b))}catch(y){a(y)}}o(f,"fulfilled");function l(b){try{h(n.throw(b))}catch(y){a(y)}}o(l,"rejected");function h(b){b.done?s(b.value):i(b.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},O5=new n0e.Logger(r0e);function Ft(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}o(Ft,"defineReadOnly");function IBt(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}o(IBt,"getStatic");function M0(t){return Kze(this,void 0,void 0,function*(){let e=Object.keys(t).map(n=>{let i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}o(M0,"resolveProperties");function i0e(t,e){(!t||typeof t!="object")&&O5.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||O5.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}o(i0e,"checkProperties");function Bw(t){let e={};for(let r in t)e[r]=t[r];return e}o(Bw,"shallowCopy");var zze={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function o0e(t){if(t==null||zze[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!o0e(n))return!1}return!0}return O5.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}o(o0e,"_isFrozen");function Gze(t){if(o0e(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>kw(e)));if(typeof t=="object"){let e={};for(let r in t){let n=t[r];n!==void 0&&Ft(e,r,kw(n))}return e}return O5.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}o(Gze,"_deepCopy");function kw(t){return Gze(t)}o(kw,"deepCopy");var _p=class{static{o(this,"Description")}constructor(e){for(let r in e)this[r]=kw(e[r])}};var c0e=Ze(Sa());m();g();var s0e="abstract-provider/5.7.0";var $ze=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(b){try{h(n.next(b))}catch(y){a(y)}}o(f,"fulfilled");function l(b){try{h(n.throw(b))}catch(y){a(y)}}o(l,"rejected");function h(b){b.done?s(b.value):i(b.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},Wze=new c0e.Logger(s0e),a0e=class extends _p{static{o(this,"ForkEvent")}static isForkEvent(e){return!!(e&&e._isForkEvent)}};var N5=class t{static{o(this,"Provider")}constructor(){Wze.checkAbstract(new.target,t),Ft(this,"_isProvider",!0)}getFeeData(){return $ze(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield M0({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)}),n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=vn.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};m();g();var id=Ze(Sa());m();g();var f0e="abstract-signer/5.7.0";var Fu=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(b){try{h(n.next(b))}catch(y){a(y)}}o(f,"fulfilled");function l(b){try{h(n.throw(b))}catch(y){a(y)}}o(l,"rejected");function h(b){b.done?s(b.value):i(b.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},Df=new id.Logger(f0e),Yze=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Xze=[id.Logger.errors.INSUFFICIENT_FUNDS,id.Logger.errors.NONCE_EXPIRED,id.Logger.errors.REPLACEMENT_UNDERPRICED],Pw=class t{static{o(this,"Signer")}constructor(){Df.checkAbstract(new.target,t),Ft(this,"_isSigner",!0)}getBalance(e){return Fu(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Fu(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Fu(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield M0(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Fu(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield M0(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Fu(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Fu(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Fu(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Fu(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Fu(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)Yze.indexOf(n)===-1&&Df.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=Bw(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Df.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Fu(this,void 0,void 0,function*(){let r=yield M0(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Fu(this,void 0,void 0,function*(){if(i==null)return null;let s=yield this.resolveName(i);return s==null&&Df.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Df.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Df.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Df.throwError("network does not support EIP-1559",id.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Df.throwError("failed to get consistent fee data",id.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(Xze.indexOf(i.code)>=0)throw i;return Df.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",id.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Df.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield M0(r)})}_checkProvider(e){this.provider||Df.throwError("missing provider",id.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},u0e=class t extends Pw{static{o(this,"VoidSigner")}constructor(e,r){super(),Ft(this,"address",e),Ft(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Df.throwError(e,id.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var ju=Ze(ts());m();g();m();g();m();g();m();g();m();g();var Zze="0x0000000000000000000000000000000000000000";m();g();var Jze=vn.from(-1),mD=vn.from(0),Qze=vn.from(1);var eGe=vn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");m();g();var tGe="0x0000000000000000000000000000000000000000000000000000000000000000";m();g();var gD=Ze(ts()),d0e=Ze(Sa());m();g();var l0e="strings/5.7.0";var h0e=new d0e.Logger(l0e),qu;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(qu||(qu={}));var dc;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(dc||(dc={}));function rGe(t,e,r,n,i){return h0e.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}o(rGe,"errorFunc");function p0e(t,e,r,n,i){if(t===dc.BAD_PREFIX||t===dc.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t===dc.OVERRUN?r.length-e-1:0}o(p0e,"ignoreFunc");function nGe(t,e,r,n,i){return t===dc.OVERLONG?(n.push(i),0):(n.push(65533),p0e(t,e,r,n,i))}o(nGe,"replaceFunc");var m0e=Object.freeze({error:rGe,ignore:p0e,replace:nGe});function g0e(t,e){e==null&&(e=m0e.error),t=(0,gD.arrayify)(t);let r=[],n=0;for(;n<t.length;){let i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(dc.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(dc.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(dc.OVERRUN,n-1,t,r);continue}let f=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let h=t[n];if((h&192)!=128){n+=e(dc.MISSING_CONTINUE,n,t,r),f=null;break}f=f<<6|h&63,n++}if(f!==null){if(f>1114111){n+=e(dc.OUT_OF_RANGE,n-1-s,t,r,f);continue}if(f>=55296&&f<=57343){n+=e(dc.UTF16_SURROGATE,n-1-s,t,r,f);continue}if(f<=a){n+=e(dc.OVERLONG,n-1-s,t,r,f);continue}r.push(f)}}return r}o(g0e,"getUtf8CodePoints");function Wo(t,e=qu.current){e!=qu.current&&(h0e.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");let a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return(0,gD.arrayify)(r)}o(Wo,"toUtf8Bytes");function iGe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}o(iGe,"_toUtf8String");function y0e(t,e){return iGe(g0e(t,e))}o(y0e,"toUtf8String");function yD(t,e=qu.current){return g0e(Wo(t,e))}o(yD,"toUtf8CodePoints");function hx(t){return En(Wo(t))}o(hx,"id");m();g();var px=Ze(ts());var M0e=Ze(Sa());m();g();var M5="hash/5.7.0";m();g();m();g();m();g();m();g();var bD=Ze(ts());function xD(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,bD.arrayify)(e)}o(xD,"decode");function oGe(t){t=(0,bD.arrayify)(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}o(oGe,"encode");m();g();function x0e(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=o(function(s,a){n.call(s,function(f){a>0&&Array.isArray(f)?i(f,a-1):r.push(f)})},"flatDeep");return i(t,e),r}o(x0e,"flat");function sGe(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}o(sGe,"fromEntries");function aGe(t){let e=0;function r(){return t[e++]<<8|t[e++]}o(r,"u16");let n=r(),i=1,s=[0,1];for(let q=1;q<n;q++)s.push(i+=r());let a=r(),f=e;e+=a;let l=0,h=0;function b(){return l==0&&(h=h<<8|t[e++],l=8),h>>--l&1}o(b,"read_bit");let y=31,E=Math.pow(2,y),I=E>>>1,O=I>>1,N=E-1,k=0;for(let q=0;q<y;q++)k=k<<1|b();let C=[],L=0,M=E;for(;;){let q=Math.floor(((k-L+1)*i-1)/M),j=0,re=n;for(;re-j>1;){let S=j+re>>>1;q<s[S]?re=S:j=S}if(j==0)break;C.push(j);let Y=L+Math.floor(M*s[j]/i),X=L+Math.floor(M*s[j+1]/i)-1;for(;!((Y^X)&I);)k=k<<1&N|b(),Y=Y<<1&N,X=X<<1&N|1;for(;Y&~X&O;)k=k&I|k<<1&N>>>1|b(),Y=Y<<1^I,X=(X^I)<<1|I|1;L=Y,M=1+X-Y}let U=n-4;return C.map(q=>{switch(q-U){case 3:return U+65792+(t[f++]<<16|t[f++]<<8|t[f++]);case 2:return U+256+(t[f++]<<8|t[f++]);case 1:return U+t[f++];default:return q-1}})}o(aGe,"decode_arithmetic");function cGe(t){let e=0;return()=>t[e++]}o(cGe,"read_payload");function v0e(t){return cGe(aGe(t))}o(v0e,"read_compressed_payload");function fGe(t){return t&1?~t>>1:t>>1}o(fGe,"signed");function uGe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}o(uGe,"read_counts");function b0e(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}o(b0e,"read_ascending");function lGe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=fGe(e());return r}o(lGe,"read_deltas");function Lw(t,e){let r=b0e(t(),t),n=t(),i=b0e(n,t),s=uGe(n,t);for(let a=0;a<n;a++)for(let f=0;f<s[a];f++)r.push(i[a]+f);return e?r.map(a=>e[a]):r}o(Lw,"read_member_array");function _0e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(hGe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(pGe(r,t))}return sGe(x0e(e))}o(_0e,"read_mapped_map");function dGe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}o(dGe,"read_zero_terminated_array");function w0e(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)lGe(t,r).forEach((s,a)=>n[a].push(s));return n}o(w0e,"read_transposed");function hGe(t,e){let r=1+e(),n=e(),i=dGe(e),s=w0e(i.length,1+t,e);return x0e(s.map((a,f)=>{let l=a[0],h=a.slice(1);return Array(i[f]).fill(void 0).map((b,y)=>{let E=y*n;return[l+y*r,h.map(I=>I+E)]})}))}o(hGe,"read_linear_table");function pGe(t,e){let r=1+e();return w0e(r,1+t,e).map(i=>[i[0],i.slice(1)])}o(pGe,"read_replacement_table");function S0e(t){let e=Lw(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let h=Lw(t,e);if(h.length==0)break;n.push({set:new Set(h),node:r()})}n.sort((h,b)=>b.set.size-h.set.size);let i=t(),s=i%3;i=i/3|0;let a=!!(i&1);i>>=1;let f=i==1,l=i==2;return{branches:n,valid:s,fe0f:a,save:f,check:l}}}o(S0e,"read_emoji_trie");function E0e(){return v0e(xD("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}o(E0e,"getData");var C5=E0e(),mGe=new Set(Lw(C5)),gGe=new Set(Lw(C5)),yGe=_0e(C5),bGe=S0e(C5),A0e=45,I0e=95;function T0e(t){return yD(t)}o(T0e,"explode_cp");function xGe(t){return t.filter(e=>e!=65039)}o(xGe,"filter_fe0f");function R0e(t){for(let e of t.split(".")){let r=T0e(e);try{for(let n=r.lastIndexOf(I0e)-1;n>=0;n--)if(r[n]!==I0e)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===A0e&&r[3]===A0e)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}o(R0e,"ens_normalize_post_check");function O0e(t){return R0e(vGe(t,xGe))}o(O0e,"ens_normalize");function vGe(t,e){let r=T0e(t).reverse(),n=[];for(;r.length;){let i=wGe(r);if(i){n.push(...e(i));continue}let s=r.pop();if(mGe.has(s)){n.push(s);continue}if(gGe.has(s))continue;let a=yGe[s];if(a){n.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return R0e(_Ge(String.fromCodePoint(...n)))}o(vGe,"normalize");function _Ge(t){return t.normalize("NFC")}o(_Ge,"nfc");function wGe(t,e){var r;let n=bGe,i,s,a=[],f=t.length;for(e&&(e.length=0);f;){let l=t[--f];if(n=(r=n.branches.find(h=>h.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;a.push(l),n.fe0f&&(a.push(65039),f>0&&t[f-1]==65039&&f--),n.valid&&(i=a.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(f).reverse()),t.length=f)}return i}o(wGe,"consume_emoji_reversed");var SGe=new M0e.Logger(M5),C0e=new Uint8Array(32);C0e.fill(0);function N0e(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}o(N0e,"checkComponent");function k0e(t){let e=Wo(O0e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(N0e(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(N0e(e.slice(n))),r}o(k0e,"ensNameSplit");function EGe(t){typeof t!="string"&&SGe.throwArgumentError("invalid ENS name; not a string","name",t);let e=C0e,r=k0e(t);for(;r.length;)e=En((0,px.concat)([e,En(r.pop())]));return(0,px.hexlify)(e)}o(EGe,"namehash");function AGe(t){return(0,px.hexlify)((0,px.concat)(k0e(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}o(AGe,"dnsEncode");m();g();var B0e=Ze(ts());var P0e=`Ethereum Signed Message:
`;function vD(t){return typeof t=="string"&&(t=Wo(t)),En((0,B0e.concat)([Wo(P0e),Wo(String(t.length)),t]))}o(vD,"hashMessage");m();g();var Vi=Ze(ts());var H0e=Ze(Sa());var IGe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(b){try{h(n.next(b))}catch(y){a(y)}}o(f,"fulfilled");function l(b){try{h(n.throw(b))}catch(y){a(y)}}o(l,"rejected");function h(b){b.done?s(b.value):i(b.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},Ii=new H0e.Logger(M5),F0e=new Uint8Array(32);F0e.fill(0);var TGe=vn.from(-1),q0e=vn.from(0),V0e=vn.from(1),RGe=vn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function OGe(t){let e=(0,Vi.arrayify)(t),r=e.length%32;return r?(0,Vi.hexConcat)([e,F0e.slice(r)]):(0,Vi.hexlify)(e)}o(OGe,"hexPadRight");var NGe=(0,Vi.hexZeroPad)(V0e.toHexString(),32),MGe=(0,Vi.hexZeroPad)(q0e.toHexString(),32),L0e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},_D=["name","version","chainId","verifyingContract","salt"];function D0e(t){return function(e){return typeof e!="string"&&Ii.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}o(D0e,"checkString");var CGe={name:D0e("name"),version:D0e("version"),chainId:o(function(t){try{return vn.from(t).toString()}catch{}return Ii.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},"chainId"),verifyingContract:o(function(t){try{return rs(t).toLowerCase()}catch{}return Ii.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},"verifyingContract"),salt:o(function(t){try{let e=(0,Vi.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,Vi.hexlify)(e)}catch{}return Ii.throwArgumentError('invalid domain value "salt"',"domain.salt",t)},"salt")};function wD(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Ii.throwArgumentError("invalid numeric width","type",t);let i=RGe.mask(r?n-1:n),s=r?i.add(V0e).mul(TGe):q0e;return function(a){let f=vn.from(a);return(f.lt(s)||f.gt(i))&&Ii.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),(0,Vi.hexZeroPad)(f.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Ii.throwArgumentError("invalid bytes width","type",t),function(n){return(0,Vi.arrayify)(n).length!==r&&Ii.throwArgumentError(`invalid length for ${t}`,"value",n),OGe(n)}}}switch(t){case"address":return function(e){return(0,Vi.hexZeroPad)(rs(e),32)};case"bool":return function(e){return e?NGe:MGe};case"bytes":return function(e){return En(e)};case"string":return function(e){return hx(e)}}return null}o(wD,"getBaseEncoder");function U0e(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}o(U0e,"encodeType");var mx=class t{static{o(this,"TypedDataEncoder")}constructor(e){Ft(this,"types",Object.freeze(kw(e))),Ft(this,"_encoderCache",{}),Ft(this,"_types",{});let r={},n={},i={};Object.keys(e).forEach(f=>{r[f]={},n[f]=[],i[f]={}});for(let f in e){let l={};e[f].forEach(h=>{l[h.name]&&Ii.throwArgumentError(`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(f)}`,"types",e),l[h.name]=!0;let b=h.type.match(/^([^\x5b]*)(\x5b|$)/)[1];b===f&&Ii.throwArgumentError(`circular type reference to ${JSON.stringify(b)}`,"types",e),!wD(b)&&(n[b]||Ii.throwArgumentError(`unknown type ${JSON.stringify(b)}`,"types",e),n[b].push(f),r[f][b]=!0)})}let s=Object.keys(n).filter(f=>n[f].length===0);s.length===0?Ii.throwArgumentError("missing primary type","types",e):s.length>1&&Ii.throwArgumentError(`ambiguous primary types or unused types: ${s.map(f=>JSON.stringify(f)).join(", ")}`,"types",e),Ft(this,"primaryType",s[0]);function a(f,l){l[f]&&Ii.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e),l[f]=!0,Object.keys(r[f]).forEach(h=>{n[h]&&(a(h,l),Object.keys(l).forEach(b=>{i[b][h]=!0}))}),delete l[f]}o(a,"checkCircular"),a(this.primaryType,{});for(let f in i){let l=Object.keys(i[f]);l.sort(),this._types[f]=U0e(f,e[f])+l.map(h=>U0e(h,e[h])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{let i=wD(e);if(i)return i}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],s=this.getEncoder(i),a=parseInt(r[3]);return f=>{a>=0&&f.length!==a&&Ii.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",f);let l=f.map(s);return this._types[i]&&(l=l.map(En)),En((0,Vi.hexConcat)(l))}}let n=this.types[e];if(n){let i=hx(this._types[e]);return s=>{let a=n.map(({name:f,type:l})=>{let h=this.getEncoder(l)(s[f]);return this._types[l]?En(h):h});return a.unshift(i),(0,Vi.hexConcat)(a)}}return Ii.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let r=this._types[e];return r||Ii.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return En(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(wD(e))return n(e,r);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let a=i[1],f=parseInt(i[3]);return f>=0&&r.length!==f&&Ii.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(a,l,n))}let s=this.types[e];return s?s.reduce((a,{name:f,type:l})=>(a[f]=this._visit(l,r[f],n),a),{}):Ii.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){let i=L0e[n];i||Ii.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>_D.indexOf(n.name)-_D.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return(0,Vi.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return En(t.encode(e,r,n))}static resolveNames(e,r,n,i){return IGe(this,void 0,void 0,function*(){e=Bw(e);let s={};e.verifyingContract&&!(0,Vi.isHexString)(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");let a=t.from(r);a.visit(n,(f,l)=>(f==="address"&&!(0,Vi.isHexString)(l,20)&&(s[l]="0x"),l));for(let f in s)s[f]=yield i(f);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(f,l)=>f==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){t.hashDomain(e);let i={},s=[];_D.forEach(l=>{let h=e[l];h!=null&&(i[l]=CGe[l](h),s.push({name:l,type:L0e[l]}))});let a=t.from(r),f=Bw(r);return f.EIP712Domain?Ii.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):f.EIP712Domain=s,a.encode(n),{types:f,domain:i,primaryType:a.primaryType,message:a.visit(n,(l,h)=>{if(l.match(/^bytes(\d*)/))return(0,Vi.hexlify)((0,Vi.arrayify)(h));if(l.match(/^u?int/))return vn.from(h).toString();switch(l){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return typeof h!="string"&&Ii.throwArgumentError("invalid string","value",h),h}return Ii.throwArgumentError("unsupported type","type",l)})}}};m();g();m();g();var SD=Ze(ts());var k5=class{static{o(this,"BaseX")}constructor(e){Ft(this,"alphabet",e),Ft(this,"base",e.length),Ft(this,"_alphabetMap",{}),Ft(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,SD.arrayify)(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let a=r[s];for(let f=0;f<n.length;++f)a+=n[f]<<8,n[f]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<r.length;++a)s+=r[a]*this.base,r[a]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,SD.arrayify)(new Uint8Array(r.reverse()))}},VLt=new k5("abcdefghijklmnopqrstuvwxyz234567"),ED=new k5("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Qr=Ze(ts());m();g();m();g();var wp=Ze(ts()),TD=Ze(ID());function r1(t,e,r,n,i){t=(0,wp.arrayify)(t),e=(0,wp.arrayify)(e);let s,a=1,f=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let h,b;for(let y=1;y<=a;y++){l[e.length]=y>>24&255,l[e.length+1]=y>>16&255,l[e.length+2]=y>>8&255,l[e.length+3]=y&255;let E=(0,wp.arrayify)((0,TD.computeHmac)(i,t,l));s||(s=E.length,b=new Uint8Array(s),a=Math.ceil(n/s),h=n-(a-1)*s),b.set(E);for(let N=1;N<r;N++){E=(0,wp.arrayify)((0,TD.computeHmac)(i,t,E));for(let k=0;k<s;k++)b[k]^=E[k]}let I=(y-1)*s,O=y===a?h:s;f.set((0,wp.arrayify)(b).slice(0,O),I)}return(0,wp.hexlify)(f)}o(r1,"pbkdf2");m();g();m();g();var pr=Ze(ky()),od=Ze(Gb());function gx(t,e,r){return r={path:e,exports:{},require:o(function(n,i){return jGe(n,i??r.path)},"require")},t(r,r.exports),r.exports}o(gx,"createCommonjsModule");function jGe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}o(jGe,"commonjsRequire");var MD=$0e;function $0e(t,e){if(!t)throw new Error(e||"Assertion failed")}o($0e,"assert");$0e.equal=o(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual");var Vu=gx(function(t,e){"use strict";var r=e;function n(a,f){if(Array.isArray(a))return a.slice();if(!a)return[];var l=[];if(typeof a!="string"){for(var h=0;h<a.length;h++)l[h]=a[h]|0;return l}if(f==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var h=0;h<a.length;h+=2)l.push(parseInt(a[h]+a[h+1],16))}else for(var h=0;h<a.length;h++){var b=a.charCodeAt(h),y=b>>8,E=b&255;y?l.push(y,E):l.push(E)}return l}o(n,"toArray"),r.toArray=n;function i(a){return a.length===1?"0"+a:a}o(i,"zero2"),r.zero2=i;function s(a){for(var f="",l=0;l<a.length;l++)f+=i(a[l].toString(16));return f}o(s,"toHex"),r.toHex=s,r.encode=o(function(f,l){return l==="hex"?s(f):f},"encode")}),Wc=gx(function(t,e){"use strict";var r=e;r.assert=MD,r.toArray=Vu.toArray,r.zero2=Vu.zero2,r.toHex=Vu.toHex,r.encode=Vu.encode;function n(l,h,b){var y=new Array(Math.max(l.bitLength(),b)+1);y.fill(0);for(var E=1<<h+1,I=l.clone(),O=0;O<y.length;O++){var N,k=I.andln(E-1);I.isOdd()?(k>(E>>1)-1?N=(E>>1)-k:N=k,I.isubn(N)):N=0,y[O]=N,I.iushrn(1)}return y}o(n,"getNAF"),r.getNAF=n;function i(l,h){var b=[[],[]];l=l.clone(),h=h.clone();for(var y=0,E=0,I;l.cmpn(-y)>0||h.cmpn(-E)>0;){var O=l.andln(3)+y&3,N=h.andln(3)+E&3;O===3&&(O=-1),N===3&&(N=-1);var k;O&1?(I=l.andln(7)+y&7,(I===3||I===5)&&N===2?k=-O:k=O):k=0,b[0].push(k);var C;N&1?(I=h.andln(7)+E&7,(I===3||I===5)&&O===2?C=-N:C=N):C=0,b[1].push(C),2*y===k+1&&(y=1-y),2*E===C+1&&(E=1-E),l.iushrn(1),h.iushrn(1)}return b}o(i,"getJSF"),r.getJSF=i;function s(l,h,b){var y="_"+h;l.prototype[h]=o(function(){return this[y]!==void 0?this[y]:this[y]=b.call(this)},"cachedProperty")}o(s,"cachedProperty"),r.cachedProperty=s;function a(l){return typeof l=="string"?r.toArray(l,"hex"):l}o(a,"parseBytes"),r.parseBytes=a;function f(l){return new pr.default(l,"hex","le")}o(f,"intFromLE"),r.intFromLE=f}),U5=Wc.getNAF,KGe=Wc.getJSF,H5=Wc.assert;function Ep(t,e){this.type=t,this.p=new pr.default(e.p,16),this.red=e.prime?pr.default.red(e.prime):pr.default.mont(this.p),this.zero=new pr.default(0).toRed(this.red),this.one=new pr.default(1).toRed(this.red),this.two=new pr.default(2).toRed(this.red),this.n=e.n&&new pr.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}o(Ep,"BaseCurve");var n1=Ep;Ep.prototype.point=o(function(){throw new Error("Not implemented")},"point");Ep.prototype.validate=o(function(){throw new Error("Not implemented")},"validate");Ep.prototype._fixedNafMul=o(function(e,r){H5(e.precomputed);var n=e._getDoubles(),i=U5(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],f,l;for(f=0;f<i.length;f+=n.step){l=0;for(var h=f+n.step-1;h>=f;h--)l=(l<<1)+i[h];a.push(l)}for(var b=this.jpoint(null,null,null),y=this.jpoint(null,null,null),E=s;E>0;E--){for(f=0;f<a.length;f++)l=a[f],l===E?y=y.mixedAdd(n.points[f]):l===-E&&(y=y.mixedAdd(n.points[f].neg()));b=b.add(y)}return b.toP()},"_fixedNafMul");Ep.prototype._wnafMul=o(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=U5(r,n,this._bitLength),f=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var h=0;l>=0&&a[l]===0;l--)h++;if(l>=0&&h++,f=f.dblp(h),l<0)break;var b=a[l];H5(b!==0),e.type==="affine"?b>0?f=f.mixedAdd(s[b-1>>1]):f=f.mixedAdd(s[-b-1>>1].neg()):b>0?f=f.add(s[b-1>>1]):f=f.add(s[-b-1>>1].neg())}return e.type==="affine"?f.toP():f},"_wnafMul");Ep.prototype._wnafMulAdd=o(function(e,r,n,i,s){var a=this._wnafT1,f=this._wnafT2,l=this._wnafT3,h=0,b,y,E;for(b=0;b<i;b++){E=r[b];var I=E._getNAFPoints(e);a[b]=I.wnd,f[b]=I.points}for(b=i-1;b>=1;b-=2){var O=b-1,N=b;if(a[O]!==1||a[N]!==1){l[O]=U5(n[O],a[O],this._bitLength),l[N]=U5(n[N],a[N],this._bitLength),h=Math.max(l[O].length,h),h=Math.max(l[N].length,h);continue}var k=[r[O],null,null,r[N]];r[O].y.cmp(r[N].y)===0?(k[1]=r[O].add(r[N]),k[2]=r[O].toJ().mixedAdd(r[N].neg())):r[O].y.cmp(r[N].y.redNeg())===0?(k[1]=r[O].toJ().mixedAdd(r[N]),k[2]=r[O].add(r[N].neg())):(k[1]=r[O].toJ().mixedAdd(r[N]),k[2]=r[O].toJ().mixedAdd(r[N].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],L=KGe(n[O],n[N]);for(h=Math.max(L[0].length,h),l[O]=new Array(h),l[N]=new Array(h),y=0;y<h;y++){var M=L[0][y]|0,U=L[1][y]|0;l[O][y]=C[(M+1)*3+(U+1)],l[N][y]=0,f[O]=k}}var q=this.jpoint(null,null,null),j=this._wnafT4;for(b=h;b>=0;b--){for(var re=0;b>=0;){var Y=!0;for(y=0;y<i;y++)j[y]=l[y][b]|0,j[y]!==0&&(Y=!1);if(!Y)break;re++,b--}if(b>=0&&re++,q=q.dblp(re),b<0)break;for(y=0;y<i;y++){var X=j[y];X!==0&&(X>0?E=f[y][X-1>>1]:X<0&&(E=f[y][-X-1>>1].neg()),E.type==="affine"?q=q.mixedAdd(E):q=q.add(E))}}for(b=0;b<i;b++)f[b]=null;return s?q:q.toP()},"_wnafMulAdd");function qf(t,e){this.curve=t,this.type=e,this.precomputed=null}o(qf,"BasePoint");Ep.BasePoint=qf;qf.prototype.eq=o(function(){throw new Error("Not implemented")},"eq");qf.prototype.validate=o(function(){return this.curve.validate(this)},"validate");Ep.prototype.decodePoint=o(function(e,r){e=Wc.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?H5(e[e.length-1]%2===0):e[0]===7&&H5(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");qf.prototype.encodeCompressed=o(function(e){return this.encode(e,!0)},"encodeCompressed");qf.prototype._encode=o(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");qf.prototype.encode=o(function(e,r){return Wc.encode(this._encode(r),e)},"encode");qf.prototype.precompute=o(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");qf.prototype._hasDoubles=o(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");qf.prototype._getDoubles=o(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");qf.prototype._getNAFPoints=o(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");qf.prototype._getBeta=o(function(){return null},"_getBeta");qf.prototype.dblp=o(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp");var CD=gx(function(t){typeof Object.create=="function"?t.exports=o(function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):t.exports=o(function(r,n){if(n){r.super_=n;var i=o(function(){},"TempCtor");i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},"inherits")}),zGe=Wc.assert;function Vf(t){n1.call(this,"short",t),this.a=new pr.default(t.a,16).toRed(this.red),this.b=new pr.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(Vf,"ShortCurve");CD(Vf,n1);var GGe=Vf;Vf.prototype._getEndomorphism=o(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new pr.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new pr.default(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],zGe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new pr.default(f.a,16),b:new pr.default(f.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},"_getEndomorphism");Vf.prototype._getEndoRoots=o(function(e){var r=e===this.p?this.red:pr.default.mont(e),n=new pr.default(2).toRed(r).redInvm(),i=n.redNeg(),s=new pr.default(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),f=i.redSub(s).fromRed();return[a,f]},"_getEndoRoots");Vf.prototype._getEndoBasis=o(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new pr.default(1),a=new pr.default(0),f=new pr.default(0),l=new pr.default(1),h,b,y,E,I,O,N,k=0,C,L;n.cmpn(0)!==0;){var M=i.div(n);C=i.sub(M.mul(n)),L=f.sub(M.mul(s));var U=l.sub(M.mul(a));if(!y&&C.cmp(r)<0)h=N.neg(),b=s,y=C.neg(),E=L;else if(y&&++k===2)break;N=C,i=n,n=C,f=s,s=L,l=a,a=U}I=C.neg(),O=L;var q=y.sqr().add(E.sqr()),j=I.sqr().add(O.sqr());return j.cmp(q)>=0&&(I=h,O=b),y.negative&&(y=y.neg(),E=E.neg()),I.negative&&(I=I.neg(),O=O.neg()),[{a:y,b:E},{a:I,b:O}]},"_getEndoBasis");Vf.prototype._endoSplit=o(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),f=s.mul(n.a),l=a.mul(i.a),h=s.mul(n.b),b=a.mul(i.b),y=e.sub(f).sub(l),E=h.add(b).neg();return{k1:y,k2:E}},"_endoSplit");Vf.prototype.pointFromX=o(function(e,r){e=new pr.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");Vf.prototype.validate=o(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");Vf.prototype._endoWnafMulAdd=o(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(r[a]),l=e[a],h=l._getBeta();f.k1.negative&&(f.k1.ineg(),l=l.neg(!0)),f.k2.negative&&(f.k2.ineg(),h=h.neg(!0)),i[a*2]=l,i[a*2+1]=h,s[a*2]=f.k1,s[a*2+1]=f.k2}for(var b=this._wnafMulAdd(1,i,s,a*2,n),y=0;y<a*2;y++)i[y]=null,s[y]=null;return b},"_endoWnafMulAdd");function Yo(t,e,r,n){n1.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new pr.default(e,16),this.y=new pr.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(Yo,"Point");CD(Yo,n1.BasePoint);Vf.prototype.point=o(function(e,r,n){return new Yo(this,e,r,n)},"point");Vf.prototype.pointFromJSON=o(function(e,r){return Yo.fromJSON(this,e,r)},"pointFromJSON");Yo.prototype._getBeta=o(function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=o(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");Yo.prototype.toJSON=o(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");Yo.fromJSON=o(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(f){return e.point(f[0],f[1],n)}o(s,"obj2point");var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},"fromJSON");Yo.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");Yo.prototype.isInfinity=o(function(){return this.inf},"isInfinity");Yo.prototype.add=o(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");Yo.prototype.dbl=o(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),f=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)},"dbl");Yo.prototype.getX=o(function(){return this.x.fromRed()},"getX");Yo.prototype.getY=o(function(){return this.y.fromRed()},"getY");Yo.prototype.mul=o(function(e){return e=new pr.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");Yo.prototype.mulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");Yo.prototype.jmulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");Yo.prototype.eq=o(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");Yo.prototype.neg=o(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=o(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");Yo.prototype.toJ=o(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function ps(t,e,r,n){n1.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new pr.default(0)):(this.x=new pr.default(e,16),this.y=new pr.default(r,16),this.z=new pr.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(ps,"JPoint");CD(ps,n1.BasePoint);Vf.prototype.jpoint=o(function(e,r,n){return new ps(this,e,r,n)},"jpoint");ps.prototype.toP=o(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");ps.prototype.neg=o(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");ps.prototype.add=o(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),h=a.redSub(f);if(l.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=l.redSqr(),y=b.redMul(l),E=i.redMul(b),I=h.redSqr().redIAdd(y).redISub(E).redISub(E),O=h.redMul(E.redISub(I)).redISub(a.redMul(y)),N=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(I,O,N)},"add");ps.prototype.mixedAdd=o(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),f=n.redSub(i),l=s.redSub(a);if(f.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=f.redSqr(),b=h.redMul(f),y=n.redMul(h),E=l.redSqr().redIAdd(b).redISub(y).redISub(y),I=l.redMul(y.redISub(E)).redISub(s.redMul(b)),O=this.z.redMul(f);return this.curve.jpoint(E,I,O)},"mixedAdd");ps.prototype.dblp=o(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,f=this.y,l=this.z,h=l.redSqr().redSqr(),b=f.redAdd(f);for(r=0;r<e;r++){var y=a.redSqr(),E=b.redSqr(),I=E.redSqr(),O=y.redAdd(y).redIAdd(y).redIAdd(i.redMul(h)),N=a.redMul(E),k=O.redSqr().redISub(N.redAdd(N)),C=N.redISub(k),L=O.redMul(C);L=L.redIAdd(L).redISub(I);var M=b.redMul(l);r+1<e&&(h=h.redMul(I)),a=k,l=M,b=L}return this.curve.jpoint(a,b.redMul(s),l)},"dblp");ps.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");ps.prototype._zeroDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i),h=l.redSqr().redISub(f).redISub(f),b=a.redIAdd(a);b=b.redIAdd(b),b=b.redIAdd(b),e=h,r=l.redMul(f.redISub(h)).redISub(b),n=this.y.redAdd(this.y)}else{var y=this.x.redSqr(),E=this.y.redSqr(),I=E.redSqr(),O=this.x.redAdd(E).redSqr().redISub(y).redISub(I);O=O.redIAdd(O);var N=y.redAdd(y).redIAdd(y),k=N.redSqr(),C=I.redIAdd(I);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(O).redISub(O),r=N.redMul(O.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");ps.prototype._threeDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=l.redSqr().redISub(f).redISub(f);e=h;var b=a.redIAdd(a);b=b.redIAdd(b),b=b.redIAdd(b),r=l.redMul(f.redISub(h)).redISub(b),n=this.y.redAdd(this.y)}else{var y=this.z.redSqr(),E=this.y.redSqr(),I=this.x.redMul(E),O=this.x.redSub(y).redMul(this.x.redAdd(y));O=O.redAdd(O).redIAdd(O);var N=I.redIAdd(I);N=N.redIAdd(N);var k=N.redAdd(N);e=O.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(y);var C=E.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=O.redMul(N.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},"_threeDbl");ps.prototype._dbl=o(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),f=n.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var b=h.redMul(f),y=l.redSqr().redISub(b.redAdd(b)),E=b.redISub(y),I=f.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var O=l.redMul(E).redISub(I),N=n.redAdd(n).redMul(i);return this.curve.jpoint(y,O,N)},"_dbl");ps.prototype.trpl=o(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var l=f.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var b=s.redIAdd(f).redSqr().redISub(a).redISub(l).redISub(h),y=r.redMul(b);y=y.redIAdd(y),y=y.redIAdd(y);var E=this.x.redMul(l).redISub(y);E=E.redIAdd(E),E=E.redIAdd(E);var I=this.y.redMul(b.redMul(h.redISub(b)).redISub(f.redMul(l)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var O=this.z.redAdd(f).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,I,O)},"trpl");ps.prototype.mul=o(function(e,r){return e=new pr.default(e,r),this.curve._wnafMul(this,e)},"mul");ps.prototype.eq=o(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");ps.prototype.eqXToP=o(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");ps.prototype.inspect=o(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");ps.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity");var L5=gx(function(t,e){"use strict";var r=e;r.base=n1,r.short=GGe,r.mont=null,r.edwards=null}),D5=gx(function(t,e){"use strict";var r=e,n=Wc.assert;function i(f){f.type==="short"?this.curve=new L5.short(f):f.type==="edwards"?this.curve=new L5.edwards(f):this.curve=new L5.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o(i,"PresetCurve"),r.PresetCurve=i;function s(f,l){Object.defineProperty(r,f,{configurable:!0,enumerable:!0,get:o(function(){var h=new i(l);return Object.defineProperty(r,f,{configurable:!0,enumerable:!0,value:h}),h},"get")})}o(s,"defineCurve"),s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:od.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:od.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:od.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:od.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:od.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:od.default.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:od.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:od.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function Sp(t){if(!(this instanceof Sp))return new Sp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Vu.toArray(t.entropy,t.entropyEnc||"hex"),r=Vu.toArray(t.nonce,t.nonceEnc||"hex"),n=Vu.toArray(t.pers,t.persEnc||"hex");MD(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}o(Sp,"HmacDRBG");var W0e=Sp;Sp.prototype._init=o(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");Sp.prototype._hmac=o(function(){return new od.default.hmac(this.hash,this.K)},"hmac");Sp.prototype._update=o(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");Sp.prototype.reseed=o(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Vu.toArray(e,r),n=Vu.toArray(n,i),MD(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");Sp.prototype.generate=o(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Vu.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,Vu.encode(a,r)},"generate");var ND=Wc.assert;function ta(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}o(ta,"KeyPair");var kD=ta;ta.fromPublic=o(function(e,r,n){return r instanceof ta?r:new ta(e,{pub:r,pubEnc:n})},"fromPublic");ta.fromPrivate=o(function(e,r,n){return r instanceof ta?r:new ta(e,{priv:r,privEnc:n})},"fromPrivate");ta.prototype.validate=o(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");ta.prototype.getPublic=o(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");ta.prototype.getPrivate=o(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");ta.prototype._importPrivate=o(function(e,r){this.priv=new pr.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");ta.prototype._importPublic=o(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?ND(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&ND(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");ta.prototype.derive=o(function(e){return e.validate()||ND(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");ta.prototype.sign=o(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");ta.prototype.verify=o(function(e,r){return this.ec.verify(e,r,this)},"verify");ta.prototype.inspect=o(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect");var $Ge=Wc.assert;function F5(t,e){if(t instanceof F5)return t;this._importDER(t,e)||($Ge(t.r&&t.s,"Signature without r or s"),this.r=new pr.default(t.r,16),this.s=new pr.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}o(F5,"Signature");var q5=F5;function WGe(){this.place=0}o(WGe,"Position");function RD(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}o(RD,"getLength");function G0e(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}o(G0e,"rmPadding");F5.prototype._importDER=o(function(e,r){e=Wc.toArray(e,r);var n=new WGe;if(e[n.place++]!==48)return!1;var i=RD(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=RD(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var f=RD(e,n);if(f===!1||e.length!==f+n.place)return!1;var l=e.slice(n.place,f+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new pr.default(a),this.s=new pr.default(l),this.recoveryParam=null,!0},"_importDER");function OD(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}o(OD,"constructLength");F5.prototype.toDER=o(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=G0e(r),n=G0e(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];OD(i,r.length),i=i.concat(r),i.push(2),OD(i,n.length);var s=i.concat(n),a=[48];return OD(a,s.length),a=a.concat(s),Wc.encode(a,e)},"toDER");var YGe=o(function(){throw new Error("unsupported")},"rand"),Y0e=Wc.assert;function Ff(t){if(!(this instanceof Ff))return new Ff(t);typeof t=="string"&&(Y0e(Object.prototype.hasOwnProperty.call(D5,t),"Unknown curve "+t),t=D5[t]),t instanceof D5.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}o(Ff,"EC");var XGe=Ff;Ff.prototype.keyPair=o(function(e){return new kD(this,e)},"keyPair");Ff.prototype.keyFromPrivate=o(function(e,r){return kD.fromPrivate(this,e,r)},"keyFromPrivate");Ff.prototype.keyFromPublic=o(function(e,r){return kD.fromPublic(this,e,r)},"keyFromPublic");Ff.prototype.genKeyPair=o(function(e){e||(e={});for(var r=new W0e({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||YGe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new pr.default(2));;){var s=new pr.default(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");Ff.prototype._truncateToN=o(function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");Ff.prototype.sign=o(function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new pr.default(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),f=e.toArray("be",s),l=new W0e({hash:this.hash,entropy:a,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new pr.default(1)),b=0;;b++){var y=i.k?i.k(b):new pr.default(l.generate(this.n.byteLength()));if(y=this._truncateToN(y,!0),!(y.cmpn(1)<=0||y.cmp(h)>=0)){var E=this.g.mul(y);if(!E.isInfinity()){var I=E.getX(),O=I.umod(this.n);if(O.cmpn(0)!==0){var N=y.invm(this.n).mul(O.mul(r.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var k=(E.getY().isOdd()?1:0)|(I.cmp(O)!==0?2:0);return i.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),k^=1),new q5({r:O,s:N,recoveryParam:k})}}}}}},"sign");Ff.prototype.verify=o(function(e,r,n,i){e=this._truncateToN(new pr.default(e,16)),n=this.keyFromPublic(n,i),r=new q5(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),l=f.mul(e).umod(this.n),h=f.mul(s).umod(this.n),b;return this.curve._maxwellTrick?(b=this.g.jmulAdd(l,n.getPublic(),h),b.isInfinity()?!1:b.eqXToP(s)):(b=this.g.mulAdd(l,n.getPublic(),h),b.isInfinity()?!1:b.getX().umod(this.n).cmp(s)===0)},"verify");Ff.prototype.recoverPubKey=function(t,e,r,n){Y0e((3&r)===r,"The recovery param is more than two bits"),e=new q5(e,n);var i=this.n,s=new pr.default(t),a=e.r,f=e.s,l=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var b=e.r.invm(i),y=i.sub(s).mul(b).umod(i),E=f.mul(b).umod(i);return this.g.mulAdd(y,a,E)};Ff.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new q5(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ZGe=gx(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=Wc,r.rand=function(){throw new Error("unsupported")},r.curve=L5,r.curves=D5,r.ec=XGe,r.eddsa=null}),X0e=ZGe.ec;var ci=Ze(ts());var J0e=Ze(Sa());m();g();var Z0e="signing-key/5.7.0";var PD=new J0e.Logger(Z0e),BD=null;function sd(){return BD||(BD=new X0e("secp256k1")),BD}o(sd,"getCurve");var ad=class{static{o(this,"SigningKey")}constructor(e){Ft(this,"curve","secp256k1"),Ft(this,"privateKey",(0,ci.hexlify)(e)),(0,ci.hexDataLength)(this.privateKey)!==32&&PD.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=sd().keyFromPrivate((0,ci.arrayify)(this.privateKey));Ft(this,"publicKey","0x"+r.getPublic(!1,"hex")),Ft(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Ft(this,"_isSigningKey",!0)}_addPoint(e){let r=sd().keyFromPublic((0,ci.arrayify)(this.publicKey)),n=sd().keyFromPublic((0,ci.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=sd().keyFromPrivate((0,ci.arrayify)(this.privateKey)),n=(0,ci.arrayify)(e);n.length!==32&&PD.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return(0,ci.splitSignature)({recoveryParam:i.recoveryParam,r:(0,ci.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,ci.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=sd().keyFromPrivate((0,ci.arrayify)(this.privateKey)),n=sd().keyFromPublic((0,ci.arrayify)(LD(e)));return(0,ci.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function Q0e(t,e){let r=(0,ci.splitSignature)(e),n={r:(0,ci.arrayify)(r.r),s:(0,ci.arrayify)(r.s)};return"0x"+sd().recoverPubKey((0,ci.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}o(Q0e,"recoverPublicKey");function LD(t,e){let r=(0,ci.arrayify)(t);if(r.length===32){let n=new ad(r);return e?"0x"+sd().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,ci.hexlify)(r):"0x"+sd().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+sd().keyFromPublic(r).getPublic(!0,"hex"):(0,ci.hexlify)(r)}return PD.throwArgumentError("invalid public or private key","key","[REDACTED]")}o(LD,"computePublicKey");var hc=Ze(ID());m();g();var cr=Ze(ts());var V5=Ze(Sa());m();g();var ehe="transactions/5.7.0";var na=new V5.Logger(ehe),the;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(the||(the={}));function UD(t){return t==="0x"?null:rs(t)}o(UD,"handleAddress");function ra(t){return t==="0x"?mD:vn.from(t)}o(ra,"handleNumber");var JGe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],QGe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function cd(t){let e=LD(t);return rs((0,cr.hexDataSlice)(En((0,cr.hexDataSlice)(e,1)),12))}o(cd,"computeAddress");function HD(t,e){return cd(Q0e((0,cr.arrayify)(t),e))}o(HD,"recoverAddress");function Yc(t,e){let r=(0,cr.stripZeros)(vn.from(t).toHexString());return r.length>32&&na.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}o(Yc,"formatNumber");function DD(t,e){return{address:rs(t),storageKeys:(e||[]).map((r,n)=>((0,cr.hexDataLength)(r)!==32&&na.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}o(DD,"accessSetify");function FD(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&na.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),DD(r[0],r[1])):DD(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return DD(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}o(FD,"accessListify");function rhe(t){return FD(t).map(e=>[e.address,e.storageKeys])}o(rhe,"formatAccessList");function nhe(t,e){if(t.gasPrice!=null){let n=vn.from(t.gasPrice),i=vn.from(t.maxFeePerGas||0);n.eq(i)||na.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[Yc(t.chainId||0,"chainId"),Yc(t.nonce||0,"nonce"),Yc(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yc(t.maxFeePerGas||0,"maxFeePerGas"),Yc(t.gasLimit||0,"gasLimit"),t.to!=null?rs(t.to):"0x",Yc(t.value||0,"value"),t.data||"0x",rhe(t.accessList||[])];if(e){let n=(0,cr.splitSignature)(e);r.push(Yc(n.recoveryParam,"recoveryParam")),r.push((0,cr.stripZeros)(n.r)),r.push((0,cr.stripZeros)(n.s))}return(0,cr.hexConcat)(["0x02",By(r)])}o(nhe,"_serializeEip1559");function ihe(t,e){let r=[Yc(t.chainId||0,"chainId"),Yc(t.nonce||0,"nonce"),Yc(t.gasPrice||0,"gasPrice"),Yc(t.gasLimit||0,"gasLimit"),t.to!=null?rs(t.to):"0x",Yc(t.value||0,"value"),t.data||"0x",rhe(t.accessList||[])];if(e){let n=(0,cr.splitSignature)(e);r.push(Yc(n.recoveryParam,"recoveryParam")),r.push((0,cr.stripZeros)(n.r)),r.push((0,cr.stripZeros)(n.s))}return(0,cr.hexConcat)(["0x01",By(r)])}o(ihe,"_serializeEip2930");function e$e(t,e){i0e(t,QGe);let r=[];JGe.forEach(function(a){let f=t[a.name]||[],l={};a.numeric&&(l.hexPad="left"),f=(0,cr.arrayify)((0,cr.hexlify)(f,l)),a.length&&f.length!==a.length&&f.length>0&&na.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,f),a.maxLength&&(f=(0,cr.stripZeros)(f),f.length>a.maxLength&&na.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,f)),r.push((0,cr.hexlify)(f))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&na.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,cr.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,cr.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return By(r);let i=(0,cr.splitSignature)(e),s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&na.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&na.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,cr.hexlify)(s)),r.push((0,cr.stripZeros)((0,cr.arrayify)(i.r))),r.push((0,cr.stripZeros)((0,cr.arrayify)(i.s))),By(r)}o(e$e,"_serialize");function qD(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&na.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),e$e(t,e);switch(t.type){case 1:return ihe(t,e);case 2:return nhe(t,e);default:break}return na.throwError(`unsupported transaction type: ${t.type}`,V5.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}o(qD,"serialize");function ohe(t,e,r){try{let n=ra(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{na.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,cr.hexZeroPad)(e[1],32),t.s=(0,cr.hexZeroPad)(e[2],32);try{let n=En(r(t));t.from=HD(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}o(ohe,"_parseEipSignature");function t$e(t){let e=U3(t.slice(1));e.length!==9&&e.length!==12&&na.throwArgumentError("invalid component count for transaction type: 2","payload",(0,cr.hexlify)(t));let r=ra(e[2]),n=ra(e[3]),i={type:2,chainId:ra(e[0]).toNumber(),nonce:ra(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ra(e[4]),to:UD(e[5]),value:ra(e[6]),data:e[7],accessList:FD(e[8])};return e.length===9||(i.hash=En(t),ohe(i,e.slice(9),nhe)),i}o(t$e,"_parseEip1559");function r$e(t){let e=U3(t.slice(1));e.length!==8&&e.length!==11&&na.throwArgumentError("invalid component count for transaction type: 1","payload",(0,cr.hexlify)(t));let r={type:1,chainId:ra(e[0]).toNumber(),nonce:ra(e[1]).toNumber(),gasPrice:ra(e[2]),gasLimit:ra(e[3]),to:UD(e[4]),value:ra(e[5]),data:e[6],accessList:FD(e[7])};return e.length===8||(r.hash=En(t),ohe(r,e.slice(8),ihe)),r}o(r$e,"_parseEip2930");function n$e(t){let e=U3(t);e.length!==9&&e.length!==6&&na.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:ra(e[0]).toNumber(),gasPrice:ra(e[1]),gasLimit:ra(e[2]),to:UD(e[3]),value:ra(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=vn.from(e[6]).toNumber()}catch{return r}if(r.r=(0,cr.hexZeroPad)(e[7],32),r.s=(0,cr.hexZeroPad)(e[8],32),vn.from(r.r).isZero()&&vn.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=e.slice(0,6);r.chainId!==0&&(i.push((0,cr.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);let s=En(By(i));try{r.from=HD(s,{r:(0,cr.hexlify)(r.r),s:(0,cr.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=En(t)}return r.type=null,r}o(n$e,"_parse");function FDt(t){let e=(0,cr.arrayify)(t);if(e[0]>127)return n$e(e);switch(e[0]){case 1:return r$e(e);case 2:return t$e(e);default:break}return na.throwError(`unsupported transaction type: ${e[0]}`,V5.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}o(FDt,"parse");m();g();m();g();var ahe=Ze(Sa());m();g();var she="wordlists/5.7.0";var i$e=!1,o$e=new ahe.Logger(she),yx=class t{static{o(this,"Wordlist")}constructor(e){o$e.checkAbstract(new.target,t),Ft(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return hx(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),i$e)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||Ft(n._ethers.wordlists,r,e))}catch{}}};m();g();m();g();var s$e="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",Fw=null;function che(t){if(Fw==null&&(Fw=s$e.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),yx.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Fw=null,new Error("BIP39 Wordlist for en (English) FAILED")}o(che,"loadWords");var VD=class extends yx{static{o(this,"LangEn")}constructor(){super("en")}getWord(e){return che(this),Fw[e]}getWordIndex(e){return che(this),Fw.indexOf(e)}},jD=new VD;yx.register(jD);var j5={en:jD};var lhe=Ze(Sa());m();g();var fhe="hdnode/5.7.0";var z5=new lhe.Logger(fhe),a$e=vn.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),c$e=Wo("Bitcoin seed"),qw=2147483648;function dhe(t){return(1<<t)-1<<8-t}o(dhe,"getUpperMask");function f$e(t){return(1<<t)-1}o(f$e,"getLowerMask");function K5(t){return(0,Qr.hexZeroPad)((0,Qr.hexlify)(t),32)}o(K5,"bytes32");function uhe(t){return ED.encode((0,Qr.concat)([t,(0,Qr.hexDataSlice)((0,hc.sha256)((0,hc.sha256)(t)),0,4)]))}o(uhe,"base58check");function KD(t){if(t==null)return j5.en;if(typeof t=="string"){let e=j5[t];return e==null&&z5.throwArgumentError("unknown locale","wordlist",t),e}return t}o(KD,"getWordlist");var bx={},i1="m/44'/60'/0'/0/0",Ap=class t{static{o(this,"HDNode")}constructor(e,r,n,i,s,a,f,l){if(e!==bx)throw new Error("HDNode constructor cannot be called directly");if(r){let h=new ad(r);Ft(this,"privateKey",h.privateKey),Ft(this,"publicKey",h.compressedPublicKey)}else Ft(this,"privateKey",null),Ft(this,"publicKey",(0,Qr.hexlify)(n));Ft(this,"parentFingerprint",i),Ft(this,"fingerprint",(0,Qr.hexDataSlice)((0,hc.ripemd160)((0,hc.sha256)(this.publicKey)),0,4)),Ft(this,"address",cd(this.publicKey)),Ft(this,"chainCode",s),Ft(this,"index",a),Ft(this,"depth",f),l==null?(Ft(this,"mnemonic",null),Ft(this,"path",null)):typeof l=="string"?(Ft(this,"mnemonic",null),Ft(this,"path",l)):(Ft(this,"mnemonic",l),Ft(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return uhe((0,Qr.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,Qr.hexlify)(this.depth),this.parentFingerprint,(0,Qr.hexZeroPad)((0,Qr.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,Qr.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t(bx,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~qw));let n=new Uint8Array(37);if(e&qw){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,Qr.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,Qr.arrayify)(this.publicKey));for(let y=24;y>=0;y-=8)n[33+(y>>3)]=e>>24-y&255;let i=(0,Qr.arrayify)((0,hc.computeHmac)(hc.SupportedAlgorithm.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32),f=null,l=null;this.privateKey?f=K5(vn.from(s).add(this.privateKey).mod(a$e)):l=new ad((0,Qr.hexlify)(s))._addPoint(this.publicKey);let h=r,b=this.mnemonic;return b&&(h=Object.freeze({phrase:b.phrase,path:r,locale:b.locale||"en"})),new t(bx,f,l,this.fingerprint,K5(a),e,this.depth+1,h)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let s=r[i];if(s.match(/^[0-9]+'$/)){let a=parseInt(s.substring(0,s.length-1));if(a>=qw)throw new Error("invalid path index - "+s);n=n._derive(qw+a)}else if(s.match(/^[0-9]+$/)){let a=parseInt(s);if(a>=qw)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){let n=(0,Qr.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=(0,Qr.arrayify)((0,hc.computeHmac)(hc.SupportedAlgorithm.sha512,c$e,n));return new t(bx,K5(i.slice(0,32)),null,"0x00000000",K5(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=KD(n),e=Vw(zD(e,n),n),t._fromSeed(u$e(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=ED.decode(e);(r.length!==82||uhe(r.slice(0,78))!==e)&&z5.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=(0,Qr.hexlify)(r.slice(5,9)),s=parseInt((0,Qr.hexlify)(r.slice(9,13)).substring(2),16),a=(0,Qr.hexlify)(r.slice(13,45)),f=r.slice(45,78);switch((0,Qr.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(bx,null,(0,Qr.hexlify)(f),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(f[0]!==0)break;return new t(bx,(0,Qr.hexlify)(f.slice(1)),null,i,a,s,n,null)}return z5.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function u$e(t,e){e||(e="");let r=Wo("mnemonic"+e,qu.NFKD);return r1(Wo(t,qu.NFKD),r,2048,64,"sha512")}o(u$e,"mnemonicToSeed");function zD(t,e){e=KD(e),z5.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,Qr.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let h=0;h<r.length;h++){let b=e.getWordIndex(r[h].normalize("NFKD"));if(b===-1)throw new Error("invalid mnemonic");for(let y=0;y<11;y++)b&1<<10-y&&(n[i>>3]|=1<<7-i%8),i++}let s=32*r.length/3,a=r.length/3,f=dhe(a);if(((0,Qr.arrayify)((0,hc.sha256)(n.slice(0,s/8)))[0]&f)!==(n[n.length-1]&f))throw new Error("invalid checksum");return(0,Qr.hexlify)(n.slice(0,s/8))}o(zD,"mnemonicToEntropy");function Vw(t,e){if(e=KD(e),t=(0,Qr.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&f$e(8-n)),n+=3);let i=t.length/4,s=(0,Qr.arrayify)((0,hc.sha256)(t))[0]&dhe(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(a=>e.getWord(a)))}o(Vw,"entropyToMnemonic");m();g();m();g();var mhe=Ze(ts()),$D=Ze(Sa());m();g();var hhe="random/5.7.0";var GD=new $D.Logger(hhe);function l$e(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}o(l$e,"getGlobal");var phe=l$e(),G5=phe.crypto||phe.msCrypto;(!G5||!G5.getRandomValues)&&(GD.warn("WARNING: Missing strong random number source"),G5={getRandomValues:o(function(t){return GD.throwError("no secure random source avaialble",$D.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})},"getRandomValues")});function Ip(t){(t<=0||t>1024||t%1||t!=t)&&GD.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return G5.getRandomValues(e),(0,mhe.arrayify)(e)}o(Ip,"randomBytes");m();g();m();g();var XD=Ze(YD());var ZD=Ze(ts());var bhe=Ze(Sa());m();g();var $5="json-wallets/5.7.0";m();g();var xx=Ze(ts());function C0(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,xx.arrayify)(t)}o(C0,"looseArrayify");function vx(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}o(vx,"zpad");function jw(t){return typeof t=="string"?Wo(t,qu.NFKC):(0,xx.arrayify)(t)}o(jw,"getPassword");function Ti(t,e){let r=t,n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(let a in r)if(a.toLowerCase()===n[i]){s=r[a];break}if(s===null)return null;r=s}return r}o(Ti,"searchPath");function yhe(t){let e=(0,xx.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,xx.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}o(yhe,"uuidV4");var d$e=new bhe.Logger($5),JD=class extends _p{static{o(this,"CrowdsaleAccount")}isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function QD(t,e){let r=JSON.parse(t);e=jw(e);let n=rs(Ti(r,"ethaddr")),i=C0(Ti(r,"encseed"));(!i||i.length%16!==0)&&d$e.throwArgumentError("invalid encseed","json",t);let s=(0,ZD.arrayify)(r1(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),f=i.slice(16),l=new XD.default.ModeOfOperation.cbc(s,a),h=XD.default.padding.pkcs7.strip((0,ZD.arrayify)(l.decrypt(f))),b="";for(let I=0;I<h.length;I++)b+=String.fromCharCode(h[I]);let y=Wo(b),E=En(y);return new JD({_isCrowdsaleAccount:!0,address:n,privateKey:E})}o(QD,"decrypt");m();g();function eU(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}o(eU,"isCrowdsaleWallet");function tU(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}o(tU,"isKeystoreWallet");m();g();var k0=Ze(YD()),Y5=Ze(vhe());var Ri=Ze(ts());var W5=Ze(Sa());var h$e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(b){try{h(n.next(b))}catch(y){a(y)}}o(f,"fulfilled");function l(b){try{h(n.throw(b))}catch(y){a(y)}}o(l,"rejected");function h(b){b.done?s(b.value):i(b.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},nU=new W5.Logger($5);function _he(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}o(_he,"hasMnemonic");var iU=class extends _p{static{o(this,"KeystoreAccount")}isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function p$e(t,e,r){if(Ti(t,"crypto/cipher")==="aes-128-ctr"){let i=C0(Ti(t,"crypto/cipherparams/iv")),s=new k0.default.Counter(i),a=new k0.default.ModeOfOperation.ctr(e,s);return(0,Ri.arrayify)(a.decrypt(r))}return null}o(p$e,"_decrypt");function whe(t,e){let r=C0(Ti(t,"crypto/ciphertext"));if((0,Ri.hexlify)(En((0,Ri.concat)([e.slice(16,32),r]))).substring(2)!==Ti(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=p$e(t,e.slice(0,16),r);i||nU.throwError("unsupported cipher",W5.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let s=e.slice(32,64),a=cd(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),rs(l)!==a)throw new Error("address mismatch")}let f={_isKeystoreAccount:!0,address:a,privateKey:(0,Ri.hexlify)(i)};if(Ti(t,"x-ethers/version")==="0.1"){let l=C0(Ti(t,"x-ethers/mnemonicCiphertext")),h=C0(Ti(t,"x-ethers/mnemonicCounter")),b=new k0.default.Counter(h),y=new k0.default.ModeOfOperation.ctr(s,b),E=Ti(t,"x-ethers/path")||i1,I=Ti(t,"x-ethers/locale")||"en",O=(0,Ri.arrayify)(y.decrypt(l));try{let N=Vw(O,I),k=Ap.fromMnemonic(N,null,I).derivePath(E);if(k.privateKey!=f.privateKey)throw new Error("mnemonic mismatch");f.mnemonic=k.mnemonic}catch(N){if(N.code!==W5.Logger.errors.INVALID_ARGUMENT||N.argument!=="wordlist")throw N}}return new iU(f)}o(whe,"_getAccount");function She(t,e,r,n,i){return(0,Ri.arrayify)(r1(t,e,r,n,i))}o(She,"pbkdf2Sync");function m$e(t,e,r,n,i){return Promise.resolve(She(t,e,r,n,i))}o(m$e,"pbkdf2");function Ehe(t,e,r,n,i){let s=jw(e),a=Ti(t,"crypto/kdf");if(a&&typeof a=="string"){let f=o(function(l,h){return nU.throwArgumentError("invalid key-derivation function parameters",l,h)},"throwError");if(a.toLowerCase()==="scrypt"){let l=C0(Ti(t,"crypto/kdfparams/salt")),h=parseInt(Ti(t,"crypto/kdfparams/n")),b=parseInt(Ti(t,"crypto/kdfparams/r")),y=parseInt(Ti(t,"crypto/kdfparams/p"));(!h||!b||!y)&&f("kdf",a),h&h-1&&f("N",h);let E=parseInt(Ti(t,"crypto/kdfparams/dklen"));return E!==32&&f("dklen",E),n(s,l,h,b,y,64,i)}else if(a.toLowerCase()==="pbkdf2"){let l=C0(Ti(t,"crypto/kdfparams/salt")),h=null,b=Ti(t,"crypto/kdfparams/prf");b==="hmac-sha256"?h="sha256":b==="hmac-sha512"?h="sha512":f("prf",b);let y=parseInt(Ti(t,"crypto/kdfparams/c")),E=parseInt(Ti(t,"crypto/kdfparams/dklen"));return E!==32&&f("dklen",E),r(s,l,y,E,h)}}return nU.throwArgumentError("unsupported key-derivation function","kdf",a)}o(Ehe,"_computeKdfKey");function Ahe(t,e){let r=JSON.parse(t),n=Ehe(r,e,She,Y5.default.syncScrypt);return whe(r,n)}o(Ahe,"decryptSync");function Ihe(t,e,r){return h$e(this,void 0,void 0,function*(){let n=JSON.parse(t),i=yield Ehe(n,e,m$e,Y5.default.scrypt,r);return whe(n,i)})}o(Ihe,"decrypt");function oU(t,e,r,n){try{if(rs(t.address)!==cd(t.privateKey))throw new Error("address/privateKey mismatch");if(_he(t)){let k=t.mnemonic;if(Ap.fromMnemonic(k.phrase,null,k.locale).derivePath(k.path||i1).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(k){return Promise.reject(k)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=(0,Ri.arrayify)(t.privateKey),s=jw(e),a=null,f=null,l=null;if(_he(t)){let k=t.mnemonic;a=(0,Ri.arrayify)(zD(k.phrase,k.locale||"en")),f=k.path||i1,l=k.locale||"en"}let h=r.client;h||(h="ethers.js");let b=null;r.salt?b=(0,Ri.arrayify)(r.salt):b=Ip(32);let y=null;if(r.iv){if(y=(0,Ri.arrayify)(r.iv),y.length!==16)throw new Error("invalid iv")}else y=Ip(16);let E=null;if(r.uuid){if(E=(0,Ri.arrayify)(r.uuid),E.length!==16)throw new Error("invalid uuid")}else E=Ip(16);let I=1<<17,O=8,N=1;return r.scrypt&&(r.scrypt.N&&(I=r.scrypt.N),r.scrypt.r&&(O=r.scrypt.r),r.scrypt.p&&(N=r.scrypt.p)),Y5.default.scrypt(s,b,I,O,N,64,n).then(k=>{k=(0,Ri.arrayify)(k);let C=k.slice(0,16),L=k.slice(16,32),M=k.slice(32,64),U=new k0.default.Counter(y),q=new k0.default.ModeOfOperation.ctr(C,U),j=(0,Ri.arrayify)(q.encrypt(i)),re=En((0,Ri.concat)([L,j])),Y={address:t.address.substring(2).toLowerCase(),id:yhe(E),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Ri.hexlify)(y).substring(2)},ciphertext:(0,Ri.hexlify)(j).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Ri.hexlify)(b).substring(2),n:I,dklen:32,p:N,r:O},mac:re.substring(2)}};if(a){let X=Ip(16),S=new k0.default.Counter(X),c=new k0.default.ModeOfOperation.ctr(M,S),d=(0,Ri.arrayify)(c.encrypt(a)),p=new Date,x=p.getUTCFullYear()+"-"+vx(p.getUTCMonth()+1,2)+"-"+vx(p.getUTCDate(),2)+"T"+vx(p.getUTCHours(),2)+"-"+vx(p.getUTCMinutes(),2)+"-"+vx(p.getUTCSeconds(),2)+".0Z";Y["x-ethers"]={client:h,gethFilename:"UTC--"+x+"--"+Y.address,mnemonicCounter:(0,Ri.hexlify)(X).substring(2),mnemonicCiphertext:(0,Ri.hexlify)(d).substring(2),path:f,locale:l,version:"0.1"}}return JSON.stringify(Y)})}o(oU,"encrypt");function The(t,e,r){if(eU(t)){r&&r(0);let n=QD(t,e);return r&&r(1),Promise.resolve(n)}return tU(t)?Ihe(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}o(The,"decryptJsonWallet");function Rhe(t,e){if(eU(t))return QD(t,e);if(tU(t))return Ahe(t,e);throw new Error("invalid JSON wallet")}o(Rhe,"decryptJsonWalletSync");var sU=Ze(Sa());m();g();var Ohe="wallet/5.7.0";var Nhe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(b){try{h(n.next(b))}catch(y){a(y)}}o(f,"fulfilled");function l(b){try{h(n.throw(b))}catch(y){a(y)}}o(l,"rejected");function h(b){b.done?s(b.value):i(b.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},_x=new sU.Logger(Ohe);function g$e(t){return t!=null&&(0,ju.isHexString)(t.privateKey,32)&&t.address!=null}o(g$e,"isAccount");function y$e(t){let e=t.mnemonic;return e&&e.phrase}o(y$e,"hasMnemonic");var wx=class t extends Pw{static{o(this,"Wallet")}constructor(e,r){if(super(),g$e(e)){let n=new ad(e.privateKey);if(Ft(this,"_signingKey",()=>n),Ft(this,"address",cd(this.publicKey)),this.address!==rs(e.address)&&_x.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),y$e(e)){let i=e.mnemonic;Ft(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||i1,locale:i.locale||"en"}));let s=this.mnemonic,a=Ap.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);cd(a.privateKey)!==this.address&&_x.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Ft(this,"_mnemonic",()=>null)}else{if(ad.isSigningKey(e))e.curve!=="secp256k1"&&_x.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Ft(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new ad(e);Ft(this,"_signingKey",()=>n)}Ft(this,"_mnemonic",()=>null),Ft(this,"address",cd(this.publicKey))}r&&!N5.isProvider(r)&&_x.throwArgumentError("invalid provider","provider",r),Ft(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return M0(e).then(r=>{r.from!=null&&(rs(r.from)!==this.address&&_x.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest(En(qD(r)));return qD(r,n)})}signMessage(e){return Nhe(this,void 0,void 0,function*(){return(0,ju.joinSignature)(this._signingKey().signDigest(vD(e)))})}_signTypedData(e,r,n){return Nhe(this,void 0,void 0,function*(){let i=yield mx.resolveNames(e,r,n,s=>(this.provider==null&&_x.throwError("cannot resolve ENS names without a provider",sU.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return(0,ju.joinSignature)(this._signingKey().signDigest(mx.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),oU(this,e,r,n)}static createRandom(e){let r=Ip(16);e||(e={}),e.extraEntropy&&(r=(0,ju.arrayify)((0,ju.hexDataSlice)(En((0,ju.concat)([r,e.extraEntropy])),0,16)));let n=Vw(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return The(e,r,n).then(i=>new t(i))}static fromEncryptedJsonSync(e,r){return new t(Rhe(e,r))}static fromMnemonic(e,r,n){return r||(r=i1),new t(Ap.fromMnemonic(e,null,n).derivePath(r))}};var X5=class{static{o(this,"KeypairGeneratorChainPluginEthereum")}addressTypes=[We.EVM];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new wx(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new nd(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};m();g();m();g();R0.sha512Sync=(...t)=>td(R0.concatBytes(...t));var{getPublicKey:b$e}=i5,aU=o(t=>{let e=b$e(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},"getDeprecatedSolanaKeyPairFromPrivateKey");var Z5=class{static{o(this,"KeypairGeneratorChainPluginSolana")}addressTypes=[We.Solana];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new bf.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new nd(s));try{let s=i.derivePathType(n,r);switch(n){case Se.BitcoinTaproot:case Se.BitcoinNativeSegwit:case Se.BitcoinNestedSegwit:case Se.BitcoinLegacy:case Se.Bip44RootSolana:case Se.Bip44Solana:case Se.Bip44ChangeSolana:case Se.Bip44RootEthereum:case Se.Bip44Ethereum:case Se.Bip44EthereumSecondary:case Se.Bip44EthereumTertiary:case Se.Bip44Sui:return{publicKey:s.publicKey,privateKey:s.secretKey};case Se.DeprecatedSolana:{let a=aU(s.secretKey);return{publicKey:a.publicKey,privateKey:a.secretKey}}}}finally{i.cleanup()}}};m();g();m();g();m();g();m();g();m();g();m();g();m();g();function x$e(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<t.length;h++){let b=t.charAt(h),y=b.charCodeAt(0);if(e[y]!==255)throw new TypeError(b+" is ambiguous");e[y]=h}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function a(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let b=0,y=0,E=0,I=h.length;for(;E!==I&&h[E]===0;)E++,b++;let O=(I-E)*s+1>>>0,N=new Uint8Array(O);for(;E!==I;){let L=h[E],M=0;for(let U=O-1;(L!==0||M<y)&&U!==-1;U--,M++)L+=256*N[U]>>>0,N[U]=L%r>>>0,L=L/r>>>0;if(L!==0)throw new Error("Non-zero carry");y=M,E++}let k=O-y;for(;k!==O&&N[k]===0;)k++;let C=n.repeat(b);for(;k<O;++k)C+=t.charAt(N[k]);return C}o(a,"encode");function f(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let b=0,y=0,E=0;for(;h[b]===n;)y++,b++;let I=(h.length-b)*i+1>>>0,O=new Uint8Array(I);for(;h[b];){let L=e[h.charCodeAt(b)];if(L===255)return;let M=0;for(let U=I-1;(L!==0||M<E)&&U!==-1;U--,M++)L+=r*O[U]>>>0,O[U]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");E=M,b++}let N=I-E;for(;N!==I&&O[N]===0;)N++;let k=new Uint8Array(y+(I-N)),C=y;for(;N!==I;)k[C++]=O[N++];return k}o(f,"decodeUnsafe");function l(h){let b=f(h);if(b)return b;throw new Error("Non-base"+r+" character")}return o(l,"decode"),{encode:a,decodeUnsafe:f,decode:l}}o(x$e,"base");var Mhe=x$e;var v$e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",cU=Mhe(v$e);var o1=o(t=>cU.encode(t),"toBase58"),s1=o(t=>cU.decode(t),"fromBase58");m();g();function Xo(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}o(Xo,"fromBase64");var fU=8192;function Oi(t){if(t.length<fU)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=fU){let n=t.slice(r,r+fU);e+=String.fromCharCode(...n)}return btoa(e)}o(Oi,"toBase64");m();g();m();g();function Tp(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}o(Tp,"fromHex");function jf(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}o(jf,"toHex");m();g();m();g();function Sx(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}o(Sx,"ulebEncode");function Che(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}o(Che,"ulebDecode");var J5=class{static{o(this,"BcsReader")}constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=Che(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};m();g();m();g();function uU(t,e){switch(e){case"base58":return o1(t);case"base64":return Oi(t);case"hex":return jf(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}o(uU,"encodeStr");function lU(t,e=["<",">"]){let[r,n]=e,i=[],s="",a=0;for(let f=0;f<t.length;f++){let l=t[f];if(l===r&&a++,l===n&&a--,a===0&&l===","){i.push(s.trim()),s="";continue}s+=l}return i.push(s.trim()),i}o(lU,"splitGenericParameters");var Q5=class{static{o(this,"BcsWriter")}constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return dU(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return dU(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return dU(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return Sx(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return uU(this.toBytes(),e)}};function dU(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}o(dU,"toLittleEndian");var khe=o(t=>{throw TypeError(t)},"__typeError"),Bhe=o((t,e,r)=>e.has(t)||khe("Cannot "+r),"__accessCheck"),Ku=o((t,e,r)=>(Bhe(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),tI=o((t,e,r)=>e.has(t)?khe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),rI=o((t,e,r,n)=>(Bhe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),Ex,Kw,eI,Rp,_$e=class Phe{static{o(this,"_BcsType")}constructor(e){tI(this,Ex),tI(this,Kw),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),rI(this,Ex,e.write),rI(this,Kw,e.serialize??((r,n)=>{let i=new Q5({initialSize:this.serializedSize(r)??void 0,...n});return Ku(this,Ex).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),Ku(this,Ex).call(this,e,r)}serialize(e,r){return this.validate(e),new hU(this,Ku(this,Kw).call(this,e,r))}parse(e){let r=new J5(e);return this.read(r)}fromHex(e){return this.parse(Tp(e))}fromBase58(e){return this.parse(s1(e))}fromBase64(e){return this.parse(Xo(e))}transform({name:e,input:r,output:n,validate:i}){return new Phe({name:e??this.name,read:o(s=>n(this.read(s)),"read"),write:o((s,a)=>Ku(this,Ex).call(this,r(s),a),"write"),serializedSize:o(s=>this.serializedSize(r(s)),"serializedSize"),serialize:o((s,a)=>Ku(this,Kw).call(this,r(s),a),"serialize"),validate:o(s=>{i?.(s),this.validate(r(s))},"validate")})}};Ex=new WeakMap;Kw=new WeakMap;var fd=_$e,w$e=Symbol.for("@mysten/serialized-bcs");var hU=class{static{o(this,"SerializedBcs")}constructor(e,r){tI(this,eI),tI(this,Rp),rI(this,eI,e),rI(this,Rp,r)}get[w$e](){return!0}toBytes(){return Ku(this,Rp)}toHex(){return jf(Ku(this,Rp))}toBase64(){return Oi(Ku(this,Rp))}toBase58(){return o1(Ku(this,Rp))}parse(){return Ku(this,eI).parse(Ku(this,Rp))}};eI=new WeakMap;Rp=new WeakMap;function zw({size:t,...e}){return new fd({...e,serializedSize:o(()=>t,"serializedSize")})}o(zw,"fixedSizeBcsType");function nI({readMethod:t,writeMethod:e,...r}){return zw({...r,read:o(n=>n[t](),"read"),write:o((n,i)=>i[e](n),"write"),validate:o(n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)},"validate")})}o(nI,"uIntBcsType");function iI({readMethod:t,writeMethod:e,...r}){return zw({...r,read:o(n=>n[t](),"read"),write:o((n,i)=>i[e](BigInt(n)),"write"),validate:o(n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)},"validate")})}o(iI,"bigUIntBcsType");function Lhe({serialize:t,...e}){let r=new fd({...e,serialize:t,write:o((n,i)=>{for(let s of r.serialize(n).toBytes())i.write8(s)},"write")});return r}o(Lhe,"dynamicSizeBcsType");function Dhe({toBytes:t,fromBytes:e,...r}){return new fd({...r,read:o(n=>{let i=n.readULEB(),s=n.readBytes(i);return e(s)},"read"),write:o((n,i)=>{let s=t(n);i.writeULEB(s.length);for(let a=0;a<s.length;a++)i.write8(s[a])},"write"),serialize:o(n=>{let i=t(n),s=Sx(i.length),a=new Uint8Array(s.length+i.length);return a.set(s,0),a.set(i,s.length),a},"serialize"),validate:o(n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)},"validate")})}o(Dhe,"stringLikeBcsType");function Uhe(t){let e=null;function r(){return e||(e=t()),e}return o(r,"getType"),new fd({name:"lazy",read:o(n=>r().read(n),"read"),serializedSize:o(n=>r().serializedSize(n),"serializedSize"),write:o((n,i)=>r().write(n,i),"write"),serialize:o((n,i)=>r().serialize(n,i).toBytes(),"serialize")})}o(Uhe,"lazyBcsType");m();g();var ie={u8(t){return nI({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return nI({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return nI({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return iI({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return iI({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return iI({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return zw({name:"bool",size:1,read:o(e=>e.read8()===1,"read"),write:o((e,r)=>r.write8(e?1:0),"write"),...t,validate:o(e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)},"validate")})},uleb128(t){return Lhe({name:"uleb128",read:o(e=>e.readULEB(),"read"),serialize:o(e=>Uint8Array.from(Sx(e)),"serialize"),...t})},bytes(t,e){return zw({name:`bytes[${t}]`,size:t,read:o(r=>r.readBytes(t),"read"),write:o((r,n)=>{let i=new Uint8Array(r);for(let s=0;s<t;s++)n.write8(i[s]??0)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)},"validate")})},string(t){return Dhe({name:"string",toBytes:o(e=>new TextEncoder().encode(e),"toBytes"),fromBytes:o(e=>new TextDecoder().decode(e),"fromBytes"),...t})},fixedArray(t,e,r){return new fd({name:`${e.name}[${t}]`,read:o(n=>{let i=new Array(t);for(let s=0;s<t;s++)i[s]=e.read(n);return i},"read"),write:o((n,i)=>{for(let s of n)e.write(s,i)},"write"),...r,validate:o(n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)},"validate")})},option(t){return ie.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:o(e=>e==null?{None:!0}:{Some:e},"input"),output:o(e=>e.$kind==="Some"?e.Some:null,"output")})},vector(t,e){return new fd({name:`vector<${t.name}>`,read:o(r=>{let n=r.readULEB(),i=new Array(n);for(let s=0;s<n;s++)i[s]=t.read(r);return i},"read"),write:o((r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)},"validate")})},tuple(t,e){return new fd({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:o(r=>{let n=0;for(let i=0;i<t.length;i++){let s=t[i].serializedSize(r[i]);if(s==null)return null;n+=s}return n},"serializedSize"),read:o(r=>{let n=[];for(let i of t)n.push(i.read(r));return n},"read"),write:o((r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)},"validate")})},struct(t,e,r){let n=Object.entries(e);return new fd({name:t,serializedSize:o(i=>{let s=0;for(let[a,f]of n){let l=f.serializedSize(i[a]);if(l==null)return null;s+=l}return s},"serializedSize"),read:o(i=>{let s={};for(let[a,f]of n)s[a]=f.read(i);return s},"read"),write:o((i,s)=>{for(let[a,f]of n)f.write(i[a],s)},"write"),...r,validate:o(i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)},"validate")})},enum(t,e,r){let n=Object.entries(e);return new fd({name:t,read:o(i=>{let s=i.readULEB(),a=n[s];if(!a)throw new TypeError(`Unknown value ${s} for enum ${t}`);let[f,l]=a;return{[f]:l?.read(i)??!0,$kind:f}},"read"),write:o((i,s)=>{let[a,f]=Object.entries(i).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<n.length;l++){let[h,b]=n[l];if(h===a){s.writeULEB(l),b?.write(f,s);return}}},"write"),...r,validate:o(i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let s=Object.keys(i).filter(f=>i[f]!==void 0&&Object.hasOwn(e,f));if(s.length!==1)throw new TypeError(`Expected object with one key, but found ${s.length} for type ${t}}`);let[a]=s;if(!Object.hasOwn(e,a))throw new TypeError(`Invalid enum variant ${a}`)},"validate")})},map(t,e){return ie.vector(ie.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:o(r=>[...r.entries()],"input"),output:o(r=>{let n=new Map;for(let[i,s]of r)n.set(i,s);return n},"output")})},lazy(t){return Uhe(t)}};m();g();m();g();m();g();var Op=32;function Hhe(t){return S$e(t)&&E$e(t)===Op}o(Hhe,"isValidSuiAddress");function ud(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Op*2,"0")}`}o(ud,"normalizeSuiAddress");function S$e(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}o(S$e,"isHex");function E$e(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}o(E$e,"getHexByteLength");m();g();var A$e=/^vector<(.+)>$/,I$e=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,Gw=class t{static{o(this,"TypeTagSerializer")}static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(A$e);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(I$e);if(i)return{struct:{address:r?ud(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return lU(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function T$e(t){return ie.u64({name:"unsafe_u64",...t}).transform({input:o(e=>e,"input"),output:o(e=>Number(e),"output")})}o(T$e,"unsafe_u64");function R$e(t){return ie.enum("Option",{None:null,Some:t})}o(R$e,"optionEnum");var fi=ie.bytes(Op).transform({validate:o(t=>{let e=typeof t=="string"?t:jf(t);if(!e||!Hhe(ud(e)))throw new Error(`Invalid Sui address ${e}`)},"validate"),input:o(t=>typeof t=="string"?Tp(ud(t)):t,"input"),output:o(t=>ud(jf(t)),"output")}),Xc=ie.vector(ie.u8()).transform({name:"ObjectDigest",input:o(t=>s1(t),"input"),output:o(t=>o1(new Uint8Array(t)),"output"),validate:o(t=>{if(s1(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")},"validate")}),pc=ie.struct("SuiObjectRef",{objectId:fi,version:ie.u64(),digest:Xc}),pU=ie.struct("SharedObjectRef",{objectId:fi,initialSharedVersion:ie.u64(),mutable:ie.bool()}),mU=ie.enum("ObjectArg",{ImmOrOwnedObject:pc,SharedObject:pU,Receiving:pc}),gU=ie.enum("CallArg",{Pure:ie.struct("Pure",{bytes:ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?Xo(t):t,"input"),output:o(t=>Oi(new Uint8Array(t)),"output")})}),Object:mU}),yU=ie.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:ie.lazy(()=>yU),struct:ie.lazy(()=>SU),u16:null,u32:null,u256:null}),oI=yU.transform({input:o(t=>typeof t=="string"?Gw.parseFromStr(t,!0):t,"input"),output:o(t=>Gw.tagToString(t),"output")}),zu=ie.enum("Argument",{GasCoin:null,Input:ie.u16(),Result:ie.u16(),NestedResult:ie.tuple([ie.u16(),ie.u16()])}),bU=ie.struct("ProgrammableMoveCall",{package:fi,module:ie.string(),function:ie.string(),typeArguments:ie.vector(oI),arguments:ie.vector(zu)}),xU=ie.enum("Command",{MoveCall:bU,TransferObjects:ie.struct("TransferObjects",{objects:ie.vector(zu),address:zu}),SplitCoins:ie.struct("SplitCoins",{coin:zu,amounts:ie.vector(zu)}),MergeCoins:ie.struct("MergeCoins",{destination:zu,sources:ie.vector(zu)}),Publish:ie.struct("Publish",{modules:ie.vector(ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?Xo(t):t,"input"),output:o(t=>Oi(new Uint8Array(t)),"output")})),dependencies:ie.vector(fi)}),MakeMoveVec:ie.struct("MakeMoveVec",{type:R$e(oI).transform({input:o(t=>t===null?{None:!0}:{Some:t},"input"),output:o(t=>t.Some??null,"output")}),elements:ie.vector(zu)}),Upgrade:ie.struct("Upgrade",{modules:ie.vector(ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?Xo(t):t,"input"),output:o(t=>Oi(new Uint8Array(t)),"output")})),dependencies:ie.vector(fi),package:fi,ticket:zu})}),vU=ie.struct("ProgrammableTransaction",{inputs:ie.vector(gU),commands:ie.vector(xU)}),_U=ie.enum("TransactionKind",{ProgrammableTransaction:vU,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),wU=ie.enum("TransactionExpiration",{None:null,Epoch:T$e()}),SU=ie.struct("StructTag",{address:fi,module:ie.string(),name:ie.string(),typeParams:ie.vector(yU)}),EU=ie.struct("GasData",{payment:ie.vector(pc),owner:fi,price:ie.u64(),budget:ie.u64()}),AU=ie.struct("TransactionDataV1",{kind:_U,sender:fi,gasData:EU,expiration:wU}),IU=ie.enum("TransactionData",{V1:AU}),TU=ie.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),RU=ie.enum("IntentVersion",{V0:null}),OU=ie.enum("AppId",{Sui:null}),NU=ie.struct("Intent",{scope:TU,version:RU,appId:OU});function MU(t){return ie.struct(`IntentMessage<${t.name}>`,{intent:NU,value:t})}o(MU,"IntentMessage");var CU=ie.enum("CompressedSignature",{ED25519:ie.fixedArray(64,ie.u8()),Secp256k1:ie.fixedArray(64,ie.u8()),Secp256r1:ie.fixedArray(64,ie.u8()),ZkLogin:ie.vector(ie.u8())}),kU=ie.enum("PublicKey",{ED25519:ie.fixedArray(32,ie.u8()),Secp256k1:ie.fixedArray(33,ie.u8()),Secp256r1:ie.fixedArray(33,ie.u8()),ZkLogin:ie.vector(ie.u8())}),BU=ie.struct("MultiSigPkMap",{pubKey:kU,weight:ie.u8()}),PU=ie.struct("MultiSigPublicKey",{pk_map:ie.vector(BU),threshold:ie.u16()}),Fhe=ie.struct("MultiSig",{sigs:ie.vector(CU),bitmap:ie.u16(),multisig_pk:PU}),O$e=ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?Xo(t):t,"input"),output:o(t=>Oi(new Uint8Array(t)),"output")}),LU=ie.struct("SenderSignedTransaction",{intentMessage:MU(IU),txSignatures:ie.vector(O$e)}),qhe=ie.vector(LU,{name:"SenderSignedData"});m();g();var N$e=ie.enum("PackageUpgradeError",{UnableToFetchPackage:ie.struct("UnableToFetchPackage",{packageId:fi}),NotAPackage:ie.struct("NotAPackage",{objectId:fi}),IncompatibleUpgrade:null,DigestDoesNotMatch:ie.struct("DigestDoesNotMatch",{digest:ie.vector(ie.u8())}),UnknownUpgradePolicy:ie.struct("UnknownUpgradePolicy",{policy:ie.u8()}),PackageIDDoesNotMatch:ie.struct("PackageIDDoesNotMatch",{packageId:fi,ticketId:fi})}),M$e=ie.struct("ModuleId",{address:fi,name:ie.string()}),Vhe=ie.struct("MoveLocation",{module:M$e,function:ie.u16(),instruction:ie.u16(),functionName:ie.option(ie.string())}),C$e=ie.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:ie.struct("IndexOutOfBounds",{idx:ie.u16()}),SecondaryIndexOutOfBounds:ie.struct("SecondaryIndexOutOfBounds",{resultIdx:ie.u16(),secondaryIdx:ie.u16()}),InvalidResultArity:ie.struct("InvalidResultArity",{resultIdx:ie.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),k$e=ie.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),B$e=ie.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:ie.struct("MoveObjectTooBig",{objectSize:ie.u64(),maxObjectSize:ie.u64()}),MovePackageTooBig:ie.struct("MovePackageTooBig",{objectSize:ie.u64(),maxObjectSize:ie.u64()}),CircularObjectOwnership:ie.struct("CircularObjectOwnership",{object:fi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:ie.option(Vhe),MoveAbort:ie.tuple([Vhe,ie.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:ie.struct("CommandArgumentError",{argIdx:ie.u16(),kind:C$e}),TypeArgumentError:ie.struct("TypeArgumentError",{argumentIdx:ie.u16(),kind:k$e}),UnusedValueWithoutDrop:ie.struct("UnusedValueWithoutDrop",{resultIdx:ie.u16(),secondaryIdx:ie.u16()}),InvalidPublicFunctionReturnType:ie.struct("InvalidPublicFunctionReturnType",{idx:ie.u16()}),InvalidTransferObject:null,EffectsTooLarge:ie.struct("EffectsTooLarge",{currentSize:ie.u64(),maxSize:ie.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:ie.struct("PackageUpgradeError",{upgradeError:N$e}),WrittenObjectsTooLarge:ie.struct("WrittenObjectsTooLarge",{currentSize:ie.u64(),maxSize:ie.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:ie.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:ie.vector(fi)}),AddressDeniedForCoin:ie.struct("AddressDeniedForCoin",{address:fi,coinType:ie.string()}),CoinTypeGlobalPause:ie.struct("CoinTypeGlobalPause",{coinType:ie.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),jhe=ie.enum("ExecutionStatus",{Success:null,Failed:ie.struct("ExecutionFailed",{error:B$e,command:ie.option(ie.u64())})}),Khe=ie.struct("GasCostSummary",{computationCost:ie.u64(),storageCost:ie.u64(),storageRebate:ie.u64(),nonRefundableStorageFee:ie.u64()}),Ax=ie.enum("Owner",{AddressOwner:fi,ObjectOwner:fi,Shared:ie.struct("Shared",{initialSharedVersion:ie.u64()}),Immutable:null}),P$e=ie.struct("TransactionEffectsV1",{status:jhe,executedEpoch:ie.u64(),gasUsed:Khe,modifiedAtVersions:ie.vector(ie.tuple([fi,ie.u64()])),sharedObjects:ie.vector(pc),transactionDigest:Xc,created:ie.vector(ie.tuple([pc,Ax])),mutated:ie.vector(ie.tuple([pc,Ax])),unwrapped:ie.vector(ie.tuple([pc,Ax])),deleted:ie.vector(pc),unwrappedThenDeleted:ie.vector(pc),wrapped:ie.vector(pc),gasObject:ie.tuple([pc,Ax]),eventsDigest:ie.option(Xc),dependencies:ie.vector(Xc)}),DU=ie.tuple([ie.u64(),Xc]),L$e=ie.enum("ObjectIn",{NotExist:null,Exist:ie.tuple([DU,Ax])}),D$e=ie.enum("ObjectOut",{NotExist:null,ObjectWrite:ie.tuple([Xc,Ax]),PackageWrite:DU}),U$e=ie.enum("IDOperation",{None:null,Created:null,Deleted:null}),H$e=ie.struct("EffectsObjectChange",{inputState:L$e,outputState:D$e,idOperation:U$e}),F$e=ie.enum("UnchangedSharedKind",{ReadOnlyRoot:DU,MutateDeleted:ie.u64(),ReadDeleted:ie.u64(),Cancelled:ie.u64(),PerEpochConfig:null}),q$e=ie.struct("TransactionEffectsV2",{status:jhe,executedEpoch:ie.u64(),gasUsed:Khe,transactionDigest:Xc,gasObjectIndex:ie.option(ie.u32()),eventsDigest:ie.option(Xc),dependencies:ie.vector(Xc),lamportVersion:ie.u64(),changedObjects:ie.vector(ie.tuple([fi,H$e])),unchangedSharedObjects:ie.vector(ie.tuple([fi,F$e])),auxDataDigest:ie.option(Xc)}),zhe=ie.enum("TransactionEffects",{V1:P$e,V2:q$e});var B0={...ie,U8:ie.u8(),U16:ie.u16(),U32:ie.u32(),U64:ie.u64(),U128:ie.u128(),U256:ie.u256(),ULEB128:ie.uleb128(),Bool:ie.bool(),String:ie.string(),Address:fi,AppId:OU,Argument:zu,CallArg:gU,CompressedSignature:CU,GasData:EU,Intent:NU,IntentMessage:MU,IntentScope:TU,IntentVersion:RU,MultiSig:Fhe,MultiSigPkMap:BU,MultiSigPublicKey:PU,ObjectArg:mU,ObjectDigest:Xc,ProgrammableMoveCall:bU,ProgrammableTransaction:vU,PublicKey:kU,SenderSignedData:qhe,SenderSignedTransaction:LU,SharedObjectRef:pU,StructTag:SU,SuiObjectRef:pc,Command:xU,TransactionData:IU,TransactionDataV1:AU,TransactionExpiration:wU,TransactionKind:_U,TypeTag:oI,TransactionEffects:zhe};m();g();m();g();m();g();m();g();m();g();function V$e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(V$e,"isBytes");function Ix(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(Ix,"anumber");function L0(t,...e){if(!V$e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(L0,"abytes");function $he(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ix(t.outputLen),Ix(t.blockLen)}o($he,"ahash");function D0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(D0,"aexists");function sI(t,e){L0(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(sI,"aoutput");function $w(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o($w,"u32");function Gu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(Gu,"clean");function aI(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(aI,"createView");var Whe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Yhe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(Yhe,"byteSwap");var ld=Whe?t=>t:t=>Yhe(t);function j$e(t){for(let e=0;e<t.length;e++)t[e]=Yhe(t[e]);return t}o(j$e,"byteSwap32");var a1=Whe?t=>t:j$e,Xhe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",K$e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cI(t){if(L0(t),Xhe)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=K$e[t[r]];return e}o(cI,"bytesToHex");var P0={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ghe(t){if(t>=P0._0&&t<=P0._9)return t-P0._0;if(t>=P0.A&&t<=P0.F)return t-(P0.A-10);if(t>=P0.a&&t<=P0.f)return t-(P0.a-10)}o(Ghe,"asciiToBase16");function Zhe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Xhe)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=Ghe(t.charCodeAt(s)),f=Ghe(t.charCodeAt(s+1));if(a===void 0||f===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+f}return n}o(Zhe,"hexToBytes");function z$e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(z$e,"utf8ToBytes");function $u(t){return typeof t=="string"&&(t=z$e(t)),L0(t),t}o($u,"toBytes");var Np=class{static{o(this,"Hash")}};function Jhe(t){let e=o(n=>t().update($u(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Jhe,"createHasher");function Qhe(t){let e=o((n,i)=>t(i).update($u(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Qhe,"createOptHasher");var epe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);m();g();function G$e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(G$e,"setBigUint64");var fI=class extends Np{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=aI(this.buffer)}update(e){D0(this),e=$u(e),L0(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=aI(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){D0(this),sI(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,Gu(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let y=a;y<i;y++)r[y]=0;G$e(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=aI(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,b=this.get();if(h>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)f.setUint32(4*y,b[y],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=f,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};var ms=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);m();g();var uI=BigInt(4294967295),tpe=BigInt(32);function UU(t,e=!1){return e?{h:Number(t&uI),l:Number(t>>tpe&uI)}:{h:Number(t>>tpe&uI)|0,l:Number(t&uI)|0}}o(UU,"fromBig");function rpe(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:f}=UU(t[s],e);[n[s],i[s]]=[a,f]}return[n,i]}o(rpe,"split");var HU=o((t,e,r)=>t>>>r,"shrSH"),FU=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),dd=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),hd=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),c1=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),f1=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),npe=o((t,e)=>e,"rotr32H"),ipe=o((t,e)=>t,"rotr32L");function Zc(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(Zc,"add");var Ww=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),Yw=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),ope=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),spe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),ape=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),cpe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");var Ao=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),gt=new Uint32Array(32);function Mp(t,e,r,n,i,s){let a=i[s],f=i[s+1],l=gt[2*t],h=gt[2*t+1],b=gt[2*e],y=gt[2*e+1],E=gt[2*r],I=gt[2*r+1],O=gt[2*n],N=gt[2*n+1],k=Ww(l,b,a);h=Yw(k,h,y,f),l=k|0,{Dh:N,Dl:O}={Dh:N^h,Dl:O^l},{Dh:N,Dl:O}={Dh:npe(N,O),Dl:ipe(N,O)},{h:I,l:E}=Zc(I,E,N,O),{Bh:y,Bl:b}={Bh:y^I,Bl:b^E},{Bh:y,Bl:b}={Bh:dd(y,b,24),Bl:hd(y,b,24)},gt[2*t]=l,gt[2*t+1]=h,gt[2*e]=b,gt[2*e+1]=y,gt[2*r]=E,gt[2*r+1]=I,gt[2*n]=O,gt[2*n+1]=N}o(Mp,"G1b");function Cp(t,e,r,n,i,s){let a=i[s],f=i[s+1],l=gt[2*t],h=gt[2*t+1],b=gt[2*e],y=gt[2*e+1],E=gt[2*r],I=gt[2*r+1],O=gt[2*n],N=gt[2*n+1],k=Ww(l,b,a);h=Yw(k,h,y,f),l=k|0,{Dh:N,Dl:O}={Dh:N^h,Dl:O^l},{Dh:N,Dl:O}={Dh:dd(N,O,16),Dl:hd(N,O,16)},{h:I,l:E}=Zc(I,E,N,O),{Bh:y,Bl:b}={Bh:y^I,Bl:b^E},{Bh:y,Bl:b}={Bh:c1(y,b,63),Bl:f1(y,b,63)},gt[2*t]=l,gt[2*t+1]=h,gt[2*e]=b,gt[2*e+1]=y,gt[2*r]=E,gt[2*r+1]=I,gt[2*n]=O,gt[2*n+1]=N}o(Cp,"G2b");function $$e(t,e={},r,n,i){if(Ix(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");let{key:s,salt:a,personalization:f}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(a!==void 0&&a.length!==n)throw new Error("salt must be undefined or "+n);if(f!==void 0&&f.length!==i)throw new Error("personalization must be undefined or "+i)}o($$e,"checkBlake2Opts");var qU=class extends Np{static{o(this,"BLAKE2")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ix(e),Ix(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=$w(this.buffer)}update(e){D0(this),e=$u(e),L0(e);let{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,a=e.byteOffset,f=e.buffer;for(let l=0;l<s;){this.pos===r&&(a1(i),this.compress(i,0,!1),a1(i),this.pos=0);let h=Math.min(r-this.pos,s-l),b=a+l;if(h===r&&!(b%4)&&l+h<s){let y=new Uint32Array(f,b,Math.floor((s-l)/4));a1(y);for(let E=0;l+r<s;E+=i.length,l+=r)this.length+=r,this.compress(y,E,!1);a1(y);continue}n.set(e.subarray(l,l+h),this.pos),this.pos+=h,this.length+=h,l+=h}return this}digestInto(e){D0(this),sI(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,Gu(this.buffer.subarray(r)),a1(n),this.compress(n,0,!0),a1(n);let i=$w(e);this.get().forEach((s,a)=>i[a]=ld(s))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:s,outputLen:a,pos:f}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=f,e.outputLen=a,e}clone(){return this._cloneInto()}},lI=class extends qU{static{o(this,"BLAKE2b")}constructor(e={}){let r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=Ao[0]|0,this.v0h=Ao[1]|0,this.v1l=Ao[2]|0,this.v1h=Ao[3]|0,this.v2l=Ao[4]|0,this.v2h=Ao[5]|0,this.v3l=Ao[6]|0,this.v3h=Ao[7]|0,this.v4l=Ao[8]|0,this.v4h=Ao[9]|0,this.v5l=Ao[10]|0,this.v5h=Ao[11]|0,this.v6l=Ao[12]|0,this.v6h=Ao[13]|0,this.v7l=Ao[14]|0,this.v7h=Ao[15]|0,$$e(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,a=0;if(n!==void 0&&(n=$u(n),a=n.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=$u(s);let f=$w(s);this.v4l^=ld(f[0]),this.v4h^=ld(f[1]),this.v5l^=ld(f[2]),this.v5h^=ld(f[3])}if(i!==void 0){i=$u(i);let f=$w(i);this.v6l^=ld(f[0]),this.v6h^=ld(f[1]),this.v7l^=ld(f[2]),this.v7h^=ld(f[3])}if(n!==void 0){let f=new Uint8Array(this.blockLen);f.set(n),this.update(f)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:a,v3l:f,v3h:l,v4l:h,v4h:b,v5l:y,v5h:E,v6l:I,v6h:O,v7l:N,v7h:k}=this;return[e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k]}set(e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=f|0,this.v3h=l|0,this.v4l=h|0,this.v4h=b|0,this.v5l=y|0,this.v5h=E|0,this.v6l=I|0,this.v6h=O|0,this.v7l=N|0,this.v7h=k|0}compress(e,r,n){this.get().forEach((l,h)=>gt[h]=l),gt.set(Ao,16);let{h:i,l:s}=UU(BigInt(this.length));gt[24]=Ao[8]^s,gt[25]=Ao[9]^i,n&&(gt[28]=~gt[28],gt[29]=~gt[29]);let a=0,f=epe;for(let l=0;l<12;l++)Mp(0,4,8,12,e,r+2*f[a++]),Cp(0,4,8,12,e,r+2*f[a++]),Mp(1,5,9,13,e,r+2*f[a++]),Cp(1,5,9,13,e,r+2*f[a++]),Mp(2,6,10,14,e,r+2*f[a++]),Cp(2,6,10,14,e,r+2*f[a++]),Mp(3,7,11,15,e,r+2*f[a++]),Cp(3,7,11,15,e,r+2*f[a++]),Mp(0,5,10,15,e,r+2*f[a++]),Cp(0,5,10,15,e,r+2*f[a++]),Mp(1,6,11,12,e,r+2*f[a++]),Cp(1,6,11,12,e,r+2*f[a++]),Mp(2,7,8,13,e,r+2*f[a++]),Cp(2,7,8,13,e,r+2*f[a++]),Mp(3,4,9,14,e,r+2*f[a++]),Cp(3,4,9,14,e,r+2*f[a++]);this.v0l^=gt[0]^gt[16],this.v0h^=gt[1]^gt[17],this.v1l^=gt[2]^gt[18],this.v1h^=gt[3]^gt[19],this.v2l^=gt[4]^gt[20],this.v2h^=gt[5]^gt[21],this.v3l^=gt[6]^gt[22],this.v3h^=gt[7]^gt[23],this.v4l^=gt[8]^gt[24],this.v4h^=gt[9]^gt[25],this.v5l^=gt[10]^gt[26],this.v5h^=gt[11]^gt[27],this.v6l^=gt[12]^gt[28],this.v6h^=gt[13]^gt[29],this.v7l^=gt[14]^gt[30],this.v7h^=gt[15]^gt[31],Gu(gt)}destroy(){this.destroyed=!0,Gu(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},upe=Qhe(t=>new lI(t));var u1=upe;m();g();m();g();function dI(t,e){return B0.IntentMessage(B0.fixedArray(e.length,B0.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}o(dI,"messageWithIntent");function VU(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(VU,"bytesEqual");var Tx=class{static{o(this,"PublicKey")}equals(e){return VU(this.toRawBytes(),e.toRawBytes())}toBase64(){return Oi(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return Oi(e)}verifyWithIntent(e,r,n){let i=dI(n,e),s=u1(i,{dkLen:32});return this.verify(s,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(B0.vector(B0.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return ud(cI(u1(this.toSuiBytes(),{dkLen:32})).slice(0,Op*2))}};m();g();var U0={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},lpe={ED25519:32,Secp256k1:33,Secp256r1:33},hI={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};m();g();m();g();m();g();function dpe(t,e){if(!!!t)throw new Error(e)}o(dpe,"devAssert");m();g();var KU={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},W$e=new Set(Object.keys(KU));function zU(t){let e=t?.kind;return typeof e=="string"&&W$e.has(e)}o(zU,"isNode");var jU;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(jU||(jU={}));m();g();var Xw;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Xw||(Xw={}));m();g();m();g();function GU(t){return t===9||t===32}o(GU,"isWhiteSpace");function hpe(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,s=n.length>1&&n.slice(1).every(I=>I.length===0||GU(I.charCodeAt(0))),a=r.endsWith('\\"""'),f=t.endsWith('"')&&!a,l=t.endsWith("\\"),h=f||l,b=!(e!=null&&e.minimize)&&(!i||t.length>70||h||s||a),y="",E=i&&GU(t.charCodeAt(0));return(b&&!E||s)&&(y+=`
`),y+=r,(b||h)&&(y+=`
`),'"""'+y+'"""'}o(hpe,"printBlockString");m();g();function ppe(t){return pI(t,[])}o(ppe,"inspect");function pI(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return Y$e(t,e);default:return String(t)}}o(pI,"formatValue");function Y$e(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(X$e(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:pI(n,r)}else if(Array.isArray(t))return J$e(t,r);return Z$e(t,r)}o(Y$e,"formatObjectValue");function X$e(t){return typeof t.toJSON=="function"}o(X$e,"isJSONable");function Z$e(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+Q$e(t)+"]":"{ "+r.map(([i,s])=>i+": "+pI(s,e)).join(", ")+" }"}o(Z$e,"formatObject");function J$e(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,i=[];for(let s=0;s<r;++s)i.push(pI(t[s],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}o(J$e,"formatArray");function Q$e(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}o(Q$e,"getObjectTag");m();g();m();g();function mpe(t){return`"${t.replace(eWe,tWe)}"`}o(mpe,"printString");var eWe=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function tWe(t){return rWe[t.charCodeAt(0)]}o(tWe,"escapedReplacer");var rWe=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];m();g();var gpe=Object.freeze({});function $U(t,e,r=KU){let n=new Map;for(let C of Object.values(Xw))n.set(C,ype(e,C));let i,s=Array.isArray(t),a=[t],f=-1,l=[],h=t,b,y,E=[],I=[];do{f++;let C=f===a.length,L=C&&l.length!==0;if(C){if(b=I.length===0?void 0:E[E.length-1],h=y,y=I.pop(),L)if(s){h=h.slice();let U=0;for(let[q,j]of l){let re=q-U;j===null?(h.splice(re,1),U++):h[re]=j}}else{h={...h};for(let[U,q]of l)h[U]=q}f=i.index,a=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(y){if(b=s?f:a[f],h=y[b],h==null)continue;E.push(b)}let M;if(!Array.isArray(h)){var O,N;zU(h)||dpe(!1,`Invalid AST Node: ${ppe(h)}.`);let U=C?(O=n.get(h.kind))===null||O===void 0?void 0:O.leave:(N=n.get(h.kind))===null||N===void 0?void 0:N.enter;if(M=U?.call(e,h,b,y,E,I),M===gpe)break;if(M===!1){if(!C){E.pop();continue}}else if(M!==void 0&&(l.push([b,M]),!C))if(zU(M))h=M;else{E.pop();continue}}if(M===void 0&&L&&l.push([b,h]),C)E.pop();else{var k;i={inArray:s,index:f,keys:a,edits:l,prev:i},s=Array.isArray(h),a=s?h:(k=r[h.kind])!==null&&k!==void 0?k:[],f=-1,l=[],y&&I.push(y),y=h}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}o($U,"visit");function ype(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}o(ype,"getEnterLeaveForKind");function gI(t){return $U(t,iWe)}o(gI,"print");var nWe=80,iWe={Name:{leave:o(t=>t.value,"leave")},Variable:{leave:o(t=>"$"+t.name,"leave")},Document:{leave:o(t=>Mt(t.definitions,`

`),"leave")},OperationDefinition:{leave(t){let e=Fr("(",Mt(t.variableDefinitions,", "),")"),r=Mt([t.operation,Mt([t.name,e]),Mt(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:o(({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Fr(" = ",r)+Fr(" ",Mt(n," ")),"leave")},SelectionSet:{leave:o(({selections:t})=>Wu(t),"leave")},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){let s=Fr("",t,": ")+e,a=s+Fr("(",Mt(r,", "),")");return a.length>nWe&&(a=s+Fr(`(
`,mI(Mt(r,`
`)),`
)`)),Mt([a,Mt(n," "),i]," ")}},Argument:{leave:o(({name:t,value:e})=>t+": "+e,"leave")},FragmentSpread:{leave:o(({name:t,directives:e})=>"..."+t+Fr(" ",Mt(e," ")),"leave")},InlineFragment:{leave:o(({typeCondition:t,directives:e,selectionSet:r})=>Mt(["...",Fr("on ",t),Mt(e," "),r]," "),"leave")},FragmentDefinition:{leave:o(({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${Fr("(",Mt(r,", "),")")} on ${e} ${Fr("",Mt(n," ")," ")}`+i,"leave")},IntValue:{leave:o(({value:t})=>t,"leave")},FloatValue:{leave:o(({value:t})=>t,"leave")},StringValue:{leave:o(({value:t,block:e})=>e?hpe(t):mpe(t),"leave")},BooleanValue:{leave:o(({value:t})=>t?"true":"false","leave")},NullValue:{leave:o(()=>"null","leave")},EnumValue:{leave:o(({value:t})=>t,"leave")},ListValue:{leave:o(({values:t})=>"["+Mt(t,", ")+"]","leave")},ObjectValue:{leave:o(({fields:t})=>"{"+Mt(t,", ")+"}","leave")},ObjectField:{leave:o(({name:t,value:e})=>t+": "+e,"leave")},Directive:{leave:o(({name:t,arguments:e})=>"@"+t+Fr("(",Mt(e,", "),")"),"leave")},NamedType:{leave:o(({name:t})=>t,"leave")},ListType:{leave:o(({type:t})=>"["+t+"]","leave")},NonNullType:{leave:o(({type:t})=>t+"!","leave")},SchemaDefinition:{leave:o(({description:t,directives:e,operationTypes:r})=>Fr("",t,`
`)+Mt(["schema",Mt(e," "),Wu(r)]," "),"leave")},OperationTypeDefinition:{leave:o(({operation:t,type:e})=>t+": "+e,"leave")},ScalarTypeDefinition:{leave:o(({description:t,name:e,directives:r})=>Fr("",t,`
`)+Mt(["scalar",e,Mt(r," ")]," "),"leave")},ObjectTypeDefinition:{leave:o(({description:t,name:e,interfaces:r,directives:n,fields:i})=>Fr("",t,`
`)+Mt(["type",e,Fr("implements ",Mt(r," & ")),Mt(n," "),Wu(i)]," "),"leave")},FieldDefinition:{leave:o(({description:t,name:e,arguments:r,type:n,directives:i})=>Fr("",t,`
`)+e+(bpe(r)?Fr(`(
`,mI(Mt(r,`
`)),`
)`):Fr("(",Mt(r,", "),")"))+": "+n+Fr(" ",Mt(i," ")),"leave")},InputValueDefinition:{leave:o(({description:t,name:e,type:r,defaultValue:n,directives:i})=>Fr("",t,`
`)+Mt([e+": "+r,Fr("= ",n),Mt(i," ")]," "),"leave")},InterfaceTypeDefinition:{leave:o(({description:t,name:e,interfaces:r,directives:n,fields:i})=>Fr("",t,`
`)+Mt(["interface",e,Fr("implements ",Mt(r," & ")),Mt(n," "),Wu(i)]," "),"leave")},UnionTypeDefinition:{leave:o(({description:t,name:e,directives:r,types:n})=>Fr("",t,`
`)+Mt(["union",e,Mt(r," "),Fr("= ",Mt(n," | "))]," "),"leave")},EnumTypeDefinition:{leave:o(({description:t,name:e,directives:r,values:n})=>Fr("",t,`
`)+Mt(["enum",e,Mt(r," "),Wu(n)]," "),"leave")},EnumValueDefinition:{leave:o(({description:t,name:e,directives:r})=>Fr("",t,`
`)+Mt([e,Mt(r," ")]," "),"leave")},InputObjectTypeDefinition:{leave:o(({description:t,name:e,directives:r,fields:n})=>Fr("",t,`
`)+Mt(["input",e,Mt(r," "),Wu(n)]," "),"leave")},DirectiveDefinition:{leave:o(({description:t,name:e,arguments:r,repeatable:n,locations:i})=>Fr("",t,`
`)+"directive @"+e+(bpe(r)?Fr(`(
`,mI(Mt(r,`
`)),`
)`):Fr("(",Mt(r,", "),")"))+(n?" repeatable":"")+" on "+Mt(i," | "),"leave")},SchemaExtension:{leave:o(({directives:t,operationTypes:e})=>Mt(["extend schema",Mt(t," "),Wu(e)]," "),"leave")},ScalarTypeExtension:{leave:o(({name:t,directives:e})=>Mt(["extend scalar",t,Mt(e," ")]," "),"leave")},ObjectTypeExtension:{leave:o(({name:t,interfaces:e,directives:r,fields:n})=>Mt(["extend type",t,Fr("implements ",Mt(e," & ")),Mt(r," "),Wu(n)]," "),"leave")},InterfaceTypeExtension:{leave:o(({name:t,interfaces:e,directives:r,fields:n})=>Mt(["extend interface",t,Fr("implements ",Mt(e," & ")),Mt(r," "),Wu(n)]," "),"leave")},UnionTypeExtension:{leave:o(({name:t,directives:e,types:r})=>Mt(["extend union",t,Mt(e," "),Fr("= ",Mt(r," | "))]," "),"leave")},EnumTypeExtension:{leave:o(({name:t,directives:e,values:r})=>Mt(["extend enum",t,Mt(e," "),Wu(r)]," "),"leave")},InputObjectTypeExtension:{leave:o(({name:t,directives:e,fields:r})=>Mt(["extend input",t,Mt(e," "),Wu(r)]," "),"leave")}};function Mt(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}o(Mt,"join");function Wu(t){return Fr(`{
`,mI(Mt(t,`
`)),`
}`)}o(Wu,"block");function Fr(t,e,r=""){return e!=null&&e!==""?t+e+r:""}o(Fr,"wrap");function mI(t){return Fr("  ",t.replace(/\n/g,`
  `))}o(mI,"indent");function bpe(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}o(bpe,"hasMultilineItems");m();g();var xpe=o(t=>{throw TypeError(t)},"__typeError"),vpe=o((t,e,r)=>e.has(t)||xpe("Cannot "+r),"__accessCheck"),yI=o((t,e,r)=>(vpe(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),bI=o((t,e,r)=>e.has(t)?xpe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),xI=o((t,e,r,n)=>(vpe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),vI,_I,wI,SI,WU=class extends Error{static{o(this,"SuiGraphQLRequestError")}},EI=class{static{o(this,"SuiGraphQLClient")}constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){bI(this,vI),bI(this,_I),bI(this,wI),bI(this,SI),xI(this,vI,e),xI(this,_I,i),xI(this,wI,n),xI(this,SI,(...s)=>r(...s))}async query(e){let r=await yI(this,SI).call(this,yI(this,vI),{method:"POST",headers:{"Content-Type":"application/json",...yI(this,wI)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):gI(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new WU(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:yI(this,_I)[e]})}};vI=new WeakMap;_I=new WeakMap;wI=new WeakMap;SI=new WeakMap;m();g();m();g();m();g();var Zw={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var ZU=class extends Error{static{o(this,"GraphQLError")}constructor(e,r,n,i,s,a,f){super(e),this.name="GraphQLError",this.message=e,s&&(this.path=s),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),a&&(this.originalError=a);var l=f;if(!l&&a){var h=a.extensions;h&&typeof h=="object"&&(l=h)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},dn,Ut;function to(t){return new ZU(`Syntax Error: Unexpected token at ${Ut} in ${t}`)}o(to,"error");function Jc(t){if(t.lastIndex=Ut,t.test(dn))return dn.slice(Ut,Ut=t.lastIndex)}o(Jc,"advance");var AI=/ +(?=[^\s])/y;function oWe(t){for(var e=t.split(`
`),r="",n=0,i=0,s=e.length-1,a=0;a<e.length;a++)AI.lastIndex=0,AI.test(e[a])&&(a&&(!n||AI.lastIndex<n)&&(n=AI.lastIndex),i=i||a,s=a);for(var f=i;f<=s;f++)f!==i&&(r+=`
`),r+=e[f].slice(n).replace(/\\"""/g,'"""');return r}o(oWe,"blockString");function xr(){for(var t=0|dn.charCodeAt(Ut++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|dn.charCodeAt(Ut++))if(t===35)for(;(t=dn.charCodeAt(Ut++))!==10&&t!==13;);Ut--}o(xr,"ignored");var Ma=/[_A-Za-z]\w*/y,YU=new RegExp("(?:(null|true|false)|\\$("+Ma.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+Ma.source+"))","y"),kp=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(kp||{}),sWe=/\\/;function II(t){var e,r;if(YU.lastIndex=Ut,dn.charCodeAt(Ut)===91){Ut++,xr();for(var n=[];dn.charCodeAt(Ut)!==93;)n.push(II(t));return Ut++,xr(),{kind:"ListValue",values:n}}else if(dn.charCodeAt(Ut)===123){Ut++,xr();for(var i=[];dn.charCodeAt(Ut)!==125;){if((e=Jc(Ma))==null||(xr(),dn.charCodeAt(Ut++)!==58))throw to("ObjectField");xr(),i.push({kind:"ObjectField",name:{kind:"Name",value:e},value:II(t)})}return Ut++,xr(),{kind:"ObjectValue",fields:i}}else if((r=YU.exec(dn))!=null){if(Ut=YU.lastIndex,xr(),(e=r[kp.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[kp.Var])!=null){if(t)throw to("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[kp.Int])!=null){var s;return(s=r[kp.Float])!=null?{kind:"FloatValue",value:e+s}:{kind:"IntValue",value:e}}else{if((e=r[kp.BlockString])!=null)return{kind:"StringValue",value:oWe(e.slice(3,-3)),block:!0};if((e=r[kp.String])!=null)return{kind:"StringValue",value:sWe.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[kp.Enum])!=null)return{kind:"EnumValue",value:e}}}throw to("Value")}o(II,"value");function _pe(t){if(dn.charCodeAt(Ut)===40){var e=[];Ut++,xr();var r;do{if((r=Jc(Ma))==null||(xr(),dn.charCodeAt(Ut++)!==58))throw to("Argument");xr(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:II(t)})}while(dn.charCodeAt(Ut)!==41);return Ut++,xr(),e}}o(_pe,"arguments_");function Rx(t){if(dn.charCodeAt(Ut)===64){var e=[],r;do{if(Ut++,(r=Jc(Ma))==null)throw to("Directive");xr(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:_pe(t)})}while(dn.charCodeAt(Ut)===64);return e}}o(Rx,"directives");function aWe(){for(var t,e=0;dn.charCodeAt(Ut)===91;)e++,Ut++,xr();if((t=Jc(Ma))==null)throw to("NamedType");xr();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(dn.charCodeAt(Ut)===33&&(Ut++,xr(),r={kind:"NonNullType",type:r}),e){if(dn.charCodeAt(Ut++)!==93)throw to("NamedType");xr(),r={kind:"ListType",type:r}}while(e--);return r}o(aWe,"type");var XU=new RegExp("(?:(\\.{3})|("+Ma.source+"))","y"),JU=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(JU||{});function TI(){var t=[],e,r;do if(XU.lastIndex=Ut,(r=XU.exec(dn))!=null){if(Ut=XU.lastIndex,r[JU.Spread]!=null){xr();var n=Jc(Ma);if(n!=null&&n!=="on")xr(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:Rx(!1)});else{if(xr(),n==="on"){if((n=Jc(Ma))==null)throw to("NamedType");xr()}var i=Rx(!1);if(dn.charCodeAt(Ut++)!==123)throw to("InlineFragment");xr(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:i,selectionSet:TI()})}}else if((e=r[JU.Name])!=null){var s=void 0;if(xr(),dn.charCodeAt(Ut)===58){if(Ut++,xr(),s=e,(e=Jc(Ma))==null)throw to("Field");xr()}var a=_pe(!1);xr();var f=Rx(!1),l=void 0;dn.charCodeAt(Ut)===123&&(Ut++,xr(),l=TI()),t.push({kind:"Field",alias:s?{kind:"Name",value:s}:void 0,name:{kind:"Name",value:e},arguments:a,directives:f,selectionSet:l})}}else throw to("SelectionSet");while(dn.charCodeAt(Ut)!==125);return Ut++,xr(),{kind:"SelectionSet",selections:t}}o(TI,"selectionSet");function cWe(){var t,e;if((t=Jc(Ma))==null||(xr(),Jc(Ma)!=="on")||(xr(),(e=Jc(Ma))==null))throw to("FragmentDefinition");xr();var r=Rx(!1);if(dn.charCodeAt(Ut++)!==123)throw to("FragmentDefinition");return xr(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:TI()}}o(cWe,"fragmentDefinition");var fWe=/(?:query|mutation|subscription|fragment)/y;function uWe(t){var e,r,n;if(t&&(xr(),e=Jc(Ma),r=o(function(){if(xr(),dn.charCodeAt(Ut)===40){var s=[];Ut++,xr();var a;do{if(dn.charCodeAt(Ut++)!==36||(a=Jc(Ma))==null)throw to("Variable");if(xr(),dn.charCodeAt(Ut++)!==58)throw to("VariableDefinition");xr();var f=aWe(),l=void 0;dn.charCodeAt(Ut)===61&&(Ut++,xr(),l=II(!0)),xr(),s.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:a}},type:f,defaultValue:l,directives:Rx(!0)})}while(dn.charCodeAt(Ut)!==41);return Ut++,xr(),s}},"variableDefinitions")(),n=Rx(!1)),dn.charCodeAt(Ut)===123)return Ut++,xr(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:TI()}}o(uWe,"operationDefinition");function wpe(t,e){return Ut=0,o(function(n,i){var s,a;xr();var f=[];do if((s=Jc(fWe))==="fragment")xr(),f.push(cWe());else if((a=uWe(s))!=null)f.push(a);else throw to("Document");while(Ut<n.length);if(!i){var l;return{kind:"Document",definitions:f,set loc(h){l=h},get loc(){return l||(l={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),l}}}return{kind:"Document",definitions:f}},"document")(dn=typeof t.body=="string"?t.body:t,e&&e.noLocation)}o(wpe,"parse");var Spe=0,QU=new Set;function eH(){function t(e,r){var n=wpe(e).definitions,i=new Set;for(var s of r||[])for(var a of s.definitions)a.kind===Zw.FRAGMENT_DEFINITION&&!i.has(a)&&(n.push(a),i.add(a));var f;(f=n[0].kind===Zw.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(h=>h.name.value!=="_unmask"));var l;return{kind:Zw.DOCUMENT,definitions:n,get loc(){if(!l&&f){var h=e+o(function(y){try{Spe++;var E="";for(var I of y)if(!QU.has(I)){QU.add(I);var{loc:O}=I;O&&(E+=O.source.body)}return E}finally{--Spe==0&&QU.clear()}},"concatLocSources")(r||[]);return{start:0,end:h.length,source:{body:h,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return l},set loc(h){l=h}}}return o(t,"graphql"),t.scalar=o(function(r,n){return n},"scalar"),t.persisted=o(function(r,n){return{kind:Zw.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},"persisted"),t}o(eH,"initGraphQLTada");var VKt=eH();var Epe=eH();m();g();function lWe(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}o(lWe,"base64UrlCharTo6Bits");function dWe(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=lWe(n);e=e.concat(i)}return e}o(dWe,"base64UrlStringToBitVector");function hWe(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=dWe(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let s=new Uint8Array(Math.floor(r.length/8)),a=0;for(let f=0;f<r.length;f+=8){let l=r.slice(f,f+8),h=parseInt(l.join(""),2);s[a++]=h}return new TextDecoder().decode(s)}o(hWe,"decodeBase64URL");function pWe(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}o(pWe,"verifyExtendedClaim");function Ape(t,e){let r=hWe(t.value,t.indexMod4),[n,i]=pWe(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}o(Ape,"extractClaimValue");m();g();m();g();var Ipe=ie.struct("ZkLoginSignature",{inputs:ie.struct("ZkLoginSignatureInputs",{proofPoints:ie.struct("ZkLoginSignatureInputsProofPoints",{a:ie.vector(ie.string()),b:ie.vector(ie.vector(ie.string())),c:ie.vector(ie.string())}),issBase64Details:ie.struct("ZkLoginSignatureInputsClaim",{value:ie.string(),indexMod4:ie.u8()}),headerBase64:ie.string(),addressSeed:ie.string()}),maxEpoch:ie.u64(),userSignature:ie.vector(ie.u8())});function Tpe(t){return Ipe.parse(typeof t=="string"?Xo(t):t)}o(Tpe,"parseZkLoginSignature");m();g();function mWe(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}o(mWe,"findFirstNonZeroIndex");function RI(t,e){let r=t.toString(16);return Zhe(r.padStart(e*2,"0").slice(-e*2))}o(RI,"toPaddedBigEndianBytes");function tH(t,e){let r=RI(t,e),n=mWe(r);return n===-1?new Uint8Array([0]):r.slice(n)}o(tH,"toBigEndianBytes");var Npe=o(t=>{throw TypeError(t)},"__typeError"),Mpe=o((t,e,r)=>e.has(t)||Npe("Cannot "+r),"__accessCheck"),H0=o((t,e,r)=>(Mpe(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),rH=o((t,e,r)=>e.has(t)?Npe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),Ox=o((t,e,r,n)=>(Mpe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),Yu,Jw,Qw,gWe=class nH extends Tx{static{o(this,"_ZkLoginPublicIdentifier")}constructor(e,{client:r}={}){super(),rH(this,Yu),rH(this,Jw),rH(this,Qw),Ox(this,Jw,r),typeof e=="string"?Ox(this,Yu,Xo(e)):e instanceof Uint8Array?Ox(this,Yu,e):Ox(this,Yu,Uint8Array.from(e)),Ox(this,Qw,H0(this,Yu).length!==H0(this,Yu)[0]+1+32),H0(this,Qw)&&Ox(this,Yu,Rpe(H0(this,Yu)))}equals(e){return super.equals(e)}toSuiAddress(){if(H0(this,Qw)){let e=Rpe(H0(this,Yu),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),ud(cI(u1(r,{dkLen:32})).slice(0,Op*2))}return super.toSuiAddress()}toRawBytes(){return H0(this,Yu)}flag(){return U0.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=OI(r),i=new nH(n.publicKey).toSuiAddress();return Ope({address:i,bytes:Oi(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:H0(this,Jw)})}verifyTransaction(e,r){let n=OI(r),i=new nH(n.publicKey).toSuiAddress();return Ope({address:i,bytes:Oi(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:H0(this,Jw)})}};Yu=new WeakMap;Jw=new WeakMap;Qw=new WeakMap;var yWe=gWe;function bWe(t,e,r){let n=r?.legacyAddress?tH(t,32):RI(t,32),i=new TextEncoder().encode(e),s=new Uint8Array(1+i.length+n.length);return s.set([i.length],0),s.set(i,1),s.set(n,1+i.length),new yWe(s,r)}o(bWe,"toZkLoginPublicIdentifier");var xWe=Epe(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function Rpe(t,e=!1){let r=t[0]+1,n=BigInt(`0x${jf(t.slice(r))}`),i=e?tH(n,32):RI(n,32),s=new Uint8Array(r+i.length);return s.set(t.slice(0,r),0),s.set(i,r),s}o(Rpe,"normalizeZkLoginPublicKeyBytes");async function Ope({address:t,bytes:e,signature:r,intentScope:n,client:i=new EI({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let s=await i.query({query:xWe,variables:{bytes:e,signature:r,intentScope:n,author:t}});return s.data?.verifyZkloginSignature.success===!0&&s.data?.verifyZkloginSignature.errors.length===0}o(Ope,"graphqlVerifyZkLoginSignature");function OI(t){let e=typeof t=="string"?Xo(t):t;if(e[0]!==U0.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:s}=Tpe(r),{issBase64Details:a,addressSeed:f}=n,l=Ape(a,"iss"),h=bWe(BigInt(f),l);return{serializedSignature:Oi(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:s,iss:l,addressSeed:BigInt(f)},signature:e,publicKey:h.toRawBytes()}}o(OI,"parseSerializedZkLoginSignature");function Cpe({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([U0[e]]),i.set(t,1),i.set(n,1+t.length),Oi(i)}o(Cpe,"toSerializedSignature");function kpe(t){let e=Xo(t),r=hI[e[0]];switch(r){case"MultiSig":let n=B0.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return OI(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=lpe[r],s=e.slice(1,e.length-i),a=e.slice(1+s.length);return{serializedSignature:t,signatureScheme:r,signature:s,publicKey:a,bytes:e};default:throw new Error("Unsupported signature scheme")}}o(kpe,"parseSerializedSignature");m();g();m();g();m();g();m();g();m();g();function vWe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(vWe,"isBytes");function Nx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(Nx,"anumber");function l1(t,...e){if(!vWe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(l1,"abytes");function NI(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Nx(t.outputLen),Nx(t.blockLen)}o(NI,"ahash");function Cx(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(Cx,"aexists");function Bpe(t,e){l1(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(Bpe,"aoutput");function F0(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(F0,"clean");function kx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(kx,"createView");function Ppe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(Ppe,"utf8ToBytes");function eS(t){return typeof t=="string"&&(t=Ppe(t)),l1(t),t}o(eS,"toBytes");function iH(t){return typeof t=="string"&&(t=Ppe(t)),l1(t),t}o(iH,"kdfInputToBytes");function Lpe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(Lpe,"checkOpts");var Mx=class{static{o(this,"Hash")}};function Dpe(t){let e=o(n=>t().update(eS(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Dpe,"createHasher");var MI=class extends Mx{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,NI(e);let n=eS(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),F0(s)}update(e){return Cx(this),this.iHash.update(e),this}digestInto(e){Cx(this),l1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},oH=o((t,e,r)=>new MI(t,e).update(r).digest(),"hmac");oH.create=(t,e)=>new MI(t,e);function _We(t,e,r,n){NI(t);let i=Lpe({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:f}=i;if(Nx(s),Nx(a),Nx(f),s<1)throw new Error("iterations (c) should be >= 1");let l=iH(e),h=iH(r),b=new Uint8Array(a),y=oH.create(t,l),E=y._cloneInto().update(h);return{c:s,dkLen:a,asyncTick:f,DK:b,PRF:y,PRFSalt:E}}o(_We,"pbkdf2Init");function wWe(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),F0(i),r}o(wWe,"pbkdf2Output");function Upe(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:f,PRFSalt:l}=_We(t,e,r,n),h,b=new Uint8Array(4),y=kx(b),E=new Uint8Array(f.outputLen);for(let I=1,O=0;O<s;I++,O+=f.outputLen){let N=a.subarray(O,O+f.outputLen);y.setInt32(0,I,!1),(h=l._cloneInto(h)).update(b).digestInto(E),N.set(E.subarray(0,N.length));for(let k=1;k<i;k++){f._cloneInto(h).update(E).digestInto(E);for(let C=0;C<N.length;C++)N[C]^=E[C]}}return wWe(f,l,a,h,E)}o(Upe,"pbkdf2");m();g();m();g();function SWe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(SWe,"setBigUint64");var CI=class extends Mx{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=kx(this.buffer)}update(e){Cx(this),e=eS(e),l1(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=kx(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cx(this),Bpe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,F0(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let y=a;y<i;y++)r[y]=0;SWe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=kx(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,b=this.get();if(h>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)f.setUint32(4*y,b[y],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=f,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};var gs=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);m();g();var kI=BigInt(4294967295),Hpe=BigInt(32);function EWe(t,e=!1){return e?{h:Number(t&kI),l:Number(t>>Hpe&kI)}:{h:Number(t>>Hpe&kI)|0,l:Number(t&kI)|0}}o(EWe,"fromBig");function Fpe(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:f}=EWe(t[s],e);[n[s],i[s]]=[a,f]}return[n,i]}o(Fpe,"split");var sH=o((t,e,r)=>t>>>r,"shrSH"),aH=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),d1=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),h1=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),tS=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),rS=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");function pd(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(pd,"add");var qpe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),Vpe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),jpe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),Kpe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),zpe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),Gpe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");var $pe=Fpe(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),IWe=$pe[0],TWe=$pe[1],Bp=new Uint32Array(80),Pp=new Uint32Array(80),cH=class extends CI{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=gs[0]|0,this.Al=gs[1]|0,this.Bh=gs[2]|0,this.Bl=gs[3]|0,this.Ch=gs[4]|0,this.Cl=gs[5]|0,this.Dh=gs[6]|0,this.Dl=gs[7]|0,this.Eh=gs[8]|0,this.El=gs[9]|0,this.Fh=gs[10]|0,this.Fl=gs[11]|0,this.Gh=gs[12]|0,this.Gl=gs[13]|0,this.Hh=gs[14]|0,this.Hl=gs[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:b,Fh:y,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k]}set(e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=b|0,this.Fh=y|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)Bp[M]=e.getUint32(r),Pp[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=Bp[M-15]|0,q=Pp[M-15]|0,j=d1(U,q,1)^d1(U,q,8)^sH(U,q,7),re=h1(U,q,1)^h1(U,q,8)^aH(U,q,7),Y=Bp[M-2]|0,X=Pp[M-2]|0,S=d1(Y,X,19)^tS(Y,X,61)^sH(Y,X,6),c=h1(Y,X,19)^rS(Y,X,61)^aH(Y,X,6),d=jpe(re,c,Pp[M-7],Pp[M-16]),p=Kpe(d,j,S,Bp[M-7],Bp[M-16]);Bp[M]=p|0,Pp[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:b,Eh:y,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let U=d1(y,E,14)^d1(y,E,18)^tS(y,E,41),q=h1(y,E,14)^h1(y,E,18)^rS(y,E,41),j=y&I^~y&N,re=E&O^~E&k,Y=zpe(L,q,re,TWe[M],Pp[M]),X=Gpe(Y,C,U,j,IWe[M],Bp[M]),S=Y|0,c=d1(n,i,28)^tS(n,i,34)^tS(n,i,39),d=h1(n,i,28)^rS(n,i,34)^rS(n,i,39),p=n&s^n&f^s&f,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=y|0,O=E|0,{h:y,l:E}=pd(h|0,b|0,X|0,S|0),h=f|0,b=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let v=qpe(S,d,x);n=Vpe(v,X,c,p),i=v|0}({h:n,l:i}=pd(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=pd(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=pd(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:b}=pd(this.Dh|0,this.Dl|0,h|0,b|0),{h:y,l:E}=pd(this.Eh|0,this.El|0,y|0,E|0),{h:I,l:O}=pd(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=pd(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=pd(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,f,l,h,b,y,E,I,O,N,k,C,L)}roundClean(){F0(Bp,Pp)}destroy(){F0(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Wpe=Dpe(()=>new cH);function Ype(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}o(Ype,"nfkd");function RWe(t){let e=Ype(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}o(RWe,"normalize");var OWe=o(t=>Ype("mnemonic"+t),"psalt");function Xpe(t,e=""){return Upe(Wpe,RWe(t).nfkd,OWe(e),{c:2048,dkLen:64})}o(Xpe,"mnemonicToSeedSync");function fH(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}o(fH,"isValidHardenedPath");function NWe(t){return Xpe(t,"")}o(NWe,"mnemonicToSeed");function Zpe(t){return jf(NWe(t))}o(Zpe,"mnemonicToSeedHex");m();g();var nS=Ze(Lx(),1);var Dx=32;var lH="suiprivkey",PI=class{static{o(this,"Signer")}async signWithIntent(e,r){let n=dI(r,e),i=u1(n,{dkLen:32});return{signature:Cpe({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:Oi(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(ie.vector(ie.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:Oi(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},iS=class extends PI{static{o(this,"Keypair")}};function p1(t){let{prefix:e,words:r}=nS.bech32.decode(t);if(e!==lH)throw new Error("invalid private key prefix");let n=new Uint8Array(nS.bech32.fromWords(r)),i=n.slice(1);return{schema:hI[n[0]],secretKey:i}}o(p1,"decodeSuiPrivateKey");function dH(t,e){if(t.length!==Dx)throw new Error("Invalid bytes length");let r=U0[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),nS.bech32.encode(lH,nS.bech32.toWords(n))}o(dH,"encodeSuiPrivateKey");m();g();m();g();var m1=Ze(q0(),1);m();g();m();g();var DI=class extends Np{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,$he(e);let n=$u(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Gu(s)}update(e){return D0(this),this.iHash.update(e),this}digestInto(e){D0(this),L0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},UI=o((t,e,r)=>new DI(t,e).update(r).digest(),"hmac");UI.create=(t,e)=>new DI(t,e);m();g();m();g();var tme=rpe(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),BWe=tme[0],PWe=tme[1],Lp=new Uint32Array(80),Dp=new Uint32Array(80),HI=class extends fI{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=ms[0]|0,this.Al=ms[1]|0,this.Bh=ms[2]|0,this.Bl=ms[3]|0,this.Ch=ms[4]|0,this.Cl=ms[5]|0,this.Dh=ms[6]|0,this.Dl=ms[7]|0,this.Eh=ms[8]|0,this.El=ms[9]|0,this.Fh=ms[10]|0,this.Fl=ms[11]|0,this.Gh=ms[12]|0,this.Gl=ms[13]|0,this.Hh=ms[14]|0,this.Hl=ms[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:b,Fh:y,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k]}set(e,r,n,i,s,a,f,l,h,b,y,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=b|0,this.Fh=y|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)Lp[M]=e.getUint32(r),Dp[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=Lp[M-15]|0,q=Dp[M-15]|0,j=dd(U,q,1)^dd(U,q,8)^HU(U,q,7),re=hd(U,q,1)^hd(U,q,8)^FU(U,q,7),Y=Lp[M-2]|0,X=Dp[M-2]|0,S=dd(Y,X,19)^c1(Y,X,61)^HU(Y,X,6),c=hd(Y,X,19)^f1(Y,X,61)^FU(Y,X,6),d=ope(re,c,Dp[M-7],Dp[M-16]),p=spe(d,j,S,Lp[M-7],Lp[M-16]);Lp[M]=p|0,Dp[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:b,Eh:y,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let U=dd(y,E,14)^dd(y,E,18)^c1(y,E,41),q=hd(y,E,14)^hd(y,E,18)^f1(y,E,41),j=y&I^~y&N,re=E&O^~E&k,Y=ape(L,q,re,PWe[M],Dp[M]),X=cpe(Y,C,U,j,BWe[M],Lp[M]),S=Y|0,c=dd(n,i,28)^c1(n,i,34)^c1(n,i,39),d=hd(n,i,28)^f1(n,i,34)^f1(n,i,39),p=n&s^n&f^s&f,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=y|0,O=E|0,{h:y,l:E}=Zc(h|0,b|0,X|0,S|0),h=f|0,b=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let v=Ww(S,d,x);n=Yw(v,X,c,p),i=v|0}({h:n,l:i}=Zc(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Zc(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=Zc(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:b}=Zc(this.Dh|0,this.Dl|0,h|0,b|0),{h:y,l:E}=Zc(this.Eh|0,this.El|0,y|0,E|0),{h:I,l:O}=Zc(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=Zc(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=Zc(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,f,l,h,b,y,E,I,O,N,k,C,L)}roundClean(){Gu(Lp,Dp)}destroy(){Gu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var rme=Jhe(()=>new HI);var hH=rme;var LWe=Ze(q0(),1);var DWe="ed25519 seed",UWe=2147483648,HWe=new RegExp("^m(\\/[0-9]+')+$"),nme=o(t=>t.replace("'",""),"replaceDerive"),FWe=o(t=>{let r=UI.create(hH,DWe).update(Tp(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},"getMasterKeyFromSeed"),qWe=o(({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let s=new Uint8Array(1+t.length+n.byteLength);s.set(new Uint8Array(1).fill(0)),s.set(t,1),s.set(new Uint8Array(n,0,n.byteLength),t.length+1);let a=UI.create(hH,e).update(s).digest(),f=a.slice(0,32),l=a.slice(32);return{key:f,chainCode:l}},"CKDPriv");var VWe=o(t=>HWe.test(t)?!t.split("/").slice(1).map(nme).some(isNaN):!1,"isValidPath"),pH=o((t,e,r=UWe)=>{if(!VWe(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=FWe(e);return t.split("/").slice(1).map(nme).map(a=>parseInt(a,10)).reduce((a,f)=>qWe(a,f+r),{key:n,chainCode:i})},"derivePath");m();g();var ime=Ze(q0(),1);var mH=32,Up=class extends Tx{static{o(this,"Ed25519PublicKey")}constructor(e){if(super(),typeof e=="string"?this.data=Xo(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==mH)throw new Error(`Invalid public key input. Expected ${mH} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return U0.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=kpe(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!VU(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return ime.default.sign.detached.verify(e,n,this.toRawBytes())}};Up.SIZE=mH;var gH="m/44'/784'/0'/0'/0'",g1=class t extends iS{static{o(this,"Ed25519Keypair")}constructor(e){super(),e?this.keypair=e:this.keypair=m1.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(m1.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let s=p1(e);if(s.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${s.schema}`);return this.fromSecretKey(s.secretKey,r)}let n=e.length;if(n!==Dx)throw new Error(`Wrong secretKey size. Expected ${Dx} bytes, got ${n}.`);let i=m1.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let a=new TextEncoder().encode("sui validation"),f=m1.default.sign.detached(a,i.secretKey);if(!m1.default.sign.detached.verify(a,f,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new Up(this.keypair.publicKey)}getSecretKey(){return dH(this.keypair.secretKey.slice(0,Dx),this.getKeyScheme())}async sign(e){return m1.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=gH),!fH(r))throw new Error("Invalid derivation path");let{key:n}=pH(r,Zpe(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=gH),!fH(r))throw new Error("Invalid derivation path");let{key:n}=pH(r,e);return t.fromSecretKey(n)}};var FI=class{static{o(this,"KeypairGeneratorChainPluginSui")}addressTypes=[We.Sui];generateKeypairFromPrivateKey(e){let r=e.fold(a=>new Uint8Array(a)),n=g1.fromSecretKey(r),i=n.getPublicKey().toRawBytes(),s=p1(n.getSecretKey());if(s.schema!=="ED25519")throw new Error(`got unexpected schema ${s.schema} for Sui`);return{publicKey:i,privateKey:s.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new nd(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};var yH=class{static{o(this,"KeypairGenerator")}cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new R5),this.registerChainPlugin(new X5),this.registerChainPlugin(new Z5),this.registerChainPlugin(new FI)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let i=t1.getAddressType(n),s=this.cryptoChainPlugins.get(i);if(!s)throw new Error(`No plugin found for address type ${i}, please register the plugin first.`);return s.generateKeypairFromSeed(e,r,n)}};m();g();function jWe(t){return t1.getAll().includes(t)}o(jWe,"isAddressType");m();g();var tge=Ze(bu()),rge=Ze(Fx()),XI=Ze(q0()),nge=Ze(NH());var ige=o(t=>{let{privateKey:e,addressType:r}=t;switch(r){case We.BitcoinTaproot:case We.BitcoinNativeSegwit:case We.BitcoinNestedSegwit:case We.BitcoinLegacy:try{return{key:AYe(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case We.EVM:try{return{key:IYe(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case We.Solana:try{return RYe(e)}catch{throw new Error("Could not find encoding for Solana private key")}case We.Sui:try{return{key:TYe(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return hs(r)}},"decodePrivateKeyFromString"),AYe=o((t,e)=>{try{let{privateKey:r}=nge.decodeRaw(rge.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},"decodeBitcoinPrivateKey"),IYe=o(t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new wx(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},"decodeEthereumPrivateKey"),YI=o(t=>{let e=XI.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=XI.default.sign.detached(r,t);if(!XI.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},"decodeSolanaPrivateKey"),TYe=o(t=>{try{let e=p1(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},"decodeSuiPrivateKey"),RYe=o(t=>{try{let e=JSON.parse(t);return YI(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=tge.default.decode(t);return YI(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return YI(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return YI(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")},"enumerateSolanaPrivateKeyEncodings");m();g();var oge=Ze(bu()),sge=Ze(Fx()),age=Ze(NH());var OYe=o(t=>{let{privateKey:e,addressType:r}=t;switch(r){case We.BitcoinTaproot:case We.BitcoinNativeSegwit:case We.BitcoinNestedSegwit:case We.BitcoinLegacy:return sge.default.encode(age.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case We.EVM:return"0x"+Buffer.from(e).toString("hex");case We.Solana:return oge.default.encode(e);case We.Sui:return g1.fromSecretKey(e).getSecretKey();default:return hs(r)}},"exportPrivateKeyAsString");m();g();var NYe=o(t=>{try{return Lf.from(ige(t).key)}catch(e){return console.error(e),Lf.from(Buffer.from(""))}},"getPrivateKeyAsObfuscatedBytes");m();g();var Frt=Ze($H());m();g();var[v1e,_1e,w1e]=[[],[],[]],zXe=BigInt(0),pS=BigInt(1),GXe=BigInt(2),$Xe=BigInt(7),WXe=BigInt(256),YXe=BigInt(113);for(let t=0,e=pS,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],v1e.push(2*(5*n+r)),_1e.push((t+1)*(t+2)/2%64);let i=zXe;for(let s=0;s<7;s++)e=(e<<pS^(e>>$Xe)*YXe)%WXe,e&GXe&&(i^=pS<<(pS<<BigInt(s))-pS);w1e.push(i)}var[XXe,ZXe]=tr.split(w1e,!0),b1e=o((t,e,r)=>r>32?tr.rotlBH(t,e,r):tr.rotlSH(t,e,r),"rotlH"),x1e=o((t,e,r)=>r>32?tr.rotlBL(t,e,r):tr.rotlSL(t,e,r),"rotlL");function JXe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let f=(a+8)%10,l=(a+2)%10,h=r[l],b=r[l+1],y=b1e(h,b,1)^r[f],E=x1e(h,b,1)^r[f+1];for(let I=0;I<50;I+=10)t[a+I]^=y,t[a+I+1]^=E}let i=t[2],s=t[3];for(let a=0;a<24;a++){let f=_1e[a],l=b1e(i,s,f),h=x1e(i,s,f),b=v1e[a];i=t[b],s=t[b+1],t[b]=l,t[b+1]=h}for(let a=0;a<50;a+=10){for(let f=0;f<10;f++)r[f]=t[a+f];for(let f=0;f<10;f++)t[a+f]^=~r[(f+2)%10]&r[(f+4)%10]}t[0]^=XXe[n],t[1]^=ZXe[n]}r.fill(0)}o(JXe,"keccakP");var bT=class t extends pp{static{o(this,"Keccak")}constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,kn.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=nx(this.state)}keccak(){JXe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){kn.exists(this);let{blockLen:r,state:n}=this;e=Hu(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let f=0;f<a;f++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){kn.exists(this,!1),kn.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return kn.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(kn.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}},Jp=o((t,e,r)=>ed(()=>new bT(e,t,r)),"gen"),TXt=Jp(6,144,224/8),RXt=Jp(6,136,256/8),OXt=Jp(6,104,384/8),NXt=Jp(6,72,512/8),MXt=Jp(1,144,224/8),WH=Jp(1,136,256/8),CXt=Jp(1,104,384/8),kXt=Jp(1,72,512/8),S1e=o((t,e,r)=>Rde((n={})=>new bT(e,t,n.dkLen===void 0?r:n.dkLen,!0)),"genShake"),BXt=S1e(31,168,128/8),PXt=S1e(31,136,256/8);var Qu=Ze(hq()),Ave=Ze(bu());function qrt(t){let{publicKey:e,addressType:r}=t;switch(r){case We.BitcoinTaproot:case We.BitcoinNativeSegwit:case We.BitcoinNestedSegwit:case We.BitcoinLegacy:return Vrt(e,r,t.networkID);case We.EVM:return jrt(e);case We.Solana:return Ave.default.encode(e);case We.Sui:return new Up(e).toSuiAddress();default:return hs(r)}}o(qrt,"publicKeyToAddress");var Vrt=o((t,e,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?Qu.networks.testnet:Qu.networks.bitcoin,i;switch(e){case We.BitcoinTaproot:Qu.initEccLib(Frt),i=Qu.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case We.BitcoinNativeSegwit:i=Qu.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case We.BitcoinNestedSegwit:{let s=Buffer.from(t),a=Qu.payments.p2wpkh({pubkey:s,network:n},{validate:!1});i=Qu.payments.p2sh({pubkey:s,network:n,redeem:a},{validate:!1})?.address;break}case We.BitcoinLegacy:{i=Qu.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:hs(e)}if(!i)throw new Error("Could not derive Bitcoin address from public key");return i},"getBitcoinAddress"),jrt=o(t=>{let e=t.slice(1),n=WH(e).slice(12);return Krt(`0x${Buffer.from(n).toString("hex")}`)},"computeChecksumAddress"),Krt=o(t=>{if(!F$.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(WH(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},"toChecksumAddress");m();g();function zrt(t){return S_.safeParse(t).success}o(zrt,"isBitcoinAddressType");m();g();function Grt(t){switch(t){case Se.Bip44RootSolana:case Se.Bip44ChangeSolana:case Se.Bip44Solana:case Se.DeprecatedSolana:return We.Solana;case Se.Bip44RootEthereum:case Se.Bip44Ethereum:case Se.Bip44EthereumSecondary:case Se.Bip44EthereumTertiary:return We.EVM;case Se.BitcoinLegacy:return We.BitcoinLegacy;case Se.BitcoinNativeSegwit:return We.BitcoinNativeSegwit;case Se.BitcoinNestedSegwit:return We.BitcoinNestedSegwit;case Se.BitcoinTaproot:return We.BitcoinTaproot;case Se.Bip44Sui:return We.Sui}}o(Grt,"getAddressTypeFromDerivationPathType");m();g();m();g();var Ive={id:Et.Arbitrum,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/arbitrum.png",name:"Arbitrum",networks:{[Fc.Mainnet]:{id:Fc.Mainnet,name:"Arbitrum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/mainnet",value:42161},[Fc.Sepolia]:{id:Fc.Sepolia,name:"Arbitrum Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/sepolia",value:421614}},mainnetID:Fc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:In.Arbitrum,parentChain:Et.Ethereum};m();g();var Tve={id:Et.Base,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{[Hc.Mainnet]:{id:Hc.Mainnet,name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},[Hc.Sepolia]:{id:Hc.Sepolia,name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:Hc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:In.Base,parentChain:Et.Ethereum};m();g();var $rt=Ze($H());var NR=Ze(hq());var yv=we.string().refine(t=>{try{return NR.initEccLib($rt),NR.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),BS=we.object({networkID:Gh,addressType:we.nativeEnum(We),address:yv,publicKey:we.instanceof(Uint8Array).optional()}),pq={id:Et.Bitcoin,addressTypes:[We.BitcoinTaproot,We.BitcoinNativeSegwit],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{[oc.Mainnet]:{id:oc.Mainnet,name:"Bitcoin",value:128},[oc.Testnet]:{id:oc.Testnet,name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:oc.Mainnet,tokenDecimals:8,tokenSymbol:"BTC",slip44:In.Bitcoin};m();g();var MR=we.object({networkID:$h,addressType:we.nativeEnum(We),address:Py}),Rve={id:Et.Ethereum,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{[ic.Mainnet]:{id:ic.Mainnet,name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},[ic.Sepolia]:{id:ic.Sepolia,name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:ic.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:In.Ethereum};m();g();var Ove={id:Et.Hypercore,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/hypercore.png",name:"Hypercore",networks:{[sc.Mainnet]:{id:sc.Mainnet,name:"Hypercore",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/mainnet",value:"mainnet"},[sc.Testnet]:{id:sc.Testnet,name:"Hypercore Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/testnet",value:"testnet"}},mainnetID:sc.Mainnet,tokenDecimals:9,tokenSymbol:"ETH",slip44:In.Hypercore},Nve=we.object({networkID:h0,addressType:we.nativeEnum(We),address:H3});m();g();var Mve={id:Et.Hyperevm,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/hyperevm.png",name:"HyperEVM",networks:{[ac.Mainnet]:{id:ac.Mainnet,name:"HyperEVM",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/hyperevm/network/mainnet",value:999},[ac.Testnet]:{id:ac.Testnet,name:"HyperEVM Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/hyperevm/network/testnet",value:998}},mainnetID:ac.Mainnet,tokenDecimals:18,tokenSymbol:"HYPE",slip44:In.Hyperevm};m();g();var Cve={id:Et.Monad,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{[qc.Mainnet]:{id:qc.Mainnet,name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143},[qc.Testnet]:{id:qc.Testnet,name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143}},mainnetID:qc.Mainnet,tokenDecimals:18,tokenSymbol:"MON",slip44:In.Monad};m();g();var kve={id:Et.Polygon,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{[Uc.Mainnet]:{id:Uc.Mainnet,name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},[Uc.Amoy]:{id:Uc.Amoy,name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:Uc.Mainnet,tokenDecimals:18,tokenSymbol:"POL",slip44:In.Polygon,parentChain:Et.Ethereum};m();g();var PS=we.object({networkID:zh,addressType:we.nativeEnum(We),address:Ly}),mq={id:Et.Solana,addressTypes:[We.Solana],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{[Ji.Mainnet]:{id:Ji.Mainnet,name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},[Ji.Testnet]:{id:Ji.Testnet,name:"Solana Testnet",shortName:"Testnet",value:"testnet"},[Ji.Devnet]:{id:Ji.Devnet,name:"Solana Devnet",shortName:"Devnet",value:"devnet"},[Ji.Localnet]:{id:Ji.Localnet,name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:Ji.Localnet,mainnetID:Ji.Mainnet,tokenDecimals:9,tokenSymbol:"SOL",slip44:In.Solana};m();g();var Bve={id:Et.Sui,addressTypes:[We.Sui],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{[Vc.Mainnet]:{id:Vc.Mainnet,name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},[Vc.Testnet]:{id:Vc.Testnet,name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:Vc.Mainnet,tokenDecimals:9,tokenSymbol:"SUI",slip44:In.Sui},Pve=we.object({networkID:wg,addressType:we.nativeEnum(We),address:Dy,publicKey:we.instanceof(Uint8Array).optional()});m();g();var gq=class extends Error{static{o(this,"UnsupportedChainFeatureError")}chain;feature;constructor(e,r){super(`${r} is not yet supported for ${e}`),this.chain=e,this.feature=r,this.name="UnsupportedChainFeatureError"}},yq=class extends gq{static{o(this,"UnsupportedSuiChainError")}constructor(e){super(Et.Sui,e)}};m();g();function CR(t){return Object.values(Et).includes(t)}o(CR,"isChain");var Qo={[Et.Bitcoin]:pq,[Et.Ethereum]:Rve,[Et.Polygon]:kve,[Et.Monad]:Cve,[Et.Solana]:mq,[Et.Base]:Tve,[Et.Sui]:Bve,[Et.Arbitrum]:Ive,[Et.Hypercore]:Ove,[Et.Hyperevm]:Mve},kR={[Et.Solana]:1,[Et.Ethereum]:2,[Et.Bitcoin]:3,[Et.Monad]:4,[Et.Base]:5,[Et.Sui]:6,[Et.Polygon]:7,[Et.Arbitrum]:8,[Et.Hypercore]:9,[Et.Hyperevm]:10},Wrt={[Et.Solana]:!0,[Et.Ethereum]:!0,[Et.Monad]:!0,[Et.Base]:!0,[Et.Polygon]:!0,[Et.Bitcoin]:!0,[Et.Sui]:!0,[Et.Arbitrum]:!1,[Et.Hypercore]:!1,[Et.Hyperevm]:!0},bq=o((t,e)=>{let r=kR[t]-kR[e];return r===0?0:r>0?1:-1},"compareChain"),Yrt=o(()=>{let t=Object.values(Et).sort(bq),e=t.map(ge=>Qo[ge]),r={},n=[],i={},s={},a={};e.forEach(ge=>{let pe=Object.fromEntries(Object.entries(ge.networks).filter(([Re,Me])=>!Me.hidden)),ye=Object.keys(pe);n.push(...ye),ye.forEach(Re=>{r[Re]=ge});let Cr=Object.values(pe);i[ge.id]=Cr.map(Re=>Re.id),Cr.forEach(Re=>{s[Re.id]=Re});for(let Re of ge.addressTypes){let Me=a[Re];Me?Me.push(ge.id):a[Re]=[ge.id]}});let f=new Set(n);function l(ge){return ge?.evmOnly?t.filter(pe=>Qo[pe].addressTypes.includes(We.EVM)):t}o(l,"getAllChainIDs");function h(ge){return Wrt[ge]}o(h,"isChainDefaultEnabled");function b(ge){return n.filter(pe=>r[pe].id===ge)}o(b,"getNetworkIDs");function y(ge){if(!ge)return n;let pe=n;return ge.evmOnly&&(pe=pe.filter(ye=>w(ye))),ge.mainnetOnly&&(pe=pe.filter(ye=>D(ye))),pe}o(y,"getAllNetworkIDs");function E(ge){return r[ge]}o(E,"getChainDefinition");function I(ge){return s[ge].rpcProxyUrl}o(I,"getRpcProxyUrl");function O(ge){return r[ge].addressTypes[0]}o(O,"_DO_NOT_USE_getAddressType");function N(ge){let pe=r[ge];if(pe.addressTypes.length===1){let[ye]=pe.addressTypes;return ye}else throw`The chain ${pe.id} has multiple address types`}o(N,"getAddressType");function k(ge){return r[ge].addressTypes}o(k,"getAddressTypes");function C(ge){return r[ge].id}o(C,"getChainID");function L(ge){return Qo[le(ge)].name}o(L,"getChainName");function M(ge){return r[ge].tokenDecimals}o(M,"getTokenDecimals");function U(ge){return(X(ge)?r[ge]:Qo[ge]).tokenSymbol}o(U,"getTokenSymbol");function q(ge){return(X(ge)?r[ge]:Qo[ge]).iconUrl}o(q,"getChainIconUrl");function j(ge){return r[ge].slip44}o(j,"getSlip44");function re(ge){return Qo[le(ge)].mainnetID}o(re,"getMainnetNetworkID");function Y(ge){let pe;if(w(ge)&&(pe=s[ge].value),typeof pe=="number")return pe;throw new Error(`Invalid NetworkID: ${ge}. Must be an EVM NetworkID.`)}o(Y,"getEVMNetworkIDValue");function X(ge){return f.has(ge)}o(X,"isNetworkID");function S(ge){return Object.keys(Qo.bitcoin.networks).includes(ge)}o(S,"isBitcoinNetworkID");function c(ge){return Object.keys(Qo.ethereum.networks).includes(ge)}o(c,"isEthereumNetworkID");function d(ge){return Object.keys(Qo.polygon.networks).includes(ge)}o(d,"isPolygonNetworkID");function p(ge){return Object.keys(Qo.base.networks).includes(ge)}o(p,"isBaseNetworkID");function x(ge){return Object.keys(Qo.arbitrum.networks).includes(ge)}o(x,"isArbitrumNetworkID");function v(ge){return Object.keys(Qo.monad.networks).includes(ge)}o(v,"isMonadNetworkID");function A(ge){return Object.keys(Qo.hypercore.networks).includes(ge)}o(A,"isHypercoreNetworkID");function T(ge){return Object.keys(Qo.hyperevm.networks).includes(ge)}o(T,"isHyperevmNetworkID");function w(ge){return c(ge)||d(ge)||p(ge)||v(ge)||x(ge)||A(ge)||T(ge)}o(w,"isEVMNetworkID");function u(ge){return Object.keys(Qo.solana.networks).includes(ge)}o(u,"isSolanaNetworkID");function _(ge){return Object.keys(Qo.sui.networks).includes(ge)}o(_,"isSuiNetworkID");function F(ge){if(!u(ge))throw new Error(`Invalid NetworkID: ${ge}. Must be a Solana NetworkID.`);return Qo.solana.networks[ge].value}o(F,"getSolanaNetworkIDValue");function H(ge){return r[ge].localnetID===ge}o(H,"isLocalNetworkID");function D(ge){return r[ge].mainnetID===ge}o(D,"isMainnetNetworkID");function $(ge){return s[ge]}o($,"getNetworkDefinition");function ee(ge,pe=!1){let ye=s[ge];return pe&&ye.shortName?ye.shortName:ye.name}o(ee,"getNetworkName");function te(ge){return r[ge].parentChain}o(te,"getParentChain");function Oe(ge){return a[ge]}o(Oe,"getChainIDs");function fe(ge,pe){let ye=r[ge].id,Cr=r[pe].id;return bq(ye,Cr)}o(fe,"compareNetworkID");function le(ge){return CR(ge)?ge:X(ge)?Nt.getChainID(ge):hs(ge)}return o(le,"getChain"),{...Qo,getAllChainIDs:l,isChainDefaultEnabled:h,getNetworkIDs:b,getAllNetworkIDs:y,getChainDefinition:E,getAddressType:N,getAddressTypes:k,getChainID:C,getChainName:L,getTokenDecimals:M,getTokenSymbol:U,getChainIconUrl:q,getSlip44:j,getMainnetNetworkID:re,getEVMNetworkIDValue:Y,getSolanaNetworkIDValue:F,_DO_NOT_USE_getAddressType:O,isNetworkID:X,isMonadNetworkID:v,isBitcoinNetworkID:S,isEVMNetworkID:w,isSolanaNetworkID:u,isEthereumNetworkID:c,isPolygonNetworkID:d,isBaseNetworkID:p,isArbitrumNetworkID:x,isSuiNetworkID:_,isHypercoreNetworkID:A,isHyperevmNetworkID:T,isLocalNetworkID:H,isMainnetNetworkID:D,getNetworkDefinition:$,getNetworkName:ee,getChainIDs:Oe,compareChain:bq,compareNetworkID:fe,getRpcProxyUrl:I,getParentChain:te}},"createChains"),Nt=Yrt();m();g();m();g();var bir=we.union([BS,MR,PS,Pve,Nve]);var bn;(function(t){t.address="address",t.tx="tx",t.nativeToken="nativeToken"})(bn||(bn={}));var Lve=we.string(),Dve=we.object({chainId:p0,resourceType:we.nativeEnum(bn)}),xq=Dve.extend({resourceType:we.literal(bn.nativeToken),slip44:we.nativeEnum(In)}),rh=Dve.extend({resourceType:we.literal(bn.address),address:we.string()}),vq=rh.extend({chainId:zh,address:Ly}),_q=rh.extend({chainId:$h,address:Py,tokenId:we.string().optional()}),wq=rh.extend({chainId:Gh,address:yv.or(we.string())}),Xrt=rh.extend({chainId:wg,address:Dy,tokenId:we.string().optional()}),Uve=rh.extend({chainId:h0,address:H3,tokenId:we.string().optional()}),Hve=rh.extend({chainId:Sg,address:q$,tokenId:we.string().optional()}),Fve=we.union([xq,rh,vq,_q,wq,Xrt]);m();g();var qve=o(t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(Nt.isEVMNetworkID(r)||Nt.isSolanaNetworkID(r)||Nt.isBitcoinNetworkID(r)||Nt.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[i,s]=n;if(!i||!s)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(bn).includes(i))throw new Error(`Unsupported resource type '${i}'`);if(i===bn.nativeToken){if(!Object.values(In).includes(s))throw new Error(`Unsupported slip44 '${s}'`);return{chainId:r,resourceType:i,slip44:s}}else if(Nt.isEVMNetworkID(r)){if(i===bn.address)return e.length===3?{chainId:r,address:s,resourceType:i,tokenId:e[2]}:{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Nt.isSolanaNetworkID(r)){if(i===bn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Nt.isBitcoinNetworkID(r)){if(i===bn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Nt.isSuiNetworkID(r)){if(i===bn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)},"decodeCaip19");m();g();var Vve=o(t=>{if(t.resourceType===bn.nativeToken)return`${t.chainId}/${bn.nativeToken}:${t.slip44}`;if(Nt.isHypercoreNetworkID(t.chainId))return"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${bn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${bn.address}:${t.address}`;if(Nt.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${bn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${bn.address}:${t.address}`;if(Nt.isSolanaNetworkID(t.chainId))return`${t.chainId}/${bn.address}:${t.address}`;if(Nt.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/${bn.address}:${e.address}`}return Nt.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${bn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${bn.address}:${t.address}`:hs(t.chainId)},"encodeCaip19");m();g();m();g();var jve=we.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],i=e[1].split(":");if(i.length<2)return!1;let s=i[0],a=i[1];return typeof t=="string"&&Nt.isNetworkID(r)&&s.match(/^[-a-z0-9]{2,8}/)&&a.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});m();g();function Kve(t){return!t||t.resourceType!==bn.address?!1:!!Nt.isEVMNetworkID(t.chainId)}o(Kve,"isEvmCaip19Address");m();g();function zve(t,e){return Nt.isBitcoinNetworkID(e)?yv.safeParse(t).success:Nt.isEVMNetworkID(e)?Py.safeParse(t).success:Nt.isSolanaNetworkID(e)?Ly.safeParse(t).success:Nt.isSuiNetworkID(e)?Dy.safeParse(t).success:hs(e)}o(zve,"validateAddress");m();g();var Gve=o(t=>{let e=Nt.getNetworkIDs(t),r=Nt.getMainnetNetworkID(e[0]),n=Nt[t].slip44;return{chainId:r,resourceType:bn.nativeToken,slip44:n}},"getNativeFungibleCaip19ForChain");m();g();m();g();function $ve(t){return BS.safeParse(t).success}o($ve,"isBitcoinChainAddress");function Wve(t){return PS.safeParse(t).success}o(Wve,"isSolanaChainAddress");function Yve(t){return MR.safeParse(t).success}o(Yve,"isEVMChainAddress");var Xve=we.object({networkID:p0,addressType:we.nativeEnum(We),address:we.string()}),Zrt=o(t=>`${t.networkID}-${t.address}`,"toKey"),Zve={toKey:Zrt},Jve=o(t=>{let e={chainId:t.networkID,address:t.address,resourceType:bn.address};return Nt.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e},"chainAddressToCaip19Address");m();g();function Qve(t){return[Tn.Solana.Devnet,Tn.Solana.Testnet,Tn.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}o(Qve,"hexToCAIP2");m();g();var e2e=we.object({id:p0,name:we.string(),symbol:we.string(),imageUrl:we.string()});function t2e(t){let{name:e,tokenSymbol:r,iconUrl:n}=Nt.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}o(t2e,"getNetworkMetadata");m();g();function r2e(t){switch(t){case"devnet":return Tn.Solana.Devnet;case"mainnet":return Tn.Solana.Mainnet;case"testnet":return Tn.Solana.Testnet;case"localnet":return Tn.Solana.Localnet}}o(r2e,"solanaNetworkIDToCAIPSolanaNetworkID");function n2e(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}o(n2e,"solanaNetworkIDToClusterID");m();g();var i2e=o((t,e)=>{if(Nt.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return We.BitcoinTaproot;case(e.startsWith("bc1q")||e.startsWith("tb1q")):return We.BitcoinNativeSegwit;case(e.startsWith("3")||e.startsWith("2")):return We.BitcoinNestedSegwit;case(e.startsWith("1")||e.startsWith("m")):return We.BitcoinLegacy}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return Nt.isEVMNetworkID(t)?We.EVM:Nt.isSolanaNetworkID(t)?We.Solana:Nt.isSuiNetworkID(t)?We.Sui:hs(t)},"addressTypeFromAddress");m();g();var Jrt=Nt.getAllNetworkIDs().filter(t=>Nt.isEVMNetworkID(t)),o2e=o(t=>Jrt.find(e=>Nt.getNetworkDefinition(e).value===t),"evmNetworkIdForChainIdValue");m();g();var s2e=o(t=>Nt.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return Nt.isMainnetNetworkID(e);if(t==="testnets_only")return!Nt.isMainnetNetworkID(e)}else return!0}).map(Sq),"getEthSupportedNetworkIds"),Sq=o(t=>`0x${Nt.getNetworkDefinition(t).value.toString(16)}`,"networkIDToHex");m();g();m();g();m();g();var Eq=class{static{o(this,"WeakRefPolyfill")}value;constructor(e){this.value=e}deref(){return this.value}},a2e=typeof WeakRef=="function"?WeakRef:Eq;m();g();m();g();m();g();var Qrt=o(t=>{setTimeout(()=>{t()},0)},"_scheduleFlush"),ent=o(t=>t(),"_runBatch");var Aq=o(t=>{Qrt(t)},"scheduleFlush"),c2e=o(t=>{ent(t)},"runBatch");m();g();m();g();m();g();m();g();var f2e;var bv=o(t=>{f2e=t},"setCurrentConsumer"),Ki=o(()=>f2e,"getCurrentConsumer");function BR(t){let e=t._state;e!==2&&(t._state=2,e<3&&Iq(t))}o(BR,"dirtySignal");function Iq(t){if(Ki()===t)throw new Error("A signal was dirtied after it was consumed by the current function. This can cause race conditions and infinite rerenders and is not allowed.");z1(t)?t.watchCount>0&&LR(t):(t._isListener&&PR(t),LS(t.subs),t.subs=new Map)}o(Iq,"propagateDirty");function LS(t){for(let[e,r]of t){let n=e.deref();if(n===void 0||n.computedCount!==r.consumedAt)continue;let i=n._state;switch(i){case 0:n._state=3,n.dirtyHead=r,r.nextDirty=void 0,Iq(n);break;case 1:case 3:case 4:{let s=n.dirtyHead,a=r.ord;if(s.ord>a)n.dirtyHead=r,r.nextDirty=s,(i===1||i===4)&&(n._state=3,Iq(n));else{let f=s.nextDirty;for(;f!==void 0&&f.ord<a;)s=f,f=s.nextDirty;r.nextDirty=f,s.nextDirty=r}break}}}}o(LS,"dirtySignalConsumers");m();g();var u2e=0;function DS(t,e,r,n,i){return t===void 0?{type:e,dep:r,ord:u2e++,updatedAt:n,consumedAt:i,nextDirty:void 0}:(t.ord=u2e++,t.updatedAt=n,t.consumedAt=i,t.nextDirty=void 0,t)}o(DS,"createEdge");function l2e(t,e){let r=t.dirtyHead;if(r===void 0)return;if(r.dep===e)return t.dirtyHead=r.nextDirty,r;let n=r.nextDirty;for(;n!==void 0;){if(n.dep===e)return r.nextDirty=n.nextDirty,n;r=n,n=r.nextDirty}}o(l2e,"findAndRemoveDirty");m();g();var tnt=0,Tq=class{static{o(this,"StateSignal")}_value;_equals;_subs=new Map;_desc;_id;_listeners=null;constructor(e,r=(i,s)=>i===s,n="signal"){this._value=e,this._equals=r,this._id=tnt++,this._desc=n}get value(){return this.consume(),this._value}update(e){this.value=e(this._value)}set value(e){this._equals(e,this._value)||(this._value=e,this.notify())}consume(){let e=Ki(),r=el();e!==void 0&&(r?.emit({type:Yf.ConsumeState,id:e.tracerMeta.id,name:this._desc,childId:this._id,value:this._value,setValue:o(n=>{this.value=n},"setValue")}),this._subs.set(e.ref,e.computedCount))}notify(){let{_subs:e}=this;for(let[r,n]of e.entries()){let i=r.deref();i===void 0||n!==i.computedCount||BR(i)}this._subs=new Map,DR(this)}addListener(e){let r=this._listeners;return r===null&&(this._listeners=r=new Set),r.add(e),()=>r.delete(e)}};function d2e(t){let e=t._listeners;if(e!==null)for(let r of e)r()}o(d2e,"runListeners");var rnt=o(()=>!1,"FALSE_EQUALS");function mm(t,e){let r=e?.equals===!1?rnt:e?.equals??((n,i)=>n===i);return new Tq(t,r,e?.desc)}o(mm,"signal");m();g();var US=o((t,e)=>t===e,"DEFAULT_EQUALS"),nnt=o(()=>!1,"FALSE_EQUALS"),HS=o(t=>t===!1?nnt:t??US,"equalsFrom");m();g();m();g();m();g();var int=function*(){}().constructor;function UR(t){return t.constructor===int}o(UR,"isGeneratorResult");function xv(t){return t.constructor===Promise}o(xv,"isPromise");function h2e(t,e){function r(n){return typeof n=="object"&&n!==null&&(xv(n)||tl(n))?n:Promise.resolve(n)}return o(r,"adopt"),new Promise((n,i)=>{function s(b,y){let E=Ki();try{bv(e);let I=b(y);I.done?n(I.value):r(I.value).then(l,h)}catch(I){i(I)}finally{bv(E)}}o(s,"step");let a=t.next.bind(t),f=t.throw.bind(t);function l(b){s(a,b)}o(l,"fulfilled");function h(b){s(f,b)}o(h,"rejected"),s(a)})}o(h2e,"generatorResultToPromiseWithConsumer");function p2e(t,e){function r(n){return typeof n=="object"&&n!==null&&(xv(n)||tl(n))?n:Promise.resolve(n)}return o(r,"adopt"),new Promise((n,i)=>{function s(b,y){let E=HR();try{vv(e);let I=b(y);I.done?n(I.value):r(I.value).then(l,h)}catch(I){i(I)}finally{vv(E)}}o(s,"step");let a=t.next.bind(t),f=t.throw.bind(t);function l(b){s(a,b)}o(l,"fulfilled");function h(b){s(f,b)}o(h,"rejected"),s(a)})}o(p2e,"generatorResultToPromiseWithScope");var FS,Rq=class{static{o(this,"Callback")}scope;deps;_callbacks;fn;constructor(e,r,n){this.deps=n,this.scope=r,this.setFn(e)}get callbacks(){return this._callbacks??(this._callbacks=[])}setFn(e){this.fn=(...r)=>{let n=this.scope,i=HR(),s=FS;try{FS=this,vv(n);let a=e(...r);return typeof a=="object"&&a!==null&&UR(a)?p2e(a,n):a}finally{FS=s,vv(i)}}}};function Oq(t,e,r){return new Rq(t,e,r)}o(Oq,"createCallback");function ro(t,e,r){let n;if(FS!==void 0)n=FS.callbacks;else{let s=Ki();if(s===void 0)throw new Error("callback must be used within a reactive function, component, or nested callback");n=s.callbacks??(s.callbacks=[])}let i=n[e];return i===void 0?i=n[e]=Oq(t,nh(),r):r&&i.deps?.findIndex((s,a)=>s!==r[a])!==-1&&(i.setFn(t),i.deps=r),i.fn}o(ro,"callback");var FR=Array.from;function ont(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}o(ont,"isThenable");function qR(t,e,r){ont(t)?t.then(e,r):e(t)}o(qR,"thenLoop");var _v=class t{static{o(this,"ReactivePromiseImpl")}_value=void 0;_error=void 0;_flags=1;_signal=void 0;_equals=US;_promise;_pending=[];_stateSubs=new Map;_awaitSubs=new Map;_updatedCount=0;_version=mm(0);run=void 0;constructor(e){if(g2e(this),e){let r=o(i=>{i&&typeof i.then=="function"?this._setPromise(i):this._setValue(i)},"resolve"),n=o(i=>{this._setError(i)},"reject");try{e(r,n)}catch(i){n(i)}}}static all(e){let r=new t,n=FR(e),i=n.length;if(i===0)return r._setValue([]),r;let s=new Array(i),a=i,f=!1,l=o(b=>y=>{f||(s[b]=y,--a===0&&r._setValue(s))},"onFulfillAt"),h=o(b=>{f||(f=!0,r._setError(b))},"onReject");for(let b=0;b<i;b++)qR(n[b],l(b),h);return r}static race(e){let r=new t,n=FR(e),i=n.length;if(i===0)return r;let s=!1,a=o(l=>{s||(s=!0,r._setValue(l))},"onFulfill"),f=o(l=>{s||(s=!0,r._setError(l))},"onReject");for(let l=0;l<i;l++)qR(n[l],a,f);return r}static any(e){let r=new t,n=FR(e),i=n.length;if(i===0)return r._setError(new AggregateError([],"No promises were provided to ReactivePromise.any")),r;let s=i,a=new Array(i),f=!1,l=o(b=>{f||(f=!0,r._setValue(b))},"onFulfill"),h=o(b=>y=>{f||(a[b]=y,--s===0&&r._setError(new AggregateError(a,"All promises were rejected in ReactivePromise.any")))},"onRejectAt");for(let b=0;b<i;b++)qR(n[b],l,h(b));return r}static allSettled(e){let r=new t,n=FR(e),i=n.length;if(i===0)return r._setValue([]),r;let s=new Array(i),a=i,f=o(h=>b=>{s[h]={status:"fulfilled",value:b},--a===0&&r._setValue(s)},"onFulfillAt"),l=o(h=>b=>{s[h]={status:"rejected",reason:b},--a===0&&r._setValue(s)},"onRejectAt");for(let h=0;h<i;h++)qR(n[h],f(h),l(h));return r}static resolve(e){return e instanceof t?e:new t(r=>r(e))}static reject(e){return new t((r,n)=>n(e))}static withResolvers(){let e=new t;return e._equals=US,e._initFlags(1),{promise:e,resolve:o(i=>{i&&typeof i.then=="function"?e._setPromise(i):e._setValue(i)},"resolve"),reject:o(i=>{e._setError(i)},"reject")}}_initFlags(e){let r=el();r!==void 0&&this._signal!==void 0&&e&1&&r.emit({type:Yf.StartLoading,id:this._signal.tracerMeta.id}),this._flags=e}_consumeFlags(e){let r=Ki();if(r===void 0)return;this._flags&128&&this._connect();let n=r.ref,i=this._stateSubs,s=i.get(n)??0;i.set(n,s|e)}_connect(){let e=this._signal,r=Ki();if(r?.watchCount===0){let{ref:n,computedCount:i,deps:s}=r,a=s.get(e);if(a?.consumedAt!==i){let f=DS(a,0,e,e.updatedCount,i);e.subs.set(n,f),s.set(e,f)}}else qS(e)}_setFlags(e,r=0,n=0){let i=this._flags,s=i&~r|e,a=i^s|n;if(this._flags=s,a===0)return;a&48&&this._updatedCount++;let f=this._stateSubs;for(let[h,b]of f)if(b&a){let y=h.deref();y&&BR(y),f.delete(h)}this._version.update(h=>h+1);let l=el();l!==void 0&&this._signal!==void 0&&(e&1&&a&1?l.emit({type:Yf.StartLoading,id:this._signal.tracerMeta.id}):r&1&&a&1&&l.emit({type:Yf.EndLoading,id:this._signal.tracerMeta.id,value:Nq(this)?"...":this._value}))}_setPending(){return this._setFlags(1),LS(this._awaitSubs),this._awaitSubs=new Map}_clearPending(){this._setFlags(0,1)}async _setPromise(e){this._promise=e;let r=this._flags,n=this._awaitSubs;r&1||(n=this._setPending());try{let i=await e;if(e!==this._promise)return;this._setValue(i,n)}catch(i){if(e!==this._promise)return;this._setError(i,n)}}_setValue(e,r=this._awaitSubs){let n=this._flags,i=this._value,s=0;(!(n&8)||this._equals(i,e)===!1)&&(this._value=i=e,s=16),n&2&&(s=32,this._error=void 0),n&1?this._scheduleSubs(r,s!==0):s!==0&&LS(r),this._awaitSubs=r=new Map,this._setFlags(12,3,s);let a=this._pending;this._pending=[];let f=this._updatedCount;for(let{ref:h,edge:b,resolve:y}of a)y?.(i),h!==void 0&&(b.updatedAt=f,r.set(h,b));let l=this._signal;l!==void 0&&VR(l)}_setError(e,r=this._awaitSubs){let n=this._error,i=0;n!==e&&(this._error=n=e,i=32),this._flags&1?this._scheduleSubs(r,i!==0):i!==0&&LS(r),this._awaitSubs=r=new Map,this._setFlags(2,5,i);let s=this._pending;this._pending=[];let a=this._updatedCount;for(let{ref:l,edge:h,reject:b}of s)b?.(n),l!==void 0&&(h.updatedAt=a,r.set(l,h));let f=this._signal;f!==void 0&&VR(f)}_scheduleSubs(e,r){let n=r?2:4;for(let i of e.keys()){let s=i.deref();s!==void 0&&(s._state=n,LR(s))}}get value(){return this._consumeFlags(16),this._value}get error(){return this._consumeFlags(32),this._error}get isPending(){return this._consumeFlags(1),(this._flags&1)!==0}get isRejected(){return this._consumeFlags(2),(this._flags&2)!==0}get isResolved(){return this._consumeFlags(4),(this._flags&4)!==0}get isReady(){return this._consumeFlags(8),(this._flags&8)!==0}get isSettled(){return this._consumeFlags(6),(this._flags&6)!==0}then(e,r){let n=this._flags;return new Promise((i,s)=>{let a,f,l=Ki();if(l!==void 0){n&128&&(this._connect(),n=this._flags),a=l.ref;let y=this._awaitSubs.get(a)??l2e(l,this);f=DS(y,1,this,this._updatedCount,l.computedCount)}let h=e?y=>{try{let E=e(y);i(E)}catch(E){s(E)}}:i,b=r?y=>{try{let E=r(y);i(E)}catch(E){s(E)}}:s;n&1?this._pending.push({ref:a,edge:f,resolve:h,reject:b}):(n&4?h(this._value):n&2&&b(this._error),a&&this._awaitSubs.set(a,f))})}catch(e){return this.then(null,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}get[Symbol.toStringTag](){return"ReactivePromise"}},m2e=new WeakSet;function g2e(t){m2e.add(t)}o(g2e,"setReactivePromise");function tl(t){return m2e.has(t)}o(tl,"isReactivePromise");function Nq(t){return tl(t)&&(t._flags&128)!==0}o(Nq,"isRelay");function y2e(t,e){let r=new _v;return r._signal=e,r._equals=e.def.equals,r._initFlags(1),r._setPromise(t),r}o(y2e,"createPromise");function b2e(t,e,r){let n=new _v,i=!1,s,a=o(()=>{typeof s=="function"?s():s!==void 0&&s.deactivate?.();let h=n._signal;h.subs=new Map,h._state=2,h.watchCount=0,i=!1,s=void 0},"unsubscribe"),f={get value(){return n._value},set value(h){n._setValue(h)},setPromise:o(h=>{n._setPromise(h)},"setPromise"),setError:o(h=>{n._setError(h)},"setError")},l={compute:o(()=>(i===!1?(s=t(f),i=!0):typeof s=="function"||s===void 0?(s?.(),s=t(f)):s.update?.(),a),"compute"),equals:US,isRelay:!0,paramKey:r?.paramKey,id:r?.id,desc:r?.desc,tracer:void 0};return n._signal=gm(l,[],void 0,e),n._equals=HS(r?.equals),n._initFlags(129),n}o(b2e,"createRelay");function x2e(t,e,r){let n=new _v,{fn:i}=Oq(t,e);return n._equals=HS(r?.equals),n._initFlags(64),n.run=(...s)=>(n._setPromise(i(...s)),n),n}o(x2e,"createTask");var snt=_v;m();g();function G1(t){let{watchCount:e}=t,r=e+1;if(t.watchCount=r,!(e>0)){t.scope?.removeFromGc(t);for(let n of t.deps.keys())G1(n);z1(t)&&ih(t)}}o(G1,"watchSignal");function jR(t,e=1){let{watchCount:r}=t,n=Math.max(r-e,0);if(t.watchCount=n,!(n>0)){for(let i of t.deps.keys())jR(i);z1(t)&&t._value?.(),n===0&&t.scope&&t.scope.markForGc(t)}}o(jR,"unwatchSignal");function qS(t){let e=Ki();if(e!==void 0){let{ref:r,computedCount:n,deps:i}=e,s=i.get(t);if(s?.consumedAt!==n){s===void 0&&(el()?.emit({type:Yf.Connected,id:e.tracerMeta.id,childId:t.tracerMeta.id,name:t.tracerMeta.desc,params:t.tracerMeta.params,nodeType:zR.Reactive}),e.watchCount>0&&G1(t));let f=ih(t),l=DS(s,0,t,f,n);t.subs.set(r,l),i.set(t,l)}else{let f=ih(t);s!==void 0&&(s.updatedAt=f)}}else ih(t);return t._value}o(qS,"getSignal");function ih(t){let{ref:e,_state:r}=t;if(r<2)return t.updatedCount;if(r>=3){let i=t.dirtyHead;for(;i!==void 0;){if(i.type===1){let f=i.dep;if(f.isPending){let l=t._value;return f._awaitSubs.set(e,i),l._setPending(),t._state=1,t.dirtyHead=i,t.updatedCount}else if(i.updatedAt===i.dep._updatedCount)f._awaitSubs.set(e,i);else{t.dirtyHead=i.nextDirty,t._state=2;break}i=i.nextDirty;continue}let s=i.dep,a=ih(s);if(s.subs.set(e,i),i.updatedAt!==a){t.dirtyHead=i.nextDirty,t._state=2;break}i=i.nextDirty}}let n=t._state;return n===2?t._isLazy?t.updatedCount++:v2e(t):n===4&&t._value._clearPending(),t._state=0,t.dirtyHead=void 0,el()!==void 0&&t.tracerMeta?.tracer&&Mq(t.tracerMeta.tracer),t.updatedCount}o(ih,"checkSignal");function v2e(t){let e=el();e?.emit({type:Yf.StartUpdate,id:t.tracerMeta.id});let r=Ki(),n=t.updatedCount,i=++t.computedCount;try{bv(t);let s=n!==0,a=t._value,f=t.def.compute(...t.args),l=!1;f!==null&&typeof f=="object"&&(UR(f)?(f=h2e(f,t),l=!0):xv(f)&&(l=!0)),l?a!==null&&typeof a=="object"&&tl(a)?a._setPromise(f):(t._value=y2e(f,t),t.updatedCount=n+1):((!s||!t.def.equals(a,f))&&(t._value=f,t.updatedCount=t._isLazy?n:n+1),VR(t,i))}finally{bv(r),e?.emit({type:Yf.EndUpdate,id:t.tracerMeta.id,value:z1(t)?"...":t._value})}}o(v2e,"runSignal");function VR(t,e=t.computedCount){let{ref:r,deps:n}=t;for(let[i,s]of n)s.consumedAt!==e&&(KR(i),i.subs.delete(r),n.delete(i))}o(VR,"disconnectSignal");function _2e(t){let e=t.listeners,r=ih(t);return e!==null&&e.updatedAt!==r&&(e.updatedAt=r,DR(t)),r}o(_2e,"checkAndRunListeners");var ant=typeof requestIdleCallback=="function"?requestIdleCallback:t=>Aq(t),VS=new Set,$R=[],WR=new Map,Cq=[],kq=[],GR=new Set,cnt=o(()=>Promise.resolve(),"microtask"),YR=null,jS=o(t=>{if(YR)return;let e;YR={promise:new Promise(n=>e=n),resolve:e},Aq(wv)},"scheduleFlush"),PR=o(t=>{VS.add(t),jS(wv)},"schedulePull"),w2e=o(t=>{VS.delete(t)},"cancelPull"),LR=o(t=>{$R.push(t),jS(wv)},"scheduleAsyncPull"),KR=o(t=>{let e=WR.get(t)??0;WR.set(t,e+1),jS(wv)},"scheduleUnwatch"),DR=o(t=>{Cq.push(t),jS(wv)},"scheduleListeners"),Mq=o(t=>{kq.push(t),jS(wv)},"scheduleTracer"),S2e=o(t=>{GR.add(t),!(GR.size>1)&&ant(()=>{for(let e of GR)e.sweepGc();GR.clear()})},"scheduleGcSweep"),wv=o(async()=>{let t=YR;for(;$R.length>0||VS.size>0;){let e=$R;$R=[];for(let n of e)ih(n);let r=VS;VS=new Set;for(let n of r)_2e(n);await cnt()}YR=null,c2e(()=>{for(let[e,r]of WR)jR(e,r);for(let e of Cq)e instanceof KS?E2e(e):d2e(e);for(let e of kq)e.flush();WR.clear(),Cq=[],kq=[]}),t.resolve()},"flushWatchers");var fnt,el=o(()=>fnt,"getTracerProxy"),Yf;(function(t){t.StartUpdate="StartUpdate",t.EndUpdate="EndUpdate",t.StartLoading="StartLoading",t.EndLoading="EndLoading",t.Connected="Connected",t.Disconnected="Disconnected",t.ConsumeState="ConsumeState"})(Yf||(Yf={}));var zR;(function(t){t.State="state",t.Reactive="reactive",t.Watcher="watcher"})(zR||(zR={}));m();g();var unt=0,A2e=new Map;function I2e(t){let e=A2e.get(t);return e===void 0&&(e=`unknownSignal${unt++}`,A2e.set(t,e)),e}o(I2e,"getUnknownSignalFnName");m();g();var{log:T2e,floor:R2e,imul:No,abs:lnt}=Math;function Xf(t,e=0){let r=e^t.length,n=3432918353,i=461845907,s=0;for(;s+4<=t.length;){let f=t.charCodeAt(s)&255|(t.charCodeAt(s+1)&255)<<8|(t.charCodeAt(s+2)&255)<<16|(t.charCodeAt(s+3)&255)<<24;f=No(f,n),f=f<<15|f>>>17,f=No(f,i),r^=f,r=r<<13|r>>>19,r=No(r,5)+3864292196,s+=4}let a=0;switch(t.length&3){case 3:a^=(t.charCodeAt(s+2)&255)<<16;case 2:a^=(t.charCodeAt(s+1)&255)<<8;case 1:a^=t.charCodeAt(s)&255,a=No(a,n),a=a<<15|a>>>17,a=No(a,i),r^=a}return r^=t.length,r^=r>>>16,r=No(r,2246822507),r^=r>>>13,r=No(r,3266489909),r^=r>>>16,r>>>0}o(Xf,"hashStr");function N2e(t,e=0){t=lnt(t);let r=e,n=3432918353,i=461845907;for(;t>=4294967295;){let a=t&4294967295;t=R2e(t/4294967296),a=No(a,n),a=a<<15|a>>>17,a=No(a,i),r^=a,r=r<<13|r>>>19,r=No(r,5)+3864292196}if(t>0){let a=t&4294967295;a=No(a,n),a=a<<15|a>>>17,a=No(a,i),r^=a}let s=t===0?1:R2e(T2e(t)/T2e(256))+1;return r^=s,r^=r>>>16,r=No(r,2246822507),r^=r>>>13,r=No(r,3266489909),r^=r>>>16,r>>>0}o(N2e,"hashNumber");function Pq(t){let e=7,r=3432918353,n=461845907;for(let i of t){let s=Zf(i);s=No(s,r),s=s<<15|s>>>17,s=No(s,n),e^=s,e=e<<13|e>>>19,e=No(e,5)+3864292196}return e^=t.length,e^=e>>>16,e=No(e,2246822507),e^=e>>>13,e=No(e,3266489909),e^=e>>>16,e>>>0}o(Pq,"hashArray");function dnt(t){let e=_nt,r=Object.keys(t);for(let n of r)e+=Zf(n)^Zf(t[n]);return e>>>0}o(dnt,"hashObject");function hnt(t){let e=13;for(let r of t)e+=Zf(r);return e>>>0}o(hnt,"hashSet");function pnt(t){let e=12;for(let[r,n]of t)e+=Zf(r)^Zf(n);return e>>>0}o(pnt,"hashMap");function mnt(t){return N2e(t.getTime(),14)}o(mnt,"hashDate");function gnt(t){return(Xf(t.source+t.flags,15)^t.lastIndex)>>>0}o(gnt,"hashRegExp");var ynt=Xf("undefined",0),bnt=Xf("null",1),xnt=Xf("true",2),vnt=Xf("false",3),Lcr=Xf("array",7),_nt=Xf("object",8),wnt=Object.getPrototypeOf,Snt=new Map([[Object.prototype,dnt],[Array.prototype,Pq],[Map.prototype,pnt],[Set.prototype,hnt],[Date.prototype,mnt],[RegExp.prototype,gnt]]);function Zf(t,e=[]){switch(typeof t){case"undefined":return ynt;case"boolean":return t?xnt:vnt;case"number":return Xf(String(t),4);case"string":return Xf(t,5);case"bigint":return Xf(t.toString(),6);case"object":{if(t===null)return bnt;let r=e.indexOf(t);if(r!==-1)return Xf(String(r),11);let n=Snt.get(wnt(t));if(n){e.push(t);let i=n(t);return e.pop(),i}return Bq(t)}case"function":return Bq(t);case"symbol":return Xf(t.toString(),10)}}o(Zf,"hashValue");var O2e=new WeakMap,Ent=1;function Bq(t){let e=O2e.get(t);return e===void 0&&(e=N2e(Ent++,9),O2e.set(t,e)),e}o(Bq,"getObjectHash");var Ant=Pq([]);function M2e(t,e){return Bq(t)^(e.length>0?Pq(e):Ant)}o(M2e,"hashReactiveFn");m();g();var C2e=new WeakMap,Int=1;function Lq(t){let e=C2e.get(t);return e===void 0&&(e=`obj-${Int++}`,C2e.set(t,e)),e}o(Lq,"getObjectId");function Tnt(t){return Object.getPrototypeOf(t)===Object.prototype}o(Tnt,"isPOJO");function Rnt(t){return Array.isArray(t)}o(Rnt,"isPlainArray");function XR(t){if(t===null)return"null";if(t===void 0)return"undefined";switch(typeof t){case"number":case"boolean":case"string":return String(t);case"bigint":return t.toString();case"symbol":return String(t);case"object":return t instanceof Date?t.toISOString():Rnt(t)?`[${t.map(XR).join(",")}]`:Tnt(t)?`{ ${[...Object.entries(t),...Object.getOwnPropertySymbols(t).map(r=>[r,t[r]])].sort(([r],[n])=>String(r)<String(n)?-1:String(r)>String(n)?1:0).map(([r,n])=>`${String(r)}: ${XR(n)}`).join(", ")} }`:Lq(t);case"function":return Lq(t);default:return Lq(t)}}o(XR,"stringifyValue");var k2e=0;function zS(t,e,r,n,i,s,a){return{id:t,desc:e,compute:r,equals:HS(n),isRelay:i,paramKey:s,tracer:a}}o(zS,"createReactiveDefinition");var KS=class{static{o(this,"ReactiveSignal")}flags;scope=void 0;id=++k2e;subs=new Map;deps=new Map;ref=new a2e(this);dirtyHead=void 0;updatedCount=0;computedCount=0;watchCount=0;key;args;callbacks=void 0;_listeners=null;_value=void 0;tracerMeta;def;constructor(e,r,n,i){this.flags=(e.isRelay?8:0)|2,this.scope=i,this.key=n,this.args=r,this.def=e,el()!==void 0&&(this.tracerMeta={id:e.id??n??Zf([e.compute,k2e++]),desc:e.desc??e.compute.name??I2e(e.compute),params:r.map(s=>XR(s)).join(", "),tracer:e.tracer})}get _state(){return this.flags&7}set _state(e){this.flags=this.flags&-8|e}get _isListener(){return(this.flags&16)!==0}set _isListener(e){e?this.flags|=16:this.flags&=-17}get _isLazy(){return(this.flags&32)!==0}set _isLazy(e){e?this.flags|=32:this.flags&=-33}get listeners(){return this._listeners??(this._listeners={updatedAt:0,current:new Set,cachedBoundAdd:this.addListener.bind(this)})}get value(){return qS(this)}addListener(e){let{current:r}=this.listeners;return r.has(e)||(this._isListener||(G1(this),this.flags|=16),PR(this),r.add(e)),()=>{r.has(e)&&(r.delete(e),r.size===0&&(w2e(this),KR(this),this.flags&=-17))}}addListenerLazy(){return this._isListener||(G1(this),this.flags|=16),this.listeners.cachedBoundAdd}},E2e=o(t=>{let{listeners:e}=t;if(e===null)return;let{current:r}=e;for(let n of r)n()},"runListeners"),z1=o(t=>(t.flags&8)!==0,"isRelay");function gm(t,e=[],r,n){return new KS(t,e,r,n)}o(gm,"createReactiveSignal");var Ont=0,Dq=class{static{o(this,"ContextImpl")}defaultValue;_key;_description;constructor(e,r){this.defaultValue=e,this._description=r??`context:${Ont++}`,this._key=Symbol(this._description)}},$1=o((t,e)=>new Dq(t,e),"context");var GS=o(t=>{let e=QR??Ki()?.scope;if(e===void 0)throw new Error("getContext must be used within a reactive function, a withContext, or within a framework-specific context provider.");return e.getContext(t)??t.defaultValue},"getContext"),ym=class t{static{o(this,"SignalScope")}parentScope;constructor(e,r){this.parentScope=r,this.contexts=Object.create(r?.contexts||null),this.setContexts(e)}contexts;children=new Map;signals=new Map;gcCandidates=new Set;setContexts(e){for(let[r,n]of e)this.contexts[r._key]=n,typeof n=="object"&&n!==null&&ZR.set(n,this);this.signals.clear()}getChild(e){let r=Zf(e),n=this.children.get(r);return n===void 0&&(n=new t(e,this),this.children.set(r,n)),n}getContext(e){let r=e;return this.contexts[r._key]}get(e,r){let n=e.paramKey?.(...r),i=M2e(e.compute,n?[n]:r),s=this.signals.get(i);return s===void 0&&(s=gm(e,r,i,this),this.signals.set(i,s)),s}markForGc(e){this.gcCandidates.has(e)||(this.gcCandidates.add(e),S2e(this))}removeFromGc(e){this.gcCandidates.delete(e);let{key:r}=e;r&&this.signals.set(r,e)}forceGc(e){this.signals.delete(e.key)}sweepGc(){let e=this.signals;for(let r of this.gcCandidates)r.watchCount===0&&e.delete(r.key);this.gcCandidates=new Set}},Hq=new ym([]),JR=o(()=>Hq,"getGlobalScope");function Fq(t){Hq.setContexts(t)}o(Fq,"setGlobalContexts");var QR,vv=o(t=>{QR=t},"setCurrentScope"),HR=o(()=>QR,"getInternalCurrentScope"),nh=o((t=Hq)=>QR??Ki()?.scope??t,"getCurrentScope"),ZR=new WeakMap,Uq=new WeakMap,qq=o((t,e)=>{if(Uq.has(t))throw new Error("Object already has a scope owner, owners cannot be dynamic");Uq.set(t,e)},"setScopeOwner"),B2e=o(t=>{let e=Uq.get(t);if(!e)throw new Error("Object has no scope owner, reactiveMethod must be attached to an owned context object");let r=ZR.get(e)??B2e(e);return ZR.set(t,r),r},"reifyScopeOwner"),P2e=o(t=>{let e=ZR.get(t);return e||(e=B2e(t)),e},"getScopeOwner");m();g();m();g();var Vq=new Map;function jq(t,e){let r=Vq.get(t);if(!r){let n=zS(e?.id,e?.desc,t,e?.equals,!1,e?.paramKey,void 0),i=nh();r=[o((...a)=>nh(i).get(n,a).value,"reactiveFn"),n],Vq.set(t,r)}return r}o(jq,"getReactiveFnAndDefinition");function hi(t,e){return jq(t,e)[0]}o(hi,"reactive");var Kq=o((t,e,r)=>{let n=zS(r?.id,r?.desc,e,r?.equals,!1,r?.paramKey,void 0),i=o((...s)=>P2e(t).get(n,s).value,"reactiveFn");return Vq.set(i,[i,n]),i},"reactiveMethod");function Nnt(t,e){let r=nh();return b2e(t,r,e)}o(Nnt,"relay");var $S=o((t,e)=>{let r=nh();return x2e(t,r,e)},"task");function L2e(t,e){let r=zS(e?.id,e?.desc,t,e?.equals,!1,void 0,e?.tracer),n=e?.isolate?new ym([]):nh();return gm(r,void 0,void 0,n)}o(L2e,"watcher");var zq=o((t,e)=>{let r=zS(e?.id,e?.desc,t,e?.equals,!1,void 0,void 0),n=e?.isolate?new ym([]):nh();return gm(r,void 0,void 0,n)},"reactiveSignal");m();g();m();g();m();g();var W1=o(()=>{let t=mm(void 0,{equals:o(()=>!1,"equals")});return{consume:o(()=>t.value,"consume"),notify:o(()=>t.value=void 0,"notify")}},"createNotifier");m();g();var D2e=Ze(Rh(),1),U2e=Ze(so(),1);m();g();var e7=Ze(so(),1);var t7=(0,e7.createContext)(void 0);function r7(){return(0,e7.useContext)(t7)}o(r7,"useScope");function bm(t){let e=Ki()?.scope??r7();if(!e)throw new Error("useContext must be used within a signal hook, a withContext, or a component");return e.getContext(t)??t.defaultValue}o(bm,"useContext");function Mnt({children:t,contexts:e=[],inherit:r=!0}){let n=(0,U2e.useContext)(t7)??JR(),i=new ym(e,r?n:void 0);return(0,D2e.jsx)(t7.Provider,{value:i,children:t})}o(Mnt,"ContextProvider");m();g();m();g();var knt=Ze(Rh(),1),Gq=Ze(so(),1);m();g();var n7=Ze(so(),1);var H2e=(0,n7.createContext)(!1),Cnt=H2e.Provider;function i7(){return(0,n7.useContext)(H2e)}o(i7,"useSignalsSuspended");m();g();var Bnt=Ze(so(),1);m();g();var WS=Ze(so(),1);var F2e=o(t=>{let e=i7();return(0,WS.useSyncExternalStore)((0,WS.useCallback)(e?()=>()=>{}:r=>t.addListener(r),[t,e]),()=>t.value,()=>t.value)},"useStateSignal"),q2e=o(t=>{let e=i7();return(0,WS.useSyncExternalStore)(e?()=>()=>{}:t.addListenerLazy(),()=>t.value,()=>t.value)},"useReactiveFnSignal"),V2e=o(t=>(Nq(t)&&q2e(t._signal),F2e(t._version),t),"useReactivePromise"),Pnt=o((t,...e)=>{let[,r]=jq(t),i=(r7()??JR()).get(r,e),s=q2e(i);return typeof s=="object"&&s!==null&&tl(s)?V2e(s):s},"useReactiveFn"),Lnt=o(t=>typeof t=="object"&&t!==null&&tl(t),"isNonNullishAsyncSignal");function Va(t,...e){return Ki()?typeof t=="function"?t(...e):Lnt(t)?t:t.value:typeof t=="function"?Pnt(t,...e):typeof t=="object"&&t!==null&&tl(t)?V2e(t):F2e(t)}o(Va,"useReactive");m();g();var j2e=Ze(so(),1);m();g();m();g();function Sv(t){if(Array.isArray(t))return t.map(Sv);if(t&&typeof t=="object"){if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if(t instanceof Map)return new Map(Array.from(t.entries()).map(([r,n])=>[Sv(r),Sv(n)]));if(t instanceof Set)return new Set(Array.from(t).map(Sv));let e=Object.create(Object.getPrototypeOf(t));for(let r of Object.keys(t))e[r]=Sv(t[r]);return e}return t}o(Sv,"cloneDeep");var Dnt=hi(t=>Sv(t.value)),Unt=hi((t,...e)=>{let r=t(...e);return new Proxy(r,{get(n,i,s){return i==="value"?Dnt(n):Reflect.get(n,i,s)}})});function Hnt(t,...e){let r=Va(Unt,t,...e);return Va(()=>r.value),r}o(Hnt,"useQuery");function slr(t,e){return(0,j2e.useMemo)(()=>{let r=t.value?e?e(t.value):t.value:void 0;return{value:t.value,data:r,isLoading:t.isPending,isSuccess:t.isResolved,isFetching:t.isPending,isError:t.isRejected,isFetched:t.isSettled,status:t.isPending?"pending":t.isResolved?"success":"error",error:t.error}},[t.value,t.isPending,t.isResolved,t.isRejected,t.isSettled,t.error,e])}o(slr,"useToQueryResult");m();g();var Rt;(function(t){t.Debug="debug",t.Fatal="fatal",t.Error="error",t.Info="info"})(Rt||(Rt={}));var Jf;(function(t){t.PD="PD",t.WP="WP",t.IO="IO",t.PL="PL",t.TRA="TRA",t.SOC="SOC",t.CASH="CASH",t.GROW="GROW"})(Jf||(Jf={}));var et;(function(t){t.Account="account",t.Auth="Auth",t.ActionBanner="actionBanner",t.Authentication="authentication",t.AutoConfirm="autoConfirm",t.BugReporter="bugReporter",t.Chat="chat",t.Collectibles="collectibles",t.DappBrowser="dappBrowser",t.DappRegistry="dappRegistry",t.DeepLinks="deepLinks",t.FeatureFlags="featureFlags",t.Feed="feed",t.FeedNotifications="feedNotifications",t.FileLogger="fileLogger",t.Fungibles="fungibles",t.History="history",t.Ledger="ledger",t.MagicEden="magicEden",t.Migration="migration",t.MobileWalletAdapter="mobileWalletAdapter",t.MobileEmbedded="mobileEmbedded",t.PhantomConnect="phantomConnect",t.Network="network",t.Notifications="notifications",t.OnRamp="onRamp",t.Performance="performance",t.Perps="perps",t.Prices="prices",t.Profiles="profiles",t.Provider="provider",t.Seedless="se*dless",t.Settings="settings",t.Lock="lock",t.Simulation="simulation",t.Staking="staking",t.Storage="storage",t.StartUp="startUp",t.Swapper="swapper",t.Transaction="transaction",t.Safeguard="safeguard",t.Tokens="tokens",t.TrustedApps="trustedApps",t.UserSearch="userSearch",t.Generic="generic",t.WebTokenPage="webTokenPage",t.WebUserPage="webUserPage",t.WebPortal="webPortal",t.WebExplorePage="webExplorePage",t.WebAppPage="webAppPage",t.WebPublicSite="webPublicSite",t.Stripe="stripe",t.Kyc="kyc",t.Cash="cash",t.WebTokensSitemap="webTokensSitemap",t.Competitions="competitions"})(et||(et={}));m();g();m();g();var Fnt="Error message ignored by logging middleware.",K2e=o(t=>({beforeEvent:o((...[e,r])=>{for(let n of t)if((e instanceof Error?e.message:e)===n)throw new Error(Fnt);return{value:e,...r.data?{data:r.data}:{}}},"beforeEvent"),afterEvent:void 0}),"ignoreMessages");m();g();var qnt="Sensitive data detected by pki scanner. File logging blocked.",Vnt=["seed","mnemonic","seedAndMnemonic","ObfuscatedBytes"],z2e=new RegExp(`(${Vnt.join("|")})`,"mi"),o7={beforeEvent:o((...[t,e])=>{let r=t instanceof Error?t.message:t;if(z2e.test(r)||e.data&&z2e.test(JSON.stringify(e.data)))throw new Error(qnt);return{value:t,...e.data?{data:e.data}:{}}},"beforeEvent"),afterEvent:void 0};var jnt=["premature close"],Knt=K2e(jnt),Y1=class extends Error{static{o(this,"FileLoggerUninitializedError")}constructor(e="File logger uninitialized. Call fileLogger.init() before calling other functions."){super(e)}};function znt(t=[]){let e=null;async function r({provider:l}){await l.init(),e={provider:l}}o(r,"init");async function n(l){if(!e)throw new Y1;return e.provider.downloadLog(l)}o(n,"downloadLog");async function i(){if(!e)throw new Y1;return e.provider.getLogFilePaths()}o(i,"getLogFilePaths");async function s(){if(!e)throw new Y1;return e.provider.getRecentLogs()}o(s,"getRecentLogs");async function a(l){if(!e)throw new Y1;return e.provider.sendLogFilesByEmail(l)}o(a,"sendLogFilesByEmail");function f(l,h,b,y){if(!e)throw new Y1;for(let E of t)if(E?.beforeEvent!==void 0)try{E.beforeEvent(l,{featureTag:h,severity:b})}catch(I){Xa()&&I instanceof Error&&console.warn(I.message);return}e.provider.write(l,h,b,y);for(let E of t)if(E?.afterEvent!==void 0)try{E.afterEvent(l,{featureTag:h,severity:b})}catch(I){Xa()&&I instanceof Error&&console.warn(I.message);return}}return o(f,"write"),{init:r,downloadLog:n,getLogFilePaths:i,getRecentLogs:s,sendLogFilesByEmail:a,write:f}}o(znt,"createFileLogger");var YS=znt([Knt,o7]);m();g();m();g();m();g();m();g();m();g();m();g();function Ev(t,e,r){let n=r.getHandler(),i=Array.isArray(n)?n:[n];return G2e[t]>=G2e[r.getLevel()]&&i.includes(e)}o(Ev,"isAuthorized");var Zt={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},G2e={[Zt.ok]:0,[Zt.debug]:1,[Zt.info]:2,[Zt.notice]:4,[Zt.warn]:5,[Zt.error]:6,[Zt.critical]:7,[Zt.alert]:8,[Zt.emerg]:9};m();g();function xm(t,{includeMessage:e=!1}={}){return{stack:t.stack,kind:t.type,message:e?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}o(xm,"createErrorFieldFromRawError");var Gnt=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(a=t[f])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},X1={console:"console",http:"http",silent:"silent"},$2e=Object.keys(Zt),ha=class{static{o(this,"Logger")}constructor(e,r,n=X1.http,i=Zt.debug,s={}){this.handleLogStrategy=e,this.handlerType=n,this.level=i,this.contextManager=jy("logger"),this.contextManager.setContext(s),r&&this.contextManager.setContextProperty("logger",{name:r})}logImplementation(e,r,n=Zt.info,i,s){let a=Fy(r),f;if(i!=null){let l=iW({stackTrace:sW(i)?z3(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:Bs.LOGGER,handling:"handled",startClocks:$$()});f=qy({error:xm(l,{includeMessage:!0})},a)}else f=a;this.handleLogStrategy({message:Fy(e),context:f,status:n},this,s)}log(e,r,n=Zt.info,i){let s;Ev(n,X1.http,this)&&(s=EM("log")),this.logImplementation(e,r,n,i,s)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,r){this.contextManager.setContextProperty(e,r)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}};Gnt([X$],ha.prototype,"logImplementation",null);ha.prototype.ok=oh(Zt.ok);ha.prototype.debug=oh(Zt.debug);ha.prototype.info=oh(Zt.info);ha.prototype.notice=oh(Zt.notice);ha.prototype.warn=oh(Zt.warn);ha.prototype.error=oh(Zt.error);ha.prototype.critical=oh(Zt.critical);ha.prototype.alert=oh(Zt.alert);ha.prototype.emerg=oh(Zt.emerg);function oh(t){return function(e,r,n){let i;Ev(t,X1.http,this)&&(i=EM("log")),this.logImplementation(e,r,t,n,i)}}o(oh,"createLoggerMethod");m();g();function W2e(t,e,r){return{view:{referrer:document.referrer,url:self.location.href},context:t.getContext(),user:e.getContext(),account:r.getContext()}}o(W2e,"buildCommonContext");m();g();m();g();var Wnt=32*1024;function X2e(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&Sl.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let e=eW(t),r=Y2e(t.forwardConsoleLogs,SM(ao),"Forward Console Logs"),n=Y2e(t.forwardReports,SM(fW),"Forward Reports");if(!(!e||!r||!n))return t.forwardErrorsToLogs&&!r.includes(ao.error)&&r.push(ao.error),{forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:Wnt,...e}}o(X2e,"validateAndBuildLogsConfiguration");function Y2e(t,e,r){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(n=>e.includes(n)))){Sl.error(`${r} should be "all" or an array with allowed values "${e.join('", "')}"`);return}return t==="all"?e:hW(t)}o(Y2e,"validateAndBuildForwardOption");function Z2e(t){let e=tW(t);return{forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,...e}}o(Z2e,"serializeLogsConfiguration");function J2e(t,e,r){let n=pW(),i,s,a=e.observable.subscribe(f);function f(){if(!s||!i||!e.isGranted())return;a.unsubscribe();let l=r(i,s);n.drain(l)}return o(f,"tryStartLogs"),{init(l){if(!l){Sl.error("Missing configuration");return}if(rW(l.enableExperimentalFeatures),Zd()&&(l=Ynt(l)),i=l,s){$3("DD_LOGS",l);return}let h=X2e(l);h&&(s=h,Z3().subscribe(kc),e.tryToInit(h.trackingConsent),f())},get initConfiguration(){return i},getInternalContext:kc,handleLog(l,h,b,y=t(),E=Oh()){n.add(I=>I.handleLog(l,h,b,y,E))}}}o(J2e,"createPreStartStrategy");function Ynt(t){return{...t,clientToken:"empty"}}o(Ynt,"overrideInitConfigurationForBridge");var $q="logs";function Q2e(t){let e=jy("global context"),r=jy("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),n=jy("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),i=J$();function s(){return W2e(e,r,n)}o(s,"getCommonContext");let a=J2e(s,i,(h,b)=>{h.storeContextsAcrossPages&&(J3(b,e,$q,2),J3(b,r,$q,1),J3(b,n,$q,4));let y=t(h,b,s,i);return a=Xnt(h,y),y}),f={},l=new ha((...h)=>a.handleLog(...h));return cW({logger:l,init:ii(h=>a.init(h)),setTrackingConsent:ii(h=>{i.update(h),xW({feature:"set-tracking-consent",tracking_consent:h})}),getGlobalContext:ii(()=>e.getContext()),setGlobalContext:ii(h=>e.setContext(h)),setGlobalContextProperty:ii((h,b)=>e.setContextProperty(h,b)),removeGlobalContextProperty:ii(h=>e.removeContextProperty(h)),clearGlobalContext:ii(()=>e.clearContext()),createLogger:ii((h,b={})=>(f[h]=new ha((...y)=>a.handleLog(...y),Fy(h),b.handler,b.level,Fy(b.context)),f[h])),getLogger:ii(h=>f[h]),getInitConfiguration:ii(()=>dW(a.initConfiguration)),getInternalContext:ii(h=>a.getInternalContext(h)),setUser:ii(r.setContext),getUser:ii(r.getContext),setUserProperty:ii(r.setContextProperty),removeUserProperty:ii(r.removeContextProperty),clearUser:ii(r.clearContext),setAccount:ii(n.setContext),getAccount:ii(n.getContext),setAccountProperty:ii(n.setContextProperty),removeAccountProperty:ii(n.removeContextProperty),clearAccount:ii(n.clearContext)})}o(Q2e,"makeLogsPublicApi");function Xnt(t,e){return{init:o(r=>{$3("DD_LOGS",r)},"init"),initConfiguration:t,...e}}o(Xnt,"createPostStartStrategy");m();g();m();g();var Znt="logs";function e_e(t,e){let r=vW(t,Znt,n=>Jnt(t,n),e);return{findTrackedSession:o((n,i={returnInactive:!1})=>{let s=r.findSession(n,i);return s&&s.trackingType==="1"?{id:s.id,anonymousId:s.anonymousId}:void 0},"findTrackedSession"),expireObservable:r.expireObservable}}o(e_e,"startLogsSessionManager");function t_e(t){let r=r_e(t)==="1"?{}:void 0;return{findTrackedSession:o(()=>r,"findTrackedSession"),expireObservable:new K3}}o(t_e,"startLogsSessionManagerStub");function r_e(t){return j3(t.sessionSampleRate)?"1":"0"}o(r_e,"computeTrackingType");function Jnt(t,e){let r=Qnt(e)?e:r_e(t);return{trackingType:r,isTracked:r==="1"}}o(Jnt,"computeSessionState");function Qnt(t){return t==="0"||t==="1"}o(Qnt,"hasValidLoggerSession");m();g();m();g();var n_e=!1;function Av(t){let e=self;if(Q3()){let n=r(e.DD_RUM_SYNTHETICS);return!n&&!n_e&&(n_e=!0,Nh("Logs sent before RUM is injected by the synthetics worker",{testId:MW(),resultId:CW()})),n}return r(e.DD_RUM);function r(n){if(n&&n.getInternalContext)return n.getInternalContext(t)}}o(Av,"getRUMInternalContext");function i_e(t,e,r,n,i){let s=$2e.concat(["custom"]),a={};s.forEach(f=>{a[f]=IW(f,e.eventRateLimiterThreshold,i)}),r.subscribe(0,({rawLogsEvent:f,messageContext:l=void 0,savedCommonContext:h=void 0,domainContext:b})=>{var y,E;let I=W$(f.date),O=t.findTrackedSession(I);if(!t.findTrackedSession(I,{returnInactive:!0}))return;let k=h||n(),C;!wM(k.account)&&k.account.id&&(C=k.account),O&&O.anonymousId&&!k.user.anonymous_id&&(k.user.anonymous_id=O.anonymousId);let L=qy({service:e.service,session_id:O?O.id:void 0,session:O?{id:O.id}:void 0,usr:wM(k.user)?void 0:k.user,account:C,view:k.view},k.context,Av(I),f,l);((y=e.beforeSend)===null||y===void 0?void 0:y.call(e,L,b))===!1||L.origin!==Bs.AGENT&&((E=a[L.status])!==null&&E!==void 0?E:a.custom).isLimitReached()||r.notify(1,L)})}o(i_e,"startLogsAssembly");m();g();var eit={[ao.log]:Zt.info,[ao.debug]:Zt.debug,[ao.info]:Zt.info,[ao.warn]:Zt.warn,[ao.error]:Zt.error};function o_e(t,e){let r=OW(t.forwardConsoleLogs).subscribe(n=>{var i;let s={rawLogsEvent:{date:Oh(),message:n.message,origin:Bs.CONSOLE,error:n.error&&xm(n.error),status:eit[n.api]},messageContext:(i=n.error)===null||i===void 0?void 0:i.context,domainContext:{handlingStack:n.handlingStack}};e.notify(0,s)});return{stop:o(()=>{r.unsubscribe()},"stop")}}o(o_e,"startConsoleCollection");m();g();function s_e(t,e){let r=uW(t,t.forwardReports).subscribe(n=>{let i=n.message,s,a=n.originalError.type==="deprecation"?Zt.warn:Zt.error;a===Zt.error?s=xm(n):n.stack&&(i+=` Found in ${oW(n.stack)}`),e.notify(0,{rawLogsEvent:{date:Oh(),message:i,origin:Bs.REPORT,error:s,status:a}})});return{stop:o(()=>{r.unsubscribe()},"stop")}}o(s_e,"startReportCollection");m();g();function a_e(t,e){if(!t.forwardErrorsToLogs)return{stop:kc};let r=RW(t).subscribe(s=>{s.state==="complete"&&i("xhr",s)}),n=Z3().subscribe(s=>{s.state==="resolve"&&i("fetch",s)});function i(s,a){!Q$(a.url)&&(iit(a)||_W(a.status))&&("xhr"in a?tit(a.xhr,t,f):a.response?nit(a.response,t,f):a.error&&rit(a.error,t,f));function f(l){let h={isAborted:a.isAborted,handlingStack:a.handlingStack};e.notify(0,{rawLogsEvent:{message:`${oit(s)} error ${a.method} ${a.url}`,date:a.startClocks.timeStamp,error:{stack:l||"Failed to load",handling:void 0},http:{method:a.method,status_code:a.status,url:a.url},status:Zt.error,origin:Bs.NETWORK},domainContext:h})}o(f,"onResponseDataAvailable")}return o(i,"handleResponse"),{stop:o(()=>{r.unsubscribe(),n.unsubscribe()},"stop")}}o(a_e,"startNetworkErrorCollection");function tit(t,e,r){typeof t.response=="string"?r(Wq(t.response,e)):r(t.response)}o(tit,"computeXhrResponseData");function rit(t,e,r){r(Wq(nW(z3(t)),e))}o(rit,"computeFetchErrorText");function nit(t,e,r){let n=wW(t);!n||!n.body?r():self.TextDecoder?sit(n.body,e.requestErrorResponseLengthLimit,(i,s)=>{r(i?`Unable to retrieve response: ${i}`:s)}):n.text().then(ii(i=>r(Wq(i,e))),ii(i=>r(`Unable to retrieve response: ${i}`)))}o(nit,"computeFetchResponseText");function iit(t){return t.status===0&&t.responseType!=="opaque"}o(iit,"isRejected");function Wq(t,e){return t.length>e.requestErrorResponseLengthLimit?`${t.substring(0,e.requestErrorResponseLengthLimit)}...`:t}o(Wq,"truncateResponseText");function oit(t){return t==="xhr"?"XHR":"Fetch"}o(oit,"format");function sit(t,e,r){NW(t,(n,i,s)=>{if(n)r(n);else{let a=new TextDecoder().decode(i);s&&(a+="..."),r(void 0,a)}},{bytesLimit:e,collectStreamBody:!0})}o(sit,"truncateResponseStream");m();g();function c_e(t,e){if(!t.forwardErrorsToLogs)return{stop:kc};let r=new K3,{stop:n}=aW(r),i=r.subscribe(s=>{e.notify(0,{rawLogsEvent:{message:s.message,date:s.startClocks.timeStamp,error:xm(s),origin:Bs.SOURCE,status:Zt.error},messageContext:s.context})});return{stop:o(()=>{n(),i.unsubscribe()},"stop")}}o(c_e,"startRuntimeErrorCollection");m();g();var f_e=AW;m();g();function u_e(t){function e(r,n,i,s,a){let f=qy(n.getContext(),r.context);if(Ev(r.status,X1.console,n)&&cit(r,f),Ev(r.status,X1.http,n)){let l={rawLogsEvent:{date:a||Oh(),message:r.message,status:r.status,origin:Bs.LOGGER},messageContext:f,savedCommonContext:s};i&&(l.domainContext={handlingStack:i}),t.notify(0,l)}}return o(e,"handleLog"),{handleLog:e}}o(u_e,"startLoggerCollection");var ait={[Zt.ok]:ao.debug,[Zt.debug]:ao.debug,[Zt.info]:ao.info,[Zt.notice]:ao.info,[Zt.warn]:ao.warn,[Zt.error]:ao.error,[Zt.critical]:ao.error,[Zt.alert]:ao.error,[Zt.emerg]:ao.error};function cit({status:t,message:e},r){K$[ait[t]].call(j$,e,r)}o(cit,"displayInConsole");m();g();function l_e(t,e,r,n,i){let s=X3(t,{endpoint:t.logsEndpointBuilder,encoder:Vy()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:Vy()},r,n,i.expireObservable);return e.subscribe(1,a=>{s.add(a)}),s}o(l_e,"startLogsBatch");m();g();function d_e(t){let e=Y3();t.subscribe(1,r=>{e.send("log",r)})}o(d_e,"startLogsBridge");m();g();function h_e(t){return{get:o(e=>{let r=t.findTrackedSession(e);if(r)return{session_id:r.id}},"get")}}o(h_e,"startInternalContext");m();g();function p_e(t){return e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:Bs.AGENT,status:Zt.error}}),Nh("Error reported to customer",{"error.message":e.message})}}o(p_e,"startReportError");m();g();function m_e(t,e,r,n,i){let s=mW("browser-logs-sdk",e);s.setContextProvider(()=>{var f,l,h,b,y,E;return{application:{id:(f=Av())===null||f===void 0?void 0:f.application_id},session:{id:(l=i.findTrackedSession())===null||l===void 0?void 0:l.id},view:{id:(b=(h=Av())===null||h===void 0?void 0:h.view)===null||b===void 0?void 0:b.id},action:{id:(E=(y=Av())===null||y===void 0?void 0:y.user_action)===null||E===void 0?void 0:E.id}}});let a=[];if(Zd()){let f=Y3(),l=s.observable.subscribe(h=>f.send("internal_telemetry",h));a.push(()=>l.unsubscribe())}else{let f=X3(e,{endpoint:e.rumEndpointBuilder,encoder:Vy()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:Vy()},r,n,i.expireObservable);a.push(()=>f.stop());let l=s.observable.subscribe(h=>f.add(h,yW(e)));a.push(()=>l.unsubscribe())}return gW(),bW(Z2e(t)),{telemetry:s,stop:o(()=>{a.forEach(f=>f())},"stop")}}o(m_e,"startLogsTelemetry");function g_e(t,e,r,n){let i=new f_e,s=[];i.subscribe(1,E=>lW("logs",E));let a=p_e(i),f=EW(e),l=e.sessionStoreStrategyType&&!Zd()&&!Q3()?e_e(e,n):t_e(e),{stop:h}=m_e(t,e,a,f,l);s.push(()=>h()),a_e(e,i),c_e(e,i),o_e(e,i),s_e(e,i);let{handleLog:b}=u_e(i);if(i_e(l,e,i,r,a),Zd())d_e(i);else{let{stop:E}=l_e(e,i,a,f,l);s.push(()=>E())}let y=h_e(l);return{handleLog:b,getInternalContext:y.get,stop:o(()=>{s.forEach(E=>E())},"stop")}}o(g_e,"startLogs");var vm=Q2e(g_e);G3(Hy(),"DD_LOGS",vm);m();g();m();g();m();g();m();g();function XS(t,e,r){let n=0,i=[],s,a=0,f=[],{stop:l}=B2(t,e,"message",({data:y})=>{if(y.type!=="wrote"||y.streamId!==r)return;n+=y.additionalBytesCount,i.push(y.result),s=y.trailer;let E=f.shift();E&&E.id===y.id?E.writeCallback?E.writeCallback(y.result.byteLength):E.finishCallback&&E.finishCallback():(l(),Nh("Worker responses received out of order."))});function h(){let y=i.length===0?new Uint8Array(0):Y$(i.concat(s)),E={rawBytesCount:n,output:y,outputBytesCount:y.byteLength,encoding:"deflate"};return n=0,i=[],E}o(h,"consumeResult");function b(){a>0&&(e.postMessage({action:"reset",streamId:r}),a=0)}return o(b,"sendResetIfNeeded"),{isAsync:!0,get isEmpty(){return a===0},write(y,E){e.postMessage({action:"write",id:a,data:y,streamId:r}),f.push({id:a,writeCallback:E,data:y}),a+=1},finish(y){b(),f.length?(f.forEach(E=>{delete E.writeCallback}),f[f.length-1].finishCallback=()=>y(h())):y(h())},finishSync(){b();let y=f.map(E=>(delete E.writeCallback,delete E.finishCallback,E.data)).join("");return{...h(),pendingData:y}},estimateEncodedBytesCount(y){return y.length/8},stop(){l()}}}o(XS,"createDeflateEncoder");m();g();m();g();function Iv({configuredUrl:t,error:e,source:r,scriptType:n}){if(Sl.error(`${r} failed to start: an error occurred while initializing the ${n}:`,e),e instanceof Event||e instanceof Error&&fit(e.message)){let i;t?i=`Please make sure the ${n} URL ${t} is correct and CSP is correctly configured.`:i="Please make sure CSP is correctly configured.",Sl.error(`${i} See documentation at ${z$}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else n==="worker"&&W3(e)}o(Iv,"reportScriptLoadingError");function fit(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}o(fit,"isMessageCspRelated");var uit=30*G$;function y_e(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);var h=Array(60);e(h);var l=Array(512);e(l);var _=Array(256);e(_);var o=Array(29);e(o);var d,u,f,c=Array(30);function p(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(c);var v=function(t){return t<256?l[t]:l[256+(t>>>7)]},w=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},b=function(t,e,a){m(t,a[2*e],a[2*e+1])},y=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},z=function(t,e,a){var n,r,i=Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=y(i[h]++,h))}},k=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},x=function(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},B=function(t,e,r){var i,s,h,l,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===i?b(t,s,e):(h=_[s],b(t,h+256+1,e),0!==(l=a[h])&&(s-=o[h],m(t,s,l)),i--,h=v(i),b(t,h,r),0!==(l=n[h])&&(i-=c[h],m(t,i,l)))}while(d<t.last_lit);b(t,256,e)},I=function(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,_=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=_=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=_<2?++_:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=_,a=t.heap_len>>1;a>=1;a--)U(t,i,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,U(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,_=e.max_code,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)>c&&(i=c,p++),l[2*n+1]=i,n>_||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(o[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>_||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),z(i,_,t.bl_count)},E=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},C=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{b(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(b(t,r,t.bl_tree),h--),b(t,16,t.bl_tree),m(t,h-3,2)):h<=10?(b(t,17,t.bl_tree),m(t,h-3,3)):(b(t,18,t.bl_tree),m(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},D=!1,M=function(t,e,a,n){m(t,0+(n?1:0),3),function(t,e,a){x(t),w(t,a),w(t,~a),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a)},j=M,L=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},S=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),T=function(t,e,a,n){var r=S,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},O={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q=j,F=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(_[a]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},G=-2,H=258,J=262,K=103,N=113,P=666,Q=function(t,e){return t.msg=O[e],e},R=function(t){return(t<<1)-(t>4?9:0)},V=function(t){for(var e=t.length;--e>=0;)t[e]=0},W=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},X=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Y=function(t,e){(function(t,e,a,n){var r,l,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),_=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=r&&(r=l)):r=l=a+5,a+4<=r&&-1!==e?M(t,e,a,n):4===t.strategy||l===r?(m(t,2+(n?1:0),3),B(t,s,h)):(m(t,4+(n?1:0),3),function(t,e,a,n){var r;for(m(t,e-257,5),m(t,a-1,5),m(t,n-4,4),r=0;r<n;r++)m(t,t.bl_tree[2*i[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),B(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&x(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,X(t.strm)},Z=function(t,e){t.pending_buf[t.pending++]=e},$=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+H,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=H-(u-i),i=u-H,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},et=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-J)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=L(s.adler,h,o,l):2===s.state.wrap&&(s.adler=T(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=W(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=W(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<J&&0!==t.strm.avail_in)},at=function(t,e){for(var a,n;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a)),t.match_length>=3)if(n=F(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=W(t,t.ins_h,t.window[t.strstart+1]);else n=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2},nt=function(t,e){for(var a,n,r;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=F(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=F(t,0,t.window[t.strstart-1]))&&Y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2};function rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var it=[new rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(et(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-J&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Y(t,!1),t.strm.avail_out),1)})),new rt(4,4,8,4,at),new rt(4,5,16,8,at),new rt(4,6,32,32,at),new rt(4,4,16,16,nt),new rt(8,16,32,32,nt),new rt(8,16,128,128,nt),new rt(8,32,128,256,nt),new rt(32,128,258,1024,nt),new rt(32,258,258,4096,nt)];function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}for(var ht=function(t){var e,i=function(t){if(!t||!t.state)return Q(t,G);t.total_in=t.total_out=0,t.data_type=2;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:N,t.adler=2===e.wrap?0:1,e.last_flush=0,function(t){D||(function(){var t,e,i,g,v,w=Array(16);for(i=0,g=0;g<28;g++)for(o[g]=i,t=0;t<1<<a[g];t++)_[i++]=g;for(_[i-1]=g,v=0,g=0;g<16;g++)for(c[g]=v,t=0;t<1<<n[g];t++)l[v++]=g;for(v>>=7;g<30;g++)for(c[g]=v<<7,t=0;t<1<<n[g]-7;t++)l[256+v++]=g;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,w[8]++;for(;t<=255;)s[2*t+1]=9,t++,w[9]++;for(;t<=279;)s[2*t+1]=7,t++,w[7]++;for(;t<=287;)s[2*t+1]=8,t++,w[8]++;for(z(s,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=y(t,5);d=new p(s,a,257,286,15),u=new p(h,n,0,30,15),f=new p([],r,0,19,7)}(),D=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,u),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,k(t)}(e),0}(t);return 0===i&&((e=t.state).window_size=2*e.w_size,V(e.head),e.max_lazy_match=it[e.level].max_lazy,e.good_match=it[e.level].good_length,e.nice_match=it[e.level].nice_length,e.max_chain_length=it[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i},lt=function(t,e){var a,n;if(!t||!t.state||e>5||e<0)return t?Q(t,G):G;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===P&&4!==e)return Q(t,0===t.avail_out?-5:G);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Z(r,31),Z(r,139),Z(r,8),r.gzhead?(Z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Z(r,255&r.gzhead.time),Z(r,r.gzhead.time>>8&255),Z(r,r.gzhead.time>>16&255),Z(r,r.gzhead.time>>24&255),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Z(r,255&r.gzhead.extra.length),Z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=T(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,3),r.status=N);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=N,$(r,h),0!==r.strstart&&($(r,t.adler>>>16),$(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending!==r.pending_buf_size));)Z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=K)}else r.status=K;if(r.status===K&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&X(t),r.pending+2<=r.pending_buf_size&&(Z(r,255&t.adler),Z(r,t.adler>>8&255),t.adler=0,r.status=N)):r.status=N),0!==r.pending){if(X(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&R(e)<=R(i)&&4!==e)return Q(t,-5);if(r.status===P&&0!==t.avail_in)return Q(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==P){var l=2===r.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(et(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=H){if(et(t),t.lookahead<=H&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+H;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=H-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=F(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):it[r.level].func(r,e);if(3!==l&&4!==l||(r.status=P),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===l&&(1===e?function(t){m(t,2,3),b(t,256,s),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(r):5!==e&&(q(r,0,0,!1),3===e&&(V(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),X(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Z(r,255&t.adler),Z(r,t.adler>>8&255),Z(r,t.adler>>16&255),Z(r,t.adler>>24&255),Z(r,255&t.total_in),Z(r,t.total_in>>8&255),Z(r,t.total_in>>16&255),Z(r,t.total_in>>24&255)):($(r,t.adler>>>16),$(r,65535&t.adler)),X(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},_t=function(t){if(!t||!t.state)return G;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==K&&e!==N&&e!==P?Q(t,G):(t.state=null,e===N?Q(t,-3):0)},ot=new Uint8Array(256),dt=0;dt<256;dt++)ot[dt]=dt>=252?6:dt>=248?5:dt>=240?4:dt>=224?3:dt>=192?2:1;ot[254]=ot[254]=1;var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ft=Object.prototype.toString;function ct(){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var e,a,n=function(t,e,a,n,r,i){if(!t)return G;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==a||n<8||n>15||e<0||e>9||i<0||i>4)return Q(t,G);8===n&&(n=9);var h=new st;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,ht(t)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw Error(O[n]);if(t.header&&(e=this.strm,a=t.header,e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=a))),t.dictionary){var r;if(r="[object ArrayBuffer]"===ft.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(t,e){var a=e.length;if(!t||!t.state)return G;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return G;if(1===r&&(t.adler=L(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,et(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=W(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,et(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,0}(this.strm,r)))throw Error(O[n]);this._dict_set=!0}}function pt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:e+"",streamId:a})}}function gt(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}ct.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?4:0,"[object ArrayBuffer]"===ft.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(2===n||3===n)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(1===(a=lt(r,n)))return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=_t(this.strm),this.onEnd(a),this.ended=!0,0===a;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ct.prototype.onData=function(t){this.chunks.push(t)},ct.prototype.onEnd=function(t){0===t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.6.3"};case"write":{let n=e.get(a.streamId);n||(n=new ct,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,2),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:gt(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){pt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){pt(e,t)}}()})();'])))}o(y_e,"createDeflateWorker");var no={status:0};function ZS(t,e,r,n=y_e){switch(no.status===0&&lit(t,e,n),no.status){case 1:return no.initializationFailureCallbacks.push(r),no.worker;case 3:return no.worker}}o(ZS,"startDeflateWorker");function s7(){return no.status}o(s7,"getDeflateWorkerStatus");function lit(t,e,r=y_e){try{let n=r(t),{stop:i}=B2(t,n,"error",f=>{Yq(t,e,f)}),{stop:s}=B2(t,n,"message",({data:f})=>{f.type==="errored"?Yq(t,e,f.error,f.streamId):f.type==="initialized"&&hit(f.version)});n.postMessage({action:"init"}),Z$(()=>dit(e),uit),no={status:1,worker:n,stop:o(()=>{i(),s()},"stop"),initializationFailureCallbacks:[]}}catch(n){Yq(t,e,n)}}o(lit,"doStartDeflateWorker");function dit(t){no.status===1&&(Sl.error(`${t} failed to start: a timeout occurred while initializing the Worker`),no.initializationFailureCallbacks.forEach(e=>e()),no={status:2})}o(dit,"onTimeout");function hit(t){no.status===1&&(no={status:3,worker:no.worker,stop:no.stop,version:t})}o(hit,"onInitialized");function Yq(t,e,r,n){no.status===1||no.status===0?(Iv({configuredUrl:t.workerUrl,error:r,source:e,scriptType:"worker"}),no.status===1&&no.initializationFailureCallbacks.forEach(i=>i()),no={status:2}):W3(r,{worker_version:no.status===3&&no.version,stream_id:n})}o(Yq,"onError");m();g();function a7(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}o(a7,"isBrowserSupported");m();g();m();g();function b_e(t,e,r,n){let i=e.findTrackedSession(),s=pit(i,n),a=r.findView();return PW(t,{viewContext:a,errorType:s,session:i})}o(b_e,"getSessionReplayLink");function pit(t,e){if(!a7())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}o(pit,"getErrorType");function x_e(t,e,r,n,i,s){let a=0,f;e.subscribe(9,()=>{(a===2||a===3)&&(b(),a=1)}),e.subscribe(10,()=>{a===1&&h()});let l=o(async()=>{let[y]=await Promise.all([i(),TW(t,"interactive")]);if(a!==2)return;let E=s();if(!E||!y){a=0;return}({stop:f}=y(e,t,r,n,E)),a=3},"doStart");function h(y){let E=r.findTrackedSession();if(mit(E,y)){a=1;return}git(a)||(a=2,l().catch(k2),yit(E,y)&&r.setForcedReplay())}o(h,"start");function b(){a===3&&f?.(),a=0}return o(b,"stop"),{start:h,stop:b,getSessionReplayLink(){return b_e(t,r,n,a!==0)},isRecording:o(()=>a===3,"isRecording")}}o(x_e,"createPostStartStrategy");function mit(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}o(mit,"canStartRecording");function git(t){return t===2||t===3}o(git,"isRecordingInProgress");function yit(t,e){return e&&e.force&&t.sessionReplay===0}o(yit,"shouldForceReplay");m();g();function v_e(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:o(()=>!1,"isRecording"),getSessionReplayLink:kc},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}o(v_e,"createPreStartStrategy");function __e(t,e){if(Zd()&&!SW("records")||!a7())return{start:kc,stop:kc,getReplayStats:o(()=>{},"getReplayStats"),onRumStart:kc,isRecording:o(()=>!1,"isRecording"),getSessionReplayLink:o(()=>{},"getSessionReplayLink")};let{strategy:r,shouldStartImmediately:n}=v_e();return{start:o(s=>r.start(s),"start"),stop:o(()=>r.stop(),"stop"),getSessionReplayLink:o(()=>r.getSessionReplayLink(),"getSessionReplayLink"),onRumStart:i,isRecording:o(()=>s7()===3&&r.isRecording(),"isRecording"),getReplayStats:o(s=>s7()===3?LW(s):void 0,"getReplayStats")};function i(s,a,f,l,h){let b;function y(){return b||(h??(h=ZS(a,"Datadog Session Replay",()=>{r.stop()},e)),h&&(b=XS(a,h,1))),b}o(y,"getOrCreateDeflateEncoder"),r=x_e(a,s,f,l,t,y),n(a)&&r.start()}}o(__e,"makeRecorderApi");m();g();async function w_e(t=bit){try{return await t()}catch(e){Iv({error:e,source:"Recorder",scriptType:"module"})}}o(w_e,"lazyLoadRecorder");async function bit(){return(await import("./startRecording-VNARZSRE.js")).startRecording}o(bit,"importRecorder");m();g();m();g();function S_e(){return Hy().Profiler!==void 0}o(S_e,"isProfilingSupported");m();g();async function E_e(t=xit){try{return await t()}catch(e){Iv({error:e,source:"Profiler",scriptType:"module"})}}o(E_e,"lazyLoadProfiler");async function xit(){return(await import("./profiler-GMKNGWQR.js")).createRumProfiler}o(xit,"importProfiler");function A_e(){let t;function e(r,n,i,s){!S_e()||!j3(n.profilingSampleRate)||E_e().then(a=>{if(!a){Nh("[DD_RUM] Failed to lazy load the RUM Profiler");return}t=a(n,r,i),t.start(s.findView())}).catch(k2)}return o(e,"onRumStart"),{onRumStart:e,stop:o(()=>{t?.stop().catch(k2)},"stop")}}o(A_e,"makeProfilerApi");var vit=__e(w_e),_it=A_e(),Z1=kW(BW,vit,_it,{startDeflateWorker:ZS,createDeflateEncoder:XS});G3(Hy(),"DD_RUM",Z1);m();g();var Tv=o(t=>{switch(t){case et.Collectibles:case et.MagicEden:case et.Fungibles:case et.Staking:case et.Swapper:case et.Perps:case et.Prices:case et.WebTokenPage:case et.WebExplorePage:case et.Tokens:case et.WebTokensSitemap:return Jf.PD;case et.AutoConfirm:case et.DeepLinks:case et.DappBrowser:case et.DappRegistry:case et.Network:case et.Transaction:case et.Provider:case et.History:case et.TrustedApps:case et.Simulation:case et.MobileEmbedded:return Jf.WP;case et.WebAppPage:case et.Account:case et.Auth:case et.ActionBanner:case et.Authentication:case et.Ledger:case et.Lock:case et.Seedless:case et.PhantomConnect:case et.Settings:case et.Migration:case et.MobileWalletAdapter:case et.Generic:case et.StartUp:case et.WebPortal:case et.Notifications:case et.WebPublicSite:return Jf.IO;case et.BugReporter:case et.Storage:case et.FileLogger:case et.FeatureFlags:case et.Performance:return Jf.PL;case et.Safeguard:return Jf.TRA;case et.Chat:case et.Profiles:case et.Feed:case et.FeedNotifications:case et.WebUserPage:case et.UserSearch:return Jf.SOC;case et.Stripe:case et.Kyc:case et.OnRamp:case et.Cash:return Jf.CASH;case et.Competitions:return Jf.GROW}},"teamForTag");m();g();var JS={init:o(async(t,e)=>{},"init"),captureError:o((t,e)=>{},"captureError"),captureMessage:o((t,e,r=Rt.Info)=>{},"captureMessage"),addBreadcrumb:o((t,e,r)=>{},"addBreadcrumb"),setUser:o(async t=>{},"setUser"),setTags:o(async t=>{},"setTags"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),startSpan:o((t,e)=>{let r=e();return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(t=>{},"startInactiveSpan"),trackFeatureFlag:o((t,e)=>{},"trackFeatureFlag")};m();g();var c7;function I_e(){return c7===void 0&&(typeof process<"u"&&R?c7=R.DATADOG_CLIENT_TOKEN:typeof self<"u"&&self.process?.env&&(c7=self.process.env.DATADOG_CLIENT_TOKEN)),c7}o(I_e,"getDatadogClientToken");var wit={init:o(async(t,{datadog:e})=>{if(!e.enabled)return;let r=e.clientToken||I_e();if(!r)throw new Error("[DatadogProvider#init] Missing client token");let n=t.mode==="debug"?100:e.traceSampleRate,i=t.mode==="debug"?100:e.sessionSampleRate,s=t.mode==="debug"?!0:e.trackUserInteractions,a=t.mode==="debug"?100:e.sessionReplaySampleRate??void 0;Z1.init({applicationId:e.applicationId,clientToken:r,service:e.service,version:_M,env:t.env,allowedTracingUrls:[/https?:\/\/([a-zA-Z0-9.-]+\.)?phantom\.app(\/|$)/],traceSampleRate:n,sessionSampleRate:i,enablePrivacyForActionName:!0,silentMultipleInit:!0,trackAnonymousUser:!1,enableExperimentalFeatures:["feature_flags"],defaultPrivacyLevel:"mask",trackUserInteractions:s,sessionReplaySampleRate:a}),vm.init({clientToken:r,service:e.service,env:t.env,forwardErrorsToLogs:!0,sessionSampleRate:i,version:_M,silentMultipleInit:!0,trackAnonymousUser:!1})},"init"),captureError:o((t,e)=>{Xq(t.message,Rt.Error,{feature:e,team:Tv(e)},t)},"captureError"),captureMessage:o((t,e,r=Rt.Info)=>{Xq(t,r,{feature:e,team:Tv(e)})},"captureMessage"),addBreadcrumb:o((t,e,r,n={})=>{Xq(e,r,{category:t,...n})},"addBreadcrumb"),setUser:o(async t=>{vm.setUser(t),Z1.setUser(t)},"setUser"),setTags:o(async t=>{Z1.setGlobalContext({tags:t}),vm.setGlobalContext({tags:t})},"setTags"),startSpan:o((t,e)=>{let r=e();return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(()=>{},"startInactiveSpan"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),trackFeatureFlag:o((t,e)=>{Z1.addFeatureFlagEvaluation(t,e)},"trackFeatureFlag")};function Xq(t,e,r,n){switch((e===Rt.Error||e===Rt.Fatal)&&Z1.addError(n??t,r),e){case Rt.Fatal:!n&&vm.logger.critical(t,{context:r});break;case Rt.Error:!n&&vm.logger.error(t,{context:r});break;case Rt.Info:vm.logger.info(t,{context:r},n);break;case Rt.Debug:break}}o(Xq,"reportToDatadog");function Sit(){return typeof document<"u"}o(Sit,"envSupportsDatadog");var T_e=Sit()?wit:JS;m();g();var R_e=o(t=>({beforeEvent:o((...[e,r])=>{let n={value:e,...r.data?{data:r.data}:{}};if(r.data?.skipFileLogger)return n;let i=e instanceof Error?e.message:e;return t.write(i,r.featureTag,r.severity,r.data),n},"beforeEvent"),afterEvent:void 0}),"fileLoggerMiddleware");m();g();m();g();var Eit=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{88}\b/g,Ait=/\b0x[a-fA-F0-9]{64}\b/g,Iit=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{44}\b/g,Tit=/\b0x[a-fA-F0-9]{40}\b/g,O_e={SOLANA_SIGNATURE:Eit,EVM_SIGNATURE:Ait,SOLANA_PUBKEY:Iit,EVM_PUBKEY:Tit},N_e=o(t=>Object.entries(t).reduce((e,[r,n])=>(typeof n=="string"?e[r]=f7(n):e[r]=n,e),{}),"stripSignaturesAndPubkeysFromContextObject"),f7=o(t=>{let e=t;for(let r in O_e){let n=O_e[r];e=e.replace(n,"")}return e},"stripSignaturesAndPubkeysFromString"),Rit=o(t=>(t.message&&(t.message=f7(t.message)),t.cause&&typeof t.cause=="string"&&(t.cause=f7(t.cause)),t),"stripSignaturesAndPubkeysFromError"),M_e=o(t=>t instanceof Error?Rit(t):f7(t),"stripSignaturesAndPubkeysFromStringOrError");var C_e={beforeEvent:o((...[t,e])=>({value:M_e(t),...e.data?{data:N_e(e.data)}:{}}),"beforeEvent"),afterEvent:void 0};m();g();function k_e(t,e){return{init:o(async(r,n)=>{await Promise.allSettled([t.init(r,n),e.init(r,n)])},"init"),captureError:o((r,n)=>{Qf(()=>t.captureError(r,n)),Qf(()=>e.captureError(r,n))},"captureError"),captureMessage:o((r,n,i=Rt.Info)=>{Qf(()=>t.captureMessage(r,n,i)),Qf(()=>e.captureMessage(r,n,i))},"captureMessage"),addBreadcrumb:o((r,n,i,s)=>{Qf(()=>t.addBreadcrumb(r,n,i,s)),Qf(()=>e.addBreadcrumb(r,n,i,s))},"addBreadcrumb"),setUser:o(async r=>{await Promise.allSettled([t.setUser(r),e.setUser(r)])},"setUser"),setTags:o(async r=>{await Promise.allSettled([t.setTags(r),e.setTags(r)])},"setTags"),captureMetric:o(async(r,n,i)=>{Qf(()=>e.captureMetric(r,n,i))},"captureMetric"),startSpan:o((r,n)=>t.startSpan(r,()=>e.startSpan(r,n)),"startSpan"),startInactiveSpan:o(r=>{let n=Qf(()=>t.startInactiveSpan(r)),i=Qf(()=>e.startInactiveSpan(r));if(!(!n&&!i))return Promise.resolve({end:o(()=>Oit(n,i),"end")})},"startInactiveSpan"),trackFeatureFlag:o((r,n)=>{Qf(()=>t.trackFeatureFlag(r,n)),Qf(()=>e.trackFeatureFlag(r,n))},"trackFeatureFlag")}}o(k_e,"createMultiProvider");function Qf(t){try{return t()}catch(e){Xa()&&console.error("[MultiProvider] Error:",e);return}}o(Qf,"safeTry");function Oit(...t){for(let e of t)e&&Qf(()=>e.then(r=>r.end()))}o(Oit,"endSpans");m();g();m();g();m();g();m();g();m();g();m();g();var Dt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;m();g();m();g();m();g();var rl="8.55.0";var Jt=globalThis;function _m(t,e,r){let n=r||Jt,i=n.__SENTRY__=n.__SENTRY__||{},s=i[rl]=i[rl]||{};return s[t]||(s[t]=e())}o(_m,"getGlobalSingleton");m();g();m();g();var xc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;m();g();var Nit="Sentry Logger ",QS=["debug","info","warn","error","log","assert","trace"],Rv={};function vc(t){if(!("console"in Jt))return t();let e=Jt.console,r={},n=Object.keys(Rv);n.forEach(i=>{let s=Rv[i];r[i]=e[i],e[i]=s});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}o(vc,"consoleSandbox");function Mit(){let t=!1,e={enable:o(()=>{t=!0},"enable"),disable:o(()=>{t=!1},"disable"),isEnabled:o(()=>t,"isEnabled")};return xc?QS.forEach(r=>{e[r]=(...n)=>{t&&vc(()=>{Jt.console[r](`${Nit}[${r}]:`,...n)})}}):QS.forEach(r=>{e[r]=()=>{}}),e}o(Mit,"makeLogger");var Je=_m("logger",Mit);m();g();var Nd="?",B_e=/\(error: (.*)\)/,P_e=/captureMessage|captureException/;function l7(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{let s=[],a=r.split(`
`);for(let f=n;f<a.length;f++){let l=a[f];if(l.length>1024)continue;let h=B_e.test(l)?l.replace(B_e,"$1"):l;if(!h.match(/\S*Error: /)){for(let b of e){let y=b(h);if(y){s.push(y);break}}if(s.length>=50+i)break}}return L_e(s.slice(i))}}o(l7,"createStackParser");function Jq(t){return Array.isArray(t)?l7(...t):t}o(Jq,"stackParserFromStackParserOptions");function L_e(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(u7(e).function||"")&&e.pop(),e.reverse(),P_e.test(u7(e).function||"")&&(e.pop(),P_e.test(u7(e).function||"")&&e.pop()),e.slice(0,50).map(r=>({...r,filename:r.filename||u7(e).filename,function:r.function||Nd}))}o(L_e,"stripSentryFramesAndReverse");function u7(t){return t[t.length-1]||{}}o(u7,"getLastStackFrame");var Zq="<anonymous>";function _c(t){try{return!t||typeof t!="function"?Zq:t.name||Zq}catch{return Zq}}o(_c,"getFunctionName");function d7(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}o(d7,"getFramesFromEvent");var h7={},D_e={};function pa(t,e){h7[t]=h7[t]||[],h7[t].push(e)}o(pa,"addHandler");function ma(t,e){if(!D_e[t]){D_e[t]=!0;try{e()}catch(r){xc&&Je.error(`Error while instrumenting ${t}`,r)}}}o(ma,"maybeInstrument");function bo(t,e){let r=t&&h7[t];if(r)for(let n of r)try{n(e)}catch(i){xc&&Je.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${_c(n)}
Error:`,i)}}o(bo,"triggerHandlers");var Qq=null;function eE(t){let e="error";pa(e,t),ma(e,Cit)}o(eE,"addGlobalErrorInstrumentationHandler");function Cit(){Qq=Jt.onerror,Jt.onerror=function(t,e,r,n,i){return bo("error",{column:n,error:i,line:r,msg:t,url:e}),Qq?Qq.apply(this,arguments):!1},Jt.onerror.__SENTRY_INSTRUMENTED__=!0}o(Cit,"instrumentError");m();g();var eV=null;function tE(t){let e="unhandledrejection";pa(e,t),ma(e,kit)}o(tE,"addGlobalUnhandledRejectionInstrumentationHandler");function kit(){eV=Jt.onunhandledrejection,Jt.onunhandledrejection=function(t){return bo("unhandledrejection",t),eV?eV.apply(this,arguments):!0},Jt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}o(kit,"instrumentUnhandledRejection");m();g();m();g();m();g();function nf(){return rE(Jt),Jt}o(nf,"getMainCarrier");function rE(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||rl,e[rl]=e[rl]||{}}o(rE,"getSentryCarrier");m();g();m();g();m();g();m();g();m();g();m();g();m();g();var U_e=Object.prototype.toString;function J1(t){switch(U_e.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return of(t,Error)}}o(J1,"isError");function Ov(t,e){return U_e.call(t)===`[object ${e}]`}o(Ov,"isBuiltin");function p7(t){return Ov(t,"ErrorEvent")}o(p7,"isErrorEvent");function m7(t){return Ov(t,"DOMError")}o(m7,"isDOMError");function tV(t){return Ov(t,"DOMException")}o(tV,"isDOMException");function ja(t){return Ov(t,"String")}o(ja,"isString");function Nv(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}o(Nv,"isParameterizedString");function Q1(t){return t===null||Nv(t)||typeof t!="object"&&typeof t!="function"}o(Q1,"isPrimitive");function nl(t){return Ov(t,"Object")}o(nl,"isPlainObject");function ey(t){return typeof Event<"u"&&of(t,Event)}o(ey,"isEvent");function rV(t){return typeof Element<"u"&&of(t,Element)}o(rV,"isElement");function nV(t){return Ov(t,"RegExp")}o(nV,"isRegExp");function il(t){return!!(t&&t.then&&typeof t.then=="function")}o(il,"isThenable");function iV(t){return nl(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(iV,"isSyntheticEvent");function of(t,e){try{return t instanceof e}catch{return!1}}o(of,"isInstanceOf");function nE(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}o(nE,"isVueViewModel");var Mv=Jt,Bit=80;function sf(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,i=[],s=0,a=0,f=" > ",l=f.length,h,b=Array.isArray(e)?e:e.keyAttrs,y=!Array.isArray(e)&&e.maxStringLength||Bit;for(;r&&s++<n&&(h=Pit(r,b),!(h==="html"||s>1&&a+i.length*l+h.length>=y));)i.push(h),a+=h.length,r=r.parentNode;return i.reverse().join(f)}catch{return"<unknown>"}}o(sf,"htmlTreeAsString");function Pit(t,e){let r=t,n=[];if(!r||!r.tagName)return"";if(Mv.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let i=e&&e.length?e.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(i&&i.length)i.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let a=r.className;if(a&&ja(a)){let f=a.split(/\s+/);for(let l of f)n.push(`.${l}`)}}let s=["aria-label","type","name","title","alt"];for(let a of s){let f=r.getAttribute(a);f&&n.push(`[${a}="${f}"]`)}return n.join("")}o(Pit,"_htmlElementAsString");function oV(){try{return Mv.document.location.href}catch{return""}}o(oV,"getLocationHref");function sV(t){return Mv.document&&Mv.document.querySelector?Mv.document.querySelector(t):null}o(sV,"getDomElement");function iE(t){if(!Mv.HTMLElement)return null;let e=t,r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}o(iE,"getComponentName");m();g();function Md(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}o(Md,"truncate");function g7(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{nE(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}o(g7,"safeJoin");function H_e(t,e,r=!1){return ja(t)?nV(e)?e.test(t):ja(e)?r?t===e:t.includes(e):!1:!1}o(H_e,"isMatchingPattern");function Cd(t,e=[],r=!1){return e.some(n=>H_e(t,n,r))}o(Cd,"stringMatchesSomePattern");function Mo(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);typeof i=="function"&&y7(i,n);try{t[e]=i}catch{xc&&Je.log(`Failed to replace method "${e}" in object`,t)}}o(Mo,"fill");function io(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{xc&&Je.log(`Failed to add non-enumerable property "${e}" to object`,t)}}o(io,"addNonEnumerableProperty");function y7(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,io(t,"__sentry_original__",e)}catch{}}o(y7,"markFunctionWrapped");function ty(t){return t.__sentry_original__}o(ty,"getOriginalFunction");function b7(t){if(J1(t))return{message:t.message,name:t.name,stack:t.stack,...q_e(t)};if(ey(t)){let e={type:t.type,target:F_e(t.target),currentTarget:F_e(t.currentTarget),...q_e(t)};return typeof CustomEvent<"u"&&of(t,CustomEvent)&&(e.detail=t.detail),e}else return t}o(b7,"convertToPlainObject");function F_e(t){try{return rV(t)?sf(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}o(F_e,"serializeEventTarget");function q_e(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}o(q_e,"getOwnProperties");function cV(t,e=40){let r=Object.keys(b7(t));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return Md(n,e);for(let i=r.length;i>0;i--){let s=r.slice(0,i).join(", ");if(!(s.length>e))return i===r.length?s:Md(s,e)}return""}o(cV,"extractExceptionKeysForMessage");function Ln(t){return aV(t,new Map)}o(Ln,"dropUndefinedKeys");function aV(t,e){if(Lit(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(n[i]=aV(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(aV(i,e))}),n}return t}o(aV,"_dropUndefinedKeys");function Lit(t){if(!nl(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}o(Lit,"isPojo");m();g();var V_e=1e3;function kd(){return Date.now()/V_e}o(kd,"dateTimestampInSeconds");function Dit(){let{performance:t}=Jt;if(!t||!t.now)return kd;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/V_e}o(Dit,"createUnixTimestampInSecondsFunc");var zi=Dit(),oE,xo=(()=>{let{performance:t}=Jt;if(!t||!t.now){oE="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,l=typeof a=="number"?Math.abs(a+r-n):e,h=l<e;return s||h?i<=l?(oE="timeOrigin",t.timeOrigin):(oE="navigationStart",a):(oE="dateNow",n)})();m();g();function Co(){let t=Jt,e=t.crypto||t.msCrypto,r=o(()=>Math.random()*16,"getRandomByte");try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=o(()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]},"getRandomByte"))}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}o(Co,"uuid4");function j_e(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}o(j_e,"getFirstException");function ol(t){let{message:e,event_id:r}=t;if(e)return e;let n=j_e(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}o(ol,"getEventDescription");function Cv(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=r||"Error")}o(Cv,"addExceptionTypeValue");function Bd(t,e){let r=j_e(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){let s={...i&&i.data,...e.data};r.mechanism.data=s}}o(Bd,"addExceptionMechanism");function x7(t){if(Uit(t))return!0;try{io(t,"__sentry_captured__",!0)}catch{}return!1}o(x7,"checkOrSetAlreadyCaught");function Uit(t){try{return t.__sentry_captured__}catch{}}o(Uit,"isAlreadyCaptured");m();g();var sh;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(sh||(sh={}));function eu(t){return new sl(e=>{e(t)})}o(eu,"resolvedSyncPromise");function wm(t){return new sl((e,r)=>{r(t)})}o(wm,"rejectedSyncPromise");var sl=class t{static{o(this,"SyncPromise")}constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=sh.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,s=>{if(!e)n(s);else try{n(e(s))}catch(a){i(a)}},s=>{if(!r)i(s);else try{n(r(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,s;return this.then(a=>{s=!1,i=a,e&&e()},a=>{s=!0,i=a,e&&e()}).then(()=>{if(s){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(sh.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(sh.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===sh.PENDING){if(il(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===sh.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===sh.RESOLVED&&r[1](this._value),this._state===sh.REJECTED&&r[2](this._value),r[0]=!0)})}}};function K_e(t){let e=zi(),r={sid:Co(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:o(()=>Hit(r),"toJSON")};return t&&ah(r,t),r}o(K_e,"makeSession");function ah(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||zi(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Co()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}o(ah,"updateSession");function z_e(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),ah(t,r)}o(z_e,"closeSession");function Hit(t){return Ln({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}o(Hit,"sessionToJSON");m();g();function wc(){return Co()}o(wc,"generateTraceId");function Sc(){return Co().substring(16)}o(Sc,"generateSpanId");m();g();function kv(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;let n={...t};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=kv(n[i],e[i],r-1));return n}o(kv,"merge");m();g();var fV="_sentrySpan";function ch(t,e){e?io(t,fV,e):delete t[fV]}o(ch,"_setSpanForScope");function ry(t){return t[fV]}o(ry,"_getSpanForScope");var Fit=100,uV=class t{static{o(this,"ScopeClass")}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:wc(),spanId:Sc()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ch(e,ry(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ah(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,[n,i]=r instanceof af?[r.getScopeData(),r.getRequestSession()]:nl(r)?[e,e.requestSession]:[],{tags:s,extra:a,user:f,contexts:l,level:h,fingerprint:b=[],propagationContext:y}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},f&&Object.keys(f).length&&(this._user=f),h&&(this._level=h),b.length&&(this._fingerprint=b),y&&(this._propagationContext=y),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,ch(this,void 0),this._attachments=[],this.setPropagationContext({traceId:wc()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:Fit;if(n<=0)return this;let i={timestamp:kd(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ry(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=kv(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Sc(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:Co();if(!this._client)return Je.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){let i=n&&n.event_id?n.event_id:Co();if(!this._client)return Je.warn("No client configured on scope - will not capture message!"),i;let s=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:i},this),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:Co();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(Je.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}},af=uV;function G_e(){return _m("defaultCurrentScope",()=>new af)}o(G_e,"getDefaultCurrentScope");function $_e(){return _m("defaultIsolationScope",()=>new af)}o($_e,"getDefaultIsolationScope");var lV=class{static{o(this,"AsyncContextStack")}constructor(e,r){let n;e?n=e:n=new af;let i;r?i=r:i=new af,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){let r=this._pushScope(),n;try{n=e(r)}catch(i){throw this._popScope(),i}return il(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function Bv(){let t=nf(),e=rE(t);return e.stack=e.stack||new lV(G_e(),$_e())}o(Bv,"getAsyncContextStack");function qit(t){return Bv().withScope(t)}o(qit,"withScope");function Vit(t,e){let r=Bv();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}o(Vit,"withSetScope");function W_e(t){return Bv().withScope(()=>t(Bv().getIsolationScope()))}o(W_e,"withIsolationScope");function Y_e(){return{withIsolationScope:W_e,withScope:qit,withSetScope:Vit,withSetIsolationScope:o((t,e)=>W_e(e),"withSetIsolationScope"),getCurrentScope:o(()=>Bv().getScope(),"getCurrentScope"),getIsolationScope:o(()=>Bv().getIsolationScope(),"getIsolationScope")}}o(Y_e,"getStackAsyncContextStrategy");function Pd(t){let e=rE(t);return e.acs?e.acs:Y_e()}o(Pd,"getAsyncContextStrategy");m();g();function wr(){let t=nf();return Pd(t).getCurrentScope()}o(wr,"getCurrentScope");function ko(){let t=nf();return Pd(t).getIsolationScope()}o(ko,"getIsolationScope");function v7(){return _m("globalScope",()=>new af)}o(v7,"getGlobalScope");function Sm(...t){let e=nf(),r=Pd(e);if(t.length===2){let[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}o(Sm,"withScope");function rr(){return wr().getClient()}o(rr,"getClient");function dV(t){let e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=e;return Ln({trace_id:r,span_id:n,parent_span_id:i})}o(dV,"getTraceContextFromScope");m();g();var jit="_sentryMetrics";function sE(t){let e=t[jit];if(!e)return;let r={};for(let[,[n,i]]of e)(r[n]||(r[n]=[])).push(Ln(i));return r}o(sE,"getMetricSummaryJsonForSpan");m();g();var ga="sentry.source",Pv="sentry.sample_rate",Ka="sentry.op",Dn="sentry.origin",Lv="sentry.idle_span_finish_reason",Em="sentry.measurement_unit",Am="sentry.measurement_value",aE="sentry.custom_span_name",hV="sentry.profile_id",ny="sentry.exclusive_time";m();g();function pV(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}o(pV,"getSpanStatusFromHttpCode");function Dv(t,e){t.setAttribute("http.response.status_code",e);let r=pV(e);r.message!=="unknown_error"&&t.setStatus(r)}o(Dv,"setHttpStatus");m();g();m();g();var _7="sentry-",Kit=/^sentry-/,zit=8192;function w7(t){let e=Git(t);if(!e)return;let r=Object.entries(e).reduce((n,[i,s])=>{if(i.match(Kit)){let a=i.slice(_7.length);n[a]=s}return n},{});if(Object.keys(r).length>0)return r}o(w7,"baggageHeaderToDynamicSamplingContext");function mV(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${_7}${n}`]=i),r),{});return $it(e)}o(mV,"dynamicSamplingContextToSentryBaggageHeader");function Git(t){if(!(!t||!ja(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{let n=X_e(r);return Object.entries(n).forEach(([i,s])=>{e[i]=s}),e},{}):X_e(t)}o(Git,"parseBaggageHeader");function X_e(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}o(X_e,"baggageHeaderToObject");function $it(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,a=i===0?s:`${e},${s}`;return a.length>zit?(xc&&Je.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a},"")}o($it,"objectToBaggageHeader");var S7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Z_e(t){if(!t)return;let e=t.match(S7);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}o(Z_e,"extractTraceparentData");function gV(t,e){let r=Z_e(t),n=w7(e);if(!r||!r.traceId)return{traceId:wc(),spanId:Sc()};let{traceId:i,parentSpanId:s,parentSampled:a}=r,f=Sc();return{traceId:i,parentSpanId:s,spanId:f,sampled:a,dsc:n||{}}}o(gV,"propagationContextFromHeaders");function cE(t=wc(),e=Sc(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}o(cE,"generateSentryTraceHeader");var E7=0,bV=1,J_e=!1;function ewe(t){let{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:s,status:a,origin:f}=nr(t);return Ln({parent_span_id:s,span_id:e,trace_id:r,data:n,op:i,status:a,origin:f})}o(ewe,"spanToTransactionTraceContext");function xV(t){let{spanId:e,traceId:r,isRemote:n}=t.spanContext(),i=n?e:nr(t).parent_span_id,s=n?Sc():e;return Ln({parent_span_id:i,span_id:s,trace_id:r})}o(xV,"spanToTraceContext");function A7(t){let{traceId:e,spanId:r}=t.spanContext(),n=tu(t);return cE(e,r,n)}o(A7,"spanToTraceHeader");function al(t){return typeof t=="number"?Q_e(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Q_e(t.getTime()):zi()}o(al,"spanTimeInputToSeconds");function Q_e(t){return t>9999999999?t/1e3:t}o(Q_e,"ensureTimestampInSeconds");function nr(t){if(Zit(t))return t.getSpanJSON();try{let{spanId:e,traceId:r}=t.spanContext();if(Xit(t)){let{attributes:n,startTime:i,name:s,endTime:a,parentSpanId:f,status:l}=t;return Ln({span_id:e,trace_id:r,data:n,description:s,parent_span_id:f,start_timestamp:al(i),timestamp:al(a)||void 0,status:I7(l),op:n[Ka],origin:n[Dn],_metrics_summary:sE(t)})}return{span_id:e,trace_id:r}}catch{return{}}}o(nr,"spanToJSON");function Xit(t){let e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}o(Xit,"spanIsOpenTelemetrySdkTraceBaseSpan");function Zit(t){return typeof t.getSpanJSON=="function"}o(Zit,"spanIsSentrySpan");function tu(t){let{traceFlags:e}=t.spanContext();return e===bV}o(tu,"spanIsSampled");function I7(t){if(!(!t||t.code===0))return t.code===1?"ok":t.message||"unknown_error"}o(I7,"getStatusMessage");var iy="_sentryChildSpans",yV="_sentryRootSpan";function T7(t,e){let r=t[yV]||t;io(e,yV,r),t[iy]?t[iy].add(e):io(t,iy,new Set([e]))}o(T7,"addChildSpanToSpan");function twe(t,e){t[iy]&&t[iy].delete(e)}o(twe,"removeChildSpanFromSpan");function Im(t){let e=new Set;function r(n){if(!e.has(n)&&tu(n)){e.add(n);let i=n[iy]?Array.from(n[iy]):[];for(let s of i)r(s)}}return o(r,"addSpanChildren"),r(t),Array.from(e)}o(Im,"getSpanDescendants");function Rn(t){return t[yV]||t}o(Rn,"getRootSpan");function On(){let t=nf(),e=Pd(t);return e.getActiveSpan?e.getActiveSpan():ry(wr())}o(On,"getActiveSpan");function R7(){J_e||(vc(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),J_e=!0)}o(R7,"showSpanDropWarning");var rwe=!1;function O7(){rwe||(rwe=!0,eE(vV),tE(vV))}o(O7,"registerSpanErrorInstrumentation");function vV(){let t=On(),e=t&&Rn(t);if(e){let r="internal_error";Dt&&Je.log(`[Tracing] Root span: ${r} -> Global error occurred`),e.setStatus({code:2,message:r})}}o(vV,"errorCallback");vV.tag="sentry_tracingErrorCallback";m();g();var nwe="_sentryScope",iwe="_sentryIsolationScope";function owe(t,e,r){t&&(io(t,iwe,r),io(t,nwe,e))}o(owe,"setCapturedScopesOnSpan");function _V(t){return{scope:t[nwe],isolationScope:t[iwe]}}o(_V,"getCapturedScopesOnSpan");m();g();m();g();function za(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=rr(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}o(za,"hasTracingEnabled");m();g();var Ec=class{static{o(this,"SentryNonRecordingSpan")}constructor(e={}){this._traceId=e.traceId||wc(),this._spanId=e.spanId||Sc()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:E7}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}};m();g();m();g();function swe(t,e,r=()=>{}){let n;try{n=t()}catch(i){throw e(i),r(),i}return Jit(n,e,r)}o(swe,"handleCallbackErrors");function Jit(t,e,r){return il(t)?t.then(n=>(r(),n),n=>{throw e(n),r(),n}):(r(),t)}o(Jit,"maybeHandlePromiseRejection");m();g();m();g();var Uv="production";var awe="_frozenDsc";function wV(t,e){io(t,awe,e)}o(wV,"freezeDscOnSpan");function SV(t,e){let r=e.getOptions(),{publicKey:n}=e.getDsn()||{},i=Ln({environment:r.environment||Uv,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",i),i}o(SV,"getDynamicSamplingContextFromClient");function fE(t,e){let r=e.getPropagationContext();return r.dsc||SV(r.traceId,t)}o(fE,"getDynamicSamplingContextFromScope");function cf(t){let e=rr();if(!e)return{};let r=Rn(t),n=r[awe];if(n)return n;let i=r.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&w7(s);if(a)return a;let f=SV(t.spanContext().traceId,e),l=nr(r),h=l.data||{},b=h[Pv];b!=null&&(f.sample_rate=`${b}`);let y=h[ga],E=l.description;return y!=="url"&&E&&(f.transaction=E),za()&&(f.sampled=String(tu(r))),e.emit("createDsc",f,r),f}o(cf,"getDynamicSamplingContextFromSpan");m();g();function cwe(t){if(!Dt)return;let{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:n}=nr(t),{spanId:i}=t.spanContext(),s=tu(t),a=Rn(t),f=a===t,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${f?"root ":""}span`,h=[`op: ${r}`,`name: ${e}`,`ID: ${i}`];if(n&&h.push(`parent ID: ${n}`),!f){let{op:b,description:y}=nr(a);h.push(`root ID: ${a.spanContext().spanId}`),b&&h.push(`root op: ${b}`),y&&h.push(`root description: ${y}`)}Je.log(`${l}
  ${h.join(`
  `)}`)}o(cwe,"logSpanStart");function fwe(t){if(!Dt)return;let{description:e="< unknown name >",op:r="< unknown op >"}=nr(t),{spanId:n}=t.spanContext(),s=Rn(t)===t,a=`[Tracing] Finishing "${r}" ${s?"root ":""}span "${e}" with ID ${n}`;Je.log(a)}o(fwe,"logSpanEnd");m();g();m();g();function N7(t){if(typeof t=="boolean")return Number(t);let e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){Dt&&Je.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}o(N7,"parseSampleRate");function uwe(t,e){if(!za(t))return[!1];let r=ko().getScopeData().sdkProcessingMetadata.normalizedRequest,n={...e,normalizedRequest:e.normalizedRequest||r},i;typeof t.tracesSampler=="function"?i=t.tracesSampler(n):n.parentSampled!==void 0?i=n.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;let s=N7(i);return s===void 0?(Dt&&Je.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(Dt&&Je.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(Dt&&Je.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}o(uwe,"sampleSpan");m();g();m();g();m();g();var Qit=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function eot(t){return t==="http"||t==="https"}o(eot,"isValidProtocol");function Ld(t,e=!1){let{host:r,path:n,pass:i,port:s,projectId:a,protocol:f,publicKey:l}=t;return`${f}://${l}${e&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${a}`}o(Ld,"dsnToString");function lwe(t){let e=Qit.exec(t);if(!e){vc(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,n,i="",s="",a="",f=""]=e.slice(1),l="",h=f,b=h.split("/");if(b.length>1&&(l=b.slice(0,-1).join("/"),h=b.pop()),h){let y=h.match(/^\d+/);y&&(h=y[0])}return dwe({host:s,pass:i,path:l,projectId:h,port:a,protocol:r,publicKey:n})}o(lwe,"dsnFromString");function dwe(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}o(dwe,"dsnFromComponents");function tot(t){if(!xc)return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(Je.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:r.match(/^\d+$/)?eot(n)?e&&isNaN(parseInt(e,10))?(Je.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Je.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(Je.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}o(tot,"validateDsn");function EV(t){let e=typeof t=="string"?lwe(t):dwe(t);if(!(!e||!tot(e)))return e}o(EV,"makeDsn");m();g();m();g();m();g();function hwe(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}o(r,"memoize");function n(i){if(t)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return o(n,"unmemoize"),[r,n]}o(hwe,"memoBuilder");function ru(t,e=100,r=1/0){try{return AV("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}o(ru,"normalize");function M7(t,e=3,r=100*1024){let n=ru(t,e);return oot(n)>r?M7(t,e-1,r):n}o(M7,"normalizeToSize");function AV(t,e,r=1/0,n=1/0,i=hwe()){let[s,a]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let f=rot(t,e);if(!f.startsWith("[object "))return f;if(e.__sentry_skip_normalization__)return e;let l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return f.replace("object ","");if(s(e))return"[Circular ~]";let h=e;if(h&&typeof h.toJSON=="function")try{let I=h.toJSON();return AV("",I,l-1,n,i)}catch{}let b=Array.isArray(e)?[]:{},y=0,E=b7(e);for(let I in E){if(!Object.prototype.hasOwnProperty.call(E,I))continue;if(y>=n){b[I]="[MaxProperties ~]";break}let O=E[I];b[I]=AV(I,O,l-1,n,i),y++}return a(e),b}o(AV,"visit");function rot(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof self<"u"&&e===self)return"[Global]";if(typeof self<"u"&&e===self)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(nE(e))return"[VueViewModel]";if(iV(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${_c(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=not(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}o(rot,"stringifyValue");function not(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}o(not,"getConstructorName");function iot(t){return~-encodeURI(t).split(/%..|./).length}o(iot,"utf8Length");function oot(t){return iot(JSON.stringify(t))}o(oot,"jsonSize");function cl(t,e=[]){return[t,e]}o(cl,"createEnvelope");function TV(t,e){let[r,n]=t;return[r,[...n,e]]}o(TV,"addItemToEnvelope");function C7(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}o(C7,"forEachEnvelopeItem");function IV(t){return Jt.__SENTRY__&&Jt.__SENTRY__.encodePolyfill?Jt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}o(IV,"encodeUTF8");function RV(t){let[e,r]=t,n=JSON.stringify(e);function i(s){typeof n=="string"?n=typeof s=="string"?n+s:[IV(n),s]:n.push(typeof s=="string"?IV(s):s)}o(i,"append");for(let s of r){let[a,f]=s;if(i(`
${JSON.stringify(a)}
`),typeof f=="string"||f instanceof Uint8Array)i(f);else{let l;try{l=JSON.stringify(f)}catch{l=JSON.stringify(ru(f))}i(l)}}return typeof n=="string"?n:sot(n)}o(RV,"serializeEnvelope");function sot(t){let e=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}o(sot,"concatBuffers");function OV(t){return[{type:"span"},t]}o(OV,"createSpanEnvelopeItem");function NV(t){let e=typeof t.data=="string"?IV(t.data):t.data;return[Ln({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}o(NV,"createAttachmentEnvelopeItem");var aot={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function k7(t){return aot[t]}o(k7,"envelopeItemTypeToDataCategory");function B7(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}o(B7,"getSdkMetadataForEnvelopeHeader");function MV(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:Ld(n)},...i&&{trace:Ln({...i})}}}o(MV,"createEventEnvelopeHeaders");function cot(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}o(cot,"enhanceEventWithSdkInfo");function pwe(t,e,r,n){let i=B7(r),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:Ld(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return cl(s,[a])}o(pwe,"createSessionEnvelope");function mwe(t,e,r,n){let i=B7(r),s=t.type&&t.type!=="replay_event"?t.type:"event";cot(t,r&&r.sdk);let a=MV(t,i,n,e);return delete t.sdkProcessingMetadata,cl(a,[[{type:s},t]])}o(mwe,"createEventEnvelope");function gwe(t,e){function r(b){return!!b.trace_id&&!!b.public_key}o(r,"dscHasRequiredProps");let n=cf(t[0]),i=e&&e.getDsn(),s=e&&e.getOptions().tunnel,a={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!s&&i&&{dsn:Ld(i)}},f=e&&e.getOptions().beforeSendSpan,l=f?b=>{let y=f(nr(b));return y||R7(),y}:b=>nr(b),h=[];for(let b of t){let y=l(b);y&&h.push(OV(y))}return cl(a,h)}o(gwe,"createSpanEnvelope");m();g();function P7(t,e,r,n=On()){let i=n&&Rn(n);i&&(Dt&&Je.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),i.addEvent(t,{[Am]:e,[Em]:r}))}o(P7,"setMeasurement");function L7(t){if(!t||t.length===0)return;let e={};return t.forEach(r=>{let n=r.attributes||{},i=n[Em],s=n[Am];typeof i=="string"&&typeof s=="number"&&(e[r.name]={value:s,unit:i})}),e}o(L7,"timedEventsToMeasurements");var ywe=1e3,Hv=class{static{o(this,"SentrySpan")}constructor(e={}){this._traceId=e.traceId||wc(),this._spanId=e.spanId||Sc(),this._startTime=e.startTimestamp||zi(),this._attributes={},this.setAttributes({[Dn]:"manual",[Ka]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,r){}spanContext(){let{_spanId:e,_traceId:r,_sampled:n}=this;return{spanId:e,traceId:r,traceFlags:n?bV:E7}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=al(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(ga,"custom"),this}end(e){this._endTime||(this._endTime=al(e),fwe(this),this._onSpanEnded())}getSpanJSON(){return Ln({data:this._attributes,description:this._name,op:this._attributes[Ka],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:I7(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Dn],_metrics_summary:sE(this),profile_id:this._attributes[hV],exclusive_time:this._attributes[ny],measurements:L7(this._events),is_segment:this._isStandaloneSpan&&Rn(this)===this||void 0,segment_id:this._isStandaloneSpan?Rn(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,n){Dt&&Je.log("[Tracing] Adding an event to span:",e);let i=bwe(r)?r:n||zi(),s=bwe(r)?{}:r||{},a={name:e,time:al(i),attributes:s};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=rr();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Rn(this)))return;if(this._isStandaloneSpan){this._sampled?uot(gwe([this],e)):(Dt&&Je.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let n=this._convertSpanToTransaction();n&&(_V(this).scope||wr()).captureEvent(n)}_convertSpanToTransaction(){if(!xwe(nr(this)))return;this._name||(Dt&&Je.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:r}=_V(this),i=(e||wr()).getClient()||rr();if(this._sampled!==!0){Dt&&Je.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}let a=Im(this).filter(y=>y!==this&&!fot(y)).map(y=>nr(y)).filter(xwe),f=this._attributes[ga];delete this._attributes[aE],a.forEach(y=>{y.data&&delete y.data[aE]});let l={contexts:{trace:ewe(this)},spans:a.length>ywe?a.sort((y,E)=>y.start_timestamp-E.start_timestamp).slice(0,ywe):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,...Ln({dynamicSamplingContext:cf(this)})},_metrics_summary:sE(this),...f&&{transaction_info:{source:f}}},h=L7(this._events);return h&&Object.keys(h).length&&(Dt&&Je.log("[Measurements] Adding measurements to transaction event",JSON.stringify(h,void 0,2)),l.measurements=h),l}};function bwe(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}o(bwe,"isSpanTimeInput");function xwe(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}o(xwe,"isFullFinishedSpan");function fot(t){return t instanceof Hv&&t.isStandaloneSpan()}o(fot,"isStandaloneSpan");function uot(t){let e=rr();if(!e)return;let r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}o(uot,"sendSpanEnvelope");var _we="__SENTRY_SUPPRESS_TRACING__";function D7(t,e){let r=CV();if(r.startSpan)return r.startSpan(t,e);let n=Swe(t),{forceTransaction:i,parentSpan:s}=t;return Sm(t.scope,()=>dot(s)(()=>{let f=wr(),l=Ewe(f),b=t.onlyIfParent&&!l?new Ec:wwe({parentSpan:l,spanArguments:n,forceTransaction:i,scope:f});return ch(f,b),swe(()=>e(b),()=>{let{status:y}=nr(b);b.isRecording()&&(!y||y==="ok")&&b.setStatus({code:2,message:"internal_error"})},()=>b.end())}))}o(D7,"startSpan");function ff(t){let e=CV();if(e.startInactiveSpan)return e.startInactiveSpan(t);let r=Swe(t),{forceTransaction:n,parentSpan:i}=t;return(t.scope?a=>Sm(t.scope,a):i!==void 0?a=>Fv(i,a):a=>a())(()=>{let a=wr(),f=Ewe(a);return t.onlyIfParent&&!f?new Ec:wwe({parentSpan:f,spanArguments:r,forceTransaction:n,scope:a})})}o(ff,"startInactiveSpan");function Fv(t,e){let r=CV();return r.withActiveSpan?r.withActiveSpan(t,e):Sm(n=>(ch(n,t||void 0),e(n)))}o(Fv,"withActiveSpan");function wwe({parentSpan:t,spanArguments:e,forceTransaction:r,scope:n}){if(!za())return new Ec;let i=ko(),s;if(t&&!r)s=lot(t,n,e),T7(t,s);else if(t){let a=cf(t),{traceId:f,spanId:l}=t.spanContext(),h=tu(t);s=vwe({traceId:f,parentSpanId:l,...e},n,h),wV(s,a)}else{let{traceId:a,dsc:f,parentSpanId:l,sampled:h}={...i.getPropagationContext(),...n.getPropagationContext()};s=vwe({traceId:a,parentSpanId:l,...e},n,h),f&&wV(s,f)}return cwe(s),owe(s,n,i),s}o(wwe,"createChildOrRootSpan");function Swe(t){let r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){let n={...r};return n.startTimestamp=al(t.startTime),delete n.startTime,n}return r}o(Swe,"parseSentrySpanArguments");function CV(){let t=nf();return Pd(t)}o(CV,"getAcs");function vwe(t,e,r){let n=rr(),i=n&&n.getOptions()||{},{name:s="",attributes:a}=t,[f,l]=e.getScopeData().sdkProcessingMetadata[_we]?[!1]:uwe(i,{name:s,parentSampled:r,attributes:a,transactionContext:{name:s,parentSampled:r}}),h=new Hv({...t,attributes:{[ga]:"custom",...t.attributes},sampled:f});return l!==void 0&&h.setAttribute(Pv,l),n&&n.emit("spanStart",h),h}o(vwe,"_startRootSpan");function lot(t,e,r){let{spanId:n,traceId:i}=t.spanContext(),s=e.getScopeData().sdkProcessingMetadata[_we]?!1:tu(t),a=s?new Hv({...r,parentSpanId:n,traceId:i,sampled:s}):new Ec({traceId:i});T7(t,a);let f=rr();return f&&(f.emit("spanStart",a),r.endTimestamp&&f.emit("spanEnd",a)),a}o(lot,"_startChildSpan");function Ewe(t){let e=ry(t);if(!e)return;let r=rr();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Rn(e):e}o(Ewe,"getParentSpan");function dot(t){return t!==void 0?e=>Fv(t,e):e=>e()}o(dot,"getActiveSpanWrapper");var qv={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},hot="heartbeatFailed",pot="idleTimeout",mot="finalTimeout",got="externalFinish";function U7(t,e={}){let r=new Map,n=!1,i,s=got,a=!e.disableAutoFinish,f=[],{idleTimeout:l=qv.idleTimeout,finalTimeout:h=qv.finalTimeout,childSpanTimeout:b=qv.childSpanTimeout,beforeSpanEnd:y}=e,E=rr();if(!E||!za())return new Ec;let I=wr(),O=On(),N=yot(t);N.end=new Proxy(N.end,{apply(j,re,Y){y&&y(N);let[X,...S]=Y,c=X||zi(),d=al(c),p=Im(N).filter(w=>w!==N);if(!p.length)return q(d),Reflect.apply(j,re,[d,...S]);let x=p.map(w=>nr(w).timestamp).filter(w=>!!w),v=x.length?Math.max(...x):void 0,A=nr(N).start_timestamp,T=Math.min(A?A+h/1e3:1/0,Math.max(A||-1/0,Math.min(d,v||1/0)));return q(T),Reflect.apply(j,re,[T,...S])}});function k(){i&&(clearTimeout(i),i=void 0)}o(k,"_cancelIdleTimeout");function C(j){k(),i=setTimeout(()=>{!n&&r.size===0&&a&&(s=pot,N.end(j))},l)}o(C,"_restartIdleTimeout");function L(j){i=setTimeout(()=>{!n&&a&&(s=hot,N.end(j))},b)}o(L,"_restartChildSpanTimeout");function M(j){k(),r.set(j,!0);let re=zi();L(re+b/1e3)}o(M,"_pushActivity");function U(j){if(r.has(j)&&r.delete(j),r.size===0){let re=zi();C(re+l/1e3)}}o(U,"_popActivity");function q(j){n=!0,r.clear(),f.forEach(d=>d()),ch(I,O);let re=nr(N),{start_timestamp:Y}=re;if(!Y)return;(re.data||{})[Lv]||N.setAttribute(Lv,s),Je.log(`[Tracing] Idle span "${re.op}" finished`);let S=Im(N).filter(d=>d!==N),c=0;S.forEach(d=>{d.isRecording()&&(d.setStatus({code:2,message:"cancelled"}),d.end(j),Dt&&Je.log("[Tracing] Cancelling span since span ended early",JSON.stringify(d,void 0,2)));let p=nr(d),{timestamp:x=0,start_timestamp:v=0}=p,A=v<=j,T=(h+l)/1e3,w=x-v<=T;if(Dt){let u=JSON.stringify(d,void 0,2);A?w||Je.log("[Tracing] Discarding span since it finished after idle span final timeout",u):Je.log("[Tracing] Discarding span since it happened after idle span was finished",u)}(!w||!A)&&(twe(N,d),c++)}),c>0&&N.setAttribute("sentry.idle_span_discarded_spans",c)}return o(q,"onIdleSpanEnded"),f.push(E.on("spanStart",j=>{if(n||j===N||nr(j).timestamp)return;Im(N).includes(j)&&M(j.spanContext().spanId)})),f.push(E.on("spanEnd",j=>{n||U(j.spanContext().spanId)})),f.push(E.on("idleSpanEnableAutoFinish",j=>{j===N&&(a=!0,C(),r.size&&L())})),e.disableAutoFinish||C(),setTimeout(()=>{n||(N.setStatus({code:2,message:"deadline_exceeded"}),s=mot,N.end())},h),N}o(U7,"startIdleSpan");function yot(t){let e=ff(t);return ch(wr(),e),Dt&&Je.log("[Tracing] Started span is an idle span"),e}o(yot,"_startIdleSpan");m();g();m();g();m();g();function H7(t,e,r,n=0){return new sl((i,s)=>{let a=t[n];if(e===null||typeof a!="function")i(e);else{let f=a({...e},r);Dt&&a.id&&f===null&&Je.log(`Event processor "${a.id}" dropped event`),il(f)?f.then(l=>H7(t,l,r,n+1).then(i)).then(null,s):H7(t,f,r,n+1).then(i).then(null,s)}})}o(H7,"notifyEventProcessors");m();g();var F7,Awe,q7;function Iwe(t){let e=Jt._sentryDebugIds;if(!e)return{};let r=Object.keys(e);return q7&&r.length===Awe||(Awe=r.length,q7=r.reduce((n,i)=>{F7||(F7={});let s=F7[i];if(s)n[s[0]]=s[1];else{let a=t(i);for(let f=a.length-1;f>=0;f--){let l=a[f],h=l&&l.filename,b=e[i];if(h&&b){n[h]=b,F7[i]=[h,b];break}}}return n},{})),q7}o(Iwe,"getFilenameToDebugIdMap");m();g();function Twe(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:s}=e;bot(t,e),n&&_ot(t,n),wot(t,r),xot(t,i),vot(t,s)}o(Twe,"applyScopeDataToEvent");function kV(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,sdkProcessingMetadata:f,breadcrumbs:l,fingerprint:h,eventProcessors:b,attachments:y,propagationContext:E,transactionName:I,span:O}=e;V7(t,"extra",r),V7(t,"tags",n),V7(t,"user",i),V7(t,"contexts",s),t.sdkProcessingMetadata=kv(t.sdkProcessingMetadata,f,2),a&&(t.level=a),I&&(t.transactionName=I),O&&(t.span=O),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),h.length&&(t.fingerprint=[...t.fingerprint,...h]),b.length&&(t.eventProcessors=[...t.eventProcessors,...b]),y.length&&(t.attachments=[...t.attachments,...y]),t.propagationContext={...t.propagationContext,...E}}o(kV,"mergeScopeData");function V7(t,e,r){t[e]=kv(t[e],r,1)}o(V7,"mergeAndOverwriteScopeData");function bot(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,transactionName:f}=e,l=Ln(r);l&&Object.keys(l).length&&(t.extra={...l,...t.extra});let h=Ln(n);h&&Object.keys(h).length&&(t.tags={...h,...t.tags});let b=Ln(i);b&&Object.keys(b).length&&(t.user={...b,...t.user});let y=Ln(s);y&&Object.keys(y).length&&(t.contexts={...y,...t.contexts}),a&&(t.level=a),f&&t.type!=="transaction"&&(t.transaction=f)}o(bot,"applyDataToEvent");function xot(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}o(xot,"applyBreadcrumbsToEvent");function vot(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}o(vot,"applySdkMetadataToEvent");function _ot(t,e){t.contexts={trace:xV(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:cf(e),...t.sdkProcessingMetadata};let r=Rn(e),n=nr(r).description;n&&!t.transaction&&t.type==="transaction"&&(t.transaction=n)}o(_ot,"applySpanToEvent");function wot(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}o(wot,"applyFingerprintToEvent");function Rwe(t,e,r,n,i,s){let{normalizeDepth:a=3,normalizeMaxBreadth:f=1e3}=t,l={...e,event_id:e.event_id||r.event_id||Co(),timestamp:e.timestamp||kd()},h=r.integrations||t.integrations.map(k=>k.name);Sot(l,t),Iot(l,h),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&Eot(l,t.stackParser);let b=Rot(n,r.captureContext);r.mechanism&&Bd(l,r.mechanism);let y=i?i.getEventProcessors():[],E=v7().getScopeData();if(s){let k=s.getScopeData();kV(E,k)}if(b){let k=b.getScopeData();kV(E,k)}let I=[...r.attachments||[],...E.attachments];I.length&&(r.attachments=I),Twe(l,E);let O=[...y,...E.eventProcessors];return H7(O,l,r).then(k=>(k&&Aot(k),typeof a=="number"&&a>0?Tot(k,a,f):k))}o(Rwe,"prepareEvent");function Sot(t,e){let{environment:r,release:n,dist:i,maxValueLength:s=250}=e;t.environment=t.environment||r||Uv,!t.release&&n&&(t.release=n),!t.dist&&i&&(t.dist=i),t.message&&(t.message=Md(t.message,s));let a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=Md(a.value,s));let f=t.request;f&&f.url&&(f.url=Md(f.url,s))}o(Sot,"applyClientOptions");function Eot(t,e){let r=Iwe(e);try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}o(Eot,"applyDebugIds");function Aot(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(e).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}o(Aot,"applyDebugMeta");function Iot(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}o(Iot,"applyIntegrationsMetadata");function Tot(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:ru(i.data,e,r)}}))},...t.user&&{user:ru(t.user,e,r)},...t.contexts&&{contexts:ru(t.contexts,e,r)},...t.extra&&{extra:ru(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=ru(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>({...i,...i.data&&{data:ru(i.data,e,r)}}))),t.contexts&&t.contexts.flags&&n.contexts&&(n.contexts.flags=ru(t.contexts.flags,3,r)),n}o(Tot,"normalizeEvent");function Rot(t,e){if(!e)return t;let r=t?t.clone():new af;return r.update(e),r}o(Rot,"getFinalScope");function Owe(t){if(t)return Oot(t)?{captureContext:t}:Mot(t)?{captureContext:t}:t}o(Owe,"parseEventHintOrCaptureContext");function Oot(t){return t instanceof af||typeof t=="function"}o(Oot,"hintIsScopeOrFunction");var Not=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Mot(t){return Object.keys(t).some(e=>Not.includes(e))}o(Mot,"hintIsScopeContext");function Vv(t,e){return wr().captureException(t,Owe(e))}o(Vv,"captureException");function j7(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return wr().captureMessage(t,r,n)}o(j7,"captureMessage");function uE(t,e){return wr().captureEvent(t,e)}o(uE,"captureEvent");function K7(t,e){ko().setContext(t,e)}o(K7,"setContext");function z7(t){ko().setTags(t)}o(z7,"setTags");function G7(t){ko().setUser(t)}o(G7,"setUser");function BV(){let t=rr();return!!t&&t.getOptions().enabled!==!1&&!!t.getTransport()}o(BV,"isEnabled");function lE(t){let e=rr(),r=ko(),n=wr(),{release:i,environment:s=Uv}=e&&e.getOptions()||{},{userAgent:a}=Jt.navigator||{},f=K_e({release:i,environment:s,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...t}),l=r.getSession();return l&&l.status==="ok"&&ah(l,{status:"exited"}),$7(),r.setSession(f),n.setSession(f),f}o(lE,"startSession");function $7(){let t=ko(),e=wr(),r=e.getSession()||t.getSession();r&&z_e(r),Mwe(),t.setSession(),e.setSession()}o($7,"endSession");function Mwe(){let t=ko(),e=wr(),r=rr(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}o(Mwe,"_sendSessionUpdate");function dE(t=!1){if(t){$7();return}Mwe()}o(dE,"captureSession");m();g();var Cot="7";function kot(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}o(kot,"getBaseApiEndpoint");function Bot(t){return`${kot(t)}${t.projectId}/envelope/`}o(Bot,"_getIngestEndpoint");function Pot(t,e){let r={sentry_version:Cot};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}o(Pot,"_encodedAuth");function Cwe(t,e,r){return e||`${Bot(t)}?${Pot(t,r)}`}o(Cwe,"getEnvelopeEndpointWithUrlEncodedAuth");m();g();m();g();var kwe=[];function Lot(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}o(Lot,"filterDuplicates");function PV(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...e,...r];else if(typeof r=="function"){let a=r(e);n=Array.isArray(a)?a:[a]}else n=e;let i=Lot(n),s=i.findIndex(a=>a.name==="Debug");if(s>-1){let[a]=i.splice(s,1);i.push(a)}return i}o(PV,"getIntegrationsToSetup");function Bwe(t,e){let r={};return e.forEach(n=>{n&&DV(t,n,r)}),r}o(Bwe,"setupIntegrations");function LV(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}o(LV,"afterSetupIntegrations");function DV(t,e,r){if(r[e.name]){Dt&&Je.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,kwe.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),kwe.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,s)=>n(i,s,t))}if(typeof e.processEvent=="function"){let n=e.processEvent.bind(e),i=Object.assign((s,a)=>n(s,a,t),{id:e.name});t.addEventProcessor(i)}Dt&&Je.log(`Integration installed: ${e.name}`)}o(DV,"setupIntegration");m();g();function Pwe(t,e,r){let n=[{type:"client_report"},{timestamp:r||kd(),discarded_events:t}];return cl(e?{dsn:e}:{},[n])}o(Pwe,"createClientReportEnvelope");m();g();var ya=class extends Error{static{o(this,"SentryError")}constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}};var Lwe="Not capturing exception because it's already been captured.",hE=class{static{o(this,"BaseClient")}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=EV(e.dsn):Dt&&Je.warn("No DSN provided, client will not send events."),this._dsn){let i=Cwe(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}let n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&vc(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,r,n){let i=Co();if(x7(e))return Dt&&Je.log(Lwe),i;let s={event_id:i,...r};return this._process(this.eventFromException(e,s).then(a=>this._captureEvent(a,s,n))),s.event_id}captureMessage(e,r,n,i){let s={event_id:Co(),...n},a=Nv(e)?e:String(e),f=Q1(e)?this.eventFromMessage(a,r,s):this.eventFromException(e,s);return this._process(f.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(e,r,n){let i=Co();if(r&&r.originalException&&x7(r.originalException))return Dt&&Je.log(Lwe),i;let s={event_id:i,...r},f=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,f||n)),s.event_id}captureSession(e){typeof e.release!="string"?Dt&&Je.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),ah(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):eu(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];DV(this,e,this._integrations),r||LV(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=mwe(e,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])n=TV(n,NV(s));let i=this.sendEnvelope(n);i&&i.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){let r=pwe(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=typeof n=="number"?n:1,s=`${e}:${r}`;Dt&&Je.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(e,r){let n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{let i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(e,...r){let n=this._hooks[e];n&&n.forEach(i=>i(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(Dt&&Je.error("Error while sending envelope:",r),r)):(Dt&&Je.error("Transport disabled"),eu({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=Bwe(this,e),LV(this,e)}_updateSessionFromEvent(e,r){let n=r.level==="fatal",i=!1,s=r.exception&&r.exception.values;if(s){i=!0;for(let l of s){let h=l.mechanism;if(h&&h.handled===!1){n=!0;break}}}let a=e.status==="ok";(a&&e.errors===0||a&&n)&&(ah(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new sl(r=>{let n=0,i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=i,e&&n>=e&&(clearInterval(s),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=wr(),i=ko()){let s=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",e,r),e.type||i.setLastEventId(e.event_id||r.event_id),Rwe(s,e,r,n,this,i).then(f=>{if(f===null)return f;f.contexts={trace:dV(n),...f.contexts};let l=fE(this,n);return f.sdkProcessingMetadata={dynamicSamplingContext:l,...f.sdkProcessingMetadata},f})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{Dt&&(i instanceof ya&&i.logLevel==="log"?Je.log(i.message):Je.warn(i))})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:s}=i,a=Uwe(e),f=Dwe(e),l=e.type||"error",h=`before send for type \`${l}\``,b=typeof s>"u"?void 0:N7(s);if(f&&typeof b=="number"&&Math.random()>b)return this.recordDroppedEvent("sample_rate","error",e),wm(new ya(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let y=l==="replay_event"?"replay":l,I=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,I).then(O=>{if(O===null)throw this.recordDroppedEvent("event_processor",y,e),new ya("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return O;let k=Uot(this,i,O,r);return Dot(k,h)}).then(O=>{if(O===null){if(this.recordDroppedEvent("before_send",y,e),a){let L=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",L)}throw new ya(`${h} returned \`null\`, will not send event.`,"log")}let N=n&&n.getSession();if(!a&&N&&this._updateSessionFromEvent(N,O),a){let C=O.sdkProcessingMetadata&&O.sdkProcessingMetadata.spanCountBeforeProcessing||0,L=O.spans?O.spans.length:0,M=C-L;M>0&&this.recordDroppedEvent("before_send","span",M)}let k=O.transaction_info;if(a&&k&&O.transaction!==e.transaction){let C="custom";O.transaction_info={...k,source:C}}return this.sendEvent(O,r),O}).then(null,O=>{throw O instanceof ya?O:(this.captureException(O,{data:{__sentry__:!0},originalException:O}),new ya(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${O}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{let[i,s]=r.split(":");return{reason:i,category:s,quantity:n}})}_flushOutcomes(){Dt&&Je.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){Dt&&Je.log("No outcomes to send");return}if(!this._dsn){Dt&&Je.log("No dsn provided, will not send outcomes");return}Dt&&Je.log("Sending outcomes:",e);let r=Pwe(e,this._options.tunnel&&Ld(this._dsn));this.sendEnvelope(r)}};function Dot(t,e){let r=`${e} must return \`null\` or a valid event.`;if(il(t))return t.then(n=>{if(!nl(n)&&n!==null)throw new ya(r);return n},n=>{throw new ya(`${e} rejected with ${n}`)});if(!nl(t)&&t!==null)throw new ya(r);return t}o(Dot,"_validateBeforeSendResult");function Uot(t,e,r,n){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a}=e;if(Dwe(r)&&i)return i(r,n);if(Uwe(r)){if(r.spans&&a){let f=[];for(let l of r.spans){let h=a(l);h?f.push(h):(R7(),t.recordDroppedEvent("before_send","span"))}r.spans=f}if(s){if(r.spans){let f=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:f}}return s(r,n)}}return r}o(Uot,"processBeforeSend");function Dwe(t){return t.type===void 0}o(Dwe,"isErrorEvent");function Uwe(t){return t.type==="transaction"}o(Uwe,"isTransactionEvent");m();g();function UV(t,e){e.debug===!0&&(Dt?Je.enable():vc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),wr().update(e.initialScope);let n=new t(e);return HV(n),n.init(),n}o(UV,"initAndBind");function HV(t){wr().setClient(t)}o(HV,"setCurrentClient");m();g();m();g();function Hwe(t){let e=[];function r(){return t===void 0||e.length<t}o(r,"isReady");function n(a){return e.splice(e.indexOf(a),1)[0]||Promise.resolve(void 0)}o(n,"remove");function i(a){if(!r())return wm(new ya("Not adding Promise because buffer limit was reached."));let f=a();return e.indexOf(f)===-1&&e.push(f),f.then(()=>n(f)).then(null,()=>n(f).then(null,()=>{})),f}o(i,"add");function s(a){return new sl((f,l)=>{let h=e.length;if(!h)return f(!0);let b=setTimeout(()=>{a&&a>0&&f(!1)},a);e.forEach(y=>{eu(y).then(()=>{--h||(clearTimeout(b),f(!0))},l)})})}return o(s,"drain"),{$:e,add:i,drain:s}}o(Hwe,"makePromiseBuffer");m();g();function Hot(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}o(Hot,"parseRetryAfterHeader");function Fot(t,e){return t[e]||t.all||0}o(Fot,"disabledUntil");function Fwe(t,e,r=Date.now()){return Fot(t,e)>r}o(Fwe,"isRateLimited");function qwe(t,{statusCode:e,headers:r},n=Date.now()){let i={...t},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(let f of s.trim().split(",")){let[l,h,,,b]=f.split(":",5),y=parseInt(l,10),E=(isNaN(y)?60:y)*1e3;if(!h)i.all=n+E;else for(let I of h.split(";"))I==="metric_bucket"?(!b||b.split(";").includes("custom"))&&(i[I]=n+E):i[I]=n+E}else a?i.all=n+Hot(a,n):e===429&&(i.all=n+60*1e3);return i}o(qwe,"updateRateLimits");var qot=64;function W7(t,e,r=Hwe(t.bufferSize||qot)){let n={},i=o(a=>r.drain(a),"flush");function s(a){let f=[];if(C7(a,(y,E)=>{let I=k7(E);if(Fwe(n,I)){let O=Vwe(y,E);t.recordDroppedEvent("ratelimit_backoff",I,O)}else f.push(y)}),f.length===0)return eu({});let l=cl(a[0],f),h=o(y=>{C7(l,(E,I)=>{let O=Vwe(E,I);t.recordDroppedEvent(y,k7(I),O)})},"recordEnvelopeLoss"),b=o(()=>e({body:RV(l)}).then(y=>(y.statusCode!==void 0&&(y.statusCode<200||y.statusCode>=300)&&Dt&&Je.warn(`Sentry responded with status code ${y.statusCode} to sent event.`),n=qwe(n,y),y),y=>{throw h("network_error"),y}),"requestTask");return r.add(b).then(y=>y,y=>{if(y instanceof ya)return Dt&&Je.error("Skipped sending event because buffer is full."),h("queue_overflow"),eu({});throw y})}return o(s,"send"),{send:s,flush:i}}o(W7,"createTransport");function Vwe(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}o(Vwe,"getEventForEnvelopeItem");m();g();function pE(t,e,r=[e],n="npm"){let i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:r.map(s=>({name:`${n}:@sentry/${s}`,version:rl})),version:rl}),t._metadata=i}o(pE,"applySdkMetadata");m();g();function mE(t={}){let e=rr();if(!BV()||!e)return{};let r=nf(),n=Pd(r);if(n.getTraceData)return n.getTraceData(t);let i=wr(),s=t.span||On(),a=s?A7(s):Vot(i),f=s?cf(s):fE(e,i),l=mV(f);return S7.test(a)?{"sentry-trace":a,baggage:l}:(Je.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}o(mE,"getTraceData");function Vot(t){let{traceId:e,sampled:r,spanId:n}=t.getPropagationContext();return cE(e,n,r)}o(Vot,"scopeToTraceHeader");m();g();var jot=100;function nu(t,e){let r=rr(),n=ko();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=jot}=r.getOptions();if(s<=0)return;let f={timestamp:kd(),...t},l=i?vc(()=>i(f,e)):f;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,e),n.addBreadcrumb(l,s))}o(nu,"addBreadcrumb");m();g();var jwe,Kot="FunctionToString",Kwe=new WeakMap,zot=o(()=>({name:Kot,setupOnce(){jwe=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=ty(this),r=Kwe.has(rr())&&e!==void 0?e:this;return jwe.apply(r,t)}}catch{}},setup(t){Kwe.set(t,!0)}}),"_functionToStringIntegration"),Y7=zot;m();g();var Got=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],$ot="InboundFilters",Wot=o((t={})=>({name:$ot,processEvent(e,r,n){let i=n.getOptions(),s=Yot(t,i);return Xot(e,s)?null:e}}),"_inboundFiltersIntegration"),Z7=Wot;function Yot(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:Got],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}o(Yot,"_mergeOptions");function Xot(t,e){return e.ignoreInternal&&rst(t)?(Dt&&Je.warn(`Event dropped due to being internal Sentry Error.
Event: ${ol(t)}`),!0):Zot(t,e.ignoreErrors)?(Dt&&Je.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ol(t)}`),!0):ist(t)?(Dt&&Je.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ol(t)}`),!0):Jot(t,e.ignoreTransactions)?(Dt&&Je.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ol(t)}`),!0):Qot(t,e.denyUrls)?(Dt&&Je.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ol(t)}.
Url: ${X7(t)}`),!0):est(t,e.allowUrls)?!1:(Dt&&Je.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ol(t)}.
Url: ${X7(t)}`),!0)}o(Xot,"_shouldDropEvent");function Zot(t,e){return t.type||!e||!e.length?!1:tst(t).some(r=>Cd(r,e))}o(Zot,"_isIgnoredError");function Jot(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?Cd(r,e):!1}o(Jot,"_isIgnoredTransaction");function Qot(t,e){if(!e||!e.length)return!1;let r=X7(t);return r?Cd(r,e):!1}o(Qot,"_isDeniedUrl");function est(t,e){if(!e||!e.length)return!0;let r=X7(t);return r?Cd(r,e):!0}o(est,"_isAllowedUrl");function tst(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),e}o(tst,"_getPossibleEventMessages");function rst(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}o(rst,"_isSentryError");function nst(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}o(nst,"_getLastValidUrl");function X7(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?nst(e):null}catch{return Dt&&Je.error(`Cannot extract url for event ${ol(t)}`),null}}o(X7,"_getEventFilterUrl");function ist(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}o(ist,"_isUselessError");m();g();function qV(t,e,r=250,n,i,s,a){if(!s.exception||!s.exception.values||!a||!of(a.originalException,Error))return;let f=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;f&&(s.exception.values=ost(FV(t,e,i,a.originalException,n,s.exception.values,f,0),r))}o(qV,"applyAggregateErrorsToEvent");function FV(t,e,r,n,i,s,a,f){if(s.length>=r+1)return s;let l=[...s];if(of(n[i],Error)){zwe(a,f);let h=t(e,n[i]),b=l.length;Gwe(h,i,b,f),l=FV(t,e,r,n[i],i,[h,...l],h,b)}return Array.isArray(n.errors)&&n.errors.forEach((h,b)=>{if(of(h,Error)){zwe(a,f);let y=t(e,h),E=l.length;Gwe(y,`errors[${b}]`,E,f),l=FV(t,e,r,h,i,[y,...l],y,E)}}),l}o(FV,"aggregateExceptionsFromError");function zwe(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}o(zwe,"applyExceptionGroupFieldsForParentException");function Gwe(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}o(Gwe,"applyExceptionGroupFieldsForChildException");function ost(t,e){return t.map(r=>(r.value&&(r.value=Md(r.value,e)),r))}o(ost,"truncateAggregateExceptions");m();g();function iu(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}o(iu,"parseUrl");m();g();function VV(t){let e="console";pa(e,t),ma(e,sst)}o(VV,"addConsoleInstrumentationHandler");function sst(){"console"in Jt&&QS.forEach(function(t){t in Jt.console&&Mo(Jt.console,t,function(e){return Rv[t]=e,function(...r){bo("console",{args:r,level:t});let i=Rv[t];i&&i.apply(Jt.console,r)}})})}o(sst,"instrumentConsole");m();g();function jV(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}o(jV,"severityLevelFromString");m();g();var ast="Dedupe",cst=o(()=>{let t;return{name:ast,processEvent(e){if(e.type)return e;try{if(fst(e,t))return Dt&&Je.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},"_dedupeIntegration"),J7=cst;function fst(t,e){return e?!!(ust(t,e)||lst(t,e)):!1}o(fst,"_shouldDropEvent");function ust(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!Ywe(t,e)||!Wwe(t,e))}o(ust,"_isSameMessageEvent");function lst(t,e){let r=$we(e),n=$we(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!Ywe(t,e)||!Wwe(t,e))}o(lst,"_isSameExceptionEvent");function Wwe(t,e){let r=d7(t),n=d7(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let s=n[i],a=r[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}o(Wwe,"_isSameStacktrace");function Ywe(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}o(Ywe,"_isSameFingerprint");function $we(t){return t.exception&&t.exception.values&&t.exception.values[0]}o($we,"_getExceptionFromEvent");m();g();function KV(t,e,r,n,i="auto.http.browser"){if(!t.fetchData)return;let s=za()&&e(t.fetchData.url);if(t.endTimestamp&&s){let E=t.fetchData.__span;if(!E)return;let I=n[E];I&&(pst(I,t),delete n[E]);return}let{method:a,url:f}=t.fetchData,l=hst(f),h=l?iu(l).host:void 0,b=!!On(),y=s&&b?ff({name:`${a} ${f}`,attributes:{url:f,type:"fetch","http.method":a,"http.url":l,"server.address":h,[Dn]:i,[Ka]:"http.client"}}):new Ec;if(t.fetchData.__span=y.spanContext().spanId,n[y.spanContext().spanId]=y,r(t.fetchData.url)){let E=t.args[0],I=t.args[1]||{},O=dst(E,I,za()&&b?y:void 0);O&&(t.args[1]=I,I.headers=O)}return y}o(KV,"instrumentFetchRequest");function dst(t,e,r){let n=mE({span:r}),i=n["sentry-trace"],s=n.baggage;if(!i)return;let a=e.headers||(mst(t)?t.headers:void 0);if(a)if(gst(a)){let f=new Headers(a);if(f.set("sentry-trace",i),s){let l=f.get("baggage");if(l){let h=Q7(l);f.set("baggage",h?`${h},${s}`:s)}else f.set("baggage",s)}return f}else if(Array.isArray(a)){let f=[...a.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){let[h,b,...y]=l;return[h,Q7(b),...y]}else return l}),["sentry-trace",i]];return s&&f.push(["baggage",s]),f}else{let f="baggage"in a?a.baggage:void 0,l=[];return Array.isArray(f)?l=f.map(h=>typeof h=="string"?Q7(h):h).filter(h=>h===""):f&&l.push(Q7(f)),s&&l.push(s),{...a,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...n}}o(dst,"_addTracingHeadersToFetchRequest");function hst(t){try{return new URL(t).href}catch{return}}o(hst,"getFullURL");function pst(t,e){if(e.response){Dv(t,e.response.status);let r=e.response&&e.response.headers&&e.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&t.setAttribute("http.response_content_length",n)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}o(pst,"endSpan");function Q7(t){return t.split(",").filter(e=>!e.split("=")[0].startsWith(_7)).join(",")}o(Q7,"stripBaggageHeaderOfSentryBaggageValues");function mst(t){return typeof Request<"u"&&of(t,Request)}o(mst,"isRequest");function gst(t){return typeof Headers<"u"&&of(t,Headers)}o(gst,"isHeaders");m();g();function e9(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}o(e9,"getBreadcrumbLogLevelFromHttpStatusCode");m();g();m();g();var zV=Jt;function t9(){if(!("fetch"in zV))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}o(t9,"supportsFetch");function gE(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(gE,"isNativeFunction");function GV(){if(typeof EdgeRuntime=="string")return!0;if(!t9())return!1;if(gE(zV.fetch))return!0;let t=!1,e=zV.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=gE(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){xc&&Je.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}o(GV,"supportsNativeFetch");function yE(t,e){let r="fetch";pa(r,t),ma(r,()=>Zwe(void 0,e))}o(yE,"addFetchInstrumentationHandler");function WV(t){let e="fetch-body-resolved";pa(e,t),ma(e,()=>Zwe(bst))}o(WV,"addFetchEndInstrumentationHandler");function Zwe(t,e=!1){e&&!GV()||Mo(Jt,"fetch",function(r){return function(...n){let i=new Error,{method:s,url:a}=xst(n),f={args:n,fetchData:{method:s,url:a},startTimestamp:zi()*1e3,virtualError:i};return t||bo("fetch",{...f}),r.apply(Jt,n).then(async l=>(t?t(l):bo("fetch",{...f,endTimestamp:zi()*1e3,response:l}),l),l=>{throw bo("fetch",{...f,endTimestamp:zi()*1e3,error:l}),J1(l)&&l.stack===void 0&&(l.stack=i.stack,io(l,"framesToPop",1)),l})}})}o(Zwe,"instrumentFetch");async function yst(t,e){if(t&&t.body){let r=t.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3),s=!0;for(;s;){let a;try{a=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:f}=await n.read();clearTimeout(a),f&&(e(),s=!1)}catch{s=!1}finally{clearTimeout(a)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}o(yst,"resolveResponse");function bst(t){let e;try{e=t.clone()}catch{return}yst(e,()=>{bo("fetch-body-resolved",{endTimestamp:zi()*1e3,response:t})})}o(bst,"streamHandler");function $V(t,e){return!!t&&typeof t=="object"&&!!t[e]}o($V,"hasProp");function Xwe(t){return typeof t=="string"?t:t?$V(t,"url")?t.url:t.toString?t.toString():"":""}o(Xwe,"getUrlFromResource");function xst(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:Xwe(r),method:$V(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:Xwe(e),method:$V(e,"method")?String(e.method).toUpperCase():"GET"}}o(xst,"parseFetchArgs");m();g();function YV(){return"npm"}o(YV,"getSDKSource");m();g();var r9=Jt;function XV(){let t=r9.chrome,e=t&&t.app&&t.app.runtime,r="history"in r9&&!!r9.history.pushState&&!!r9.history.replaceState;return!e&&r}o(XV,"supportsHistory");m();g();var Gt=Jt,ZV=0;function JV(){return ZV>0}o(JV,"shouldIgnoreOnError");function Bst(){ZV++,setTimeout(()=>{ZV--})}o(Bst,"ignoreNextOnError");function oy(t,e={}){function r(i){return typeof i=="function"}if(o(r,"isFunction"),!r(t))return t;try{let i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(ty(t))return t}catch{return t}let n=o(function(...i){try{let s=i.map(a=>oy(a,e));return t.apply(this,s)}catch(s){throw Bst(),Sm(a=>{a.addEventProcessor(f=>(e.mechanism&&(Cv(f,void 0,void 0),Bd(f,e.mechanism)),f.extra={...f.extra,arguments:i},f)),Vv(s)}),s}},"sentryWrapped");try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}y7(n,t),io(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}o(oy,"wrap");m();g();m();g();var Ss=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;m();g();function n9(t,e){let r=tj(t,e),n={type:Hst(e),value:Fst(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}o(n9,"exceptionFromError");function Pst(t,e,r,n){let i=rr(),s=i&&i.getOptions().normalizeDepth,a=jst(e),f={__serialized__:M7(e,s)};if(a)return{exception:{values:[n9(t,a)]},extra:f};let l={exception:{values:[{type:ey(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:qst(e,{isUnhandledRejection:n})}]},extra:f};if(r){let h=tj(t,r);h.length&&(l.exception.values[0].stacktrace={frames:h})}return l}o(Pst,"eventFromPlainObject");function QV(t,e){return{exception:{values:[n9(t,e)]}}}o(QV,"eventFromError");function tj(t,e){let r=e.stacktrace||e.stack||"",n=Dst(e),i=Ust(e);try{return t(r,n,i)}catch{}return[]}o(tj,"parseStackFrames");var Lst=/Minified React error #\d+;/i;function Dst(t){return t&&Lst.test(t.message)?1:0}o(Dst,"getSkipFirstStackStringLines");function Ust(t){return typeof t.framesToPop=="number"?t.framesToPop:0}o(Ust,"getPopFirstTopFrames");function Qwe(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}o(Qwe,"isWebAssemblyException");function Hst(t){let e=t&&t.name;return!e&&Qwe(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}o(Hst,"extractType");function Fst(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:Qwe(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}o(Fst,"extractMessage");function eSe(t,e,r,n){let i=r&&r.syntheticException||void 0,s=i9(t,e,i,n);return Bd(s),s.level="error",r&&r.event_id&&(s.event_id=r.event_id),eu(s)}o(eSe,"eventFromException");function tSe(t,e,r="info",n,i){let s=n&&n.syntheticException||void 0,a=ej(t,e,s,i);return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),eu(a)}o(tSe,"eventFromMessage");function i9(t,e,r,n,i){let s;if(p7(e)&&e.error)return QV(t,e.error);if(m7(e)||tV(e)){let a=e;if("stack"in e)s=QV(t,e);else{let f=a.name||(m7(a)?"DOMError":"DOMException"),l=a.message?`${f}: ${a.message}`:f;s=ej(t,l,r,n),Cv(s,l)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return J1(e)?QV(t,e):nl(e)||ey(e)?(s=Pst(t,e,r,i),Bd(s,{synthetic:!0}),s):(s=ej(t,e,r,n),Cv(s,`${e}`,void 0),Bd(s,{synthetic:!0}),s)}o(i9,"eventFromUnknownInput");function ej(t,e,r,n){let i={};if(n&&r){let s=tj(t,r);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]}),Bd(i,{synthetic:!0})}if(Nv(e)){let{__sentry_template_string__:s,__sentry_template_values__:a}=e;return i.logentry={message:s,params:a},i}return i.message=e,i}o(ej,"eventFromString");function qst(t,{isUnhandledRejection:e}){let r=cV(t),n=e?"promise rejection":"exception";return p7(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:ey(t)?`Event \`${Vst(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}o(qst,"getNonErrorObjectExceptionValue");function Vst(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}o(Vst,"getObjectClassName");function jst(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let r=t[e];if(r instanceof Error)return r}}o(jst,"getErrorPropertyFromObject");m();g();function rSe(t,{metadata:e,tunnel:r,dsn:n}){let i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:Ld(n)}},s=Kst(t);return cl(i,[s])}o(rSe,"createUserFeedbackEnvelope");function Kst(t){return[{type:"user_report"},t]}o(Kst,"createUserFeedbackEnvelopeItem");var o9=class extends hE{static{o(this,"BrowserClient")}constructor(e){let r={parentSpanIsAlwaysRootSpan:!0,...e},n=Gt.SENTRY_SDK_SOURCE||YV();pE(r,"browser",["browser"],n),super(r),r.sendClientReports&&Gt.document&&Gt.document.addEventListener("visibilitychange",()=>{Gt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return eSe(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return tSe(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){Ss&&Je.warn("SDK not enabled, will not capture user feedback.");return}let r=rSe(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}};m();g();m();g();m();g();m();g();var jv=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;m();g();m();g();var zst=o((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good","getRating"),ou=o((t,e,r,n)=>{let i,s;return a=>{e.value>=0&&(a||n)&&(s=e.value-(i||0),(s||i===void 0)&&(i=e.value,e.delta=s,e.rating=zst(e.value,r),t(e)))}},"bindReporter");m();g();m();g();var Ot=Jt;m();g();var nSe=o(()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,"generateUniqueID");m();g();m();g();var fh=o((t=!0)=>{let e=Ot.performance&&Ot.performance.getEntriesByType&&Ot.performance.getEntriesByType("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},"getNavigationEntry");var Dd=o(()=>{let t=fh();return t&&t.activationStart||0},"getActivationStart");var su=o((t,e)=>{let r=fh(),n="navigate";return r&&(Ot.document&&Ot.document.prerendering||Dd()>0?n="prerender":Ot.document&&Ot.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:nSe(),navigationType:n}},"initMetric");m();g();var Ac=o((t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{Promise.resolve().then(()=>{e(i.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}},"observe");m();g();var au=o(t=>{let e=o(r=>{(r.type==="pagehide"||Ot.document&&Ot.document.visibilityState==="hidden")&&t(r)},"onHiddenOrPageHide");Ot.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},"onHidden");m();g();var Rm=o(t=>{let e=!1;return()=>{e||(t(),e=!0)}},"runOnce");m();g();m();g();var xE=-1,Gst=o(()=>Ot.document.visibilityState==="hidden"&&!Ot.document.prerendering?0:1/0,"initHiddenTime"),s9=o(t=>{Ot.document.visibilityState==="hidden"&&xE>-1&&(xE=t.type==="visibilitychange"?t.timeStamp:0,Wst())},"onVisibilityUpdate"),$st=o(()=>{addEventListener("visibilitychange",s9,!0),addEventListener("prerenderingchange",s9,!0)},"addChangeListeners"),Wst=o(()=>{removeEventListener("visibilitychange",s9,!0),removeEventListener("prerenderingchange",s9,!0)},"removeChangeListeners"),Om=o(()=>(Ot.document&&xE<0&&(xE=Gst(),$st()),{get firstHiddenTime(){return xE}}),"getVisibilityWatcher");m();g();var Ud=o(t=>{Ot.document&&Ot.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},"whenActivated");var Yst=[1800,3e3],iSe=o((t,e={})=>{Ud(()=>{let r=Om(),n=su("FCP"),i,a=Ac("paint",o(f=>{f.forEach(l=>{l.name==="first-contentful-paint"&&(a.disconnect(),l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-Dd(),0),n.entries.push(l),i(!0)))})},"handleEntries"));a&&(i=ou(t,n,Yst,e.reportAllChanges))})},"onFCP");var Xst=[.1,.25],oSe=o((t,e={})=>{iSe(Rm(()=>{let r=su("CLS",0),n,i=0,s=[],a=o(l=>{l.forEach(h=>{if(!h.hadRecentInput){let b=s[0],y=s[s.length-1];i&&b&&y&&h.startTime-y.startTime<1e3&&h.startTime-b.startTime<5e3?(i+=h.value,s.push(h)):(i=h.value,s=[h])}}),i>r.value&&(r.value=i,r.entries=s,n())},"handleEntries"),f=Ac("layout-shift",a);f&&(n=ou(t,r,Xst,e.reportAllChanges),au(()=>{a(f.takeRecords()),n(!0)}),setTimeout(n,0))}))},"onCLS");m();g();var Zst=[100,300],sSe=o((t,e={})=>{Ud(()=>{let r=Om(),n=su("FID"),i,s=o(l=>{l.startTime<r.firstHiddenTime&&(n.value=l.processingStart-l.startTime,n.entries.push(l),i(!0))},"handleEntry"),a=o(l=>{l.forEach(s)},"handleEntries"),f=Ac("first-input",a);i=ou(t,n,Zst,e.reportAllChanges),f&&au(Rm(()=>{a(f.takeRecords()),f.disconnect()}))})},"onFID");m();g();m();g();m();g();var aSe=0,rj=1/0,a9=0,Jst=o(t=>{t.forEach(e=>{e.interactionId&&(rj=Math.min(rj,e.interactionId),a9=Math.max(a9,e.interactionId),aSe=a9?(a9-rj)/7+1:0)})},"updateEstimate"),nj,cSe=o(()=>nj?aSe:performance.interactionCount||0,"getInteractionCount"),fSe=o(()=>{"interactionCount"in performance||nj||(nj=Ac("event",Jst,{type:"event",buffered:!0,durationThreshold:0}))},"initInteractionCountPolyfill");var uh=[],ij=new Map,uSe=40,Qst=0,eat=o(()=>cSe()-Qst,"getInteractionCountForNavigation"),lSe=o(()=>{let t=Math.min(uh.length-1,Math.floor(eat()/50));return uh[t]},"estimateP98LongestInteraction"),oj=10,tat=[],dSe=o(t=>{if(tat.forEach(n=>n(t)),!(t.interactionId||t.entryType==="first-input"))return;let e=uh[uh.length-1],r=ij.get(t.interactionId);if(r||uh.length<oj||e&&t.duration>e.latency){if(r)t.duration>r.latency?(r.entries=[t],r.latency=t.duration):t.duration===r.latency&&t.startTime===(r.entries[0]&&r.entries[0].startTime)&&r.entries.push(t);else{let n={id:t.interactionId,latency:t.duration,entries:[t]};ij.set(n.id,n),uh.push(n)}uh.sort((n,i)=>i.latency-n.latency),uh.length>oj&&uh.splice(oj).forEach(n=>ij.delete(n.id))}},"processInteractionEntry");m();g();var c9=o(t=>{let e=Ot.requestIdleCallback||Ot.setTimeout,r=-1;return t=Rm(t),Ot.document&&Ot.document.visibilityState==="hidden"?t():(r=e(t),au(t)),r},"whenIdle");var rat=[200,500],hSe=o((t,e={})=>{"PerformanceEventTiming"in Ot&&"interactionId"in PerformanceEventTiming.prototype&&Ud(()=>{fSe();let r=su("INP"),n,i=o(a=>{c9(()=>{a.forEach(dSe);let f=lSe();f&&f.latency!==r.value&&(r.value=f.latency,r.entries=f.entries,n())})},"handleEntries"),s=Ac("event",i,{durationThreshold:e.durationThreshold!=null?e.durationThreshold:uSe});n=ou(t,r,rat,e.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),au(()=>{i(s.takeRecords()),n(!0)}))})},"onINP");m();g();var nat=[2500,4e3],pSe={},mSe=o((t,e={})=>{Ud(()=>{let r=Om(),n=su("LCP"),i,s=o(f=>{e.reportAllChanges||(f=f.slice(-1)),f.forEach(l=>{l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-Dd(),0),n.entries=[l],i())})},"handleEntries"),a=Ac("largest-contentful-paint",s);if(a){i=ou(t,n,nat,e.reportAllChanges);let f=Rm(()=>{pSe[n.id]||(s(a.takeRecords()),a.disconnect(),pSe[n.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Ot.document&&addEventListener(l,()=>c9(f),{once:!0,capture:!0})}),au(f)}})},"onLCP");m();g();var iat=[800,1800],sj=o(t=>{Ot.document&&Ot.document.prerendering?Ud(()=>sj(t)):Ot.document&&Ot.document.readyState!=="complete"?addEventListener("load",()=>sj(t),!0):setTimeout(t,0)},"whenReady"),gSe=o((t,e={})=>{let r=su("TTFB"),n=ou(t,r,iat,e.reportAllChanges);sj(()=>{let i=fh();i&&(r.value=Math.max(i.responseStart-Dd(),0),r.entries=[i],n(!0))})},"onTTFB");var vE={},f9={},ySe,bSe,xSe,vSe,_Se;function _E(t,e=!1){return wE("cls",t,oat,ySe,e)}o(_E,"addClsInstrumentationHandler");function aj(t,e=!1){return wE("lcp",t,aat,xSe,e)}o(aj,"addLcpInstrumentationHandler");function cj(t){return wE("fid",t,sat,bSe)}o(cj,"addFidInstrumentationHandler");function fj(t){return wE("ttfb",t,cat,vSe)}o(fj,"addTtfbInstrumentationHandler");function uj(t){return wE("inp",t,fat,_Se)}o(uj,"addInpInstrumentationHandler");function lh(t,e){return wSe(t,e),f9[t]||(uat(t),f9[t]=!0),SSe(t,e)}o(lh,"addPerformanceInstrumentationHandler");function Kv(t,e){let r=vE[t];if(!(!r||!r.length))for(let n of r)try{n(e)}catch(i){jv&&Je.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${_c(n)}
Error:`,i)}}o(Kv,"triggerHandlers");function oat(){return oSe(t=>{Kv("cls",{metric:t}),ySe=t},{reportAllChanges:!0})}o(oat,"instrumentCls");function sat(){return sSe(t=>{Kv("fid",{metric:t}),bSe=t})}o(sat,"instrumentFid");function aat(){return mSe(t=>{Kv("lcp",{metric:t}),xSe=t},{reportAllChanges:!0})}o(aat,"instrumentLcp");function cat(){return gSe(t=>{Kv("ttfb",{metric:t}),vSe=t})}o(cat,"instrumentTtfb");function fat(){return hSe(t=>{Kv("inp",{metric:t}),_Se=t})}o(fat,"instrumentInp");function wE(t,e,r,n,i=!1){wSe(t,e);let s;return f9[t]||(s=r(),f9[t]=!0),n&&e({metric:n}),SSe(t,e,i?s:void 0)}o(wE,"addMetricObserver");function uat(t){let e={};t==="event"&&(e.durationThreshold=0),Ac(t,r=>{Kv(t,{entries:r})},e)}o(uat,"instrumentPerformanceObserver");function wSe(t,e){vE[t]=vE[t]||[],vE[t].push(e)}o(wSe,"addHandler");function SSe(t,e,r){return()=>{r&&r();let n=vE[t];if(!n)return;let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}o(SSe,"getCleanupCallback");function ESe(t){return"duration"in t}o(ESe,"isPerformanceEventTiming");m();g();m();g();m();g();function u9(t){return typeof t=="number"&&isFinite(t)}o(u9,"isMeasurementValue");function Hd(t,e,r,{...n}){let i=nr(t).start_timestamp;return i&&i>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),Fv(t,()=>{let s=ff({startTime:e,...n});return s&&s.end(r),s})}o(Hd,"startAndEndSpan");function l9(t){let e=rr();if(!e)return;let{name:r,transaction:n,attributes:i,startTime:s}=t,{release:a,environment:f}=e.getOptions(),l=e.getIntegrationByName("Replay"),h=l&&l.getReplayId(),b=wr(),y=b.getUser(),E=y!==void 0?y.email||y.id||y.ip_address:void 0,I;try{I=b.getScopeData().contexts.profile.profile_id}catch{}let O={release:a,environment:f,user:E||void 0,profile_id:I||void 0,replay_id:h||void 0,transaction:n,"user_agent.original":Ot.navigator&&Ot.navigator.userAgent,...i};return ff({name:r,attributes:O,startTime:s,experimental:{standalone:!0}})}o(l9,"startStandaloneWebVitalSpan");function SE(){return Ot&&Ot.addEventListener&&Ot.performance}o(SE,"getBrowserPerformanceAPI");function vi(t){return t/1e3}o(vi,"msToSec");function EE(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}o(EE,"extractNetworkProtocol");function ASe(){let t=0,e,r;if(!dat())return;let n=!1;function i(){n||(n=!0,r&&lat(t,e,r),s())}o(i,"_collectClsOnce");let s=_E(({metric:a})=>{let f=a.entries[a.entries.length-1];f&&(t=a.value,e=f)},!0);au(()=>{i()}),setTimeout(()=>{let a=rr();if(!a)return;let f=a.on("startNavigationSpan",()=>{i(),f&&f()}),l=On(),h=l&&Rn(l),b=h&&nr(h);b&&b.op==="pageload"&&(r=h.spanContext().spanId)},0)}o(ASe,"trackClsAsStandaloneSpan");function lat(t,e,r){jv&&Je.log(`Sending CLS span (${t})`);let n=vi((xo||0)+(e&&e.startTime||0)),i=wr().getScopeData().transactionName,s=e?sf(e.sources[0]&&e.sources[0].node):"Layout shift",a=Ln({[Dn]:"auto.http.browser.cls",[Ka]:"ui.webvital.cls",[ny]:e&&e.duration||0,"sentry.pageload.span_id":r}),f=l9({name:s,transaction:i,attributes:a,startTime:n});f&&(f.addEvent("cls",{[Em]:"",[Am]:t}),f.end(n))}o(lat,"sendStandaloneClsSpan");function dat(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}o(dat,"supportsLayoutShift");var hat=2147483647,ISe=0,Es={},Ic,AE;function dj({recordClsStandaloneSpans:t}){let e=SE();if(e&&xo){e.mark&&Ot.performance.mark("sentry-tracing-init");let r=gat(),n=mat(),i=yat(),s=t?ASe():pat();return()=>{r(),n(),i(),s&&s()}}return()=>{}}o(dj,"startTrackingWebVitals");function hj(){lh("longtask",({entries:t})=>{let e=On();if(!e)return;let{op:r,start_timestamp:n}=nr(e);for(let i of t){let s=vi(xo+i.startTime),a=vi(i.duration);r==="navigation"&&n&&s<n||Hd(e,s,s+a,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Dn]:"auto.ui.browser.metrics"}})}})}o(hj,"startTrackingLongTasks");function pj(){new PerformanceObserver(e=>{let r=On();if(r)for(let n of e.getEntries()){if(!n.scripts[0])continue;let i=vi(xo+n.startTime),{start_timestamp:s,op:a}=nr(r);if(a==="navigation"&&s&&i<s)continue;let f=vi(n.duration),l={[Dn]:"auto.ui.browser.metrics"},h=n.scripts[0],{invoker:b,invokerType:y,sourceURL:E,sourceFunctionName:I,sourceCharPosition:O}=h;l["browser.script.invoker"]=b,l["browser.script.invoker_type"]=y,E&&(l["code.filepath"]=E),I&&(l["code.function"]=I),O!==-1&&(l["browser.script.source_char_position"]=O),Hd(r,i,i+f,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}o(pj,"startTrackingLongAnimationFrames");function mj(){lh("event",({entries:t})=>{let e=On();if(e){for(let r of t)if(r.name==="click"){let n=vi(xo+r.startTime),i=vi(r.duration),s={name:sf(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[Dn]:"auto.ui.browser.metrics"}},a=iE(r.target);a&&(s.attributes["ui.component_name"]=a),Hd(e,n,n+i,s)}}})}o(mj,"startTrackingInteractions");function pat(){return _E(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(Es.cls={value:t.value,unit:""},AE=e)},!0)}o(pat,"_trackCLS");function mat(){return aj(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(Es.lcp={value:t.value,unit:"millisecond"},Ic=e)},!0)}o(mat,"_trackLCP");function gat(){return cj(({metric:t})=>{let e=t.entries[t.entries.length-1];if(!e)return;let r=vi(xo),n=vi(e.startTime);Es.fid={value:t.value,unit:"millisecond"},Es["mark.fid"]={value:r+n,unit:"second"}})}o(gat,"_trackFID");function yat(){return fj(({metric:t})=>{t.entries[t.entries.length-1]&&(Es.ttfb={value:t.value,unit:"millisecond"})})}o(yat,"_trackTtfb");function gj(t,e){let r=SE();if(!r||!r.getEntries||!xo)return;let n=vi(xo),i=r.getEntries(),{op:s,start_timestamp:a}=nr(t);if(i.slice(ISe).forEach(f=>{let l=vi(f.startTime),h=vi(Math.max(0,f.duration));if(!(s==="navigation"&&a&&n+l<a))switch(f.entryType){case"navigation":{xat(t,f,n);break}case"mark":case"paint":case"measure":{bat(t,f,l,h,n);let b=Om(),y=f.startTime<b.firstHiddenTime;f.name==="first-paint"&&y&&(Es.fp={value:f.startTime,unit:"millisecond"}),f.name==="first-contentful-paint"&&y&&(Es.fcp={value:f.startTime,unit:"millisecond"});break}case"resource":{wat(t,f,f.name,l,h,n);break}}}),ISe=Math.max(i.length-1,0),Sat(t),s==="pageload"){Aat(Es);let f=Es["mark.fid"];f&&Es.fid&&(Hd(t,f.value,f.value+vi(Es.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Dn]:"auto.ui.browser.metrics"}}),delete Es["mark.fid"]),(!("fcp"in Es)||!e.recordClsOnPageloadSpan)&&delete Es.cls,Object.entries(Es).forEach(([l,h])=>{P7(l,h.value,h.unit)}),t.setAttribute("performance.timeOrigin",n),t.setAttribute("performance.activationStart",Dd()),Eat(t)}Ic=void 0,AE=void 0,Es={}}o(gj,"addPerformanceEntries");function bat(t,e,r,n,i){let s=fh(!1),a=vi(s?s.requestStart:0),f=i+Math.max(r,a),l=i+r,h=l+n,b={[Dn]:"auto.resource.browser.metrics"};return f!==l&&(b["sentry.browser.measure_happened_before_request"]=!0,b["sentry.browser.measure_start_time"]=f),Hd(t,f,h,{name:e.name,op:e.entryType,attributes:b}),f}o(bat,"_addMeasureSpans");function xat(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{d9(t,e,n,r)}),d9(t,e,"secureConnection",r,"TLS/SSL"),d9(t,e,"fetch",r,"cache"),d9(t,e,"domainLookup",r,"DNS"),_at(t,e,r)}o(xat,"_addNavigationSpans");function d9(t,e,r,n,i=r){let s=vat(r),a=e[s],f=e[`${r}Start`];!f||!a||Hd(t,n+vi(f),n+vi(a),{op:`browser.${i}`,name:e.name,attributes:{[Dn]:"auto.ui.browser.metrics"}})}o(d9,"_addPerformanceNavigationTiming");function vat(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}o(vat,"_getEndPropertyNameForNavigationTiming");function _at(t,e,r){let n=r+vi(e.requestStart),i=r+vi(e.responseEnd),s=r+vi(e.responseStart);e.responseEnd&&(Hd(t,n,i,{op:"browser.request",name:e.name,attributes:{[Dn]:"auto.ui.browser.metrics"}}),Hd(t,s,i,{op:"browser.response",name:e.name,attributes:{[Dn]:"auto.ui.browser.metrics"}}))}o(_at,"_addRequest");function wat(t,e,r,n,i,s){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let a=iu(r),f={[Dn]:"auto.resource.browser.metrics"};lj(f,e,"transferSize","http.response_transfer_size"),lj(f,e,"encodedBodySize","http.response_content_length"),lj(f,e,"decodedBodySize","http.decoded_response_content_length");let l=e.deliveryType;l!=null&&(f["http.response_delivery_type"]=l);let h=e.renderBlockingStatus;h&&(f["resource.render_blocking_status"]=h),a.protocol&&(f["url.scheme"]=a.protocol.split(":").pop()),a.host&&(f["server.address"]=a.host),f["url.same_origin"]=r.includes(Ot.location.origin);let{name:b,version:y}=EE(e.nextHopProtocol);f["network.protocol.name"]=b,f["network.protocol.version"]=y;let E=s+n,I=E+i;Hd(t,E,I,{name:r.replace(Ot.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:f})}o(wat,"_addResourceSpans");function Sat(t){let e=Ot.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),u9(r.rtt)&&(Es["connection.rtt"]={value:r.rtt,unit:"millisecond"})),u9(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),u9(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}o(Sat,"_trackNavigator");function Eat(t){Ic&&(Ic.element&&t.setAttribute("lcp.element",sf(Ic.element)),Ic.id&&t.setAttribute("lcp.id",Ic.id),Ic.url&&t.setAttribute("lcp.url",Ic.url.trim().slice(0,200)),Ic.loadTime!=null&&t.setAttribute("lcp.loadTime",Ic.loadTime),Ic.renderTime!=null&&t.setAttribute("lcp.renderTime",Ic.renderTime),t.setAttribute("lcp.size",Ic.size)),AE&&AE.sources&&AE.sources.forEach((e,r)=>t.setAttribute(`cls.source.${r+1}`,sf(e.node)))}o(Eat,"_setWebVitalAttributes");function lj(t,e,r,n){let i=e[r];i!=null&&i<hat&&(t[n]=i)}o(lj,"setResourceEntrySizeData");function Aat(t){let e=fh(!1);if(!e)return;let{responseStart:r,requestStart:n}=e;n<=r&&(t["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}o(Aat,"_addTtfbRequestTimeToMeasurements");m();g();var Iat=1e3,TSe,yj,bj;function xj(t){let e="dom";pa(e,t),ma(e,Tat)}o(xj,"addClickKeypressInstrumentationHandler");function Tat(){if(!Ot.document)return;let t=bo.bind(null,"dom"),e=RSe(t,!0);Ot.document.addEventListener("click",e,!1),Ot.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=Ot[r],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(Mo(s,"addEventListener",function(a){return function(f,l,h){if(f==="click"||f=="keypress")try{let b=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},y=b[f]=b[f]||{refCount:0};if(!y.handler){let E=RSe(t);y.handler=E,a.call(this,f,E,h)}y.refCount++}catch{}return a.call(this,f,l,h)}}),Mo(s,"removeEventListener",function(a){return function(f,l,h){if(f==="click"||f=="keypress")try{let b=this.__sentry_instrumentation_handlers__||{},y=b[f];y&&(y.refCount--,y.refCount<=0&&(a.call(this,f,y.handler,h),y.handler=void 0,delete b[f]),Object.keys(b).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,f,l,h)}}))})}o(Tat,"instrumentDOM");function Rat(t){if(t.type!==yj)return!1;try{if(!t.target||t.target._sentryId!==bj)return!1}catch{}return!0}o(Rat,"isSimilarToLastCapturedEvent");function Oat(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}o(Oat,"shouldSkipDOMEvent");function RSe(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=Nat(r);if(Oat(r.type,n))return;io(r,"_sentryCaptured",!0),n&&!n._sentryId&&io(n,"_sentryId",Co());let i=r.type==="keypress"?"input":r.type;Rat(r)||(t({event:r,name:i,global:e}),yj=r.type,bj=n?n._sentryId:void 0),clearTimeout(TSe),TSe=Ot.setTimeout(()=>{bj=void 0,yj=void 0},Iat)}}o(RSe,"makeDOMEventHandler");function Nat(t){try{return t.target}catch{return null}}o(Nat,"getEventTarget");m();g();var h9;function sy(t){let e="history";pa(e,t),ma(e,Mat)}o(sy,"addHistoryInstrumentationHandler");function Mat(){if(!XV())return;let t=Ot.onpopstate;Ot.onpopstate=function(...r){let n=Ot.location.href,i=h9;if(h9=n,bo("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let s=h9,a=String(i);h9=a,bo("history",{from:s,to:a})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),Mo(Ot.history,"pushState",e),Mo(Ot.history,"replaceState",e)}o(Mat,"instrumentHistory");m();g();var p9={};function vj(t){let e=p9[t];if(e)return e;let r=Ot[t];if(gE(r))return p9[t]=r.bind(Ot);let n=Ot.document;if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let s=i.contentWindow;s&&s[t]&&(r=s[t]),n.head.removeChild(i)}catch(i){jv&&Je.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r&&(p9[t]=r.bind(Ot))}o(vj,"getNativeImplementation");function m9(t){p9[t]=void 0}o(m9,"clearCachedImplementation");m();g();var dh="__sentry_xhr_v3__";function IE(t){let e="xhr";pa(e,t),ma(e,Cat)}o(IE,"addXhrInstrumentationHandler");function Cat(){if(!Ot.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){let i=new Error,s=zi()*1e3,a=ja(n[0])?n[0].toUpperCase():void 0,f=kat(n[1]);if(!a||!f)return e.apply(r,n);r[dh]={method:a,url:f,request_headers:{}},a==="POST"&&f.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let l=o(()=>{let h=r[dh];if(h&&r.readyState===4){try{h.status_code=r.status}catch{}let b={endTimestamp:zi()*1e3,startTimestamp:s,xhr:r,virtualError:i};bo("xhr",b)}},"onreadystatechangeHandler");return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(h,b,y){return l(),h.apply(b,y)}}):r.addEventListener("readystatechange",l),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(h,b,y){let[E,I]=y,O=b[dh];return O&&ja(E)&&ja(I)&&(O.request_headers[E.toLowerCase()]=I),h.apply(b,y)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){let i=r[dh];if(!i)return e.apply(r,n);n[0]!==void 0&&(i.body=n[0]);let s={startTimestamp:zi()*1e3,xhr:r};return bo("xhr",s),e.apply(r,n)}})}o(Cat,"instrumentXHR");function kat(t){if(ja(t))return t;try{return t.toString()}catch{}}o(kat,"parseUrl");m();g();var _j=[],g9=new Map;function wj(){if(SE()&&xo){let e=Bat();return()=>{e()}}return()=>{}}o(wj,"startTrackingINP");var OSe={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Bat(){return uj(({metric:t})=>{if(t.value==null)return;let e=t.entries.find(O=>O.duration===t.value&&OSe[O.name]);if(!e)return;let{interactionId:r}=e,n=OSe[e.name],i=vi(xo+e.startTime),s=vi(t.value),a=On(),f=a?Rn(a):void 0,h=(r!=null?g9.get(r):void 0)||f,b=h?nr(h).description:wr().getScopeData().transactionName,y=sf(e.target),E=Ln({[Dn]:"auto.http.browser.inp",[Ka]:`ui.interaction.${n}`,[ny]:e.duration}),I=l9({name:y,transaction:b,attributes:E,startTime:i});I&&(I.addEvent("inp",{[Em]:"millisecond",[Am]:t.value}),I.end(i+s))})}o(Bat,"_trackINP");function Sj(t){let e=o(({entries:r})=>{let n=On(),i=n&&Rn(n);r.forEach(s=>{if(!ESe(s)||!i)return;let a=s.interactionId;if(a!=null&&!g9.has(a)){if(_j.length>10){let f=_j.shift();g9.delete(f)}_j.push(a),g9.set(a,i)}})},"handleEntries");lh("event",e),lh("first-input",e)}o(Sj,"registerInpInteractionListener");function NSe(t,e=vj("fetch")){let r=0,n=0;function i(s){let a=s.body.length;r+=a,n++;let f={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return m9("fetch"),wm("No fetch implementation available");try{return e(t.url,f).then(l=>(r-=a,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return m9("fetch"),r-=a,n--,wm(l)}}return o(i,"makeRequest"),W7(t,i)}o(NSe,"makeFetchTransport");m();g();var Pat=30;var Lat=50;function Ej(t,e,r,n){let i={filename:t,function:e==="<anonymous>"?Nd:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}o(Ej,"createFrame");var Dat=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Uat=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Hat=/\((\S*)(?::(\d+))(?::(\d+))\)/,Fat=o(t=>{let e=Dat.exec(t);if(e){let[,n,i,s]=e;return Ej(n,Nd,+i,+s)}let r=Uat.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){let a=Hat.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}let[i,s]=CSe(r[1]||Nd,r[2]);return Ej(s,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},"chromeStackParserFn"),qat=[Pat,Fat],Vat=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,jat=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Kat=o(t=>{let e=Vat.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let s=jat.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let n=e[3],i=e[1]||Nd;return[i,n]=CSe(i,n),Ej(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},"gecko"),zat=[Lat,Kat];var Gat=[qat,zat],MSe=l7(...Gat),CSe=o((t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:Nd,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},"extractSafariExtensionDetails");m();g();m();g();var y9=1024,$at="Breadcrumbs",Wat=o((t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:$at,setup(r){e.console&&VV(Zat(r)),e.dom&&xj(Xat(r,e.dom)),e.xhr&&IE(Jat(r)),e.fetch&&yE(Qat(r)),e.history&&sy(ect(r)),e.sentry&&r.on("beforeSendEvent",Yat(r))}}},"_breadcrumbsIntegration"),TE=Wat;function Yat(t){return o(function(r){rr()===t&&nu({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:ol(r)},{event:r})},"addSentryBreadcrumb")}o(Yat,"_getSentryBreadcrumbHandler");function Xat(t,e){return o(function(n){if(rr()!==t)return;let i,s,a=typeof e=="object"?e.serializeAttribute:void 0,f=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;f&&f>y9&&(Ss&&Je.warn(`\`dom.maxStringLength\` cannot exceed ${y9}, but a value of ${f} was configured. Sentry will use ${y9} instead.`),f=y9),typeof a=="string"&&(a=[a]);try{let h=n.event,b=tct(h)?h.target:h;i=sf(b,{keyAttrs:a,maxStringLength:f}),s=iE(b)}catch{i="<unknown>"}if(i.length===0)return;let l={category:`ui.${n.name}`,message:i};s&&(l.data={"ui.component_name":s}),nu(l,{event:n.event,name:n.name,global:n.global})},"_innerDomBreadcrumb")}o(Xat,"_getDomBreadcrumbHandler");function Zat(t){return o(function(r){if(rr()!==t)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:jV(r.level),message:g7(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${g7(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;nu(n,{input:r.args,level:r.level})},"_consoleBreadcrumb")}o(Zat,"_getConsoleBreadcrumbHandler");function Jat(t){return o(function(r){if(rr()!==t)return;let{startTimestamp:n,endTimestamp:i}=r,s=r.xhr[dh];if(!n||!i||!s)return;let{method:a,url:f,status_code:l,body:h}=s,b={method:a,url:f,status_code:l},y={xhr:r.xhr,input:h,startTimestamp:n,endTimestamp:i},E=e9(l);nu({category:"xhr",data:b,type:"http",level:E},y)},"_xhrBreadcrumb")}o(Jat,"_getXhrBreadcrumbHandler");function Qat(t){return o(function(r){if(rr()!==t)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let s=r.fetchData,a={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};nu({category:"fetch",data:s,level:"error",type:"http"},a)}else{let s=r.response,a={...r.fetchData,status_code:s&&s.status},f={input:r.args,response:s,startTimestamp:n,endTimestamp:i},l=e9(a.status_code);nu({category:"fetch",data:a,type:"http",level:l},f)}},"_fetchBreadcrumb")}o(Qat,"_getFetchBreadcrumbHandler");function ect(t){return o(function(r){if(rr()!==t)return;let n=r.from,i=r.to,s=iu(Gt.location.href),a=n?iu(n):void 0,f=iu(i);(!a||!a.path)&&(a=s),s.protocol===f.protocol&&s.host===f.host&&(i=f.relative),s.protocol===a.protocol&&s.host===a.host&&(n=a.relative),nu({category:"navigation",data:{from:n,to:i}})},"_historyBreadcrumb")}o(ect,"_getHistoryBreadcrumbHandler");function tct(t){return!!t&&!!t.target}o(tct,"_isEvent");m();g();var rct=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],nct="BrowserApiErrors",ict=o((t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:nct,setupOnce(){e.setTimeout&&Mo(Gt,"setTimeout",kSe),e.setInterval&&Mo(Gt,"setInterval",kSe),e.requestAnimationFrame&&Mo(Gt,"requestAnimationFrame",oct),e.XMLHttpRequest&&"XMLHttpRequest"in Gt&&Mo(XMLHttpRequest.prototype,"send",sct);let r=e.eventTarget;r&&(Array.isArray(r)?r:rct).forEach(act)}}},"_browserApiErrorsIntegration"),BSe=ict;function kSe(t){return function(...e){let r=e[0];return e[0]=oy(r,{mechanism:{data:{function:_c(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}o(kSe,"_wrapTimeFunction");function oct(t){return function(e){return t.apply(this,[oy(e,{mechanism:{data:{function:"requestAnimationFrame",handler:_c(t)},handled:!1,type:"instrument"}})])}}o(oct,"_wrapRAF");function sct(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&Mo(r,i,function(s){let a={mechanism:{data:{function:i,handler:_c(s)},handled:!1,type:"instrument"}},f=ty(s);return f&&(a.mechanism.data.handler=_c(f)),oy(s,a)})}),t.apply(this,e)}}o(sct,"_wrapXHR");function act(t){let r=Gt[t],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Mo(n,"addEventListener",function(i){return function(s,a,f){try{cct(a)&&(a.handleEvent=oy(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:_c(a),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,oy(a,{mechanism:{data:{function:"addEventListener",handler:_c(a),target:t},handled:!1,type:"instrument"}}),f])}}),Mo(n,"removeEventListener",function(i){return function(s,a,f){try{let l=a.__sentry_wrapped__;l&&i.call(this,s,l,f)}catch{}return i.call(this,s,a,f)}}))}o(act,"_wrapEventTarget");function cct(t){return typeof t.handleEvent=="function"}o(cct,"isEventListenerObject");m();g();var PSe=()=>({name:"BrowserSession",setupOnce(){if(typeof Gt.document>"u"){Ss&&Je.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}lE({ignoreDuration:!0}),dE(),sy(({from:t,to:e})=>{t!==void 0&&t!==e&&(lE({ignoreDuration:!0}),dE())})}});m();g();var fct="GlobalHandlers",uct=o((t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:fct,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(lct(r),LSe("onerror")),e.onunhandledrejection&&(dct(r),LSe("onunhandledrejection"))}}},"_globalHandlersIntegration"),DSe=uct;function lct(t){eE(e=>{let{stackParser:r,attachStacktrace:n}=USe();if(rr()!==t||JV())return;let{msg:i,url:s,line:a,column:f,error:l}=e,h=mct(i9(r,l||i,void 0,n,!1),s,a,f);h.level="error",uE(h,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}o(lct,"_installGlobalOnErrorHandler");function dct(t){tE(e=>{let{stackParser:r,attachStacktrace:n}=USe();if(rr()!==t||JV())return;let i=hct(e),s=Q1(i)?pct(i):i9(r,i,void 0,n,!0);s.level="error",uE(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}o(dct,"_installGlobalOnUnhandledRejectionHandler");function hct(t){if(Q1(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}o(hct,"_getUnhandledRejectionError");function pct(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}o(pct,"_eventFromRejectionWithPrimitive");function mct(t,e,r,n){let i=t.exception=t.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},f=a.stacktrace=a.stacktrace||{},l=f.frames=f.frames||[],h=n,b=r,y=ja(e)&&e.length>0?e:oV();return l.length===0&&l.push({colno:h,filename:y,function:Nd,in_app:!0,lineno:b}),t}o(mct,"_enhanceEventWithInitialFrame");function LSe(t){Ss&&Je.log(`Global Handler attached: ${t}`)}o(LSe,"globalHandlerLog");function USe(){let t=rr();return t&&t.getOptions()||{stackParser:o(()=>[],"stackParser"),attachStacktrace:!1}}o(USe,"getOptions");m();g();var HSe=()=>({name:"HttpContext",preprocessEvent(t){if(!Gt.navigator&&!Gt.location&&!Gt.document)return;let e=t.request&&t.request.url||Gt.location&&Gt.location.href,{referrer:r}=Gt.document||{},{userAgent:n}=Gt.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},s={...t.request,...e&&{url:e},headers:i};t.request=s}});m();g();var gct="cause",yct=5,bct="LinkedErrors",xct=o((t={})=>{let e=t.limit||yct,r=t.key||gct;return{name:bct,preprocessEvent(n,i,s){let a=s.getOptions();qV(n9,a.stackParser,a.maxValueLength,r,e,n,i)}}},"_linkedErrorsIntegration"),FSe=xct;function qSe(t){let e=[Z7(),Y7(),BSe(),TE(),DSe(),FSe(),J7(),HSe()];return t.autoSessionTracking!==!1&&e.push(PSe()),e}o(qSe,"getDefaultIntegrations");function vct(t={}){let e={defaultIntegrations:qSe(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Gt.SENTRY_RELEASE&&Gt.SENTRY_RELEASE.id?Gt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}o(vct,"applyDefaultOptions");function _ct(){let t=typeof Gt.window<"u"&&Gt;if(!t)return!1;let e=t.chrome?"chrome":"browser",r=t[e],n=r&&r.runtime&&r.runtime.id,i=Gt.location&&Gt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],a=!!n&&Gt===Gt.top&&s.some(l=>i.startsWith(`${l}//`)),f=typeof t.nw<"u";return!!n&&!a&&!f}o(_ct,"shouldShowBrowserExtensionError");function Aj(t={}){let e=vct(t);if(!e.skipBrowserExtensionCheck&&_ct()){vc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Ss&&(t9()||Je.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let r={...e,stackParser:Jq(e.stackParser||MSe),integrations:PV(e),transport:e.transport||NSe};return UV(o9,r)}o(Aj,"init");m();g();var VSe=new WeakMap,Ij=new Map,RE={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function KSe(t,e){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:a,tracePropagationTargets:f}={traceFetch:RE.traceFetch,traceXHR:RE.traceXHR,trackFetchStreamPerformance:RE.trackFetchStreamPerformance,...e},l=typeof s=="function"?s:y=>!0,h=o(y=>Ect(y,f),"shouldAttachHeadersWithTargets"),b={};r&&(t.addEventProcessor(y=>(y.type==="transaction"&&y.spans&&y.spans.forEach(E=>{if(E.op==="http.client"){let I=Ij.get(E.span_id);I&&(E.timestamp=I/1e3,Ij.delete(E.span_id))}}),y)),i&&WV(y=>{if(y.response){let E=VSe.get(y.response);E&&y.endTimestamp&&Ij.set(E,y.endTimestamp)}}),yE(y=>{let E=KV(y,l,h,b);if(y.response&&y.fetchData.__span&&VSe.set(y.response,y.fetchData.__span),E){let I=zSe(y.fetchData.url),O=I?iu(I).host:void 0;E.setAttributes({"http.url":I,"server.address":O})}a&&E&&jSe(E)})),n&&IE(y=>{let E=Act(y,l,h,b);a&&E&&jSe(E)})}o(KSe,"instrumentOutgoingRequests");function wct(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}o(wct,"isPerformanceResourceTiming");function jSe(t){let{url:e}=nr(t).data||{};if(!e||typeof e!="string")return;let r=lh("resource",({entries:n})=>{n.forEach(i=>{wct(i)&&i.name.endsWith(e)&&(Sct(i).forEach(a=>t.setAttribute(...a)),setTimeout(r))})})}o(jSe,"addHTTPTimings");function Fd(t=0){return((xo||performance.timeOrigin)+t)/1e3}o(Fd,"getAbsoluteTime");function Sct(t){let{name:e,version:r}=EE(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),xo?[...n,["http.request.redirect_start",Fd(t.redirectStart)],["http.request.fetch_start",Fd(t.fetchStart)],["http.request.domain_lookup_start",Fd(t.domainLookupStart)],["http.request.domain_lookup_end",Fd(t.domainLookupEnd)],["http.request.connect_start",Fd(t.connectStart)],["http.request.secure_connection_start",Fd(t.secureConnectionStart)],["http.request.connection_end",Fd(t.connectEnd)],["http.request.request_start",Fd(t.requestStart)],["http.request.response_start",Fd(t.responseStart)],["http.request.response_end",Fd(t.responseEnd)]]:n}o(Sct,"resourceTimingEntryToSpanData");function Ect(t,e){let r=Gt.location&&Gt.location.href;if(r){let n,i;try{n=new URL(t,r),i=new URL(r).origin}catch{return!1}let s=n.origin===i;return e?Cd(n.toString(),e)||s&&Cd(n.pathname,e):s}else{let n=!!t.match(/^\/(?!\/)/);return e?Cd(t,e):n}}o(Ect,"shouldAttachHeaders");function Act(t,e,r,n){let i=t.xhr,s=i&&i[dh];if(!i||i.__sentry_own_request__||!s)return;let a=za()&&e(s.url);if(t.endTimestamp&&a){let y=i.__sentry_xhr_span_id__;if(!y)return;let E=n[y];E&&s.status_code!==void 0&&(Dv(E,s.status_code),E.end(),delete n[y]);return}let f=zSe(s.url),l=f?iu(f).host:void 0,h=!!On(),b=a&&h?ff({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":f,url:s.url,"server.address":l,[Dn]:"auto.http.browser",[Ka]:"http.client"}}):new Ec;return i.__sentry_xhr_span_id__=b.spanContext().spanId,n[i.__sentry_xhr_span_id__]=b,r(s.url)&&Ict(i,za()&&h?b:void 0),b}o(Act,"xhrCallback");function Ict(t,e){let{"sentry-trace":r,baggage:n}=mE({span:e});r&&Tct(t,r,n)}o(Ict,"addTracingHeadersToXhrRequest");function Tct(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader("baggage",r)}catch{}}o(Tct,"setHeaderOnXhr");function zSe(t){try{return new URL(t,Gt.location.origin).href}catch{return}}o(zSe,"getFullURL");m();g();m();g();function GSe(){Gt&&Gt.document?Gt.document.addEventListener("visibilitychange",()=>{let t=On();if(!t)return;let e=Rn(t);if(Gt.document.hidden&&e){let r="cancelled",{op:n,status:i}=nr(e);Ss&&Je.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),i||e.setStatus({code:2,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):Ss&&Je.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(GSe,"registerBackgroundTabDetection");var Rct="BrowserTracing",Oct={...qv,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...RE},Tj=o((t={})=>{O7();let{enableInp:e,enableLongTask:r,enableLongAnimationFrame:n,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:a,idleTimeout:f,finalTimeout:l,childSpanTimeout:h,markBackgroundSpan:b,traceFetch:y,traceXHR:E,trackFetchStreamPerformance:I,shouldCreateSpanForRequest:O,enableHTTPTimings:N,instrumentPageLoad:k,instrumentNavigation:C}={...Oct,...t},L=dj({recordClsStandaloneSpans:s||!1});e&&wj(),n&&Jt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?pj():r&&hj(),i&&mj();let M={name:void 0,source:void 0};function U(q,j){let re=j.op==="pageload",Y=a?a(j):j,X=Y.attributes||{};j.name!==Y.name&&(X[ga]="custom",Y.attributes=X),M.name=Y.name,M.source=X[ga];let S=U7(Y,{idleTimeout:f,finalTimeout:l,childSpanTimeout:h,disableAutoFinish:re,beforeSpanEnd:o(d=>{L(),gj(d,{recordClsOnPageloadSpan:!s})},"beforeSpanEnd")});function c(){["interactive","complete"].includes(Gt.document.readyState)&&q.emit("idleSpanEnableAutoFinish",S)}return o(c,"emitFinish"),re&&Gt.document&&(Gt.document.addEventListener("readystatechange",()=>{c()}),c()),S}return o(U,"_createRouteSpan"),{name:Rct,afterAllSetup(q){let j,re=Gt.location&&Gt.location.href;function Y(){j&&!nr(j).timestamp&&(Ss&&Je.log(`[Tracing] Finishing current active span with op: ${nr(j).op}`),j.end())}o(Y,"maybeEndActiveSpan"),q.on("startNavigationSpan",X=>{rr()===q&&(Y(),j=U(q,{op:"navigation",...X}))}),q.on("startPageLoadSpan",(X,S={})=>{if(rr()!==q)return;Y();let c=S.sentryTrace||$Se("sentry-trace"),d=S.baggage||$Se("baggage"),p=gV(c,d);wr().setPropagationContext(p),j=U(q,{op:"pageload",...X})}),q.on("spanEnd",X=>{let S=nr(X).op;if(X!==Rn(X)||S!=="navigation"&&S!=="pageload")return;let c=wr(),d=c.getPropagationContext();c.setPropagationContext({...d,sampled:d.sampled!==void 0?d.sampled:tu(X),dsc:d.dsc||cf(X)})}),Gt.location&&(k&&WSe(q,{name:Gt.location.pathname,startTime:xo?xo/1e3:void 0,attributes:{[ga]:"url",[Dn]:"auto.pageload.browser"}}),C&&sy(({to:X,from:S})=>{if(S===void 0&&re&&re.indexOf(X)!==-1){re=void 0;return}S!==X&&(re=void 0,YSe(q,{name:Gt.location.pathname,attributes:{[ga]:"url",[Dn]:"auto.navigation.browser"}}))})),b&&GSe(),i&&Nct(f,l,h,M),e&&Sj(),KSe(q,{traceFetch:y,traceXHR:E,trackFetchStreamPerformance:I,tracePropagationTargets:q.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:O,enableHTTPTimings:N})}}},"browserTracingIntegration");function WSe(t,e,r){t.emit("startPageLoadSpan",e,r),wr().setTransactionName(e.name);let n=On();return(n&&nr(n).op)==="pageload"?n:void 0}o(WSe,"startBrowserTracingPageLoadSpan");function YSe(t,e){ko().setPropagationContext({traceId:wc()}),wr().setPropagationContext({traceId:wc()}),t.emit("startNavigationSpan",e),wr().setTransactionName(e.name);let r=On();return(r&&nr(r).op)==="navigation"?r:void 0}o(YSe,"startBrowserTracingNavigationSpan");function $Se(t){let e=sV(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}o($Se,"getMetaContent");function Nct(t,e,r,n){let i,s=o(()=>{let a="ui.action.click",f=On(),l=f&&Rn(f);if(l){let h=nr(l).op;if(["navigation","pageload"].includes(h)){Ss&&Je.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(Lv,"interactionInterrupted"),i.end(),i=void 0),!n.name){Ss&&Je.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}i=U7({name:n.name,op:a,attributes:{[ga]:n.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:r})},"registerInteractionTransaction");Gt.document&&addEventListener("click",s,{once:!1,capture:!0})}o(Nct,"registerInteractionListener");m();g();var XSe=Ze(so(),1);function Rj(t){let e={...t};return pE(e,"react"),K7("react",{version:XSe.version}),Aj(e)}o(Rj,"init");m();g();var Oj={op:"function"};var Cct=["The server encountered a temporary error","premature close","The browser is shutting down."],kct=["/_generated_background_page.html","/background/serviceWorker.js","/service-worker-loader.js"],Bct=["Breadcrumbs","GlobalHandlers","TryCatch","HttpContext"],ZSe=!1,JSe={init:o(async(t,{appVersion:e,sentry:r})=>{r.enabled&&Rj({sampleRate:t.mode==="debug"?1:r.sampleRate,tracesSampler:o(n=>{let i=n.transactionContext.name;return kct.includes(i)?0:t.mode==="debug"?1:r.tracesSampleRate||!1},"tracesSampler"),beforeSend:o(async(n,i)=>{let s=i?.originalException;for(let a of Cct)if(s instanceof Error&&s.message===a||typeof s=="string"&&s===a)return null;if(s&&!ZSe){let f=`${new Date().toISOString()}-logs.txt`,l=await YS.getRecentLogs();i.attachments=[{filename:f,data:l}],ZSe=!0}return n},"beforeSend"),dsn:r.dsn,release:e,environment:t.env,initialScope:r.initialScope,beforeBreadcrumb:o((n,i)=>(n.category==="fetch"||n.category==="xhr")&&!(n.data?.url?new URL(n.data.url):void 0)?.origin.endsWith("phantom.app")?null:n,"beforeBreadcrumb"),integrations:o(function(n){return n.filter(function(s){return!Bct.includes(s.name)}).concat([TE({dom:!1,history:!1,console:!1}),Tj({traceFetch:!1,traceXHR:!1,enableInp:!0})])},"integrations")})},"init"),captureError:o((t,e)=>{Vv(t,{tags:{feature:e,team:Tv(e)}})},"captureError"),captureMessage:o((t,e,r=Rt.Info)=>{j7(t,{tags:{feature:e,team:Tv(e)},level:r})},"captureMessage"),addBreadcrumb:o((t,e,r,n)=>{nu({category:t,message:e,level:r,data:n})},"addBreadcrumb"),setUser:o(async t=>{G7(t)},"setUser"),setTags:o(async t=>{z7(t)},"setTags"),startSpan:o((t,e)=>{let r=D7({...Oj,name:t},e);return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(t=>{let e=ff({...Oj,name:t});return e?Promise.resolve(e):void 0},"startInactiveSpan"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),trackFeatureFlag:o((t,e)=>{},"trackFeatureFlag")};m();g();m();g();m();g();function QSe(){return Xa()}o(QSe,"isLocalRun");var Pct=we.enum(["disabled","console","standard","debug"]);function eEe(){let t=R.TELEMETRY_ENV,e=Pct.optional().parse(R.TELEMETRY_MODE),r=QSe(),n=e??(r?"console":"standard");if(r){if((t==="production"||t==="staging")&&(n==="standard"||n==="debug"))throw new Error("[TelemetryConfig] Cannot submit to production/staging from local dev")}else if(!t&&n!=="disabled"&&n!=="console")throw new Error("[TelemetryConfig] Missing TELEMETRY_ENV env var in production build");let i=t||"dev";switch(n){case"disabled":return{mode:"disabled",shouldLogToConsole:!1,isSubmitEnabled:!1,description:"Telemetry is completely disabled"};case"console":return{mode:"console",shouldLogToConsole:!0,isSubmitEnabled:!1,description:"Telemetry logs to console only (no remote submission)"};case"standard":return{mode:"standard",env:i,shouldLogToConsole:!1,isSubmitEnabled:!0,description:`Telemetry submits to ${i} with app-specific settings`};case"debug":return{mode:"debug",env:i,shouldLogToConsole:!0,isSubmitEnabled:!0,description:`High-frequency telemetry for testing (console + ${i})`}}}o(eEe,"createTelemetryConfig");m();g();var aEe=Ze(sEe(),1),cEe=Ze(pRe(),1);var b9="[Telemetry Development Log]",x9={[Rt.Debug]:console.log,[Rt.Info]:console.warn,[Rt.Error]:console.error,[Rt.Fatal]:console.error};function jct(t){return typeof t=="object"&&t!==null&&"toString"in t&&typeof t.toString=="function"}o(jct,"hasToString");function Kct(t){return Object.entries(t).reduce((e,[r,n])=>(typeof n>"u"||((0,cEe.default)(n)||(0,aEe.default)(n)||typeof n=="string"||typeof n=="boolean"||n===null?e[r]=n:jct(n)&&(e[r]=n.toString())),e),{})}o(Kct,"safeBreadcrumbData");function zv(t,e,{featureTag:r,value:n,severity:i,data:s}){let a={value:n,data:s};for(let f of t){let l=f[e];if(l){let h=l(a.value,{featureTag:r,severity:i,data:a.data});a.value=h.value,h.data&&(a.data=h.data)}}return a}o(zv,"runMiddleware");function fEe(t,e){let r,n=JS;async function i(k){if(!r){if(r=eEe(),n=r.isSubmitEnabled?t.provider:JS,Xa()){let C=r.isSubmitEnabled?`, env=${r.env}`:"";console.info(`[Telemetry#init] (mode=${r.mode}${C}) ${r.description}`)}r.isSubmitEnabled&&await n.init(r,k)}}o(i,"init");function s(){return r}o(s,"getConfig");function a(k,C){if(r)try{let L=zv(e,"beforeEvent",{value:k,featureTag:C,severity:Rt.Error});r.shouldLogToConsole&&x9[Rt.Error](b9,L.value,L.data),L.value instanceof Error?n.captureError(L.value,C):n.captureError(new Error(L.value),C),zv(e,"afterEvent",{value:L.value,featureTag:C,severity:Rt.Error})}catch(L){Xa()&&console.warn(L)}}o(a,"captureError");function f(k,C,L=Rt.Info){if(r)try{let M=zv(e,"beforeEvent",{value:k,featureTag:C,severity:L});r.shouldLogToConsole&&x9[L](b9,M.value),n.captureMessage(M.value instanceof Error?M.value.message:M.value,C,L),zv(e,"afterEvent",{value:M.value,featureTag:C,severity:L})}catch(M){Xa()&&console.warn(M)}}o(f,"captureMessage");function l(k,C,L,M){if(r)try{let U=zv(e,"beforeEvent",{featureTag:k,value:C,severity:L,data:M});r.shouldLogToConsole&&x9[L](...[b9,U.value,U.data].filter(Boolean)),n.addBreadcrumb(k,U.value instanceof Error?U.value.message:U.value,L,U.data),zv(e,"afterEvent",{featureTag:k,value:U.value,severity:L,data:U.data})}catch(U){Xa()&&console.warn(U)}}o(l,"addBreadcrumb");async function h(k){r&&await n.setUser(k)}o(h,"setUser");async function b(k){r&&await n.setTags(k)}o(b,"setTags");function y(k,C){return r?n.startSpan(k,C):Promise.resolve(C())}o(y,"startSpan");function E(k,C){return r?()=>n.startSpan(k,C):()=>Promise.resolve(C())}o(E,"startSpanCallback");function I(k){if(r)return n.startInactiveSpan(k)}o(I,"startInactiveSpan");async function O(k,C,L){r&&await t.provider.captureMetric(k,C,L)}o(O,"captureMetric");function N(k,C){r&&n.trackFeatureFlag(k,C)}return o(N,"trackFeatureFlag"),{init:i,getConfig:s,captureError:a,captureMessage:f,addBreadcrumb:l,setUser:h,setTags:b,startSpan:y,startSpanCallback:E,startInactiveSpan:I,captureMetric:O,trackFeatureFlag:N}}o(fEe,"createTelemetry");var zct=[o7,C_e],Gct=R_e(YS),$ct=[...zct,Gct],dr=fEe({provider:k_e(JSe,T_e)},$ct);m();g();m();g();m();g();function uEe(t){let e={...t};if(typeof e.response=="string")try{e.response=JSON.parse(e.response)}catch{}return JSON.stringify(e,null,2)}o(uEe,"formatNetworkRequestInfo");m();g();var Wct="Logger not initialized",Yct="Method not supported on this platform",lEe=["publicKey"];var w9=o(t=>{let{obj:e,depth:r=0,maxDepth:n=20,quoteStrings:i=!0}=t;if(r>=n)return"... (max-depth reached)";let s=dEe(e);switch(s){case"Object":return Xct(t);case"Array":return Zct(t);case"function":return Jct(t);case"RegExp":return"/"+e.source+"/"+e.flags;case"Date":case"string":return i?`"${e}"`:e+"";case"boolean":return e?"true":"false";case"number":return e+"";case"null":case"undefined":return s;default:return"?"}},"stringify"),Xct=o(t=>{let{obj:e,indent:r,...n}=t,i="{",s=t.depth;if(Nj(e)>0){i+=`
`,s++;let a=0;for(let f in e){i+=_9(s,r),i+=f+": ";let l=w9({...n,obj:e[f],depth:s,indent:r});l&&(i+=l),a<Nj(e)-1&&(i+=","),i+=`
`,a++}s--,i+=_9(s,r)}return i+="}",i},"stringifyObject"),Zct=o(t=>{let{obj:e,indent:r,...n}=t,i="[",s=t.depth,a=!1;if(e.length>0){s++;for(let f=0;f<e.length;f++){let l=dEe(e[f]),h=!1;l==="Object"&&Nj(e[f])>0&&(h=!0),l==="Array"&&e[f].length>0&&(h=!0),!a&&h&&(i+=`
`);let b=w9({...n,obj:e[f],depth:s,indent:r});b&&(h&&(i+=_9(s,r)),i+=b,f<e.length-1&&(i+=", "),h&&(i+=`
`)),a=h}s--}return i+="]",i},"stringifyArray"),Jct=o(t=>{let{obj:e,depth:r,indent:n}=t,i=r;return String(e).split(`
`).map(s=>{s.match(/\}/)&&i--;let a=_9(i,n)+s.trim();return s.match(/\{/)&&i++,a}).join(`
`)},"stringifyFunction"),dEe=o(t=>{if(t===null)return"null";if(t===void 0)return"undefined";{let e=typeof t;return e==="object"&&(Array.isArray(t)?e="Array":t instanceof Date?e="Date":t instanceof RegExp?e="RegExp":e="Object"),e}},"determineType"),_9=o((t,e)=>e.repeat(Math.max(t,0)),"indentsForDepth"),Nj=o(t=>{let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e},"objectSize"),Qct=`======================================================
Application State
======================================================

`,eft=`======================================================
Network Logs
======================================================

`,tft=`======================================================
Application Logs
======================================================

`,v9=`------------------------------------------------
`,rft=["authorization","x-phantomauthtoken","x-phantomnonce"],nft=o((t,e=[])=>{let r=Qct;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r+=`${v9}`,r+=`${n}
${v9}
`,r+=w9({obj:t[n],depth:0,maxDepth:20,indent:"  ",quoteStrings:!0}),r+=`

`);if(e.length>0){r+=eft;for(let n of e){if(n.requestHeaders)for(let i of rft)delete n.requestHeaders[i.toLowerCase()];r+=`${v9}`,r+=`${n.id}
${v9}
`,r+=uEe(n),r+=`

`}}return r+=tft,r},"formatAppState"),ift=o(t=>t.replaceAll(/seed/gim,"root").replaceAll(/privateKey/gim,"leaf").replaceAll(/private-key/gim,"leaf").replaceAll(/private key/gim,"leaf").replaceAll(/mnemonic/gim,"stem"),"removeKeywordsFromLogs"),oft=o(t=>t?JSON.parse(JSON.stringify(t,(e,r)=>lEe.includes(e)?void 0:r)):null,"removeKeysFromLogs");m();g();var sft=we.object({maxRequests:we.number(),ignoredUrls:we.array(we.string()),ignoredHosts:we.array(we.string())});m();g();var Mj=$1(null);function hEe(){let t=bm(Mj);if(!t)throw new Error("useStorage must be used within a ContextProvider with StorageContext set");return t}o(hEe,"useStorage");m();g();var pEe=$1(null);function Cj(){let t=bm(pEe),e=bm(Mj);if(!e)throw new Error("useSyncedStorage must be used within a ContextProvider with StorageContext set");return t||e}o(Cj,"useSyncedStorage");m();g();var Mi;(function(t){t.AuthEnabled="authEnabled",t.BalanceHiddenStatus="balanceHiddenStatus",t.BuyFormValues="buyFormValues",t.CachedBlocklistDiff="cachedBlocklistDiff",t.CachedBloomFilter="cachedBloomFilter",t.CachedBloomFilterHash="cachedBloomFilterHash",t.CachedScanDataCursor="cachedScanDataCursor",t.CachedScanDataRecents="cachedScanDataRecents",t.CustomGasControls="customGasControls",t.DappBrowserBookmarks="dAppBrowserBookmarks",t.DeviceId="deviceId",t.DevicePerformanceInfo="devicePerformanceInfo",t.ExploreFilters="exploreFilters",t.LatestCleanedStorageVersion="latestCleanedStorageVersion",t.LockTimerMs="lockTimerMs",t.MaxWalletIndex="maxWalletIndex",t.MinedTransactionsForAnalytics="minedTransactionsForAnalytics",t.OnboardingDone="onboardingDone",t.OwnerToClusterToLamportBalance="ownerToClusterToLamportBalance",t.OwnerToHiddenMints="ownerToHiddenMints",t.PendingTransactions="pendingTransactions",t.PriceMap="priceMap",t.RecentlyViewedSearchItems="RecentlyViewedSearchItems",t.SeedlessPinVerificationLockTimerInMs="seedlessPinVerificationLockTimerInMs",t.SeedlessDeviceID="seedlessDeviceID",t.SettingReduceMotion="settingReduceMotion",t.SettingMotionLevel="settingMotionLevel",t.UserExplorerPreferenceV2="userExplorerPreferenceV2",t.UserIdCache="userIdCache",t.UserPropsCache="userPropsCache",t.UserRecentAddresses="userRecentAddresses",t.UserSavedAddresses="userSavedAddresses",t.UserTrustedApps="userTrustedApps",t.UserWhitelistSubdomains="userWhitelistedSubdomains",t.UserWhitelistedOrigins="userWhitelistedOrigins",t.RudderstackIdentifyData="rudderstackIdentifyData",t.Cluster="cluster",t.EncryptedMnemonic="encryptedMnemonic",t.EncryptedSeedAndMnemonic="encryptedSeedAndMnemonic",t.MainnetRpcUrl="mainnetRpcEndpoint",t.SwapQuoteFromAsset="swapQuoteFromAsset",t.SwapQuoteSlippage="swapQuoteSlippage",t.SwapQuoteToAsset="swapQuoteToAsset",t.TokenList="tokenList",t.TrustedApplicationsByOwnerBrowser="trustedApplicationsByOwner",t.TrustedApplicationsByOwnerBrowserV2="trustedApplicationsByOwnerBrowser",t.TrustedApplicationsByOwnerMobile="trustedApplicationsByOwnerMobile",t.UnencryptedSeedAndMnemonic="unencryptedSeedAndMnemonic",t.UserExplorerPreference="userExplorerPreference"})(Mi||(Mi={}));var kj;(function(t){t.DeleteStorageValue="deleteStorageValue",t.LockExtension="lockExtension"})(kj||(kj={}));var aft={recipientError:void 0,amountError:void 0};m();g();m();g();m();g();m();g();var mEe="REACT_QUERY_OFFLINE_CACHE";function OE(t,e,...r){t&&console.log(e,...r)}o(OE,"debugLog");var cft=o(({underlyingStorage:t,throttleMs:e,cacheKey:r=mEe,maxCacheSizeBytes:n=5242880,enableDebugLogs:i=!1})=>{let s=null,a=o(async()=>{if(s)try{let f=JSON.stringify(s),l=f.length;l<n?await t.set(r,f):(await t.remove(r),OE(i,"[React Query Offline Cache] Removed offline cache. Size:",l,"bytes")),s=null}catch{}},"persistCache");return setInterval(()=>{a()},e),{persistClient:o(f=>{s=f},"persistClient"),restoreClient:o(async()=>{try{let f=await t.get(r);if(!f){OE(i,"[React Query Offline Cache] No offline cache restored.");return}let l=JSON.parse(f),h=f.length;return OE(i,"[React Query Offline Cache] Restored RQ offline cache. Size:",h,"bytes"),l}catch{OE(i,"[React Query Offline Cache] Error restoring offline cache.");return}},"restoreClient"),removeClient:o(()=>(OE(i,"[React Query Offline Cache] Removed offline cache."),t.remove(r)),"removeClient")}},"createReactQueryCache");m();g();m();g();m();g();m();g();var Tc=class{static{o(this,"Subscribable")}constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};m();g();m();g();var fft={setTimeout:o((t,e)=>setTimeout(t,e),"setTimeout"),clearTimeout:o(t=>clearTimeout(t),"clearTimeout"),setInterval:o((t,e)=>setInterval(t,e),"setInterval"),clearInterval:o(t=>clearInterval(t),"clearInterval")},uft=class{static{o(this,"TimeoutManager")}#t=fft;#e=!1;setTimeoutProvider(t){R.NODE_ENV!=="production"&&this.#e&&t!==this.#t&&console.error("[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.",{previous:this.#t,provider:t}),this.#t=t,R.NODE_ENV!=="production"&&(this.#e=!1)}setTimeout(t,e){return R.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return R.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},qd=new uft;function gEe(t){setTimeout(t,0)}o(gEe,"systemSetTimeoutZero");var Rc=typeof self>"u"||"Deno"in globalThis;function Fn(){}o(Fn,"noop");function xEe(t,e){return typeof t=="function"?t(e):t}o(xEe,"functionalUpdate");function NE(t){return typeof t=="number"&&t>=0&&t!==1/0}o(NE,"isValidTimeout");function S9(t,e){return Math.max(t+(e||0)-Date.now(),0)}o(S9,"timeUntilStale");function fl(t,e){return typeof t=="function"?t(e):t}o(fl,"resolveStaleTime");function Oc(t,e){return typeof t=="function"?t(e):t}o(Oc,"resolveEnabled");function E9(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:f}=t;if(a){if(n){if(e.queryHash!==ME(a,e.options))return!1}else if(!ay(e.queryKey,a))return!1}if(r!=="all"){let l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||i&&i!==e.state.fetchStatus||s&&!s(e))}o(E9,"matchQuery");function A9(t,e){let{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Vd(e.options.mutationKey)!==Vd(s))return!1}else if(!ay(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}o(A9,"matchMutation");function ME(t,e){return(e?.queryKeyHashFn||Vd)(t)}o(ME,"hashQueryKeyByOptions");function Vd(t){return JSON.stringify(t,(e,r)=>Bj(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}o(Vd,"hashKey");function ay(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ay(t[r],e[r])):!1}o(ay,"partialMatchKey");var lft=Object.prototype.hasOwnProperty;function Gv(t,e){if(t===e)return t;let r=yEe(t)&&yEe(e);if(!r&&!(Bj(t)&&Bj(e)))return e;let i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,f=r?new Array(a):{},l=0;for(let h=0;h<a;h++){let b=r?h:s[h],y=t[b],E=e[b];if(y===E){f[b]=y,(r?h<i:lft.call(t,b))&&l++;continue}if(y===null||E===null||typeof y!="object"||typeof E!="object"){f[b]=E;continue}let I=Gv(y,E);f[b]=I,I===y&&l++}return i===a&&l===i?t:f}o(Gv,"replaceEqualDeep");function Mm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}o(Mm,"shallowEqualObjects");function yEe(t){return Array.isArray(t)&&t.length===Object.keys(t).length}o(yEe,"isPlainArray");function Bj(t){if(!bEe(t))return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(!bEe(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}o(Bj,"isPlainObject");function bEe(t){return Object.prototype.toString.call(t)==="[object Object]"}o(bEe,"hasObjectPrototype");function vEe(t){return new Promise(e=>{qd.setTimeout(e,t)})}o(vEe,"sleep");function CE(t,e,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(t,e);if(r.structuralSharing!==!1){if(R.NODE_ENV!=="production")try{return Gv(t,e)}catch(n){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`),n}return Gv(t,e)}return e}o(CE,"replaceData");function _Ee(t){return t}o(_Ee,"keepPreviousData");function wEe(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}o(wEe,"addToEnd");function SEe(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}o(SEe,"addToStart");var Nm=Symbol();function I9(t,e){return R.NODE_ENV!=="production"&&t.queryFn===Nm&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Nm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}o(I9,"ensureQueryFn");function kE(t,e){return typeof t=="function"?t(...e):!!t}o(kE,"shouldThrowError");var dft=class extends Tc{static{o(this,"FocusManager")}#t;#e;#r;constructor(){super(),this.#r=t=>{if(!Rc&&self.addEventListener){let e=o(()=>t(),"listener");return self.addEventListener("visibilitychange",e,!1),()=>{self.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},$v=new dft;m();g();m();g();function BE(){let t,e,r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return o(n,"finalize"),r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}o(BE,"pendingThenable");function EEe(t){let e;if(t.then(r=>(e=r,r),Fn)?.catch(Fn),e!==void 0)return{data:e}}o(EEe,"tryResolveSync");function AEe(t){return t}o(AEe,"defaultTransformerFn");function hft(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}o(hft,"dehydrateMutation");function pft(t,e,r){return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(n=>r(n)?(R.NODE_ENV!=="production"&&console.error(`A query that was dehydrated as pending ended up rejecting. [${t.queryHash}]: ${n}; The error will be redacted in production builds`),Promise.reject(new Error("redacted"))):Promise.reject(n))},...t.meta&&{meta:t.meta}}}o(pft,"dehydrateQuery");function IEe(t){return t.state.isPaused}o(IEe,"defaultShouldDehydrateMutation");function TEe(t){return t.state.status==="success"}o(TEe,"defaultShouldDehydrateQuery");function mft(t){return!0}o(mft,"defaultShouldRedactErrors");function T9(t,e={}){let r=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??IEe,n=t.getMutationCache().getAll().flatMap(l=>r(l)?[hft(l)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??TEe,s=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??mft,a=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??AEe,f=t.getQueryCache().getAll().flatMap(l=>i(l)?[pft(l,a,s)]:[]);return{mutations:n,queries:f}}o(T9,"dehydrate");function Pj(t,e,r){if(typeof e!="object"||e===null)return;let n=t.getMutationCache(),i=t.getQueryCache(),s=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??AEe,a=e.mutations||[],f=e.queries||[];a.forEach(({state:l,...h})=>{n.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...h},l)}),f.forEach(({queryKey:l,state:h,queryHash:b,meta:y,promise:E,dehydratedAt:I})=>{let O=E?EEe(E):void 0,N=h.data===void 0?O?.data:h.data,k=N===void 0?N:s(N),C=i.get(b),L=C?.state.status==="pending",M=C?.state.fetchStatus==="fetching";if(C){let U=O&&I!==void 0&&I>C.state.dataUpdatedAt;if(h.dataUpdatedAt>C.state.dataUpdatedAt||U){let{fetchStatus:q,...j}=h;C.setState({...j,data:k})}}else C=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:l,queryHash:b,meta:y},{...h,data:k,fetchStatus:"idle",status:k!==void 0?"success":h.status});E&&!L&&!M&&(I===void 0||I>C.state.dataUpdatedAt)&&C.fetch(void 0,{initialPromise:Promise.resolve(E).then(s)})})}o(Pj,"hydrate");m();g();m();g();m();g();var REe=gEe;function gft(){let t=[],e=0,r=o(f=>{f()},"notifyFn"),n=o(f=>{f()},"batchNotifyFn"),i=REe,s=o(f=>{e?t.push(f):i(()=>{r(f)})},"schedule"),a=o(()=>{let f=t;t=[],f.length&&i(()=>{n(()=>{f.forEach(l=>{r(l)})})})},"flush");return{batch:o(f=>{let l;e++;try{l=f()}finally{e--,e||a()}return l},"batch"),batchCalls:o(f=>(...l)=>{s(()=>{f(...l)})},"batchCalls"),schedule:s,setNotifyFunction:o(f=>{r=f},"setNotifyFunction"),setBatchNotifyFunction:o(f=>{n=f},"setBatchNotifyFunction"),setScheduler:o(f=>{i=f},"setScheduler")}}o(gft,"createNotifyManager");var jr=gft();m();g();m();g();m();g();var yft=class extends Tc{static{o(this,"OnlineManager")}#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!Rc&&self.addEventListener){let e=o(()=>t(!0),"onlineListener"),r=o(()=>t(!1),"offlineListener");return self.addEventListener("online",e,!1),self.addEventListener("offline",r,!1),()=>{self.removeEventListener("online",e),self.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},Wv=new yft;function bft(t){return Math.min(1e3*2**t,3e4)}o(bft,"defaultRetryDelay");function Lj(t){return(t??"online")==="online"?Wv.isOnline():!0}o(Lj,"canFetch");var R9=class extends Error{static{o(this,"CancelledError")}constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function O9(t){let e=!1,r=0,n,i=BE(),s=o(()=>i.status!=="pending","isResolved"),a=o(N=>{if(!s()){let k=new R9(N);E(k),t.onCancel?.(k)}},"cancel"),f=o(()=>{e=!0},"cancelRetry"),l=o(()=>{e=!1},"continueRetry"),h=o(()=>$v.isFocused()&&(t.networkMode==="always"||Wv.isOnline())&&t.canRun(),"canContinue"),b=o(()=>Lj(t.networkMode)&&t.canRun(),"canStart"),y=o(N=>{s()||(n?.(),i.resolve(N))},"resolve"),E=o(N=>{s()||(n?.(),i.reject(N))},"reject"),I=o(()=>new Promise(N=>{n=o(k=>{(s()||h())&&N(k)},"continueFn"),t.onPause?.()}).then(()=>{n=void 0,s()||t.onContinue?.()}),"pause"),O=o(()=>{if(s())return;let N,k=r===0?t.initialPromise:void 0;try{N=k??t.fn()}catch(C){N=Promise.reject(C)}Promise.resolve(N).then(y).catch(C=>{if(s())return;let L=t.retry??(Rc?0:3),M=t.retryDelay??bft,U=typeof M=="function"?M(r,C):M,q=L===!0||typeof L=="number"&&r<L||typeof L=="function"&&L(r,C);if(e||!q){E(C);return}r++,t.onFail?.(r,C),vEe(U).then(()=>h()?void 0:I()).then(()=>{e?E(C):O()})})},"run");return{promise:i,status:o(()=>i.status,"status"),cancel:a,continue:o(()=>(n?.(),i),"continue"),cancelRetry:f,continueRetry:l,canStart:b,start:o(()=>(b()?O():I().then(O),i),"start")}}o(O9,"createRetryer");m();g();var N9=class{static{o(this,"Removable")}#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NE(this.gcTime)&&(this.#t=qd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(qd.clearTimeout(this.#t),this.#t=void 0)}};var NEe=class extends N9{static{o(this,"Query")}#t;#e;#r;#n;#i;#s;#a;constructor(t){super(),this.#a=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=OEe(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){let e=OEe(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){let r=CE(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Fn).catch(Fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Oc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>fl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!S9(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){let f=this.observers.find(l=>l.options.queryFn);f&&this.setOptions(f.options)}R.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));let r=new AbortController,n=o(f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:o(()=>(this.#a=!0,r.signal),"get")})},"addSignalProperty"),i=o(()=>{let f=I9(this.options,e),h=o(()=>{let b={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(b),b},"createQueryFnContext")();return this.#a=!1,this.options.persister?this.options.persister(f,h,this):f(h)},"fetchFn"),a=o(()=>{let f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(f),f},"createFetchContext")();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=O9({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o(f=>{f instanceof R9&&f.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},"onCancel"),onFail:o((f,l)=>{this.#o({type:"failed",failureCount:f,error:l})},"onFail"),onPause:o(()=>{this.#o({type:"pause"})},"onPause"),onContinue:o(()=>{this.#o({type:"continue"})},"onContinue"),retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:o(()=>!0,"canRun")});try{let f=await this.#i.start();if(f===void 0)throw R.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof R9){if(f.silent)return this.#i.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#o({type:"error",error:f}),this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#o(t){let e=o(r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Dj(r.data,this.options),fetchMeta:t.meta??null};case"success":let n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":let i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}},"reducer");this.state=e(this.state),jr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function Dj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Lj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}o(Dj,"fetchState");function OEe(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}o(OEe,"getDefaultState");var hh=class extends Tc{static{o(this,"QueryObserver")}constructor(t,e){super(),this.options=e,this.#t=t,this.#o=null,this.#a=BE(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#s;#a;#o;#c;#d;#h;#u;#l;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),MEe(this.#e,this.options)?this.#p():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Uj(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Uj(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#_(),this.#e.removeObserver(this)}setOptions(t){let e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oc(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),e._defaulted&&!Mm(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});let n=this.hasListeners();n&&CEe(this.#e,r,this.options,e)&&this.#p(),this.updateResult(),n&&(this.#e!==r||Oc(this.options.enabled,this.#e)!==Oc(e.enabled,this.#e)||fl(this.options.staleTime,this.#e)!==fl(e.staleTime,this.#e))&&this.#g();let i=this.#y();n&&(this.#e!==r||Oc(this.options.enabled,this.#e)!==Oc(e.enabled,this.#e)||i!==this.#f)&&this.#b(i)}getOptimisticResult(t){let e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return vft(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:o((r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n)),"get")})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#w();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Fn)),e}#g(){this.#v();let t=fl(this.options.staleTime,this.#e);if(Rc||this.#n.isStale||!NE(t))return;let r=S9(this.#n.dataUpdatedAt,t)+1;this.#u=qd.setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#_(),this.#f=t,!(Rc||Oc(this.options.enabled,this.#e)===!1||!NE(this.#f)||this.#f===0)&&(this.#l=qd.setInterval(()=>{(this.options.refetchIntervalInBackground||$v.isFocused())&&this.#p()},this.#f))}#x(){this.#g(),this.#b(this.#y())}#v(){this.#u&&(qd.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#l&&(qd.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){let r=this.#e,n=this.options,i=this.#n,s=this.#i,a=this.#s,l=t!==r?t.state:this.#r,{state:h}=t,b={...h},y=!1,E;if(e._optimisticResults){let Y=this.hasListeners(),X=!Y&&MEe(t,e),S=Y&&CEe(t,r,e,n);(X||S)&&(b={...b,...Dj(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:I,errorUpdatedAt:O,status:N}=b;E=b.data;let k=!1;if(e.placeholderData!==void 0&&E===void 0&&N==="pending"){let Y;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(Y=i.data,k=!0):Y=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,Y!==void 0&&(N="success",E=CE(i?.data,Y,e),y=!0)}if(e.select&&E!==void 0&&!k)if(i&&E===s?.data&&e.select===this.#c)E=this.#d;else try{this.#c=e.select,E=e.select(E),E=CE(i?.data,E,e),this.#d=E,this.#o=null}catch(Y){this.#o=Y}this.#o&&(I=this.#o,E=this.#d,O=Date.now(),N="error");let C=b.fetchStatus==="fetching",L=N==="pending",M=N==="error",U=L&&C,q=E!==void 0,re={status:N,fetchStatus:b.fetchStatus,isPending:L,isSuccess:N==="success",isError:M,isInitialLoading:U,isLoading:U,data:E,dataUpdatedAt:b.dataUpdatedAt,error:I,errorUpdatedAt:O,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>l.dataUpdateCount||b.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!L,isLoadingError:M&&!q,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:M&&q,isStale:Hj(t,e),refetch:this.refetch,promise:this.#a,isEnabled:Oc(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){let Y=o(c=>{re.status==="error"?c.reject(re.error):re.data!==void 0&&c.resolve(re.data)},"finalizeThenableIfPossible"),X=o(()=>{let c=this.#a=re.promise=BE();Y(c)},"recreateThenable"),S=this.#a;switch(S.status){case"pending":t.queryHash===r.queryHash&&Y(S);break;case"fulfilled":(re.status==="error"||re.data!==S.value)&&X();break;case"rejected":(re.status!=="error"||re.error!==S.reason)&&X();break}}return re}updateResult(){let t=this.#n,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#s=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Mm(e,t))return;this.#n=e;let r=o(()=>{if(!t)return!0;let{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#m.size)return!0;let s=new Set(i??this.#m);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(a=>{let f=a;return this.#n[f]!==t[f]&&s.has(f)})},"shouldNotifyListeners");this.#S({listeners:r()})}#w(){let t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;let e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){jr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function xft(t,e){return Oc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}o(xft,"shouldLoadOnMount");function MEe(t,e){return xft(t,e)||t.state.data!==void 0&&Uj(t,e,e.refetchOnMount)}o(MEe,"shouldFetchOnMount");function Uj(t,e,r){if(Oc(e.enabled,t)!==!1&&fl(e.staleTime,t)!=="static"){let n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Hj(t,e)}return!1}o(Uj,"shouldFetchOn");function CEe(t,e,r,n){return(t!==e||Oc(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Hj(t,r)}o(CEe,"shouldFetchOptionally");function Hj(t,e){return Oc(e.enabled,t)!==!1&&t.isStaleByTime(fl(e.staleTime,t))}o(Hj,"isStale");function vft(t,e){return!Mm(t.getCurrentResult(),e)}o(vft,"shouldAssignObserverCurrentProperties");m();g();function Yv(t){return{onFetch:o((e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[],f={pages:[],pageParams:[]},l=0,h=o(async()=>{let b=!1,y=o(O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:o(()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal),"get")})},"addSignalProperty"),E=I9(e.options,e.fetchOptions),I=o(async(O,N,k)=>{if(b)return Promise.reject();if(N==null&&O.pages.length)return Promise.resolve(O);let L=o(()=>{let j={client:e.client,queryKey:e.queryKey,pageParam:N,direction:k?"backward":"forward",meta:e.options.meta};return y(j),j},"createQueryFnContext")(),M=await E(L),{maxPages:U}=e.options,q=k?SEe:wEe;return{pages:q(O.pages,M,U),pageParams:q(O.pageParams,N,U)}},"fetchPage");if(i&&s.length){let O=i==="backward",N=O?kEe:Fj,k={pages:s,pageParams:a},C=N(n,k);f=await I(k,C,O)}else{let O=t??s.length;do{let N=l===0?a[0]??n.initialPageParam:Fj(n,f);if(l>0&&N==null)break;f=await I(f,N),l++}while(l<O)}return f},"fetchFn");e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h},"onFetch")}}o(Yv,"infiniteQueryBehavior");function Fj(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}o(Fj,"getNextPageParam");function kEe(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}o(kEe,"getPreviousPageParam");function BEe(t,e){return e?Fj(t,e)!=null:!1}o(BEe,"hasNextPage");function PEe(t,e){return!e||!t.getPreviousPageParam?!1:kEe(t,e)!=null}o(PEe,"hasPreviousPage");var qj=class extends hh{static{o(this,"InfiniteQueryObserver")}constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:Yv()})}getOptimisticResult(t){return t.behavior=Yv(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){let{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:s,isError:a,isRefetchError:f}=n,l=r.fetchMeta?.fetchMore?.direction,h=a&&l==="forward",b=i&&l==="forward",y=a&&l==="backward",E=i&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:BEe(e,r.data),hasPreviousPage:PEe(e,r.data),isFetchNextPageError:h,isFetchingNextPage:b,isFetchPreviousPageError:y,isFetchingPreviousPage:E,isRefetchError:f&&!h&&!y,isRefetching:s&&!b&&!E}}};m();g();m();g();var LEe=class extends N9{static{o(this,"Mutation")}#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||Vj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){let e=o(()=>{this.#n({type:"continue"})},"onContinue");this.#r=O9({fn:o(()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),"fn"),onFail:o((i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},"onFail"),onPause:o(()=>{this.#n({type:"pause"})},"onPause"),onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:o(()=>this.#e.canRun(this),"canRun")});let r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);let s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:n})}let i=await this.#r.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){let e=o(r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}},"reducer");this.state=e(this.state),jr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function Vj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}o(Vj,"getDefaultState");var DEe=class extends Tc{static{o(this,"MutationCache")}constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){let n=new LEe({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);let e=M9(t);if(typeof e=="string"){let r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){let e=M9(t);if(typeof e=="string"){let r=this.#e.get(e);if(r)if(r.length>1){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=M9(t);if(typeof e=="string"){let n=this.#e.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){let e=M9(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){jr.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){let e={exact:!0,...t};return this.getAll().find(r=>A9(e,r))}findAll(t={}){return this.getAll().filter(e=>A9(t,e))}notify(t){jr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(e=>e.state.isPaused);return jr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Fn))))}};function M9(t){return t.options.scope?.id}o(M9,"scopeFor");m();g();var jj=class extends Tc{static{o(this,"MutationObserver")}#t;#e=void 0;#r;#n;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),Mm(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),e?.mutationKey&&this.options.mutationKey&&Vd(e.mutationKey)!==Vd(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#s(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(t,e){return this.#n=e,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){let t=this.#r?.state??Vj();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){jr.batch(()=>{if(this.#n&&this.hasListeners()){let e=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,e,r),this.#n.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#n.onError?.(t.error,e,r),this.#n.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#e)})})}};m();g();function UEe(t,e){let r=new Set(e);return t.filter(n=>!r.has(n))}o(UEe,"difference");function _ft(t,e,r){let n=t.slice(0);return n[e]=r,n}o(_ft,"replaceAt");var Kj=class extends Tc{static{o(this,"QueriesObserver")}#t;#e;#r;#n;#i;#s;#a;#o;#c=[];constructor(t,e,r){super(),this.#t=t,this.#n=r,this.#r=[],this.#i=[],this.#e=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(t=>{t.subscribe(e=>{this.#l(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e){if(this.#r=t,this.#n=e,R.NODE_ENV!=="production"){let r=t.map(n=>this.#t.defaultQueryOptions(n).queryHash);new Set(r).size!==r.length&&console.warn("[QueriesObserver]: Duplicate Queries found. This might result in unexpected behavior.")}jr.batch(()=>{let r=this.#i,n=this.#u(this.#r);this.#c=n,n.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions));let i=n.map(l=>l.observer),s=i.map(l=>l.getCurrentResult()),a=i.some((l,h)=>l!==r[h]),f=r.length===i.length&&!a?s.some((l,h)=>{let b=this.#e[h];return!b||!Mm(l,b)}):!0;!a&&!f||(a&&(this.#i=i),this.#e=s,this.hasListeners()&&(a&&(UEe(r,i).forEach(l=>{l.destroy()}),UEe(i,r).forEach(l=>{l.subscribe(h=>{this.#l(l,h)})})),this.#f()))})}getCurrentResult(){return this.#e}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){let r=this.#u(t),n=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[n,i=>this.#h(i??n,e),()=>this.#d(n,r)]}#d(t,e){return e.map((r,n)=>{let i=t[n];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,s=>{e.forEach(a=>{a.observer.trackProp(s)})})})}#h(t,e){return e?((!this.#s||this.#e!==this.#o||e!==this.#a)&&(this.#a=e,this.#o=this.#e,this.#s=Gv(this.#s,e(t))),this.#s):t}#u(t){let e=new Map(this.#i.map(n=>[n.options.queryHash,n])),r=[];return t.forEach(n=>{let i=this.#t.defaultQueryOptions(n),s=e.get(i.queryHash);s?r.push({defaultedQueryOptions:i,observer:s}):r.push({defaultedQueryOptions:i,observer:new hh(this.#t,i)})}),r}#l(t,e){let r=this.#i.indexOf(t);r!==-1&&(this.#e=_ft(this.#e,r,e),this.#f())}#f(){if(this.hasListeners()){let t=this.#s,e=this.#d(this.#e,this.#c),r=this.#h(e,this.#n?.combine);t!==r&&jr.batch(()=>{this.listeners.forEach(n=>{n(this.#e)})})}}};m();g();var HEe=class extends Tc{static{o(this,"QueryCache")}constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){let n=e.queryKey,i=e.queryHash??ME(n,e),s=this.get(i);return s||(s=new NEe({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(r=>E9(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>E9(t,r)):e}notify(t){jr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){jr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};m();g();var FEe=class{static{o(this,"QueryClient")}#t;#e;#r;#n;#i;#s;#a;#o;constructor(t={}){this.#t=t.queryCache||new HEe,this.#e=t.mutationCache||new DEe,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=$v.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=Wv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(fl(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{let n=r.data;return[e,n]})}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(n.queryHash)?.state.data,a=xEe(e,s);if(a!==void 0)return this.#t.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return jr.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){let e=this.#t;jr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#t;return jr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e},n=jr.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Fn).catch(Fn)}invalidateQueries(t,e={}){return jr.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0},n=jr.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Fn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Fn)}fetchQuery(t){let e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);let r=this.#t.build(this,e);return r.isStaleByTime(fl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fn).catch(Fn)}fetchInfiniteQuery(t){return t.behavior=Yv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fn).catch(Fn)}ensureInfiniteQueryData(t){return t.behavior=Yv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wv.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Vd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#n.values()],r={};return e.forEach(n=>{ay(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Vd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#i.values()],r={};return e.forEach(n=>{ay(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ME(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Nm&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}};m();g();var jd=Ze(so(),1);m();g();var Xv=Ze(so(),1),qEe=Ze(Rh(),1);var zj=Xv.createContext(void 0),Cm=o(t=>{let e=Xv.useContext(zj);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},"useQueryClient"),C9=o(({client:t,children:e})=>(Xv.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,qEe.jsx)(zj.Provider,{value:t,children:e})),"QueryClientProvider");m();g();var k9=Ze(so(),1);var VEe=k9.createContext(!1),PE=o(()=>k9.useContext(VEe),"useIsRestoring"),Gj=VEe.Provider;m();g();var LE=Ze(so(),1),wft=Ze(Rh(),1);function Sft(){let t=!1;return{clearReset:o(()=>{t=!1},"clearReset"),reset:o(()=>{t=!0},"reset"),isReset:o(()=>t,"isReset")}}o(Sft,"createValue");var Eft=LE.createContext(Sft()),B9=o(()=>LE.useContext(Eft),"useQueryErrorResetBoundary");m();g();var jEe=Ze(so(),1);var P9=o((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},"ensurePreventErrorBoundaryRetry"),L9=o(t=>{jEe.useEffect(()=>{t.clearReset()},[t])},"useClearResetErrorBoundary"),D9=o(({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||kE(r,[t.error,n])),"getHasError");m();g();var U9=o(t=>{if(t.suspense){let r=o(i=>i==="static"?i:Math.max(i??1e3,1e3),"clamp"),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},"ensureSuspenseTimers"),H9=o((t,e)=>t.isLoading&&t.isFetching&&!e,"willFetch"),DE=o((t,e)=>t?.suspense&&e.isPending,"shouldSuspend"),Zv=o((t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()}),"fetchOptimistic");function KEe({queries:t,...e},r){let n=Cm(r),i=PE(),s=B9(),a=jd.useMemo(()=>t.map(N=>{let k=n.defaultQueryOptions(N);return k._optimisticResults=i?"isRestoring":"optimistic",k}),[t,n,i]);a.forEach(N=>{U9(N),P9(N,s)}),L9(s);let[f]=jd.useState(()=>new Kj(n,a,e)),[l,h,b]=f.getOptimisticResult(a,e.combine),y=!i&&e.subscribed!==!1;jd.useSyncExternalStore(jd.useCallback(N=>y?f.subscribe(jr.batchCalls(N)):Fn,[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),jd.useEffect(()=>{f.setQueries(a,e)},[a,e,f]);let I=l.some((N,k)=>DE(a[k],N))?l.flatMap((N,k)=>{let C=a[k];if(C){let L=new hh(n,C);if(DE(C,N))return Zv(C,L,s);H9(N,i)&&Zv(C,L,s)}return[]}):[];if(I.length>0)throw Promise.all(I);let O=l.find((N,k)=>{let C=a[k];return C&&D9({result:N,errorResetBoundary:s,throwOnError:C.throwOnError,query:n.getQueryCache().get(C.queryHash),suspense:C.suspense})});if(O?.error)throw O.error;return h(b())}o(KEe,"useQueries");m();g();m();g();var km=Ze(so(),1);function F9(t,e,r){if(R.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');let n=PE(),i=B9(),s=Cm(r),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),R.NODE_ENV!=="production"&&(a.queryFn||console.error(`[${a.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`)),a._optimisticResults=n?"isRestoring":"optimistic",U9(a),P9(a,i),L9(i);let f=!s.getQueryCache().get(a.queryHash),[l]=km.useState(()=>new e(s,a)),h=l.getOptimisticResult(a),b=!n&&t.subscribed!==!1;if(km.useSyncExternalStore(km.useCallback(y=>{let E=b?l.subscribe(jr.batchCalls(y)):Fn;return l.updateResult(),E},[l,b]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),km.useEffect(()=>{l.setOptions(a)},[a,l]),DE(a,h))throw Zv(a,l,i);if(D9({result:h,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,h),a.experimental_prefetchInRender&&!Rc&&H9(h,n)&&(f?Zv(a,l,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(Fn).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?h:l.trackResult(h)}o(F9,"useBaseQuery");function $j(t,e){return F9(t,hh,e)}o($j,"useQuery");m();g();var ph=Ze(so(),1);function zEe(t,e){let r=Cm(e),[n]=ph.useState(()=>new jj(r,t));ph.useEffect(()=>{n.setOptions(t)},[n,t]);let i=ph.useSyncExternalStore(ph.useCallback(a=>n.subscribe(jr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=ph.useCallback((a,f)=>{n.mutate(a,f).catch(Fn)},[n]);if(i.error&&kE(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}o(zEe,"useMutation");m();g();function GEe(t,e){return F9(t,qj,e)}o(GEe,"useInfiniteQuery");m();g();var Aft=["added","removed","updated"];function $Ee(t){return Aft.includes(t)}o($Ee,"isCacheEventType");async function YEe({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{let s=await e.restoreClient();if(s)if(s.timestamp){let a=Date.now()-s.timestamp>r,f=s.buster!==n;if(a||f)return e.removeClient();Pj(t,s.clientState,i)}else return e.removeClient()}catch(s){throw R.NODE_ENV!=="production"&&(console.error(s),console.warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.")),await e.removeClient(),s}}o(YEe,"persistQueryClientRestore");async function WEe({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){let i={buster:r,timestamp:Date.now(),clientState:T9(t,n)};await e.persistClient(i)}o(WEe,"persistQueryClientSave");function XEe(t){let e=t.queryClient.getQueryCache().subscribe(n=>{$Ee(n.type)&&WEe(t)}),r=t.queryClient.getMutationCache().subscribe(n=>{$Ee(n.type)&&WEe(t)});return()=>{e(),r()}}o(XEe,"persistQueryClientSubscribe");m();g();var Bm=Ze(so(),1);var Wj=Ze(Rh(),1);var Ift=o(({children:t,persistOptions:e,onSuccess:r,onError:n,...i})=>{let[s,a]=Bm.useState(!0),f=Bm.useRef({persistOptions:e,onSuccess:r,onError:n}),l=Bm.useRef(!1);return Bm.useEffect(()=>{f.current={persistOptions:e,onSuccess:r,onError:n}}),Bm.useEffect(()=>{let h={...f.current.persistOptions,queryClient:i.client};return l.current||(l.current=!0,YEe(h).then(()=>f.current.onSuccess?.()).catch(()=>f.current.onError?.()).finally(()=>{a(!1)})),s?void 0:XEe(h)},[i.client,s]),(0,Wj.jsx)(C9,{...i,children:(0,Wj.jsx)(Gj,{value:s,children:t})})},"PersistQueryClientProvider");m();g();m();g();var Tft=Ze(Rh(),1),q9=Ze(so(),1);var Rft=q9.default.createContext(!1);function ZEe(){return(0,q9.useContext)(Rft)}o(ZEe,"useIsInert");var JEe=Ze(so());function Yj(t,e){let r=ZEe(),n=(0,JEe.useMemo)(()=>{if(r){let i=t?.refetchInterval!==void 0&&t?.refetchInterval!==!1,s=t?.enabled===!1;if(i&&!s)return{...t,refetchInterval:!1}}return t},[r,t]);return $j(n,e)}o(Yj,"useQuery");m();g();var QEe="__STORAGE_RESET_KEY__",e3e=[Mi.AuthEnabled,Mi.BalanceHiddenStatus,Mi.BuyFormValues,Mi.CustomGasControls,Mi.DappBrowserBookmarks,Mi.DeviceId,Mi.LatestCleanedStorageVersion,Mi.LockTimerMs,Mi.MaxWalletIndex,Mi.OnboardingDone,Mi.OwnerToHiddenMints,Mi.PendingTransactions,Mi.PriceMap,Mi.UserExplorerPreferenceV2,Mi.UserRecentAddresses,Mi.UserSavedAddresses,Mi.UserTrustedApps,Mi.UserWhitelistSubdomains,Mi.UserWhitelistedOrigins];var Oft="Error processing storage data",Nft="Error getting storage data",Mft=["export-storage"],Cft=o((t,e)=>{let r=[...e3e,...e];return Yj({queryKey:Mft,queryFn:o(()=>kft(t,r),"queryFn"),gcTime:0,staleTime:0})},"useStorageExport"),kft=o(async(t,e)=>{try{let r={};for(let{key:n,storage:i}of t){let s=await i.getAll();r[n]=Bft(s,e)}return r}catch(r){throw new Error(`${Nft}: ${JSON.stringify(r)}`)}},"getStorageExport"),Bft=o((t,e)=>{try{let r={};for(let n of e)t[n]&&(r[n]=t[n]);return r}catch(r){throw new Error(`${Oft}: ${JSON.stringify(r)}`)}},"cleanUpStorageData");m();g();var Jv=class{static{o(this,"StorageNotifierCache")}notifierCache=new Map;constructor(e){this.storage=e,e.subscribe(r=>{r===QEe?this.notifierCache.forEach(n=>{n.notify()}):this.getNotifier(r).notify()})}getNotifier(e){let r=this.notifierCache.get(e);return r||(r=W1(),this.notifierCache.set(e,r)),r}async get(e){return this.getNotifier(e).consume(),this.storage.get(e)}async set(e,r){await this.storage.set(e,r),this.getNotifier(e).notify()}},t3e=new WeakMap,UE=o(()=>{let t=hEe(),e=t3e.get(t);return e===void 0&&(e=new Jv(t),t3e.set(t,e)),e},"useStorageSignalProxy");var Pft=hi(t=>UE().get(t));var Lft=hi(t=>{let e=UE();return $S(function*(r){return e.set(t,r)})});m();g();m();g();m();g();m();g();m();g();var rK=Ze(bu()),o3e=Ze(q0());m();g();m();g();m();g();var Dft=o((t,e,r)=>t&e^~t&r,"Chi"),Uft=o((t,e,r)=>t&e^t&r^e&r,"Maj"),Hft=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Lm=new Uint32Array(64),V9=class extends ox{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=Pm[0]|0,this.B=Pm[1]|0,this.C=Pm[2]|0,this.D=Pm[3]|0,this.E=Pm[4]|0,this.F=Pm[5]|0,this.G=Pm[6]|0,this.H=Pm[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let y=0;y<16;y++,r+=4)Lm[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let E=Lm[y-15],I=Lm[y-2],O=Uu(E,7)^Uu(E,18)^E>>>3,N=Uu(I,17)^Uu(I,19)^I>>>10;Lm[y]=N+Lm[y-7]+O+Lm[y-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:b}=this;for(let y=0;y<64;y++){let E=Uu(f,6)^Uu(f,11)^Uu(f,25),I=b+E+Dft(f,l,h)+Hft[y]+Lm[y]|0,N=(Uu(n,2)^Uu(n,13)^Uu(n,22))+Uft(n,i,s)|0;b=h,h=l,l=f,f=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,b=b+this.H|0,this.set(n,i,s,a,f,l,h,b)}roundClean(){Lm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Xj=class extends V9{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Zj=ed(()=>new V9),XCr=ed(()=>new Xj);m();g();function Fft(t,e,r,n){kn.hash(t);let i=s5({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:f}=i;if(kn.number(s),kn.number(a),kn.number(f),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=Hu(e),h=Hu(r),b=new Uint8Array(a),y=O0.create(t,l),E=y._cloneInto().update(h);return{c:s,dkLen:a,asyncTick:f,DK:b,PRF:y,PRFSalt:E}}o(Fft,"pbkdf2Init");function qft(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}o(qft,"pbkdf2Output");function Jj(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:f,PRFSalt:l}=Fft(t,e,r,n),h,b=new Uint8Array(4),y=ix(b),E=new Uint8Array(f.outputLen);for(let I=1,O=0;O<s;I++,O+=f.outputLen){let N=a.subarray(O,O+f.outputLen);y.setInt32(0,I,!1),(h=l._cloneInto(h)).update(b).digestInto(E),N.set(E.subarray(0,N.length));for(let k=1;k<i;k++){f._cloneInto(h).update(E).digestInto(E);for(let C=0;C<N.length;C++)N[C]^=E[C]}}return qft(f,l,a,h,E)}o(Jj,"pbkdf2");var hn=o((t,e)=>t<<e|t>>>32-e,"rotl");function r3e(t,e,r,n,i,s){let a=t[e++]^r[n++],f=t[e++]^r[n++],l=t[e++]^r[n++],h=t[e++]^r[n++],b=t[e++]^r[n++],y=t[e++]^r[n++],E=t[e++]^r[n++],I=t[e++]^r[n++],O=t[e++]^r[n++],N=t[e++]^r[n++],k=t[e++]^r[n++],C=t[e++]^r[n++],L=t[e++]^r[n++],M=t[e++]^r[n++],U=t[e++]^r[n++],q=t[e++]^r[n++],j=a,re=f,Y=l,X=h,S=b,c=y,d=E,p=I,x=O,v=N,A=k,T=C,w=L,u=M,_=U,F=q;for(let H=0;H<8;H+=2)S^=hn(j+w|0,7),x^=hn(S+j|0,9),w^=hn(x+S|0,13),j^=hn(w+x|0,18),v^=hn(c+re|0,7),u^=hn(v+c|0,9),re^=hn(u+v|0,13),c^=hn(re+u|0,18),_^=hn(A+d|0,7),Y^=hn(_+A|0,9),d^=hn(Y+_|0,13),A^=hn(d+Y|0,18),X^=hn(F+T|0,7),p^=hn(X+F|0,9),T^=hn(p+X|0,13),F^=hn(T+p|0,18),re^=hn(j+X|0,7),Y^=hn(re+j|0,9),X^=hn(Y+re|0,13),j^=hn(X+Y|0,18),d^=hn(c+S|0,7),p^=hn(d+c|0,9),S^=hn(p+d|0,13),c^=hn(S+p|0,18),T^=hn(A+v|0,7),x^=hn(T+A|0,9),v^=hn(x+T|0,13),A^=hn(v+x|0,18),w^=hn(F+_|0,7),u^=hn(w+F|0,9),_^=hn(u+w|0,13),F^=hn(_+u|0,18);i[s++]=a+j|0,i[s++]=f+re|0,i[s++]=l+Y|0,i[s++]=h+X|0,i[s++]=b+S|0,i[s++]=y+c|0,i[s++]=E+d|0,i[s++]=I+p|0,i[s++]=O+x|0,i[s++]=N+v|0,i[s++]=k+A|0,i[s++]=C+T|0,i[s++]=L+w|0,i[s++]=M+u|0,i[s++]=U+_|0,i[s++]=q+F|0}o(r3e,"XorAndSalsa");function Qj(t,e,r,n,i){let s=n+0,a=n+16*i;for(let f=0;f<16;f++)r[a+f]=t[e+(2*i-1)*16+f];for(let f=0;f<i;f++,s+=16,e+=16)r3e(r,a,t,e,r,s),f>0&&(a+=16),r3e(r,s,t,e+=16,r,a)}o(Qj,"BlockMix");function Vft(t,e,r){let n=s5({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:s,p:a,dkLen:f,asyncTick:l,maxmem:h,onProgress:b}=n;if(kn.number(i),kn.number(s),kn.number(a),kn.number(f),kn.number(l),kn.number(h),b!==void 0&&typeof b!="function")throw new Error("progressCb should be function");let y=128*s,E=y/4;if(i<=1||i&i-1||i>=2**(y/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/y)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(f<0||f>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let I=y*(i+a);if(I>h)throw new Error(`Scrypt: parameters too large, ${I} (128 * r * (N + p)) > ${h} (maxmem)`);let O=Jj(Zj,t,e,{c:1,dkLen:y*a}),N=nx(O),k=nx(new Uint8Array(y*i)),C=nx(new Uint8Array(y)),L=o(()=>{},"blockMixCb");if(b){let M=2*i*a,U=Math.max(Math.floor(M/1e4),1),q=0;L=o(()=>{q++,b&&(!(q%U)||q===M)&&b(q/M)},"blockMixCb")}return{N:i,r:s,p:a,dkLen:f,blockSize32:E,V:k,B32:N,B:O,tmp:C,blockMixCb:L,asyncTick:l}}o(Vft,"scryptInit");function jft(t,e,r,n,i){let s=Jj(Zj,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),s}o(jft,"scryptOutput");async function n3e(t,e,r){let{N:n,r:i,p:s,dkLen:a,blockSize32:f,V:l,B32:h,B:b,tmp:y,blockMixCb:E,asyncTick:I}=Vft(t,e,r);for(let O=0;O<s;O++){let N=f*O;for(let C=0;C<f;C++)l[C]=h[N+C];let k=0;await o5(n-1,I,C=>{Qj(l,k,l,k+=f,i),E()}),Qj(l,(n-1)*f,h,N,i),E(),await o5(n,I,C=>{let L=h[N+f-16]%n;for(let M=0;M<f;M++)y[M]=h[N+M]^l[L*f+M];Qj(y,0,h,N,i),E()})}return jft(t,a,b,l,y)}o(n3e,"scryptAsync");var eK=Ze(bu()),i3e=Ze(s8()),tK=Ze(q0());var j9=o(async(t,e)=>{switch(e.kdf){case"scrypt":return Buffer.from(await n3e(t,eK.default.decode(e.salt),{N:2**12,r:8,p:1,dkLen:tK.secretbox.keyLength}));case"pbkdf2":return new Promise((r,n)=>(0,i3e.pbkdf2)(t,eK.default.decode(e.salt),e.iterations,tK.secretbox.keyLength,e.digest,(i,s)=>i?n(i):r(s)))}throw new Error(`Unable to derive encryption key: ${e.kdf}`)},"deriveEncryptionKeyAsync");var nK=o(async(t,e)=>{let r=o3e.secretbox.open(rK.default.decode(t.encrypted),rK.default.decode(t.nonce),await j9(e,t));if(!r)throw new Error("Unable to open secretbox: Incorrect Password");return r},"openSecretBoxAsync");async function Qv(t,e){try{return await nK(t,e)}catch{let r=Buffer.from(e).toString("utf-8"),n=Buffer.from(r),i=await nK(t,n);return i&&dr.addBreadcrumb(et.Storage,"DecryptEncryptedText: Legacy decryption successful \u2705",Rt.Info),i}}o(Qv,"decryptEncryptedTextAsync");m();g();var HE=Ze(bu()),e2=Ze(q0());var t2=o(async(t,e)=>{let r={kdf:"scrypt",salt:HE.default.encode((0,e2.randomBytes)(16)),nonce:HE.default.encode((0,e2.randomBytes)(e2.secretbox.nonceLength)),iterations:1e4,digest:"sha256"},n=await j9(e,r),i=(0,e2.secretbox)(t,HE.default.decode(r.nonce),n);return{...r,encrypted:HE.default.encode(i)}},"generateEncryptedText");m();g();async function K9(t,e){return t2(Buffer.from(t),e)}o(K9,"generateEncryptedTextAsync");m();g();var iK=we.object({encrypted:we.string(),nonce:we.string(),kdf:we.string(),salt:we.string(),iterations:we.number(),digest:we.string()});var s3e=we.object({version:we.literal(1),content:iK}),Nc;(function(t){t.Plain="plain",t.Secure="secure"})(Nc||(Nc={}));var oK=class{static{o(this,"EncryptedStorage")}storage;storageEncryptionKeyManager;static fromStorage(e,r){return new this({store:e,type:Nc.Plain},r)}static fromSecureStorage(e,r){return new this({store:e,type:Nc.Secure},r)}constructor(e,r){this.storage=e,this.storageEncryptionKeyManager=r}async rotateEncryptionKey(e){return this.storageEncryptionKeyManager.rotateEncryptionKey(async(r,n)=>{let i=await this.getAllSecureValues(),s={};for(let[a,f]of Object.entries(i)){let l=await this.encrypt(f,r);s[a]=l}return n(s,e)})}async getSecureValue(e){let r;switch(this.storage.type){case Nc.Plain:{r=await this.storage.store.get(e);break}case Nc.Secure:{r=await this.storage.store.getSecureValue(e);break}}return r?this.decrypt(r):null}async getAllSecureValues(e){let r={},n;switch(this.storage.type){case Nc.Plain:{n=await this.storage.store.getAll(e);break}case Nc.Secure:{n=await this.storage.store.getAllSecureValues(e);break}}for(let[i,s]of Object.entries(n)){let a=s3e.safeParse(s);if(a.success){let f=await this.decrypt(a.data);r[i]=f}}return r}async removeSecureValue(e){switch(this.storage.type){case Nc.Plain:{await this.storage.store.remove(e);break}case Nc.Secure:{await this.storage.store.removeSecureValue(e);break}}}async setSecureValue(e,r){let n=await this.encrypt(r);switch(this.storage.type){case Nc.Plain:{await this.storage.store.set(e,n);break}case Nc.Secure:{await this.storage.store.setSecureValue(e,n);break}}}async setAllSecureValues(e){let r={};for(let[n,i]of Object.entries(e)){let s=await this.encrypt(i);r[n]=s}switch(this.storage.type){case Nc.Plain:{await this.storage.store.setAll(r);break}case Nc.Secure:{await this.storage.store.setAllSecureValues(r);break}}}async encrypt(e,r){let n=JSON.stringify(e),i=r??await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!i)throw new Error("[EncryptedStorage.encrypt] Failed to get valid encryption key");return{version:1,content:await i.foldAsync(a=>K9(n,a))}}async decrypt(e){let r=await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!r)throw new Error("[EncryptedStorage.decrypt] Failed to get valid encryption key");let n=await r.foldAsync(i=>Qv(e.content,i));return JSON.parse(Buffer.from(n).toString())}};m();g();var a3e=Ze(q0());var qE=class extends Error{static{o(this,"StorageEncryptionKeyErrorMissingPassword")}message="Failed to get the encryption password"},z9=class extends Error{static{o(this,"StorageEncryptionKeyErrorPasswordNeverSet")}message="Failed to update password that has never been set"},sK=class extends Error{static{o(this,"StorageEncryptionKeyErrorInvalidPassword")}message="Failed to decrypt using the password"},FE=".phantom-labs.encryption.encryptionKey",aK=class{static{o(this,"MiddleEncryptionKeyManager")}tempEncryptionKey;encryptionKey;deps;constructor(e){this.deps=e,this.encryptionKey=null,this.tempEncryptionKey=null}async getDeviceEncryptionKey(){let e=await this.fetchAndDecryptExistingKey();return e?Lf.from(e):(this.tempEncryptionKey||(this.tempEncryptionKey=Lf.from(this.randomEncryptionKey())),this.tempEncryptionKey)}async persistDeviceEncryptionKey(){if(await this.hasPersistedDeviceEncryptionKey())return!0;this.tempEncryptionKey||(this.tempEncryptionKey=Lf.from(this.randomEncryptionKey()));let e=this.tempEncryptionKey,r=this.getPassword(),n=o(async s=>await this.encrypt(s,r),"encryptionCallback"),i=await e.foldAsync(n);return await this.saveExistingKey(i),this.encryptionKey=i,this.tempEncryptionKey=null,!0}async hasPersistedDeviceEncryptionKey(){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),!!this.encryptionKey}async deletePersistedDeviceEncryptionKey(){return this.encryptionKey=null,this.deleteExistingKey().then(()=>!0).catch(()=>!1)}async updatePassword(e){if(!this.deps.getPassword())throw new qE;let n=await this.fetchAndDecryptExistingKey();if(!n)throw new z9;let i=await this.encrypt(n,e);await this.saveExistingKey(i),this.encryptionKey=i}async rotateEncryptionKey(e){let r=this.deps.getPassword();if(!r)throw new qE;if(!await this.fetchAndDecryptExistingKey())throw new z9;let i=Lf.from(this.randomEncryptionKey());return e(i,async(s,a)=>{let f=a??r,l=await i.foldAsync(h=>this.encrypt(h,f));return await this.saveExistingKey(l,s),this.encryptionKey=l,this.tempEncryptionKey=null,!0})}async verifyPassword(e){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey?!!await this.decrypt(this.encryptionKey,e).catch(()=>!1):(dr.addBreadcrumb(et.Storage,"Failed to get existing encryption key!",Rt.Info),!1)}async fetchAndDecryptExistingKey(){if(this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey){let e=this.getPassword();return this.decrypt(this.encryptionKey,e)}return dr.addBreadcrumb(et.Storage,"Failed to get existing encryption key!",Rt.Info),null}getPassword(){let e=this.deps.getPassword();if(!e)throw new qE;return e}async fetchExistingKey(){return this.deps.storage.get(FE)}async saveExistingKey(e,r){if(r){let n={...r,[FE]:e};return this.deps.storage.setAll(n)}else return this.deps.storage.set(FE,e)}async deleteExistingKey(){return this.deps.storage.remove(FE)}randomEncryptionKey(){return(0,a3e.randomBytes)(32)}async encrypt(e,r){return r.foldAsync(n=>t2(e,n)).then(n=>({version:1,encryptedKey:n}))}async decrypt(e,r){return r.foldAsync(n=>Qv(e.encryptedKey,n)).catch(()=>{throw new sK})}};m();g();m();g();m();g();var G9=o((t,e)=>`/user/v1/users/${t}/wallet-storage${e?`/${encodeURIComponent(e)}`:""}`,"syncedStorageEndpoint");m();g();m();g();function cy(){return(t,e)=>e??t}o(cy,"REMOTE_OVER_LOCAL");var c3e=o(async({storage:t,keyRegistry:e,allRemoteData:r})=>{let i=Object.keys(r).filter(a=>Object.prototype.hasOwnProperty.call(e,a)),s=await t.getAll();try{await t.setAll(i.reduce((a,f)=>{let l=s[f],h=r[f];if(h!=null){let{resolver:b=cy}=e[f];a[f]=b(l,h)}return a},{})).then(()=>{dr.addBreadcrumb(et.Storage,"\u2705 Synced remote data to disk!",Rt.Info)})}catch{try{for(let f of i){let l=s[f],h=r[f];if(h==null)continue;let{resolver:b=cy}=e[f];await t.set(f,b(l,h)).then(()=>{dr.addBreadcrumb(et.Storage,`\u2705 Synced remote data to disk: ${f}`,Rt.Info)}).catch(y=>{dr.addBreadcrumb(et.Storage,`\u274C Failed to sync remote data to disk: ${f} => Error: ${y}`,Rt.Info)})}}catch(f){dr.addBreadcrumb(et.Storage,`\u274C Failed to sync remote data to disk: ${f}`,Rt.Info)}}},"persistRemoteStorageToDisk");var cK=2,fK=500,VE=class t{static{o(this,"SyncedStorage")}static#t;#e;#r={};#n={};#i=null;#s=null;#a;#o=null;#c=!1;constructor({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s}){this.#e=e,this.#n=r,this.#s=n,this.#i=i,this.#a=s}static getInstance({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s}){return this.#t||(this.#t=new t({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s})),this.#t}clear(){this.#o=null,this.#r={},this.#c=!1,dr.addBreadcrumb(et.Storage,"\u{1F5D1}\uFE0F  Legacy synced storage: Cleared!",Rt.Info)}async hydrateIfNeeded(e=!0){if(!F3()){if(!this.#s||!this.#e||!this.#n)return dr.addBreadcrumb(et.Storage,"\u{1F7E0} Legacy synced storage: Not initialized!",Rt.Info);if(!await this.#a())return dr.addBreadcrumb(et.Storage,"\u{1F7E0} Legacy synced storage: Not onboarded!",Rt.Info);try{let r=await this.#s.getUser();if(!r)return dr.addBreadcrumb(et.Storage,"\u{1F7E0} Legacy synced storage: No user found",Rt.Info);if(r?.userID===this.#o)return;this.#o=r.userID;let n=await this.syncFromCloud();if(n){dr.addBreadcrumb(et.Storage,"\u2705 Legacy synced storage: Found!",Rt.Info),this.#r=n,e&&(await c3e({storage:this.#e,keyRegistry:this.#n,allRemoteData:n}),this.#c=!0);let i=Object.values(this.#n).map(s=>s.queryKey).flat();await this.#i?.invalidateQueries({queryKey:i})}}catch(r){dr.captureError(new Error(`\u274C Legacy synced storage: Failed to initialize: ${JSON.stringify(r)}`),et.Storage)}}}async syncFromCloud(e){if(this.#o)try{let r=G9(this.#o,e),n=await q3.api().bearer(!0).retry(cK,fK).get(r);if(V3(n))return n.data;dr.addBreadcrumb(et.Storage,`\u274C Legacy synced storage: Failed to sync from cloud: ${JSON.stringify(n)}`,Rt.Info)}catch(r){dr.addBreadcrumb(et.Storage,`\u274C Legacy synced storage: Failed to sync from cloud: ${JSON.stringify(r)}`,Rt.Info)}}async syncToCloud(e,r){if(this.#r[e]=r,!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return!1;try{let n=G9(this.#o,e),i=await q3.api().bearer(!0).retry(cK,fK).put(n,{value:r});if(V3(i))return dr.addBreadcrumb(et.Storage,`\u2705 Legacy synced storage: Synced to cloud: ${e}`,Rt.Info),!0;dr.addBreadcrumb(et.Storage,`\u274C Legacy synced storage: Failed to sync to cloud: ${e} => Error: ${JSON.stringify(i)}`,Rt.Info)}catch(n){dr.addBreadcrumb(et.Storage,`\u274C Legacy synced storage: Failed to sync to cloud: ${JSON.stringify(n)}`,Rt.Info)}return!1}async removeFromCloud(e){if(delete this.#r[e],!this.#o)return!1;try{let r=G9(this.#o,e),n=await q3.api().bearer(!0).retry(cK,fK).delete(r);if(V3(n))return dr.addBreadcrumb(et.Storage,`\u2705 Legacy synced storage: Removed from cloud: ${e}`,Rt.Info),!0;dr.addBreadcrumb(et.Storage,`\u274C Legacy synced storage: Failed to remove from cloud: ${e} => Error: ${JSON.stringify(n)}`,Rt.Info)}catch(r){dr.addBreadcrumb(et.Storage,`\u274C Legacy synced storage: Failed to remove from cloud: ${JSON.stringify(r)}`,Rt.Info)}return!1}async get(e){let r=await this.#e.get(e);if(!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return r;let{resolver:n=cy,fetchLatestRemote:i=!1}=this.#n[e];if(!i&&this.#c)return r;let s=i?await this.syncFromCloud(e):this.#r[e];return n(r,s)}async getAll(e){return this.#e.getAll(e)}async remove(e){await this.#e.remove(e),Array.isArray(e)?Promise.all(e.map(r=>this.removeFromCloud(r))):this.removeFromCloud(e)}async set(e,r){await this.#e.set(e,r),this.syncToCloud(e,r)}async setAll(e){await this.#e.setAll(e),Promise.all(Object.entries(e).map(([r,n])=>this.syncToCloud(r,n)))}subscribe(e){return this.#e.subscribe(e)}async update(e,r){await this.#e.update(e,r);let n=await this.get(e);this.syncToCloud(e,n)}};m();g();var $9=o((t,e,r=cy(),n=!1)=>({[t]:{queryKey:e,resolver:r,fetchLatestRemote:n}}),"generateKeyRegistry");m();g();var f3e=new WeakMap,u3e=o(()=>{let t=UE(),e=Cj();if(e instanceof VE){let r=f3e.get(e);return r===void 0&&(r=new Jv(e),f3e.set(e,r)),r}return t},"useSyncedStorageSignalProxy"),Kft=hi(t=>u3e().get(t)),zft=o(t=>Va(Kft,t),"useSyncedStorageValue"),Gft=hi(t=>{let e=u3e();return $S(function*(r){return e.set(t,r)})}),$ft=o(t=>Va(Gft,t),"useSetSyncedStorageValue");m();g();var Wft={[Tn.Monad.Mainnet]:1,[Tn.Monad.Testnet]:1,[Tn.Ethereum.Mainnet]:6,[Tn.Ethereum.Sepolia]:6,[Tn.Polygon.Mainnet]:128,[Tn.Polygon.Amoy]:128,[Tn.Base.Mainnet]:3,[Tn.Base.Sepolia]:3,[Tn.Arbitrum.Mainnet]:1,[Tn.Arbitrum.Sepolia]:1,[Tn.Hypercore.Mainnet]:1,[Tn.Hypercore.Testnet]:1,[Tn.Hyperevm.Mainnet]:1,[Tn.Hyperevm.Testnet]:1},Yft={[Tn.Bitcoin.Mainnet]:1,[Tn.Bitcoin.Testnet]:1};var Xft="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",Zft=100;m();g();m();g();m();g();m();g();m();g();var W9=class{static{o(this,"MMKVStorage")}namespaces=new Map;constructor(e){this.options=e;let{namespaces:r}=this;for(let n of e.namespaces){if(r.has(n.key))throw new Error(`Duplicate namespace key: ${n.key}`);r.set(n.key,n),qq(n,this)}}async init(){return this._initPromise||(this._initPromise=this._init()),this._initPromise}async _init(){let e=this.options.backingStore,r=Array.from(this.namespaces.values());await e.init?.(r),await Promise.all(r.map(n=>n.init(e,this.options.initDeadline??500)))}getNamespace(e){let r=this.namespaces.get(e.key);if(!r)throw new Error(`Namespace ${e.key} not found, make sure it was passed to the MMKVStorage constructor`);return r}get(e,r){return this.getNamespace(e).get(r)}async set(e,r,n){return this.getNamespace(e).set(r,n)}async sendEvent(e){await Promise.all(Array.from(this.namespaces.values()).map(r=>r.sendEvent(e)))}async reset(){for(let e of this.namespaces.values())e.reset();await this.options.backingStore.clear(),this._initPromise=void 0,await this.init()}},fy=$1(null);function uK(){let t=bm(fy);if(!t)throw new Error("useMMKVStorage must be used within a ContextProvider with MMKVStorageContext set");return t}o(uK,"useMMKVStorage");var Jft=o(async t=>{let e=new W9({backingStore:t.backingStore,initDeadline:t.initDeadline,namespaces:t.namespaces});return Fq([[fy,e]]),await e.init(),l3e(),e},"initMMKVStorage"),l3e,Qft=new Promise(t=>{l3e=t}),Y9=o(async(t,e)=>(await Qft,t(e)),"waitForMMKV");var eut=o(t=>{switch(t){case"boolean":return we.boolean();case"number":return we.number();case"string":return we.string();case"array":return we.array(we.any());default:return we.object({}).passthrough()}},"zodValidatorFromValue"),tut=o((t,e)=>{let r=new Map;for(let n of e){let i=n.type;if(i===void 0){let a=typeof n.defaultValue;if(a!=="undefined"&&a!=="function")i=typeof n.defaultValue;else throw new Error(`Item ${n.key} has no type and no default value, or the default value is a function. You must provide a type for this item.`)}let s=n.validator??eut(i);n.nullable&&(s=s.nullish().default(null)),r.set(n.key,{...n,schema:t,type:i,validator:s,nullable:n.nullable??!1,updateOn:n.updateOn??"idle"})}return n=>{let i=r.get(n);if(!i)throw new Error(`Item ${n} not found in schema ${t}`);return i}},"createItemMap");function mh(t,e,r){let n=tut(e,r),i=hi(f=>{let l=GS(fy);if(!l)throw new Error("MMKVStorage is not initialized");return l.get(t,n(f))}),s=hi(f=>{let l=GS(fy);return ro(h=>{if(!l)throw new Error("MMKVStorage is not initialized");return l.set(t,n(f),h)},0,[l,t,n,f])}),a=hi(function*(f){let l=GS(fy);if(!l)throw new Error("MMKVStorage is not initialized");return yield l.init(),l.get(t,n(f))});return[i,s,a]}o(mh,"defineMMKVSchema");m();g();var X9=o((t,e)=>{if(!t)throw new Error(e);return t},"expect"),lK=class t{static{o(this,"MMKVNamespace")}_stateFactorySignals=new Map;_removeStoreListener=void 0;onChangeCallbacks=[];localNotifier=W1();eventNotifiers={change:W1(),idle:W1()};constructor(e,r){this.key=e.key,this.disableCache=e.disableCache??!1,this.readonly=e.readonly??!1,this.disableRemoteUpdates=e.disableRemoteUpdates??!1,this._init=e.init??void 0,this._deps=r}get state(){return X9(this._state,`Namespace ${this.key} is not initialized`)}get hooks(){return X9(this._hooks,`Namespace ${this.key} is not initialized`)}get deps(){return X9(this._deps,`Namespace ${this.key} is not initialized`)}get store(){return X9(this._store,`Namespace ${this.key} is not initialized`)}withDeps(e){return new t({key:this.key,disableCache:this.disableCache,readonly:this.readonly,init:this._init},e)}onStoreChange=o(e=>{let{state:r}=this;if(r.remoteState=e.remoteState,this.onChangeCallbacks.forEach(n=>n(r.remoteState)),this.state.localVersion<e.localVersion)r.localVersion=e.localVersion,this.localNotifier.notify();else if(r.remoteVersion<e.remoteVersion){r.remoteVersion=e.remoteVersion;for(let[n,i]of Object.entries(r.eventVersions)){let s=e.eventVersions[n];i<s&&(r.eventVersions[n]=s,this.eventNotifiers[n].notify())}}},"onStoreChange");async init(e,r){this._state=e.getNamespace(this.key)??{localVersion:0,remoteVersion:0,remoteState:null,eventVersions:{change:0,idle:0}},this._store=e,this._removeStoreListener=e.onNamespaceChange?.(this.key,this.onStoreChange);let n={get:o(()=>this.state.remoteState,"get"),set:o(i=>{this.setRemoteState(i)},"set"),onChange:o(i=>{this.onChangeCallbacks.push(i)},"onChange")};this._hooks=await this._init?.(this.deps,n,r)??{},this._stateFactorySignals.clear(),this.localNotifier.notify()}getRemoteState(){return this.eventNotifiers.change.consume(),this.state.remoteState}setRemoteState(e){this.state.remoteState=e,this.state.remoteVersion++,this.sendEvent("change")}updateRemoteState(e){this.setRemoteState(e(this.state.remoteState))}getState(e){let r=this._stateFactorySignals.get(e);return r===void 0&&(r=zq(()=>{let n=this.store.getItem(this.key,e.schema,e.key)??{value:null,version:-1},i=this.disableRemoteUpdates,s=e.updateOn,a=i?0:this.state.eventVersions[s],f=i?void 0:this.eventNotifiers[s];if(n.version<a||this.disableCache){if(this.hooks.getValue){n.value=this.hooks.getValue(e,n.value);let l=e.validator.safeParse(n.value);n.value=l.success?l.data:null}n.value===null&&(n.value=typeof e.defaultValue=="function"?e.defaultValue():e.defaultValue??null),n.version=a,this.store.setItem(this.key,e.schema,e.key,n)}if(n.value===null&&!e.nullable)throw new Error(`MMKVStorage: Item ${e.key} on namespace ${this.key} is not nullable and has no default value`);return f?.consume(),this.localNotifier.consume(),mm(n.value)}),this._stateFactorySignals.set(e,r)),r.value}get=Kq(this,e=>this.getState(e).value);async set(e,r){if(this.readonly)throw new Error(`Cannot set value on read-only namespace: ${this.key}`);let n=e.validator.parse(r),i=this.getState(e),s=await this.hooks.setValue?.(e,i.value,n)??n;i.value=s,await this.store.setItem(this.key,e.schema,e.key,{value:s,version:this.state.remoteVersion}),this.state.localVersion++,await this.store.setNamespace(this.key,this.state)}async sendEvent(e){this.state.eventVersions[e]!==this.state.remoteVersion&&(this.state.eventVersions[e]=this.state.remoteVersion,this.eventNotifiers[e].notify(),await this.store.setNamespace(this.key,this.state))}async invalidate(){let r=this.state.remoteVersion+1;this.state.eventVersions.change=r,this.state.eventVersions.idle=r,this.state.remoteVersion=r,this.eventNotifiers.change.notify(),this.eventNotifiers.idle.notify(),await this.store.setNamespace(this.key,this.state)}reset(){this._hooks?.destroy?.(),this._removeStoreListener?.(),this._removeStoreListener=void 0,this.onChangeCallbacks=[]}};function uy(t){return new lK(t)}o(uy,"createMMKVNamespace");m();g();m();g();var Z9=o(async(t,e)=>{let r={};if(!t||!e||e.length===0)return r;let n=new Set;for(let i of e)for(let s of i.legacyKeys)n.add(s);if(n.size>0)try{let i=await t.getAll(Array.from(n));Object.assign(r,i)}catch(i){dr.captureError(new Error(`Failed to load legacy values for migration: ${JSON.stringify(i)}`),et.Storage)}return r},"preloadLegacyValues"),r2=o((t,e)=>`${t}:${e}`,"getResolverKey"),J9=o((t,e,r)=>{if(!r||r.length===0)return null;let n=r.find(a=>r2(a.targetSchema,a.targetKey)===t);if(!n)return null;let i={},s=!1;for(let a of n.legacyKeys){let f=e[a];f!=null&&(i[a]=f,s=!0)}if(!s)return null;try{return n.migrate(i)}catch(a){return dr.captureError(new Error(`Failed to migrate from legacy storage: ${JSON.stringify(a)}`),et.Storage),null}},"tryMigrateValue");var d3e=uy({key:"localStorage",disableRemoteUpdates:!0,init:o(async t=>{let{legacyStorage:e,migrations:r}=t,n=await Z9(e,r);return{getValue:o((i,s)=>{let a=r2(i.schema,i.key);if(s===null&&e){let f=J9(a,n,r);if(f!==null)return dr.addBreadcrumb(et.Storage,`\u{1F504} Migrated from legacy storage: ${i.key} (schema: ${i.schema})`,Rt.Info),f}return s},"getValue")}},"init")}),rut=o((t,e)=>mh(d3e,t,e),"defineLocalStorageItems");m();g();var h3e=o((t,e)=>`/user/v1/users/${t}/wallet-storage${e?`/${encodeURIComponent(e)}`:""}`,"syncedStorageEndpoint"),p3e=2,m3e=500,nut=3e5,iut=o(async(t,e)=>{try{let{rb:r,responseIsOkay:n,getBearerToken:i}=await import("./src-ZQE4XNTD.js");if(!await i({skipAutoLogin:!0}))return null;let a=h3e(t,e),f=await r.api().retry(p3e,m3e).get(a);if(n(f))return f.data;dr.addBreadcrumb(et.Storage,`\u274C MMKV synced storage: Failed to fetch from cloud: ${JSON.stringify(f)}`,Rt.Info)}catch(r){dr.addBreadcrumb(et.Storage,`\u274C MMKV synced storage: Failed to fetch from cloud: ${JSON.stringify(r)}`,Rt.Info)}return null},"fetchFromCloud"),out=o(async(t,e,r)=>{try{let{rb:n,responseIsOkay:i,getBearerToken:s}=await import("./src-ZQE4XNTD.js");if(!await s({skipAutoLogin:!0}))return!1;let f=h3e(t,e),l=await n.api().retry(p3e,m3e).put(f,{value:r});if(i(l))return dr.addBreadcrumb(et.Storage,`\u2705 MMKV synced storage: Synced to cloud: ${e}`,Rt.Info),!0;dr.addBreadcrumb(et.Storage,`\u274C MMKV synced storage: Failed to sync to cloud: ${e} => Error: ${JSON.stringify(l)}`,Rt.Info)}catch(n){dr.addBreadcrumb(et.Storage,`\u274C MMKV synced storage: Failed to sync to cloud: ${JSON.stringify(n)}`,Rt.Info)}return!1},"syncToCloud"),g3e=new Map,sut=o((t,e,r)=>{g3e.set(r2(t,e),r)},"registerResolver"),y3e=uy({key:"syncedStorage",init:o(async(t,e,r)=>{let{authRepository:n,pollingInterval:i=nut,legacyStorage:s,migrations:a}=t,f=null,l=await Z9(s,a),h=o(async()=>{if(!f){let E=await n.getUser().catch(()=>null);if(!E?.userID)return;f=E.userID}let y=await iut(f);y&&(dr.addBreadcrumb(et.Storage,"\u2705 MMKV synced storage: Fetched synced storage from cloud",Rt.Info),e.set(y))},"fetchAndUpdateRemoteState"),b=setInterval(()=>{h()},i);try{if(r>0){let y=new Promise(E=>{setTimeout(()=>{dr.addBreadcrumb(et.Storage,`\u23F1\uFE0F MMKV synced storage: Initialization timed out after ${r}ms`,Rt.Info),E()},r)});await Promise.race([h(),y])}else dr.addBreadcrumb(et.Storage,"\u23F1\uFE0F MMKV synced storage: Initialization skipped - deadline is 0 or negative",Rt.Info)}catch(y){dr.captureError(new Error(`\u274C MMKV synced storage: Failed to initialize: ${JSON.stringify(y)}`),et.Storage)}return{getValue:o((y,E)=>{let O=e.get()?.[y.key]??null,N=r2(y.schema,y.key),k=g3e.get(N),C=null;if(k?C=k(E,O):C=O??E,C===null&&s){let L=J9(N,l,a);if(L!==null)return dr.addBreadcrumb(et.Storage,`\u{1F504} MMKV synced storage: Migrated from legacy storage: ${y.key} (schema: ${y.schema})`,Rt.Info),L}return C},"getValue"),setValue:o(async(y,E,I)=>(f&&out(f,y.key,I),I),"setValue"),destroy:o(()=>{clearInterval(b)},"destroy")}},"init")}),dK=o((t,e)=>{for(let r of e)r.resolver&&sut(t,r.key,r.resolver);return mh(y3e,t,e)},"defineSyncedStorageItems");m();g();var Q9=class{static{o(this,"EppoAssignmentLogger")}analytics;constructor(e){this.analytics=e}logAssignment(e){try{let{allocation:r,experiment:n,featureFlag:i,variation:s,subject:a,subjectAttributes:f}=e,{holdoutKey:l,holdoutVariation:h}=aut(e);if(r!==null&&s!==null&&n!==null){let y={allocation:r,experiment:n,featureFlag:i,variation:s,subject:a,timestamp:new Date().toISOString(),subjectAttributes:f,...l&&{holdoutKey:l},...h&&{holdoutVariation:h}};this.analytics.capture("eppoRandomizationEvent",{data:{distinctId:a,properties:y}})}}catch(r){console.warn("EppoAssignmentLogger: Failed to log assignment event",r)}}};function aut(t){let e,r;return t.holdout&&typeof t.holdout=="string"&&(e=t.holdout??void 0),t.holdout_variation&&typeof t.holdout_variation=="string"&&(r=t.holdout_variation??void 0),{holdoutKey:e,holdoutVariation:r}}o(aut,"parseHoldoutLogging");m();g();var GO=Ze(I4e(),1);var Xht="eppo-phantom",Zht="0.0.1",Jht="https://eppo-proxy.phantom.app/api",Zz=class extends GO.MemoryOnlyConfigurationStore{static{o(this,"PhantomStorageFlagConfigurationStore")}state;constructor(e){super(),this.state=e;let r=this.state.get();r&&super.setEntries(r),this.state.onChange(n=>{super.setEntries(n)})}setEntries(e){return this.state.set(e),super.setEntries(e)}},zO=null;async function Qht({apiKey:t,pollingEnabled:e,state:r,logTelemetry:n,initDeadline:i,pollingIntervalMs:s}){let a=new Zz(r),f=new GO.EppoClient({flagConfigurationStore:a}),l={apiKey:t,sdkName:Xht,sdkVersion:Zht,baseUrl:Jht,pollAfterSuccessfulInitialization:e,pollAfterFailedInitialization:e,pollingIntervalMs:s};f.setConfigurationRequestParameters(l);let h=performance.now();n?.("Eppo: Initializing Eppo provider ..."),await a.init();let b=f.fetchFlagConfigurations();a.getKeys().length===0?(n?.("Eppo: No initial values in the configuration store, waiting for the first fetch"),await Promise.race([b,new Promise(E=>setTimeout(E,i))])):n?.("Eppo: Initial values in the configuration store, serving from store and skipping initial fetch");let y=performance.now()-h;return n?.(`Eppo: Initialized Eppo provider in ${y.toFixed(2)}ms`),f}o(Qht,"_initEppo");async function T4e(t){return zO||(zO=Qht(t),zO)}o(T4e,"initEppo");var R4e={getBooleanAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getBooleanAssignmentDetails"),getStringAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getStringAssignmentDetails"),getNumericAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getNumericAssignmentDetails"),getJSONAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getJSONAssignmentDetails"),setAssignmentLogger:o(t=>{},"setAssignmentLogger"),useNonExpiringInMemoryAssignmentCache:o(()=>{},"useNonExpiringInMemoryAssignmentCache"),stopPolling:o(()=>{},"stopPolling")};var ept=o(async(t,e,r)=>{let{eppoClient:n}=t;if(t.logTelemetry?.("Eppo: Initializing Eppo provider ..."),!n)if((!Uy()||F3())&&!V$())n=R4e;else{let i={get:o(()=>e.get()?.eppoConfig??null,"get"),set:o(s=>{let a=e.get();e.set({overrides:a?.overrides??{},eppoConfig:s,userId:a?.userId??void 0})},"set"),onChange:o(s=>e.onChange(({eppoConfig:a})=>s(a)),"onChange")};if(n=await T4e({apiKey:t.apiKey,pollingEnabled:t.pollingEnabled,state:i,logTelemetry:t.logTelemetry,initDeadline:r,pollingIntervalMs:3e5}),t.analytics){let s=new Q9(t.analytics);n.setAssignmentLogger(s),n.useNonExpiringInMemoryAssignmentCache()}}return{getValue:o((i,s)=>{try{let a,f,l=i.key,{deviceId:h,subjectAttributes:b}=t,y=e.get(),E=i.subjectAssignment??"user";if(E==="user"&&!y?.userId)return i.defaultValue??null;let I;switch(E){case"user":I=y?.userId??h;break;case"device":I=h;break}if(y?.overrides[l]!==void 0)return y.overrides[l]??null;if(i.isLegacyStringBoolean)a=n.getStringAssignmentDetails(l,I,b,"DEFAULT"),a.variation==="DEFAULT"?f=i.defaultValue??null:f=a.variation==="variant";else{switch(i.type){case"boolean":a=n.getBooleanAssignmentDetails(l,I,b,i.defaultValue);break;case"string":a=n.getStringAssignmentDetails(l,I,b,i.defaultValue);break;case"number":a=n.getNumericAssignmentDetails(l,I,b,i.defaultValue);break;default:a=n.getJSONAssignmentDetails(l,I,b,i.defaultValue)}f=a.variation}return t.telemetry&&a.evaluationDetails&&t.telemetry.trackFeatureFlag(l,f),f??null}catch(a){return console.error("Error fetching feature flag",a),i.defaultValue??null}},"getValue"),destroy:o(()=>{n.stopPolling()},"destroy")}},"flagNamespaceInit"),c3=uy({key:"flags",init:ept,disableCache:Xa()}),tpt=o(()=>Va(rpt),"useFlagOverrides"),rpt=hi(()=>{let e=uK().getNamespace(c3);return[e.getRemoteState()?.overrides,ro(r=>{let n=typeof r=="function"?r(e.getRemoteState()?.overrides??{}):r;e.updateRemoteState(ro(i=>({eppoConfig:i?.eppoConfig??{},overrides:n,userId:i?.userId}),0,[n])),e.sendEvent("idle")},0,[e])]}),Jz=new WeakMap,Qz=o((t,e)=>{let r=e.map(i=>({...i,defaultValue:Uy()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=mh(c3,`feature:${t}`,r);return Jz.set(n,e),n},"defineFeatureFlags"),eG=o((t,e)=>{let r=e.map(s=>({key:typeof s=="string"?s:s.key,defaultValue:!1,type:"boolean",updateOn:"change",isLegacyStringBoolean:typeof s=="object"?s.isLegacyStringBoolean:!1,subjectAssignment:typeof s=="object"?s.subjectAssignment:void 0})),[n]=mh(c3,`kill-switch:${t}`,r),i=o(s=>{try{return n(s)}catch{return!1}},"useValueWrapper");return Jz.set(i,r),i},"defineKillSwitches"),tG=o((t,e)=>{let r=e.map(i=>({...i,defaultValue:Uy()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=mh(c3,`config:${t}`,r);return Jz.set(n,e),n},"defineRemoteConfigs");var rG=o(t=>Va(Wd,t),"useFeatureFlag"),Wd=Qz("general",[{key:"enable-receive-qr-default-view",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"user"},{key:"enable-psol-staking",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-fungible-categories",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-welcome-modal",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-trusted-token-badge",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-fungible-position",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-portfolio-token-balances",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-feed-nux",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-live-chat",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-tokens-for-you",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-similar-tokens",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-per-actor-notifications-toggle",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-chat",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-chat-tab",defaultValue:!1,devDefaultValue:!0},{key:"enable-home-trending-tokens",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-home-tab-price-streaming",defaultValue:!1,devDefaultValue:!0},{key:"enable-profile-holdings",defaultValue:!1,devDefaultValue:!0},{key:"enable-follow-module",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-chat-badges",defaultValue:!1,devDefaultValue:!0},{key:"enable-token-gated-chat",defaultValue:!1,devDefaultValue:!0},{key:"enable-prediction-market-chat",defaultValue:!1,devDefaultValue:!0},{key:"enable-prediction-market-chat-system-messages",defaultValue:!1,devDefaultValue:!0},{key:"enable-predictions-api-debug",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-live-feed",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-quick-claim",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-notification-center",defaultValue:!1,devDefaultValue:!0},{key:"enable-prediction-quote-streaming",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-internal-perps-actions",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-ext-swap-commands",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-custom-tips",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-ngs-bridging",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-leaderboard",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-competitions",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"user"},{key:"enable-perps-relay-bridge",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-relay-withdrawal",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-skia-charts",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-trending-perps",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-limit-orders",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-direct-open-position",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-remove-funding-ctas",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-be-swapper-max-amount",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-exact-out",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-presence",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-presence-ui",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-hip3-testnet-dogfood-filter",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-new-launches-ui",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-replace-classic-ngs",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-prediction-markets",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-internal-predictions-actions",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-prediction-arbitrary-mints",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-coozie",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-funding-warm",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perp-actions-v2",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-bitcoin-swap",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-activation-funnel-improvements",defaultValue:!1,devDefaultValue:!0},{key:"enable-fungible-detail-perps-ctas",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-terminal-cta",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-force-upgrade",defaultValue:!1,isLegacyStringBoolean:!0,subjectAssignment:"device"},{key:"enable-seedless-pin-verification-interstitial",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-delete-seedless-bundle-security-settings",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-fiat-ramp-provider-quotes",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cleanup-on-not-registered-error",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-onboarding-auth-bypass-fix",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-withdraw-sol",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-liquid-staking-rewards-card",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-native-convert",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-native-delayed-convert",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-convert-banner",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-deposit-psol-with-kamino-link",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-uk-staking-disclaimers",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-uk-staking-override",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-phantom-login",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"spending_limits_cumulative",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-vault-account",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-vault-account-ext",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"always-show-all-sites-permissions",defaultValue:!1,subjectAssignment:"device"},{key:"enable-arbitrum",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-hyperevm",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-home-redesign",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-open-access-cash-lite",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-general-access",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-bug-reporter",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-buy-flow-warning",defaultValue:!1,subjectAssignment:"device"},{key:"enable-onboarding-aa",defaultValue:!1,subjectAssignment:"device"},{key:"enable-bypass-utxo-protection",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-cards",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-new-activity",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-app-icon",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-mainnet",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-swapper",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-feature-flag-invalidate-test",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-braze-content-cards",type:"boolean",devDefaultValue:!0,defaultValue:!1},{key:"enable-signalium-query-price-streaming",defaultValue:!1,devDefaultValue:!0}]),$O=tG("general",[{key:"token-chat-leaderboard-config",type:"string",nullable:!0,devDefaultValue:"banner-badges",subjectAssignment:"device"},{key:"seedless-pin-verification-timer-in-ms",type:"number",nullable:!0,subjectAssignment:"device"},{key:"latest-terms-of-service-version-number",type:"string",nullable:!0,subjectAssignment:"device"},{key:"latest-notification-updated-version-number",type:"string",nullable:!0,subjectAssignment:"device"},{key:"enable-implicit-terms-agreement",type:"boolean",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"home-token-lists",type:"string",defaultValue:"trending,following",subjectAssignment:"user"},{key:"sui-gas-budget-multiplier",type:"string",nullable:!0,subjectAssignment:"device"},{key:"frontend-transaction-sharing-delay-ms",type:"number",nullable:!0,subjectAssignment:"device"},{key:"psol-popup-copy-test",type:"string",nullable:!0,subjectAssignment:"device"},{key:"swapper-poll-interval-json",type:"object",nullable:!0,subjectAssignment:"device"},{key:"swapper-high-slippage-threshold",type:"string",nullable:!0,subjectAssignment:"device"},{key:"enabled-ugc-programs",type:"object",nullable:!0,subjectAssignment:"device"},{key:"trade-hub-variant",type:"string",nullable:!0,devDefaultValue:"trade-menu",subjectAssignment:"device"},{key:"predictions-gas-additional-sol",type:"number",nullable:!0,defaultValue:.004,subjectAssignment:"device"},{key:"blocked-swapper-chains",type:"object",nullable:!0,subjectAssignment:"device"},{key:"funds-in-transit-amounts",type:"object",nullable:!0,subjectAssignment:"device"},{key:"transactions-simulation-interval-ms",type:"string",nullable:!0,subjectAssignment:"device"},{key:"home-section-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"explore-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"explore-discover-home-tokens-limit",type:"number",nullable:!1,defaultValue:11,subjectAssignment:"device"},{key:"launches-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"auto-confirm-session-duration",type:"number",nullable:!1,defaultValue:7200,subjectAssignment:"device"},{key:"predictions-geo-restriction-help-url",type:"string",nullable:!0,defaultValue:"https://help.phantom.com",devDefaultValue:"https://help.phantom.com",subjectAssignment:"device"},{key:"predictions-trending-items-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-tag-section-items-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-home-featured-poll-interval-ms",type:"number",nullable:!0,devDefaultValue:6e4,subjectAssignment:"device"},{key:"predictions-home-positions-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-countdown-threshold-hours",type:"number",nullable:!1,defaultValue:6,devDefaultValue:6,subjectAssignment:"device"},{key:"wallet-balance-background-foreground-timer",type:"string",nullable:!0,subjectAssignment:"device"},{key:"network-logger-config-json",type:"object",nullable:!0,subjectAssignment:"device"}]),nG=o(t=>Va($O,t),"useRemoteConfig"),npt=o(t=>Va(h2,t),"useKillSwitch"),h2=eG("general",["kill-action-banners","kill-frontend-server-time","kill-frontend-local-check",{key:"kill-automatic-approval",isLegacyStringBoolean:!0},"kill-clickjack-protection","kill-validators-v2","kill-base-history","kill-blowfish-blocklist-cursor","kill-collectibles","kill-explore","kill-extension-storage-integrity-check","kill-dynamic-price-in-explore","kill-ledger-xpub-derivation","kill-phantom-validator",{key:"kill-previous-blocklist",isLegacyStringBoolean:!0},"kill-send-simulation","kill-swapper",{key:"kill-swapper-simulation",isLegacyStringBoolean:!0},"kill-vault-secure-cache","kill-liquid-staking-convert","kill-suins","kill-perps-cash-funding","kill-perps-funding","kill-perps-withdrawal","kill-predictions-trading","kill-add-to-wallet","kill-cash-feedback-form","kill-cash-fees","kill-cash-fiat-ramp","kill-cash-fiat-ramp-apple-pay","kill-cash-fiat-ramp-bank","kill-cash-fiat-ramp-card","kill-cash-invalidate-auth-bandaid","kill-cash-open-cash-cta","kill-cash-out-disable","kill-cash-out-rent-exemption","kill-cash-out-tx-simulation","kill-cash-perps-quote-chain-addresses","kill-cash-balance-optimistic-update","kill-cash-swap-listener","kill-welcome-cash-modal","kill-cash-waitlist-activation-interstitial","kill-cash-general-access-activation-interstitial"]);m();g();var ipt=o(t=>Va(opt,t),"useFeatureFlags"),opt=hi(t=>({data:t.map(ro(r=>r.startsWith("kill-")?h2(r):Wd(r),0)),isLoading:!1,isFetched:!0})),f3={isFeatureEnabled(t){return t==="enabled-ugc-programs"?!0:t.startsWith("kill-")?h2(t):Wd(t)},isFeatureEnabledAsync(t){return t.startsWith("kill-")?Y9(h2,t):Y9(Wd,t)},getMultivariateAssignment(t,e){let r=$O(t);return typeof r=="string"||r===null?r:JSON.stringify(r)}};m();g();m();g();var spt=R.EPPO_API_KEY;m();g();function apt(){let t=nG("trade-hub-variant");return rG("enable-replace-classic-ngs")||!!t}o(apt,"useIsTradeHubText");m();g();m();g();function cpt(t,e){return e.getSupportedChains().includes(t)}o(cpt,"isChainSupported");function O4e(t,e){if(CR(t))return e.get(t);if(Nt.isNetworkID(t)){let r=Nt.getChainID(t);if(cpt(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}o(O4e,"get");function iG(t){return{get:o(e=>O4e(e,t),"get"),supportedChains:t.getSupportedChains()}}o(iG,"createChainConfig");m();g();var oG=class{static{o(this,"ChainConfigRegistry")}chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};m();g();m();g();var wy="@phantom/chains",u3={enabledChains:[`${wy}:enabled-chains`],enabledAddressTypes:[`${wy}:enabled-address-types`],enabledNetworkIDs(t){return[`${wy}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${wy}:chain-availability`,t]}};var p2=".phantom-labs.internal.enabledChainsOverrideSettings",sG=hi(()=>{try{return aG(p2)?.settings}catch{return null}});var N4e=hi(()=>{let t=[],e;try{e=sG(),e&&Object.entries(e).forEach(ro(([r,n])=>{n||t.push(r)},0,[t]))}catch{}try{Nt.getAllChainIDs().forEach(ro(r=>{e&&e[r]||Nt.isChainDefaultEnabled(r)||t.push(r)},1,[e,t]))}catch{}return[...new Set(t)]});var hKr=o(async t=>{let e=await sG(),r=WO(p2),n=t.reduce((i,s)=>(i[s]=!0,i),{});return r({version:1,settings:{...e!=null&&e,...n}})},"enableChainIDs"),pKr=o(async t=>{let e=await sG(),r=WO(p2),n=t.reduce((i,s)=>(i[s]=!1,i),{});return r({version:1,settings:{...e!=null&&e,...n}})},"disableChainIDs"),jm=".phantom-labs.internal.disabledAddressTypes",fpt=we.object({version:we.literal(1),settings:we.record(we.boolean())}),upt=we.object({version:we.literal(1),addressTypes:we.array(we.nativeEnum(We))}),lpt=o((t,e)=>{let r=t,n=e;return!r&&!n?null:{version:1,settings:{...r?.settings??{},...n?.settings??{}}}},"enabledChainsOverridesResolver"),dpt=o((t,e)=>{let r=t,n=e;if(!r&&!n)return null;let i=new Set([...r?.addressTypes??[],...n?.addressTypes??[]]);return{version:1,addressTypes:Array.from(i)}},"disabledAddressTypesResolver"),[aG,WO,M4e]=dK("chains",[{key:p2,type:"object",validator:fpt,nullable:!0,resolver:lpt,updateOn:"change"},{key:jm,type:"object",validator:upt,nullable:!0,resolver:dpt,updateOn:"change"}]);var hpt=hi(()=>{let t;try{t=aG(jm)!==null}catch{t=!1}return t}),C4e=hi(()=>{let t;try{t=aG(jm)?.addressTypes??[]}catch{t=[]}return[...new Set([...t,We.BitcoinNestedSegwit,We.BitcoinLegacy])]}),ppt=o(async t=>{let e=await M4e(jm),r=new Set(e?.addressTypes??[]);return r.delete(t),WO(jm)({version:1,addressTypes:Array.from(r)})},"enableAddressType"),mpt=o(async t=>{let e=await M4e(jm),r=new Set(e?.addressTypes??[]);return r.add(t),WO(jm)({version:1,addressTypes:Array.from(r)})},"disableAddressType"),gpt=o((t,e)=>({version:1,settings:{...t?.settings,...e?.settings}}),"syncedEnabledChainsOverridesResolver"),ypt={...$9(p2,[`${wy}:chain-availability`,`${wy}:enabled-network-ids`,...u3.enabledChains],gpt),...$9(jm,[...u3.enabledAddressTypes])};m();g();var k4e=Ze(Rh()),XO=Ze(so());var YO={async deriveAddresses(){},getUIConfig:o(()=>({}),"getUIConfig"),supportedUIConfigChains:[]},B4e=(0,XO.createContext)(YO);function bpt({children:t,registry:e,effects:r}){let n=e?iG(e):void 0,i={deriveAddresses:r?.deriveAddresses??YO.deriveAddresses,getUIConfig:o(s=>n?n.get(s):YO.getUIConfig(s),"getUIConfig"),supportedUIConfigChains:n?n.supportedChains:YO.supportedUIConfigChains};return(0,k4e.jsx)(B4e.Provider,{value:i,children:t})}o(bpt,"ChainDependencyProvider");function xpt(){return(0,XO.useContext)(B4e)}o(xpt,"useChainDependencies");m();g();var P4e=!1,vpt=hi(()=>{let t=Wd("enable-arbitrum"),e=Wd("enable-hyperevm"),r=Wd("enable-monad-mainnet"),n=!Uy();P4e||(dr.addBreadcrumb(et.Network,"Fetched chain availability",Rt.Info,{skipFileLogger:!0}),P4e=!0);let i=Nt.getAllChainIDs().filter(ro(M=>(M!==Et.Arbitrum||t)&&(M!==Et.Hypercore||n)&&(M!==Et.Hyperevm||e),0,[t,n,e])),s=N4e(),a=new Set(s),f=i.filter(ro(M=>!a.has(M),1,[a])),l=ro(M=>{let U=Nt.getChainID(M);return!r&&U===Et.Monad&&Nt.isMainnetNetworkID(M)?!1:f.includes(U)},2,[r,f]),h=Nt.getAllNetworkIDs({mainnetOnly:!1}).filter(l),b=Nt.getAllNetworkIDs({mainnetOnly:!0}).filter(l),y=new Set(s.flatMap(ro(M=>Nt.getNetworkIDs(M),3))),E=h.filter(ro(M=>!y.has(M),4,[y])),I=b.filter(ro(M=>!y.has(M),5,[y])),O=E.filter(ro(M=>!Nt.isMainnetNetworkID(M),6)),N=t1.getAll(),k=C4e(),C=new Set(k);for(let M of N){let U=Nt.getChainIDs(M);if(!U){C.add(M);continue}U.every(ro(j=>a.has(j),7,[a]))&&C.add(M)}let L=N.filter(ro(M=>!C.has(M),8,[C]));return{supportedChainIDs:i,supportedAddressTypes:N,disabledChainIDs:s,enabledChainIDs:f,enabledAddressTypes:L,enabledNetworkIDs:E,enabledMainnetOnlyNetworkIDs:I,enabledTestnetOnlyNetworkIDs:O}});m();g();var L4e=[],_pt=o(t=>{L4e.push(t)},"registerExtraChainAvailabilityInvalidator"),wpt=o(async t=>{let e=f3.isFeatureEnabled("enable-arbitrum"),r=f3.isFeatureEnabled("enable-hyperevm"),n=f3.isFeatureEnabled("enable-monad-mainnet");await t.invalidateQueries({queryKey:u3.chainAvailability({isArbitrumEnabled:e,isHyperevmEnabled:r,isMonadMainnetEnabled:n})}),await Promise.all(L4e.map(i=>i(t)))},"invalidateChainAvailability");m();g();var Spt={days:o(t=>t*864e5,"days"),hours:o(t=>t*36e5,"hours"),minutes:o(t=>t*6e4,"minutes"),seconds:o(t=>t*1e3,"seconds"),milliseconds:o(t=>t,"milliseconds"),microseconds:o(t=>t/1e3,"microseconds"),nanoseconds:o(t=>t/1e6,"nanoseconds")};function mzr(t){let e=0;for(let[r,n]of Object.entries(t)){let i=Spt[r];e+=i(n)}return e}o(mzr,"toMilliseconds");m();g();var D4e=Ze(Rh()),ZO=Ze(so());var U4e=(0,ZO.createContext)(null);function vzr({children:t,analytics:e}){return(0,D4e.jsx)(U4e.Provider,{value:e,children:t})}o(vzr,"AnalyticsProvider");function _zr(){let t=(0,ZO.useContext)(U4e);return t||{capture:o(async()=>{},"capture"),addUserProperties:o(async()=>{},"addUserProperties"),identify:o(async()=>{},"identify"),getDeviceId:o(async()=>"","getDeviceId"),setDeviceId:o(()=>{},"setDeviceId"),setAnalyticsOptedOut:o(async()=>{},"setAnalyticsOptedOut"),setDisplayLanguage:o(async()=>{},"setDisplayLanguage"),screen:o(()=>{},"screen"),page:o(()=>{},"page"),rudderClient:null}}o(_zr,"useAnalytics");m();g();m();g();var Ept=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),cG={randomUUID:Ept};m();g();var JO,Apt=new Uint8Array(16);function fG(){if(!JO&&(JO=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!JO))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return JO(Apt)}o(fG,"rng");m();g();var Ts=[];for(let t=0;t<256;++t)Ts.push((t+256).toString(16).slice(1));function H4e(t,e=0){return Ts[t[e+0]]+Ts[t[e+1]]+Ts[t[e+2]]+Ts[t[e+3]]+"-"+Ts[t[e+4]]+Ts[t[e+5]]+"-"+Ts[t[e+6]]+Ts[t[e+7]]+"-"+Ts[t[e+8]]+Ts[t[e+9]]+"-"+Ts[t[e+10]]+Ts[t[e+11]]+Ts[t[e+12]]+Ts[t[e+13]]+Ts[t[e+14]]+Ts[t[e+15]]}o(H4e,"unsafeStringify");function Ipt(t,e,r){if(cG.randomUUID&&!e&&!t)return cG.randomUUID();t=t||{};let n=t.random||(t.rng||fG)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return H4e(n)}o(Ipt,"v4");var Tpt=Ipt;m();g();m();g();m();g();m();g();m();g();m();g();function N8e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(N8e,"number");function lG(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(lG,"bytes");function M8e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");N8e(t.outputLen),N8e(t.blockLen)}o(M8e,"hash");function m2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(m2,"exists");function C8e(t,e){lG(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(C8e,"output");m();g();m();g();var eN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var k8e=o(t=>t instanceof Uint8Array,"u8a");var tN=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),pl=o((t,e)=>t<<32-e|t>>>e,"rotr"),jgt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!jgt)throw new Error("Non little-endian hardware is not supported");function Kgt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(Kgt,"utf8ToBytes");function l3(t){if(typeof t=="string"&&(t=Kgt(t)),!k8e(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(l3,"toBytes");function B8e(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!k8e(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(B8e,"concatBytes");var g2=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},y$r={}.toString;function P8e(t){let e=o(n=>t().update(l3(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(P8e,"wrapConstructor");function rN(t=32){if(eN&&typeof eN.getRandomValues=="function")return eN.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}o(rN,"randomBytes");function zgt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(zgt,"setBigUint64");var nN=class extends g2{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tN(this.buffer)}update(e){m2(this);let{view:r,buffer:n,blockLen:i}=this;e=l3(e);let s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=tN(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){m2(this),C8e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let y=a;y<i;y++)r[y]=0;zgt(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=tN(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,b=this.get();if(h>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)f.setUint32(4*y,b[y],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.length=i,e.pos=f,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var Ggt=o((t,e,r)=>t&e^~t&r,"Chi"),$gt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),Wgt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Km=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zm=new Uint32Array(64),dG=class extends nN{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=Km[0]|0,this.B=Km[1]|0,this.C=Km[2]|0,this.D=Km[3]|0,this.E=Km[4]|0,this.F=Km[5]|0,this.G=Km[6]|0,this.H=Km[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let y=0;y<16;y++,r+=4)zm[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let E=zm[y-15],I=zm[y-2],O=pl(E,7)^pl(E,18)^E>>>3,N=pl(I,17)^pl(I,19)^I>>>10;zm[y]=N+zm[y-7]+O+zm[y-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:b}=this;for(let y=0;y<64;y++){let E=pl(f,6)^pl(f,11)^pl(f,25),I=b+E+Ggt(f,l,h)+Wgt[y]+zm[y]|0,N=(pl(n,2)^pl(n,13)^pl(n,22))+$gt(n,i,s)|0;b=h,h=l,l=f,f=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,b=b+this.H|0,this.set(n,i,s,a,f,l,h,b)}roundClean(){zm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var iN=P8e(()=>new dG);m();g();var gG={};H$(gG,{bitGet:()=>t1t,bitLen:()=>e1t,bitMask:()=>d3,bitSet:()=>r1t,bytesToHex:()=>Sy,bytesToNumberBE:()=>Rs,bytesToNumberLE:()=>aN,concatBytes:()=>Eh,createHmacDrbg:()=>mG,ensureBytes:()=>Bo,equalBytes:()=>Jgt,hexToBytes:()=>Ey,hexToNumber:()=>pG,numberToBytesBE:()=>ml,numberToBytesLE:()=>cN,numberToHexUnpadded:()=>U8e,numberToVarBytesBE:()=>Zgt,utf8ToBytes:()=>Qgt,validateObject:()=>Gm});m();g();var D8e=BigInt(0),oN=BigInt(1),Ygt=BigInt(2),sN=o(t=>t instanceof Uint8Array,"u8a"),Xgt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Sy(t){if(!sN(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Xgt[t[r]];return e}o(Sy,"bytesToHex");function U8e(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(U8e,"numberToHexUnpadded");function pG(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}o(pG,"hexToNumber");function Ey(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}o(Ey,"hexToBytes");function Rs(t){return pG(Sy(t))}o(Rs,"bytesToNumberBE");function aN(t){if(!sN(t))throw new Error("Uint8Array expected");return pG(Sy(Uint8Array.from(t).reverse()))}o(aN,"bytesToNumberLE");function ml(t,e){return Ey(t.toString(16).padStart(e*2,"0"))}o(ml,"numberToBytesBE");function cN(t,e){return ml(t,e).reverse()}o(cN,"numberToBytesLE");function Zgt(t){return Ey(U8e(t))}o(Zgt,"numberToVarBytesBE");function Bo(t,e,r){let n;if(typeof e=="string")try{n=Ey(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(sN(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}o(Bo,"ensureBytes");function Eh(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!sN(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(Eh,"concatBytes");function Jgt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(Jgt,"equalBytes");function Qgt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(Qgt,"utf8ToBytes");function e1t(t){let e;for(e=0;t>D8e;t>>=oN,e+=1);return e}o(e1t,"bitLen");function t1t(t,e){return t>>BigInt(e)&oN}o(t1t,"bitGet");var r1t=o((t,e,r)=>t|(r?oN:D8e)<<BigInt(e),"bitSet"),d3=o(t=>(Ygt<<BigInt(t-1))-oN,"bitMask"),hG=o(t=>new Uint8Array(t),"u8n"),L8e=o(t=>Uint8Array.from(t),"u8fr");function mG(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=hG(t),i=hG(t),s=0,a=o(()=>{n.fill(1),i.fill(0),s=0},"reset"),f=o((...y)=>r(i,n,...y),"h"),l=o((y=hG())=>{i=f(L8e([0]),y),n=f(),y.length!==0&&(i=f(L8e([1]),y),n=f())},"reseed"),h=o(()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let y=0,E=[];for(;y<e;){n=f();let I=n.slice();E.push(I),y+=n.length}return Eh(...E)},"gen");return o((y,E)=>{a(),l(y);let I;for(;!(I=E(h()));)l();return a(),I},"genUntil")}o(mG,"createHmacDrbg");var n1t={bigint:o(t=>typeof t=="bigint","bigint"),function:o(t=>typeof t=="function","function"),boolean:o(t=>typeof t=="boolean","boolean"),string:o(t=>typeof t=="string","string"),stringOrUint8Array:o(t=>typeof t=="string"||t instanceof Uint8Array,"stringOrUint8Array"),isSafeInteger:o(t=>Number.isSafeInteger(t),"isSafeInteger"),array:o(t=>Array.isArray(t),"array"),field:o((t,e)=>e.Fp.isValid(t),"field"),hash:o(t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen),"hash")};function Gm(t,e,r={}){let n=o((i,s,a)=>{let f=n1t[s];if(typeof f!="function")throw new Error(`Invalid validator "${s}", expected function`);let l=t[i];if(!(a&&l===void 0)&&!f(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)},"checkField");for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}o(Gm,"validateObject");var Lo=BigInt(0),Gi=BigInt(1),Ay=BigInt(2),i1t=BigInt(3),yG=BigInt(4),H8e=BigInt(5),F8e=BigInt(8),o1t=BigInt(9),s1t=BigInt(16);function Po(t,e){let r=t%e;return r>=Lo?r:e+r}o(Po,"mod");function a1t(t,e,r){if(r<=Lo||e<Lo)throw new Error("Expected power/modulo > 0");if(r===Gi)return Lo;let n=Gi;for(;e>Lo;)e&Gi&&(n=n*t%r),t=t*t%r,e>>=Gi;return n}o(a1t,"pow");function lf(t,e,r){let n=t;for(;e-- >Lo;)n*=n,n%=r;return n}o(lf,"pow2");function fN(t,e){if(t===Lo||e<=Lo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Po(t,e),n=e,i=Lo,s=Gi,a=Gi,f=Lo;for(;r!==Lo;){let h=n/r,b=n%r,y=i-a*h,E=s-f*h;n=r,r=b,i=a,s=f,a=y,f=E}if(n!==Gi)throw new Error("invert: does not exist");return Po(i,e)}o(fN,"invert");function c1t(t){let e=(t-Gi)/Ay,r,n,i;for(r=t-Gi,n=0;r%Ay===Lo;r/=Ay,n++);for(i=Ay;i<t&&a1t(i,e,t)!==t-Gi;i++);if(n===1){let a=(t+Gi)/yG;return o(function(l,h){let b=l.pow(h,a);if(!l.eql(l.sqr(b),h))throw new Error("Cannot find square root");return b},"tonelliFast")}let s=(r+Gi)/Ay;return o(function(f,l){if(f.pow(l,e)===f.neg(f.ONE))throw new Error("Cannot find square root");let h=n,b=f.pow(f.mul(f.ONE,i),r),y=f.pow(l,s),E=f.pow(l,r);for(;!f.eql(E,f.ONE);){if(f.eql(E,f.ZERO))return f.ZERO;let I=1;for(let N=f.sqr(E);I<h&&!f.eql(N,f.ONE);I++)N=f.sqr(N);let O=f.pow(b,Gi<<BigInt(h-I-1));b=f.sqr(O),y=f.mul(y,O),E=f.mul(E,b),h=I}return y},"tonelliSlow")}o(c1t,"tonelliShanks");function f1t(t){if(t%yG===i1t){let e=(t+Gi)/yG;return o(function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s},"sqrt3mod4")}if(t%F8e===H8e){let e=(t-H8e)/F8e;return o(function(n,i){let s=n.mul(i,Ay),a=n.pow(s,e),f=n.mul(i,a),l=n.mul(n.mul(f,Ay),a),h=n.mul(f,n.sub(l,n.ONE));if(!n.eql(n.sqr(h),i))throw new Error("Cannot find square root");return h},"sqrt5mod8")}return t%s1t,c1t(t)}o(f1t,"FpSqrt");var u1t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bG(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=u1t.reduce((n,i)=>(n[i]="function",n),e);return Gm(t,r)}o(bG,"validateField");function l1t(t,e,r){if(r<Lo)throw new Error("Expected power > 0");if(r===Lo)return t.ONE;if(r===Gi)return e;let n=t.ONE,i=e;for(;r>Lo;)r&Gi&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Gi;return n}o(l1t,"FpPow");function d1t(t,e){let r=new Array(e.length),n=e.reduce((s,a,f)=>t.is0(a)?s:(r[f]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,f)=>t.is0(a)?s:(r[f]=t.mul(s,r[f]),t.mul(s,a)),i),r}o(d1t,"FpInvertBatch");function xG(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(xG,"nLength");function q8e(t,e,r=!1,n={}){if(t<=Lo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=xG(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=f1t(t),f=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:d3(i),ZERO:Lo,ONE:Gi,create:o(l=>Po(l,t),"create"),isValid:o(l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Lo<=l&&l<t},"isValid"),is0:o(l=>l===Lo,"is0"),isOdd:o(l=>(l&Gi)===Gi,"isOdd"),neg:o(l=>Po(-l,t),"neg"),eql:o((l,h)=>l===h,"eql"),sqr:o(l=>Po(l*l,t),"sqr"),add:o((l,h)=>Po(l+h,t),"add"),sub:o((l,h)=>Po(l-h,t),"sub"),mul:o((l,h)=>Po(l*h,t),"mul"),pow:o((l,h)=>l1t(f,l,h),"pow"),div:o((l,h)=>Po(l*fN(h,t),t),"div"),sqrN:o(l=>l*l,"sqrN"),addN:o((l,h)=>l+h,"addN"),subN:o((l,h)=>l-h,"subN"),mulN:o((l,h)=>l*h,"mulN"),inv:o(l=>fN(l,t),"inv"),sqrt:n.sqrt||(l=>a(f,l)),invertBatch:o(l=>d1t(f,l),"invertBatch"),cmov:o((l,h,b)=>b?h:l,"cmov"),toBytes:o(l=>r?cN(l,s):ml(l,s),"toBytes"),fromBytes:o(l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return r?aN(l):Rs(l)},"fromBytes")});return Object.freeze(f)}o(q8e,"Field");function V8e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}o(V8e,"getFieldBytesLength");function vG(t){let e=V8e(t);return e+Math.ceil(e/2)}o(vG,"getMinHashLength");function j8e(t,e,r=!1){let n=t.length,i=V8e(e),s=vG(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=r?Rs(t):aN(t),f=Po(a,e-Gi)+Gi;return r?cN(f,i):ml(f,i)}o(j8e,"mapHashToField");m();g();m();g();var p1t=BigInt(0),_G=BigInt(1);function K8e(t,e){let r=o((i,s)=>{let a=s.negate();return i?a:s},"constTimeNegate"),n=o(i=>{let s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}},"opts");return{constTimeNegate:r,unsafeLadder(i,s){let a=t.ZERO,f=i;for(;s>p1t;)s&_G&&(a=a.add(f)),f=f.double(),s>>=_G;return a},precomputeWindow(i,s){let{windows:a,windowSize:f}=n(s),l=[],h=i,b=h;for(let y=0;y<a;y++){b=h,l.push(b);for(let E=1;E<f;E++)b=b.add(h),l.push(b);h=b.double()}return l},wNAF(i,s,a){let{windows:f,windowSize:l}=n(i),h=t.ZERO,b=t.BASE,y=BigInt(2**i-1),E=2**i,I=BigInt(i);for(let O=0;O<f;O++){let N=O*l,k=Number(a&y);a>>=I,k>l&&(k-=E,a+=_G);let C=N,L=N+Math.abs(k)-1,M=O%2!==0,U=k<0;k===0?b=b.add(r(M,s[C])):h=h.add(r(U,s[L]))}return{p:h,f:b}},wNAFCached(i,s,a,f){let l=i._WINDOW_SIZE||1,h=s.get(i);return h||(h=this.precomputeWindow(i,l),l!==1&&s.set(i,f(h))),this.wNAF(l,h,a)}}}o(K8e,"wNAF");function wG(t){return bG(t.Fp),Gm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xG(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}o(wG,"validateBasic");function m1t(t){let e=wG(t);Gm(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}o(m1t,"validatePointOpts");var{bytesToNumberBE:g1t,hexToBytes:y1t}=gG,Iy={Err:class extends Error{static{o(this,"DERErr")}constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=Iy;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:g1t(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=Iy,r=typeof t=="string"?y1t(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=Iy._parseInt(r.subarray(2)),{d:a,l:f}=Iy._parseInt(s);if(f.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=o(h=>Number.parseInt(h[0],16)&8?"00"+h:h,"slice"),r=o(h=>{let b=h.toString(16);return b.length&1?`0${b}`:b},"h"),n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,a=i.length/2,f=r(s),l=r(a);return`30${r(a+s+4)}02${l}${i}02${f}${n}`}},Ah=BigInt(0),du=BigInt(1),X$r=BigInt(2),z8e=BigInt(3),Z$r=BigInt(4);function b1t(t){let e=m1t(t),{Fp:r}=e,n=e.toBytes||((O,N,k)=>{let C=N.toAffine();return Eh(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),i=e.fromBytes||(O=>{let N=O.subarray(1),k=r.fromBytes(N.subarray(0,r.BYTES)),C=r.fromBytes(N.subarray(r.BYTES,2*r.BYTES));return{x:k,y:C}});function s(O){let{a:N,b:k}=e,C=r.sqr(O),L=r.mul(C,O);return r.add(r.add(L,r.mul(O,N)),k)}if(o(s,"weierstrassEquation"),!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(O){return typeof O=="bigint"&&Ah<O&&O<e.n}o(a,"isWithinCurveOrder");function f(O){if(!a(O))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}o(f,"assertGE");function l(O){let{allowedPrivateKeyLengths:N,nByteLength:k,wrapPrivateKey:C,n:L}=e;if(N&&typeof O!="bigint"){if(O instanceof Uint8Array&&(O=Sy(O)),typeof O!="string"||!N.includes(O.length))throw new Error("Invalid key");O=O.padStart(k*2,"0")}let M;try{M=typeof O=="bigint"?O:Rs(Bo("private key",O,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof O}`)}return C&&(M=Po(M,L)),f(M),M}o(l,"normPrivateKeyToScalar");let h=new Map;function b(O){if(!(O instanceof y))throw new Error("ProjectivePoint expected")}o(b,"assertPrjPoint");class y{static{o(this,"Point")}constructor(N,k,C){if(this.px=N,this.py=k,this.pz=C,N==null||!r.isValid(N))throw new Error("x required");if(k==null||!r.isValid(k))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(N){let{x:k,y:C}=N||{};if(!N||!r.isValid(k)||!r.isValid(C))throw new Error("invalid affine point");if(N instanceof y)throw new Error("projective point not allowed");let L=o(M=>r.eql(M,r.ZERO),"is0");return L(k)&&L(C)?y.ZERO:new y(k,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){let k=r.invertBatch(N.map(C=>C.pz));return N.map((C,L)=>C.toAffine(k[L])).map(y.fromAffine)}static fromHex(N){let k=y.fromAffine(i(Bo("pointHex",N)));return k.assertValidity(),k}static fromPrivateKey(N){return y.BASE.multiply(l(N))}_setWindowSize(N){this._WINDOW_SIZE=N,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:N,y:k}=this.toAffine();if(!r.isValid(N)||!r.isValid(k))throw new Error("bad point: x or y not FE");let C=r.sqr(k),L=s(N);if(!r.eql(C,L))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:N}=this.toAffine();if(r.isOdd)return!r.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){b(N);let{px:k,py:C,pz:L}=this,{px:M,py:U,pz:q}=N,j=r.eql(r.mul(k,q),r.mul(M,L)),re=r.eql(r.mul(C,q),r.mul(U,L));return j&&re}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){let{a:N,b:k}=e,C=r.mul(k,z8e),{px:L,py:M,pz:U}=this,q=r.ZERO,j=r.ZERO,re=r.ZERO,Y=r.mul(L,L),X=r.mul(M,M),S=r.mul(U,U),c=r.mul(L,M);return c=r.add(c,c),re=r.mul(L,U),re=r.add(re,re),q=r.mul(N,re),j=r.mul(C,S),j=r.add(q,j),q=r.sub(X,j),j=r.add(X,j),j=r.mul(q,j),q=r.mul(c,q),re=r.mul(C,re),S=r.mul(N,S),c=r.sub(Y,S),c=r.mul(N,c),c=r.add(c,re),re=r.add(Y,Y),Y=r.add(re,Y),Y=r.add(Y,S),Y=r.mul(Y,c),j=r.add(j,Y),S=r.mul(M,U),S=r.add(S,S),Y=r.mul(S,c),q=r.sub(q,Y),re=r.mul(S,X),re=r.add(re,re),re=r.add(re,re),new y(q,j,re)}add(N){b(N);let{px:k,py:C,pz:L}=this,{px:M,py:U,pz:q}=N,j=r.ZERO,re=r.ZERO,Y=r.ZERO,X=e.a,S=r.mul(e.b,z8e),c=r.mul(k,M),d=r.mul(C,U),p=r.mul(L,q),x=r.add(k,C),v=r.add(M,U);x=r.mul(x,v),v=r.add(c,d),x=r.sub(x,v),v=r.add(k,L);let A=r.add(M,q);return v=r.mul(v,A),A=r.add(c,p),v=r.sub(v,A),A=r.add(C,L),j=r.add(U,q),A=r.mul(A,j),j=r.add(d,p),A=r.sub(A,j),Y=r.mul(X,v),j=r.mul(S,p),Y=r.add(j,Y),j=r.sub(d,Y),Y=r.add(d,Y),re=r.mul(j,Y),d=r.add(c,c),d=r.add(d,c),p=r.mul(X,p),v=r.mul(S,v),d=r.add(d,p),p=r.sub(c,p),p=r.mul(X,p),v=r.add(v,p),c=r.mul(d,v),re=r.add(re,c),c=r.mul(A,v),j=r.mul(x,j),j=r.sub(j,c),c=r.mul(x,d),Y=r.mul(A,Y),Y=r.add(Y,c),new y(j,re,Y)}subtract(N){return this.add(N.negate())}is0(){return this.equals(y.ZERO)}wNAF(N){return I.wNAFCached(this,h,N,k=>{let C=r.invertBatch(k.map(L=>L.pz));return k.map((L,M)=>L.toAffine(C[M])).map(y.fromAffine)})}multiplyUnsafe(N){let k=y.ZERO;if(N===Ah)return k;if(f(N),N===du)return this;let{endo:C}=e;if(!C)return I.unsafeLadder(this,N);let{k1neg:L,k1:M,k2neg:U,k2:q}=C.splitScalar(N),j=k,re=k,Y=this;for(;M>Ah||q>Ah;)M&du&&(j=j.add(Y)),q&du&&(re=re.add(Y)),Y=Y.double(),M>>=du,q>>=du;return L&&(j=j.negate()),U&&(re=re.negate()),re=new y(r.mul(re.px,C.beta),re.py,re.pz),j.add(re)}multiply(N){f(N);let k=N,C,L,{endo:M}=e;if(M){let{k1neg:U,k1:q,k2neg:j,k2:re}=M.splitScalar(k),{p:Y,f:X}=this.wNAF(q),{p:S,f:c}=this.wNAF(re);Y=I.constTimeNegate(U,Y),S=I.constTimeNegate(j,S),S=new y(r.mul(S.px,M.beta),S.py,S.pz),C=Y.add(S),L=X.add(c)}else{let{p:U,f:q}=this.wNAF(k);C=U,L=q}return y.normalizeZ([C,L])[0]}multiplyAndAddUnsafe(N,k,C){let L=y.BASE,M=o((q,j)=>j===Ah||j===du||!q.equals(L)?q.multiplyUnsafe(j):q.multiply(j),"mul"),U=M(this,k).add(M(N,C));return U.is0()?void 0:U}toAffine(N){let{px:k,py:C,pz:L}=this,M=this.is0();N==null&&(N=M?r.ONE:r.inv(L));let U=r.mul(k,N),q=r.mul(C,N),j=r.mul(L,N);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(j,r.ONE))throw new Error("invZ was invalid");return{x:U,y:q}}isTorsionFree(){let{h:N,isTorsionFree:k}=e;if(N===du)return!0;if(k)return k(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:N,clearCofactor:k}=e;return N===du?this:k?k(y,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return this.assertValidity(),n(y,this,N)}toHex(N=!0){return Sy(this.toRawBytes(N))}}y.BASE=new y(e.Gx,e.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,I=K8e(y,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}o(b1t,"weierstrassPoints");function x1t(t){let e=wG(t);return Gm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}o(x1t,"validateOpts");function G8e(t){let e=x1t(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(v){return Ah<v&&v<r.ORDER}o(a,"isValidFieldElement");function f(v){return Po(v,n)}o(f,"modN");function l(v){return fN(v,n)}o(l,"invN");let{ProjectivePoint:h,normPrivateKeyToScalar:b,weierstrassEquation:y,isWithinCurveOrder:E}=b1t({...e,toBytes(v,A,T){let w=A.toAffine(),u=r.toBytes(w.x),_=Eh;return T?_(Uint8Array.from([A.hasEvenY()?2:3]),u):_(Uint8Array.from([4]),u,r.toBytes(w.y))},fromBytes(v){let A=v.length,T=v[0],w=v.subarray(1);if(A===i&&(T===2||T===3)){let u=Rs(w);if(!a(u))throw new Error("Point is not on curve");let _=y(u),F=r.sqrt(_),H=(F&du)===du;return(T&1)===1!==H&&(F=r.neg(F)),{x:u,y:F}}else if(A===s&&T===4){let u=r.fromBytes(w.subarray(0,r.BYTES)),_=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:u,y:_}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),I=o(v=>Sy(ml(v,e.nByteLength)),"numToNByteStr");function O(v){let A=n>>du;return v>A}o(O,"isBiggerThanHalfOrder");function N(v){return O(v)?f(-v):v}o(N,"normalizeS");let k=o((v,A,T)=>Rs(v.slice(A,T)),"slcNum");class C{static{o(this,"Signature")}constructor(A,T,w){this.r=A,this.s=T,this.recovery=w,this.assertValidity()}static fromCompact(A){let T=e.nByteLength;return A=Bo("compactSignature",A,T*2),new C(k(A,0,T),k(A,T,2*T))}static fromDER(A){let{r:T,s:w}=Iy.toSig(Bo("DER",A));return new C(T,w)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new C(this.r,this.s,A)}recoverPublicKey(A){let{r:T,s:w,recovery:u}=this,_=re(Bo("msgHash",A));if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");let F=u===2||u===3?T+e.n:T;if(F>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let H=u&1?"03":"02",D=h.fromHex(H+I(F)),$=l(F),ee=f(-_*$),te=f(w*$),Oe=h.BASE.multiplyAndAddUnsafe(D,ee,te);if(!Oe)throw new Error("point at infinify");return Oe.assertValidity(),Oe}hasHighS(){return O(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return Ey(this.toDERHex())}toDERHex(){return Iy.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ey(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let L={isValidPrivateKey(v){try{return b(v),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:o(()=>{let v=vG(e.n);return j8e(e.randomBytes(v),e.n)},"randomPrivateKey"),precompute(v=8,A=h.BASE){return A._setWindowSize(v),A.multiply(BigInt(3)),A}};function M(v,A=!0){return h.fromPrivateKey(v).toRawBytes(A)}o(M,"getPublicKey");function U(v){let A=v instanceof Uint8Array,T=typeof v=="string",w=(A||T)&&v.length;return A?w===i||w===s:T?w===2*i||w===2*s:v instanceof h}o(U,"isProbPub");function q(v,A,T=!0){if(U(v))throw new Error("first arg must be private key");if(!U(A))throw new Error("second arg must be public key");return h.fromHex(A).multiply(b(v)).toRawBytes(T)}o(q,"getSharedSecret");let j=e.bits2int||function(v){let A=Rs(v),T=v.length*8-e.nBitLength;return T>0?A>>BigInt(T):A},re=e.bits2int_modN||function(v){return f(j(v))},Y=d3(e.nBitLength);function X(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(Ah<=v&&v<Y))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ml(v,e.nByteLength)}o(X,"int2octets");function S(v,A,T=c){if(["recovered","canonical"].some(le=>le in T))throw new Error("sign() legacy options not supported");let{hash:w,randomBytes:u}=e,{lowS:_,prehash:F,extraEntropy:H}=T;_==null&&(_=!0),v=Bo("msgHash",v),F&&(v=Bo("prehashed msgHash",w(v)));let D=re(v),$=b(A),ee=[X($),X(D)];if(H!=null){let le=H===!0?u(r.BYTES):H;ee.push(Bo("extraEntropy",le))}let te=Eh(...ee),Oe=D;function fe(le){let ge=j(le);if(!E(ge))return;let pe=l(ge),ye=h.BASE.multiply(ge).toAffine(),Cr=f(ye.x);if(Cr===Ah)return;let Re=f(pe*f(Oe+Cr*$));if(Re===Ah)return;let Me=(ye.x===Cr?0:2)|Number(ye.y&du),ti=Re;return _&&O(Re)&&(ti=N(Re),Me^=1),new C(Cr,ti,Me)}return o(fe,"k2sig"),{seed:te,k2sig:fe}}o(S,"prepSig");let c={lowS:e.lowS,prehash:!1},d={lowS:e.lowS,prehash:!1};function p(v,A,T=c){let{seed:w,k2sig:u}=S(v,A,T),_=e;return mG(_.hash.outputLen,_.nByteLength,_.hmac)(w,u)}o(p,"sign"),h.BASE._setWindowSize(8);function x(v,A,T,w=d){let u=v;if(A=Bo("msgHash",A),T=Bo("publicKey",T),"strict"in w)throw new Error("options.strict was renamed to lowS");let{lowS:_,prehash:F}=w,H,D;try{if(typeof u=="string"||u instanceof Uint8Array)try{H=C.fromDER(u)}catch(ye){if(!(ye instanceof Iy.Err))throw ye;H=C.fromCompact(u)}else if(typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint"){let{r:ye,s:Cr}=u;H=new C(ye,Cr)}else throw new Error("PARSE");D=h.fromHex(T)}catch(ye){if(ye.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(_&&H.hasHighS())return!1;F&&(A=e.hash(A));let{r:$,s:ee}=H,te=re(A),Oe=l(ee),fe=f(te*Oe),le=f($*Oe),ge=h.BASE.multiplyAndAddUnsafe(D,fe,le)?.toAffine();return ge?f(ge.x)===$:!1}return o(x,"verify"),{CURVE:e,getPublicKey:M,getSharedSecret:q,sign:p,verify:x,ProjectivePoint:h,Signature:C,utils:L}}o(G8e,"weierstrass");m();g();m();g();var uN=class extends g2{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,M8e(e);let n=l3(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return m2(this),this.iHash.update(e),this}digestInto(e){m2(this),lG(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},SG=o((t,e,r)=>new uN(t,e).update(r).digest(),"hmac");SG.create=(t,e)=>new uN(t,e);function v1t(t){return{hash:t,hmac:o((e,...r)=>SG(t,e,B8e(...r)),"hmac"),randomBytes:rN}}o(v1t,"getHash");function $8e(t,e){let r=o(n=>G8e({...t,...v1t(n)}),"create");return Object.freeze({...r(e),create:r})}o($8e,"createCurve");var pN=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lN=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),X8e=BigInt(1),dN=BigInt(2),W8e=o((t,e)=>(t+e/dN)/e,"divNearest");function Z8e(t){let e=pN,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),f=BigInt(44),l=BigInt(88),h=t*t*t%e,b=h*h*t%e,y=lf(b,r,e)*b%e,E=lf(y,r,e)*b%e,I=lf(E,dN,e)*h%e,O=lf(I,i,e)*I%e,N=lf(O,s,e)*O%e,k=lf(N,f,e)*N%e,C=lf(k,l,e)*k%e,L=lf(C,f,e)*N%e,M=lf(L,r,e)*b%e,U=lf(M,a,e)*O%e,q=lf(U,n,e)*h%e,j=lf(q,dN,e);if(!AG.eql(AG.sqr(j),t))throw new Error("Cannot find square root");return j}o(Z8e,"sqrtMod");var AG=q8e(pN,void 0,void 0,{sqrt:Z8e}),y2=$8e({a:BigInt(0),b:BigInt(7),Fp:AG,n:lN,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o(t=>{let e=lN,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-X8e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),f=W8e(s*t,e),l=W8e(-n*t,e),h=Po(t-f*r-l*i,e),b=Po(-f*n-l*s,e),y=h>a,E=b>a;if(y&&(h=e-h),E&&(b=e-b),h>a||b>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:y,k1:h,k2neg:E,k2:b}},"splitScalar")}},iN),mN=BigInt(0),J8e=o(t=>typeof t=="bigint"&&mN<t&&t<pN,"fe"),_1t=o(t=>typeof t=="bigint"&&mN<t&&t<lN,"ge"),Y8e={};function hN(t,...e){let r=Y8e[t];if(r===void 0){let n=iN(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Eh(n,n),Y8e[t]=r}return iN(Eh(r,...e))}o(hN,"taggedHash");var RG=o(t=>t.toRawBytes(!0).slice(1),"pointToBytes"),IG=o(t=>ml(t,32),"numTo32b"),EG=o(t=>Po(t,pN),"modP"),h3=o(t=>Po(t,lN),"modN"),OG=y2.ProjectivePoint,w1t=o((t,e,r)=>OG.BASE.multiplyAndAddUnsafe(t,e,r),"GmulAdd");function TG(t){let e=y2.utils.normPrivateKeyToScalar(t),r=OG.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:h3(-e),bytes:RG(r)}}o(TG,"schnorrGetExtPubKey");function Q8e(t){if(!J8e(t))throw new Error("bad x: need 0 < x < p");let e=EG(t*t),r=EG(e*t+BigInt(7)),n=Z8e(r);n%dN!==mN&&(n=EG(-n));let i=new OG(t,n,X8e);return i.assertValidity(),i}o(Q8e,"lift_x");function e5e(...t){return h3(Rs(hN("BIP0340/challenge",...t)))}o(e5e,"challenge");function S1t(t){return TG(t).bytes}o(S1t,"schnorrGetPublicKey");function E1t(t,e,r=rN(32)){let n=Bo("message",t),{bytes:i,scalar:s}=TG(e),a=Bo("auxRand",r,32),f=IG(s^Rs(hN("BIP0340/aux",a))),l=hN("BIP0340/nonce",f,i,n),h=h3(Rs(l));if(h===mN)throw new Error("sign failed: k is zero");let{bytes:b,scalar:y}=TG(h),E=e5e(b,i,n),I=new Uint8Array(64);if(I.set(b,0),I.set(IG(h3(y+E*s)),32),!t5e(I,n,i))throw new Error("sign: Invalid signature produced");return I}o(E1t,"schnorrSign");function t5e(t,e,r){let n=Bo("signature",t,64),i=Bo("message",e),s=Bo("publicKey",r,32);try{let a=Q8e(Rs(s)),f=Rs(n.subarray(0,32));if(!J8e(f))return!1;let l=Rs(n.subarray(32,64));if(!_1t(l))return!1;let h=e5e(IG(f),RG(a),i),b=w1t(a,l,h3(-h));return!(!b||!b.hasEvenY()||b.toAffine().x!==f)}catch{return!1}}o(t5e,"schnorrVerify");var df={getPublicKey:S1t,sign:E1t,verify:t5e,utils:{randomPrivateKey:y2.utils.randomPrivateKey,lift_x:Q8e,pointToBytes:RG,numberToBytesBE:ml,bytesToNumberBE:Rs,taggedHash:hN,mod:Po}};m();g();m();g();m();g();function A1t(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(A1t,"isBytes");function I1t(t,...e){if(!A1t(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(I1t,"bytes");function NG(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(NG,"exists");function r5e(t,e){I1t(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(r5e,"output");m();g();function T1t(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(T1t,"isBytes");var yN=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),gl=o((t,e)=>t<<32-e|t>>>e,"rotr"),R1t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!R1t)throw new Error("Non little-endian hardware is not supported");function O1t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(O1t,"utf8ToBytes");function MG(t){if(typeof t=="string"&&(t=O1t(t)),!T1t(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(MG,"toBytes");var gN=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},RWr={}.toString;function bN(t){let e=o(n=>t().update(MG(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(bN,"wrapConstructor");function N1t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(N1t,"setBigUint64");var b2=class extends gN{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=yN(this.buffer)}update(e){NG(this);let{view:r,buffer:n,blockLen:i}=this;e=MG(e);let s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=yN(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){NG(this),r5e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let y=a;y<i;y++)r[y]=0;N1t(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=yN(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,b=this.get();if(h>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<h;y++)f.setUint32(4*y,b[y],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.length=i,e.pos=f,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var M1t=o((t,e,r)=>t&e^~t&r,"Chi"),C1t=o((t,e,r)=>t&e^t&r^e&r,"Maj"),k1t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$m=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Wm=new Uint32Array(64),CG=class extends b2{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=$m[0]|0,this.B=$m[1]|0,this.C=$m[2]|0,this.D=$m[3]|0,this.E=$m[4]|0,this.F=$m[5]|0,this.G=$m[6]|0,this.H=$m[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let y=0;y<16;y++,r+=4)Wm[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let E=Wm[y-15],I=Wm[y-2],O=gl(E,7)^gl(E,18)^E>>>3,N=gl(I,17)^gl(I,19)^I>>>10;Wm[y]=N+Wm[y-7]+O+Wm[y-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:b}=this;for(let y=0;y<64;y++){let E=gl(f,6)^gl(f,11)^gl(f,25),I=b+E+M1t(f,l,h)+k1t[y]+Wm[y]|0,N=(gl(n,2)^gl(n,13)^gl(n,22))+C1t(n,i,s)|0;b=h,h=l,l=f,f=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,b=b+this.H|0,this.set(n,i,s,a,f,l,h,b)}roundClean(){Wm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var hu=bN(()=>new CG);m();g();var B1t=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),i5e=Uint8Array.from({length:16},(t,e)=>e),P1t=i5e.map(t=>(9*t+5)%16),BG=[i5e],PG=[P1t];for(let t=0;t<4;t++)for(let e of[BG,PG])e.push(e[t].map(r=>B1t[r]));var o5e=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),L1t=BG.map((t,e)=>t.map(r=>o5e[e][r])),D1t=PG.map((t,e)=>t.map(r=>o5e[e][r])),U1t=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),H1t=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),xN=o((t,e)=>t<<e|t>>>32-e,"rotl");function n5e(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}o(n5e,"f");var vN=new Uint32Array(16),kG=class extends b2{static{o(this,"RIPEMD160")}constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let I=0;I<16;I++,r+=4)vN[I]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,f=this.h2|0,l=f,h=this.h3|0,b=h,y=this.h4|0,E=y;for(let I=0;I<5;I++){let O=4-I,N=U1t[I],k=H1t[I],C=BG[I],L=PG[I],M=L1t[I],U=D1t[I];for(let q=0;q<16;q++){let j=xN(n+n5e(I,s,f,h)+vN[C[q]]+N,M[q])+y|0;n=y,y=h,h=xN(f,10)|0,f=s,s=j}for(let q=0;q<16;q++){let j=xN(i+n5e(O,a,l,b)+vN[L[q]]+k,U[q])+E|0;i=E,E=b,b=xN(l,10)|0,l=a,a=j}}this.set(this.h1+f+b|0,this.h2+h+E|0,this.h3+y+i|0,this.h4+n+a|0,this.h0+s+l|0)}roundClean(){vN.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},s5e=bN(()=>new kG);m();g();function x2(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}o(x2,"assertNumber");function _N(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(_N,"isBytes");function SN(...t){let e=o(s=>s,"id"),r=o((s,a)=>f=>s(a(f)),"wrap"),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}o(SN,"chain");function UG(t){return{encode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},"encode"),decode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})},"decode")}}o(UG,"alphabet");function HG(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},"encode"),decode:o(e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)},"decode")}}o(HG,"join");function F1t(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:o(e=>e,"encode"),decode:o(e=>t(e),"decode")}}o(F1t,"normalize");function a5e(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],s=Array.from(t);for(s.forEach(a=>{if(a<0||a>=e)throw new Error(`Wrong integer: ${a}`)});;){let a=0,f=!0;for(let l=n;l<s.length;l++){let h=s[l],b=e*a+h;if(!Number.isSafeInteger(b)||e*a/e!==a||b-h!==e*a)throw new Error("convertRadix: carry overflow");a=b%r;let y=Math.floor(b/r);if(s[l]=y,!Number.isSafeInteger(y)||y*r+a!==b)throw new Error("convertRadix: carry overflow");if(f)y?f=!1:n=l;else continue}if(i.push(a),f)break}for(let a=0;a<t.length-1&&t[a]===0;a++)i.push(0);return i.reverse()}o(a5e,"convertRadix");var l5e=o((t,e)=>e?l5e(e,t%e):t,"gcd"),wN=o((t,e)=>t+(e-l5e(t,e)),"radix2carry");function LG(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(wN(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${wN(e,r)}`);let i=0,s=0,a=2**r-1,f=[];for(let l of t){if(l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)f.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&f.push(i>>>0),f}o(LG,"convertRadix2");function q1t(t){return{encode:o(e=>{if(!_N(e))throw new Error("radix.encode input should be Uint8Array");return a5e(Array.from(e),2**8,t)},"encode"),decode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(a5e(e,t,2**8))},"decode")}}o(q1t,"radix");function d5e(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(wN(8,t)>32||wN(t,8)>32)throw new Error("radix2: carry overflow");return{encode:o(r=>{if(!_N(r))throw new Error("radix2.encode input should be Uint8Array");return LG(Array.from(r),8,t,!e)},"encode"),decode:o(r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(LG(r,t,8,e))},"decode")}}o(d5e,"radix2");function c5e(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}o(c5e,"unsafeWrapper");function V1t(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!_N(r))throw new Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!_N(r))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let a=0;a<t;a++)if(i[a]!==s[a])throw new Error("Invalid checksum");return n}}}o(V1t,"checksum");var j1t=o(t=>SN(q1t(58),UG(t),HG("")),"genBase58"),K1t=j1t("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var z1t=o(t=>SN(V1t(4,e=>t(t(e))),K1t),"createBase58check"),h5e=z1t,DG=SN(UG("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),HG("")),f5e=[996825010,642813549,513874426,1027748829,705979059];function p3(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<f5e.length;n++)(e>>n&1)===1&&(r^=f5e[n]);return r}o(p3,"bech32Polymod");function u5e(t,e,r=1){let n=t.length,i=1;for(let s=0;s<n;s++){let a=t.charCodeAt(s);if(a<33||a>126)throw new Error(`Invalid prefix (${t})`);i=p3(i)^a>>5}i=p3(i);for(let s=0;s<n;s++)i=p3(i)^t.charCodeAt(s)&31;for(let s of e)i=p3(i)^s;for(let s=0;s<6;s++)i=p3(i);return i^=r,DG.encode(LG([i%2**30],30,5,!1))}o(u5e,"bechChecksum");function p5e(t){let e=t==="bech32"?1:734539939,r=d5e(5),n=r.decode,i=r.encode,s=c5e(n);function a(b,y,E=90){if(typeof b!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof b}`);if(!Array.isArray(y)||y.length&&typeof y[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof y}`);if(b.length===0)throw new TypeError(`Invalid prefix length ${b.length}`);let I=b.length+7+y.length;if(E!==!1&&I>E)throw new TypeError(`Length ${I} exceeds limit ${E}`);let O=b.toLowerCase(),N=u5e(O,y,e);return`${O}1${DG.encode(y)}${N}`}o(a,"encode");function f(b,y=90){if(typeof b!="string")throw new Error(`bech32.decode input should be string, not ${typeof b}`);if(b.length<8||y!==!1&&b.length>y)throw new TypeError(`Wrong string length: ${b.length} (${b}). Expected (8..${y})`);let E=b.toLowerCase();if(b!==E&&b!==b.toUpperCase())throw new Error("String must be lowercase or uppercase");let I=E.lastIndexOf("1");if(I===0||I===-1)throw new Error('Letter "1" must be present between prefix and data only');let O=E.slice(0,I),N=E.slice(I+1);if(N.length<6)throw new Error("Data must be at least 6 characters long");let k=DG.decode(N).slice(0,-6),C=u5e(O,k,e);if(!N.endsWith(C))throw new Error(`Invalid checksum in ${b}: expected "${C}"`);return{prefix:O,words:k}}o(f,"decode");let l=c5e(f);function h(b){let{prefix:y,words:E}=f(b,!1);return{prefix:y,words:E,bytes:n(E)}}return o(h,"decodeToBytes"),{encode:a,decode:f,decodeToBytes:h,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:s,toWords:i}}o(p5e,"genBech32");var EN=p5e("bech32"),FG=p5e("bech32m"),qG={encode:o(t=>new TextDecoder().decode(t),"encode"),decode:o(t=>new TextEncoder().encode(t),"decode")},Bi=SN(d5e(4),UG("0123456789abcdef"),HG(""),F1t(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));m();g();var Pi=new Uint8Array,NN=new Uint8Array([0]);function pi(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(pi,"equalBytes");function AN(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(AN,"concatBytes");var hf=o(t=>t instanceof Uint8Array,"isBytes"),IN=class{static{o(this,"Reader")}constructor(e,r=[],n=[]){this.data=e,this.path=r,this.fieldPath=n,this.pos=0,this.hasPtr=!1,this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Reader(${this.fieldPath.join("/")}): ${e}`)}absBytes(e){if(e>this.data.length)throw new Error("absBytes: Unexpected end of buffer");return this.data.subarray(e)}bytes(e,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(e))throw this.err(`readBytes: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+e);return r||(this.pos+=e),n}byte(e=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");return this.data[e?this.pos:this.pos++]}get leftBytes(){return this.data.length-this.pos}isEnd(){return this.pos>=this.data.length&&!this.bitPos}length(e){let r;if(Ym(e)?r=Number(e.decodeStream(this)):typeof e=="number"?r=e:typeof e=="string"&&(r=ON(this.path,e.split("/"))),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw this.err(`Wrong length: ${r}`);return r}bits(e){if(e>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;e;){this.bitPos||(this.bitBuf=this.data[this.pos++],this.bitPos=8);let n=Math.min(e,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,e-=n}return r>>>0}find(e,r=this.pos){if(!hf(e))throw this.err(`find: needle is not bytes! ${e}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!e.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(e[0],n))!==-1;n++){if(n===-1||this.data.length-n<e.length)return;if(pi(e,this.data.subarray(n,n+e.length)))return n}}finish(){if(!(this.isEnd()||this.hasPtr))throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${Bi.encode(this.data.slice(this.pos))}`)}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},TN=class{static{o(this,"Writer")}constructor(e=[],r=[]){this.path=e,this.fieldPath=r,this.buffers=[],this.pos=0,this.ptrs=[],this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Writer(${this.fieldPath.join("/")}): ${e}`)}bytes(e){if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(e),this.pos+=e.length}byte(e){if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([e])),this.pos++}get buffer(){if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let e=AN(...this.buffers);for(let r of this.ptrs){let n=e.length;e=AN(e,r.buffer);let i=r.ptr.encode(n);for(let s=0;s<i.length;s++)e[r.pos+s]=i[s]}return e}length(e,r){if(e===null)return;if(Ym(e))return e.encodeStream(this,r);let n;if(typeof e=="number"?n=e:typeof e=="string"&&(n=ON(this.path,e.split("/"))),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw this.err(`Wrong length: ${n} len=${e} exp=${r}`)}bits(e,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(e>=2**r)throw this.err(`writeBits: value (${e}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|e>>r-n,this.bitPos+=n,r-=n,e&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},RN=o(t=>Uint8Array.from(t).reverse(),"swap");function m5e(t,e,r,n){if(n){let i=2n**(r-1n);if(e<-i||e>=i)throw t.err("sInt: value out of bounds")}else if(0n>e||e>=2n**r)throw t.err("uInt: value out of bounds")}o(m5e,"checkBounds");function Do(t){return{...t,encode:o(e=>{let r=new TN;return t.encodeStream(r,e),r.buffer},"encode"),decode:o(e=>{let r=new IN(e),n=t.decodeStream(r);return r.finish(),n},"decode")}}o(Do,"wrap");function ON(t,e){t=Array.from(t);let r=0;for(;r<e.length&&e[r]==="..";r++)t.pop();let n=t.pop();for(;r<e.length;r++){if(!n||n[e[r]]===void 0)return;n=n[e[r]]}return n}o(ON,"getPath");function Ym(t){return typeof t.encode=="function"&&typeof t.encodeStream=="function"&&typeof t.decode=="function"&&typeof t.decodeStream=="function"}o(Ym,"isCoder");function $1t(){return{encode:o(t=>{let e={};for(let[r,n]of t){if(e[r]!==void 0)throw new Error(`coders.dict: same key(${r}) appears twice in struct`);e[r]=n}return e},"encode"),decode:o(t=>Object.entries(t),"decode")}}o($1t,"dict");var W1t={encode:o(t=>{if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`coders.number: element bigger than MAX_SAFE_INTEGER=${t}`);return Number(t)},"encode"),decode:o(t=>BigInt(t),"decode")};function Y1t(t){return{encode:o(e=>t[e],"encode"),decode:o(e=>t[e],"decode")}}o(Y1t,"tsEnum");function X1t(t){let e=10n**BigInt(t);return{encode:o(r=>{let n=(r<0n?-r:r).toString(10),i=n.length-t;i<0&&(n=n.padStart(n.length-i,"0"),i=0);let s=n.length-1;for(;s>=i&&n[s]==="0";s--);let[a,f]=[n.slice(0,i),n.slice(i,s+1)];return a||(a="0"),r<0n&&(a="-"+a),f?`${a}.${f}`:a},"encode"),decode:o(r=>{let n=!1;r.startsWith("-")&&(n=!0,r=r.slice(1));let i=r.indexOf(".");i=i===-1?r.length:i;let[s,a]=[r.slice(0,i),r.slice(i+1)],f=BigInt(s)*e,l=Math.min(a.length,t),h=BigInt(a.slice(0,l))*10n**BigInt(t-l),b=f+h;return n?-b:b},"decode")}}o(X1t,"decimal");function Z1t(t){return{encode:o(e=>{for(let r of t){let n=r.encode(e);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${e}`)},"encode"),decode:o(e=>{for(let r of t){let n=r.decode(e);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${e}`)},"decode")}}o(Z1t,"match");var v2={dict:$1t,number:W1t,tsEnum:Y1t,decimal:X1t,match:Z1t};var pf=o((t,e=!1,r=!1)=>Do({size:t,encodeStream:o((n,i)=>{if(typeof i!="number"&&typeof i!="bigint")throw n.err(`bigint: invalid value: ${i}`);let s=BigInt(i),a=BigInt(t);m5e(n,s,8n*a,!!r);let f=2n**(8n*a-1n);r&&s<0&&(s=s|f);let l=[];for(let b=0;b<t;b++)l.push(Number(s&255n)),s>>=8n;let h=new Uint8Array(l).reverse();n.bytes(e?h.reverse():h)},"encodeStream"),decodeStream:o(n=>{let i=BigInt(t),s=n.bytes(t);e&&(s=RN(s));let a=RN(s),f=2n**(8n*i-1n),l=0n;for(let h=0;h<a.length;h++)l|=BigInt(a[h])<<8n*BigInt(h);return r&&l&f&&(l=(l^f)-f),m5e(n,l,8n*i,!!r),l},"decodeStream")}),"bigint"),nYr=pf(32,!0),g5e=pf(32,!1),iYr=pf(32,!0,!0),oYr=pf(32,!1,!0),sYr=pf(16,!0),aYr=pf(16,!1),cYr=pf(16,!0,!0),fYr=pf(16,!1,!0),m3=pf(8,!0),uYr=pf(8,!1),y5e=pf(8,!0,!0),lYr=pf(8,!1,!0),Yd=o((t,e=!1,r=!1)=>{if(t>6)throw new Error("int supports size up to 6 bytes (48 bits), for other use bigint");return y3(pf(t,e,r),v2.number)},"int"),qn=Yd(4,!0),b5e=Yd(4,!1),_2=Yd(4,!0,!0),dYr=Yd(4,!1,!0),VG=Yd(2,!0),hYr=Yd(2,!1),pYr=Yd(2,!0,!0),mYr=Yd(2,!1,!0),Ih=Yd(1,!1),gYr=Yd(1,!1,!0),yYr=Do({size:1,encodeStream:o((t,e)=>t.byte(e?1:0),"encodeStream"),decodeStream:o(t=>{let e=t.byte();if(e!==0&&e!==1)throw t.err(`bool: invalid value ${e}`);return e===1},"decodeStream")}),_i=o((t,e=!1)=>Do({size:typeof t=="number"?t:void 0,encodeStream:o((r,n)=>{if(!hf(n))throw r.err(`bytes: invalid value ${n}`);hf(t)||r.length(t,n.length),r.bytes(e?RN(n):n),hf(t)&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n;if(hf(t)){let i=r.find(t);if(!i)throw r.err("bytes: cannot find terminator");n=r.bytes(i-r.pos),r.bytes(t.length)}else n=r.bytes(t===null?r.leftBytes:r.length(t));return e?RN(n):n},"decodeStream")}),"bytes"),g3=o((t,e=!1)=>{let r=_i(t,e);return Do({size:r.size,encodeStream:o((n,i)=>r.encodeStream(n,qG.decode(i)),"encodeStream"),decodeStream:o(n=>qG.encode(r.decodeStream(n)),"decodeStream")})},"string"),bYr=g3(NN),x5e=o((t,e=!1,r=!1)=>{let n=_i(t,e);return Do({size:n.size,encodeStream:o((i,s)=>{if(r&&!s.startsWith("0x"))throw new Error("hex(withZero=true).encode input should start with 0x");let a=Bi.decode(r?s.slice(2):s);return n.encodeStream(i,a)},"encodeStream"),decodeStream:o(i=>(r?"0x":"")+Bi.encode(n.decodeStream(i)),"decodeStream")})},"hex");function y3(t,e){if(!Ym(t))throw new Error(`apply: invalid inner value ${t}`);return Do({size:t.size,encodeStream:o((r,n)=>{let i;try{i=e.decode(n)}catch(s){throw r.err(""+s)}return t.encodeStream(r,i)},"encodeStream"),decodeStream:o(r=>{let n=t.decodeStream(r);try{return e.encode(n)}catch(i){throw r.err(""+i)}},"decodeStream")})}o(y3,"apply");function pu(t,e){if(!Ym(t))throw new Error(`validate: invalid inner value ${t}`);return Do({size:t.size,encodeStream:o((r,n)=>t.encodeStream(r,e(n)),"encodeStream"),decodeStream:o(r=>e(t.decodeStream(r)),"decodeStream")})}o(pu,"validate");var v5e=o((t,e=!1)=>Do({size:t.length,encodeStream:o((r,n)=>{!!n!==e&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n=r.leftBytes>=t.length;return n&&(n=pi(r.bytes(t.length,!0),t),n&&r.bytes(t.length)),n!==e},"decodeStream")}),"flag");function _5e(t,e,r){if(!Ym(e))throw new Error(`flagged: invalid inner value ${e}`);return Do({encodeStream:o((n,i)=>{typeof t=="string"?ON(n.path,t.split("/"))?e.encodeStream(n,i):r&&e.encodeStream(n,r):(t.encodeStream(n,!!i),i?e.encodeStream(n,i):r&&e.encodeStream(n,r))},"encodeStream"),decodeStream:o(n=>{let i=!1;if(typeof t=="string"?i=ON(n.path,t.split("/")):i=t.decodeStream(n),i)return e.decodeStream(n);r&&e.decodeStream(n)},"decodeStream")})}o(_5e,"flagged");function b3(t,e,r=!0){if(!Ym(t))throw new Error(`flagged: invalid inner value ${t}`);return Do({size:t.size,encodeStream:o((n,i)=>t.encodeStream(n,e),"encodeStream"),decodeStream:o(n=>{let i=t.decodeStream(n);if(r&&typeof i!="object"&&i!==e||hf(e)&&!pi(e,i))throw n.err(`magic: invalid value: ${i} !== ${e}`)},"decodeStream")})}o(b3,"magic");function w5e(t){let e=0;for(let r of t){if(!r.size)return;e+=r.size}return e}o(w5e,"sizeof");function va(t){if(Array.isArray(t))throw new Error("Packed.Struct: got array instead of object");return Do({size:w5e(Object.values(t)),encodeStream:o((e,r)=>{if(typeof r!="object"||r===null)throw e.err(`struct: invalid value ${r}`);e.path.push(r);for(let n in t)e.fieldPathPush(n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},"encodeStream"),decodeStream:o(e=>{let r={};e.path.push(r);for(let n in t)e.fieldPathPush(n),r[n]=t[n].decodeStream(e),e.fieldPathPop();return e.path.pop(),r},"decodeStream")})}o(va,"struct");function S5e(t){if(!Array.isArray(t))throw new Error(`Packed.Tuple: got ${typeof t} instead of array`);return Do({size:w5e(t),encodeStream:o((e,r)=>{if(!Array.isArray(r))throw e.err(`tuple: invalid value ${r}`);e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},"encodeStream"),decodeStream:o(e=>{let r=[];e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),r.push(t[n].decodeStream(e)),e.fieldPathPop();return e.path.pop(),r},"decodeStream")})}o(S5e,"tuple");function E5e(t,e){if(!Ym(e))throw new Error(`prefix: invalid inner value ${e}`);if(hf(t))throw new Error("prefix: len cannot be Uint8Array");let r=_i(t);return Do({size:typeof t=="number"?t:void 0,encodeStream:o((n,i)=>{let s=new TN(n.path,n.fieldPath);e.encodeStream(s,i),r.encodeStream(n,s.buffer)},"encodeStream"),decodeStream:o(n=>{let i=r.decodeStream(n);return e.decodeStream(new IN(i,n.path,n.fieldPath))},"decodeStream")})}o(E5e,"prefix");function Wa(t,e){if(!Ym(e))throw new Error(`array: invalid inner value ${e}`);return Do({size:typeof t=="number"&&e.size?t*e.size:void 0,encodeStream:o((r,n)=>{if(!Array.isArray(n))throw r.err(`array: invalid value ${n}`);hf(t)||r.length(t,n.length),r.path.push(n);for(let i=0;i<n.length;i++){r.fieldPathPush(""+i);let s=n[i],a=r.pos;if(e.encodeStream(r,s),hf(t)){if(t.length>r.pos-a)continue;let f=r.buffer.subarray(a,r.pos);if(pi(f.subarray(0,t.length),t))throw r.err(`array: inner element encoding same as separator. elm=${s} data=${f}`)}r.fieldPathPop()}r.path.pop(),hf(t)&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n=[];if(t===null){let i=0;for(r.path.push(n);!r.isEnd()&&(r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop(),!(e.size&&r.leftBytes<e.size)););r.path.pop()}else if(hf(t)){let i=0;for(r.path.push(n);;){if(pi(r.bytes(t.length,!0),t)){r.bytes(t.length);break}r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop()}r.path.pop()}else{r.fieldPathPush("arrayLen");let i=r.length(t);r.fieldPathPop(),r.path.push(n);for(let s=0;s<i;s++)r.fieldPathPush(""+s),n.push(e.decodeStream(r)),r.fieldPathPop();r.path.pop()}return n},"decodeStream")})}o(Wa,"array");var xYr=b3(_i(0),Pi);var{ProjectivePoint:HN,sign:A5e,getPublicKey:Q1t}=y2,BN=y2.CURVE.n,v3=o((t,e)=>t===void 0?e:t,"def"),Si=hf,FN=o(t=>s5e(hu(t)),"hash160"),Xm=o((...t)=>hu(hu(Zm(...t))),"sha256x2"),Zm=AN,H5e=h5e(hu);function PN(t){if(Array.isArray(t))return t.map(e=>PN(e));if(t instanceof Uint8Array)return Uint8Array.from(t);if(["number","bigint","boolean","string","undefined"].includes(typeof t))return t;if(t===null)return t;if(typeof t=="object")return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,PN(r)]));throw new Error(`cloneDeep: unknown type=${t} (${typeof t})`)}o(PN,"cloneDeep");var wa;(function(t){t[t.ecdsa=0]="ecdsa",t[t.schnorr=1]="schnorr"})(wa||(wa={}));function A2(t,e){let r=t.length;if(e===wa.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return HN.fromHex(t),t}else if(e===wa.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return df.utils.lift_x(df.utils.bytesToNumberBE(t)),t}else throw new Error("Unknown key type")}o(A2,"validatePubkey");function Ry(t,e){try{return A2(t,e),!0}catch{return!1}}o(Ry,"isValidPubkey");var I5e=o(t=>t.r<BN/2n,"hasLowR");function eyt(t,e,r=!1){let n=A5e(t,e);if(r&&!I5e(n)){let i=new Uint8Array(32);for(let s=0;s<Number.MAX_SAFE_INTEGER&&(i.set(qn.encode(s)),n=A5e(t,e,{extraEntropy:i}),!I5e(n));s++);}return n.toDERRawBytes()}o(eyt,"signECDSA");function F5e(t,e){let r=df.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=BN)throw new Error("tweak higher than curve order");return i}o(F5e,"tapTweak");function tyt(t,e=new Uint8Array){let r=df.utils,n=r.bytesToNumberBE(t),i=HN.fromPrivateKey(n),s=i.hasEvenY()?n:r.mod(-n,BN),a=r.pointToBytes(i),f=F5e(a,e);return r.numberToBytesBE(r.mod(s+f,BN),32)}o(tyt,"taprootTweakPrivKey");function q5e(t,e){let r=df.utils,n=F5e(t,e),s=r.lift_x(r.bytesToNumberBE(t)).add(HN.fromPrivateKey(n)),a=s.hasEvenY()?0:1;return[r.pointToBytes(s),a]}o(q5e,"taprootTweakPubkey");var $G=pu(_i(null),t=>A2(t,wa.ecdsa)),LN=pu(_i(32),t=>A2(t,wa.schnorr)),T5e=pu(_i(null),t=>{if(t.length!==64&&t.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return t});var I2={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};var ryt=8,nyt=2,Ty=0,V5e=4294967295,MN=new Uint8Array(32),TYr=v2.decimal(ryt);function WG(t,e){if(!Si(t)||!Si(e))throw new Error(`cmp: wrong type a=${typeof t} b=${typeof e}`);let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!=e[n])return Math.sign(t[n]-e[n]);return Math.sign(t.length-e.length)}o(WG,"_cmpBytes");var Uo;(function(t){t[t.OP_0=0]="OP_0",t[t.PUSHDATA1=76]="PUSHDATA1",t[t.PUSHDATA2=77]="PUSHDATA2",t[t.PUSHDATA4=78]="PUSHDATA4",t[t["1NEGATE"]=79]="1NEGATE",t[t.RESERVED=80]="RESERVED",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.NOP=97]="NOP",t[t.VER=98]="VER",t[t.IF=99]="IF",t[t.NOTIF=100]="NOTIF",t[t.VERIF=101]="VERIF",t[t.VERNOTIF=102]="VERNOTIF",t[t.ELSE=103]="ELSE",t[t.ENDIF=104]="ENDIF",t[t.VERIFY=105]="VERIFY",t[t.RETURN=106]="RETURN",t[t.TOALTSTACK=107]="TOALTSTACK",t[t.FROMALTSTACK=108]="FROMALTSTACK",t[t["2DROP"]=109]="2DROP",t[t["2DUP"]=110]="2DUP",t[t["3DUP"]=111]="3DUP",t[t["2OVER"]=112]="2OVER",t[t["2ROT"]=113]="2ROT",t[t["2SWAP"]=114]="2SWAP",t[t.IFDUP=115]="IFDUP",t[t.DEPTH=116]="DEPTH",t[t.DROP=117]="DROP",t[t.DUP=118]="DUP",t[t.NIP=119]="NIP",t[t.OVER=120]="OVER",t[t.PICK=121]="PICK",t[t.ROLL=122]="ROLL",t[t.ROT=123]="ROT",t[t.SWAP=124]="SWAP",t[t.TUCK=125]="TUCK",t[t.CAT=126]="CAT",t[t.SUBSTR=127]="SUBSTR",t[t.LEFT=128]="LEFT",t[t.RIGHT=129]="RIGHT",t[t.SIZE=130]="SIZE",t[t.INVERT=131]="INVERT",t[t.AND=132]="AND",t[t.OR=133]="OR",t[t.XOR=134]="XOR",t[t.EQUAL=135]="EQUAL",t[t.EQUALVERIFY=136]="EQUALVERIFY",t[t.RESERVED1=137]="RESERVED1",t[t.RESERVED2=138]="RESERVED2",t[t["1ADD"]=139]="1ADD",t[t["1SUB"]=140]="1SUB",t[t["2MUL"]=141]="2MUL",t[t["2DIV"]=142]="2DIV",t[t.NEGATE=143]="NEGATE",t[t.ABS=144]="ABS",t[t.NOT=145]="NOT",t[t["0NOTEQUAL"]=146]="0NOTEQUAL",t[t.ADD=147]="ADD",t[t.SUB=148]="SUB",t[t.MUL=149]="MUL",t[t.DIV=150]="DIV",t[t.MOD=151]="MOD",t[t.LSHIFT=152]="LSHIFT",t[t.RSHIFT=153]="RSHIFT",t[t.BOOLAND=154]="BOOLAND",t[t.BOOLOR=155]="BOOLOR",t[t.NUMEQUAL=156]="NUMEQUAL",t[t.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",t[t.NUMNOTEQUAL=158]="NUMNOTEQUAL",t[t.LESSTHAN=159]="LESSTHAN",t[t.GREATERTHAN=160]="GREATERTHAN",t[t.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",t[t.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",t[t.MIN=163]="MIN",t[t.MAX=164]="MAX",t[t.WITHIN=165]="WITHIN",t[t.RIPEMD160=166]="RIPEMD160",t[t.SHA1=167]="SHA1",t[t.SHA256=168]="SHA256",t[t.HASH160=169]="HASH160",t[t.HASH256=170]="HASH256",t[t.CODESEPARATOR=171]="CODESEPARATOR",t[t.CHECKSIG=172]="CHECKSIG",t[t.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",t[t.CHECKMULTISIG=174]="CHECKMULTISIG",t[t.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",t[t.NOP1=176]="NOP1",t[t.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",t[t.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",t[t.NOP4=179]="NOP4",t[t.NOP5=180]="NOP5",t[t.NOP6=181]="NOP6",t[t.NOP7=182]="NOP7",t[t.NOP8=183]="NOP8",t[t.NOP9=184]="NOP9",t[t.NOP10=185]="NOP10",t[t.CHECKSIGADD=186]="CHECKSIGADD",t[t.INVALID=255]="INVALID"})(Uo||(Uo={}));var _a=Do({encodeStream:o((t,e)=>{for(let r of e){if(typeof r=="string"){if(Uo[r]===void 0)throw new Error(`Unknown opcode=${r}`);t.byte(Uo[r]);continue}else if(typeof r=="number"){if(r===0){t.byte(0);continue}else if(1<=r&&r<=16){t.byte(Uo.OP_1-1+r);continue}}if(typeof r=="number"&&(r=j5e().encode(BigInt(r))),!Si(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<Uo.PUSHDATA1?t.byte(n):n<=255?(t.byte(Uo.PUSHDATA1),t.byte(n)):n<=65535?(t.byte(Uo.PUSHDATA2),t.bytes(VG.encode(n))):(t.byte(Uo.PUSHDATA4),t.bytes(qn.encode(n))),t.bytes(r)}},"encodeStream"),decodeStream:o(t=>{let e=[];for(;!t.isEnd();){let r=t.byte();if(Uo.OP_0<r&&r<=Uo.PUSHDATA4){let n;if(r<Uo.PUSHDATA1)n=r;else if(r===Uo.PUSHDATA1)n=Ih.decodeStream(t);else if(r===Uo.PUSHDATA2)n=VG.decodeStream(t);else if(r===Uo.PUSHDATA4)n=qn.decodeStream(t);else throw new Error("Should be not possible");e.push(t.bytes(n))}else if(r===0)e.push(0);else if(Uo.OP_1<=r&&r<=Uo.OP_16)e.push(r-(Uo.OP_1-1));else{let n=Uo[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);e.push(n)}}return e},"decodeStream")});function j5e(t=6,e=!1){return Do({encodeStream:o((r,n)=>{if(n===0n)return;let i=n<0,s=BigInt(n),a=[];for(let f=i?-s:s;f;f>>=8n)a.push(Number(f&0xffn));a[a.length-1]>=128?a.push(i?128:0):i&&(a[a.length-1]|=128),r.bytes(new Uint8Array(a))},"encodeStream"),decodeStream:o(r=>{let n=r.leftBytes;if(n>t)throw new Error(`ScriptNum: number (${n}) bigger than limit=${t}`);if(n===0)return 0n;if(e&&!(r.data[n-1]&127)&&(n<=1||!(r.data[n-2]&128)))throw new Error("Non-minimally encoded ScriptNum");let i=0,s=0n;for(let a=0;a<n;++a)i=r.byte(),s|=BigInt(i)<<8n*BigInt(a);return i>=128&&(s&=2n**BigInt(n*8)-1n>>1n,s=-s),s},"decodeStream")})}o(j5e,"ScriptNum");function iyt(t,e=4,r=!0){if(typeof t=="number")return t;if(Si(t))try{let n=j5e(e,r).decode(t);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}o(iyt,"OpToNum");var R5e={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},qN=Do({encodeStream:o((t,e)=>{if(typeof e=="number"&&(e=BigInt(e)),0n<=e&&e<=252n)return t.byte(Number(e));for(let[r,n,i,s]of Object.values(R5e))if(!(i>e||e>s)){t.byte(r);for(let a=0;a<n;a++)t.byte(Number(e>>8n*BigInt(a)&0xffn));return}throw t.err(`VarInt too big: ${e}`)},"encodeStream"),decodeStream:o(t=>{let e=t.byte();if(e<=252)return BigInt(e);let[r,n,i]=R5e[e],s=0n;for(let a=0;a<n;a++)s|=BigInt(t.byte())<<8n*BigInt(a);if(s<i)throw t.err(`Wrong CompactSize(${8*n})`);return s},"decodeStream")}),bl=y3(qN,v2.number),O5e=o(t=>Wa(qN,t),"BTCArray"),yl=_i(qN),oyt=va({txid:_i(32,!0),index:qn,finalScriptSig:yl,sequence:qn}),S2=va({amount:m3,script:yl}),syt={amount:0xffffffffffffffffn,script:Pi},n$=Wa(bl,yl),ayt=va({version:_2,segwitFlag:v5e(new Uint8Array([0,1])),inputs:O5e(oyt),outputs:O5e(S2),witnesses:_5e("segwitFlag",Wa("inputs/length",n$)),lockTime:qn});function cyt(t){if(t.segwitFlag&&t.witnesses&&!t.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return t}o(cyt,"validateRawTx");var Xd=pu(ayt,cyt);function YG(t){let[e,r,n,i,s,a]=t;return{type:e,kc:r,vc:n,reqInc:i,allowInc:s,silentIgnore:a}}o(YG,"PSBTKeyInfo");var VN=va({fingerprint:b5e,path:Wa(null,qn)}),fyt=va({version:Ih,internalKey:_i(32),merklePath:Wa(null,_i(32))}),E2=pu(fyt,t=>{if(t.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return t}),K5e=va({hashes:Wa(bl,_i(32)),der:VN}),uyt=_i(78),lyt=va({pubKey:LN,leafHash:_i(32)}),dyt=Wa(null,va({depth:Ih,version:Ih,script:yl})),Ho=_i(null),N5e=_i(20),x3=_i(32),i$={unsignedTx:[0,!1,Xd,[0],[0],!1],xpub:[1,uyt,VN,[],[0,2],!1],txVersion:[2,!1,qn,[2],[2],!1],fallbackLocktime:[3,!1,qn,[],[2],!1],inputCount:[4,!1,bl,[2],[2],!1],outputCount:[5,!1,bl,[2],[2],!1],txModifiable:[6,!1,Ih,[],[2],!1],version:[251,!1,qn,[],[0,2],!1],proprietary:[252,Ho,Ho,[],[0,2],!1]},DN={nonWitnessUtxo:[0,!1,Xd,[],[0,2],!1],witnessUtxo:[1,!1,S2,[],[0,2],!1],partialSig:[2,$G,Ho,[],[0,2],!1],sighashType:[3,!1,qn,[],[0,2],!1],redeemScript:[4,!1,Ho,[],[0,2],!1],witnessScript:[5,!1,Ho,[],[0,2],!1],bip32Derivation:[6,$G,VN,[],[0,2],!1],finalScriptSig:[7,!1,Ho,[],[0,2],!1],finalScriptWitness:[8,!1,n$,[],[0,2],!1],porCommitment:[9,!1,Ho,[],[0,2],!1],ripemd160:[10,N5e,Ho,[],[0,2],!1],sha256:[11,x3,Ho,[],[0,2],!1],hash160:[12,N5e,Ho,[],[0,2],!1],hash256:[13,x3,Ho,[],[0,2],!1],txid:[14,!1,x3,[2],[2],!0],index:[15,!1,qn,[2],[2],!0],sequence:[16,!1,qn,[],[2],!0],requiredTimeLocktime:[17,!1,qn,[],[2],!1],requiredHeightLocktime:[18,!1,qn,[],[2],!1],tapKeySig:[19,!1,T5e,[],[0,2],!1],tapScriptSig:[20,lyt,T5e,[],[0,2],!1],tapLeafScript:[21,E2,Ho,[],[0,2],!1],tapBip32Derivation:[22,x3,K5e,[],[0,2],!1],tapInternalKey:[23,!1,LN,[],[0,2],!1],tapMerkleRoot:[24,!1,x3,[],[0,2],!1],proprietary:[252,Ho,Ho,[],[0,2],!1]},hyt=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],pyt=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],UN={redeemScript:[0,!1,Ho,[],[0,2],!1],witnessScript:[1,!1,Ho,[],[0,2],!1],bip32Derivation:[2,$G,VN,[],[0,2],!1],amount:[3,!1,y5e,[2],[2],!0],script:[4,!1,Ho,[2],[2],!0],tapInternalKey:[5,!1,LN,[],[0,2],!1],tapTree:[6,!1,dyt,[],[0,2],!1],tapBip32Derivation:[7,LN,K5e,[],[0,2],!1],proprietary:[252,Ho,Ho,[],[0,2],!1]},myt=[],M5e=Wa(NN,va({key:E5e(bl,va({type:bl,key:_i(null)})),value:_i(bl)})),RYr=va({type:bl,key:_i(null)});function o$(t){let e={};for(let r in t){let[n,i,s]=t[r];e[n]=[r,i,s]}return Do({encodeStream:o((r,n)=>{let i=[];for(let s in t){let a=n[s];if(a===void 0)continue;let[f,l,h]=t[s];if(!l)i.push({key:{type:f,key:Pi},value:h.encode(a)});else{let b=a.map(([y,E])=>[l.encode(y),h.encode(E)]);b.sort((y,E)=>WG(y[0],E[0]));for(let[y,E]of b)i.push({key:{key:y,type:f},value:E})}}if(n.unknown){n.unknown.sort((s,a)=>WG(s[0].key,a[0].key));for(let[s,a]of n.unknown)i.push({key:s,value:a})}M5e.encodeStream(r,i)},"encodeStream"),decodeStream:o(r=>{let n=M5e.decodeStream(r),i={},s={};for(let a of n){let f="unknown",l=a.key.key,h=a.value;if(e[a.key.type]){let[b,y,E]=e[a.key.type];if(f=b,!y&&l.length)throw new Error(`PSBT: Non-empty key for ${f} (key=${Bi.encode(l)} value=${Bi.encode(h)}`);if(l=y?y.decode(l):void 0,h=E.decode(h),!y){if(i[f])throw new Error(`PSBT: Same keys: ${f} (key=${l} value=${h})`);i[f]=h,s[f]=!0;continue}}else l={type:a.key.type,key:a.key.key};if(s[f])throw new Error(`PSBT: Key type with empty key and no key=${f} val=${h}`);i[f]||(i[f]=[]),i[f].push([l,h])}return i},"decodeStream")})}o(o$,"PSBTKeyMap");function C5e(t,e){if(!pi(t.hash,hu(e)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=Os.decode(e);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}o(C5e,"checkWSH");function XG(t,e,r){if(t){let n=Os.decode(t);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&e){if(!pi(n.hash,FN(e)))throw new Error("checkScript: sh wrong redeemScript hash");let i=Os.decode(e);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&C5e(n,r)}if(e){let n=Os.decode(e);n.type==="wsh"&&r&&C5e(n,r)}}o(XG,"checkScript");var s$=pu(o$(DN),t=>{if(t.finalScriptWitness&&!t.finalScriptWitness.length)throw new Error("validateInput: wmpty finalScriptWitness");if(t.partialSig&&!t.partialSig.length)throw new Error("Empty partialSig");if(t.partialSig)for(let[e]of t.partialSig)A2(e,wa.ecdsa);if(t.bip32Derivation)for(let[e]of t.bip32Derivation)A2(e,wa.ecdsa);if(t.requiredTimeLocktime!==void 0&&t.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${t.requiredTimeLocktime}`);if(t.requiredHeightLocktime!==void 0&&(t.requiredHeightLocktime<=0||t.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${t.requiredHeightLocktime}`);if(t.nonWitnessUtxo&&t.index!==void 0){let e=t.nonWitnessUtxo.outputs.length-1;if(t.index>e)throw new Error(`validateInput: index(${t.index}) not in nonWitnessUtxo`);let r=t.nonWitnessUtxo.outputs[t.index];if(t.witnessUtxo&&(!pi(t.witnessUtxo.script,r.script)||t.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(t.tapLeafScript)for(let[e,r]of t.tapLeafScript){if((e.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(t.nonWitnessUtxo&&t.index&&t.txid){if(t.nonWitnessUtxo.outputs.length-1<t.index)throw new Error("nonWitnessUtxo: incorect output index");let r=r$.fromRaw(Xd.encode(t.nonWitnessUtxo)),n=Bi.encode(t.txid);if(r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return t}),a$=pu(o$(UN),t=>{if(t.bip32Derivation)for(let[e]of t.bip32Derivation)A2(e,wa.ecdsa);return t}),z5e=pu(o$(i$),t=>{if((t.version||0)===0){if(!t.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");if(t.unsignedTx.segwitFlag||t.unsignedTx.witnesses)throw new Error("PSBTv0: witness in unsingedTx");for(let r of t.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return t}),gyt=va({magic:b3(g3(new Uint8Array([255])),"psbt"),global:z5e,inputs:Wa("global/unsignedTx/inputs/length",s$),outputs:Wa(null,a$)}),yyt=va({magic:b3(g3(new Uint8Array([255])),"psbt"),global:z5e,inputs:Wa("global/inputCount",s$),outputs:Wa("global/outputCount",a$)}),OYr=va({magic:b3(g3(new Uint8Array([255])),"psbt"),items:Wa(null,y3(Wa(NN,S5e([x5e(bl),_i(qN)])),v2.dict()))});function jG(t,e,r){for(let n in r){if(n==="unknown"||!e[n])continue;let{allowInc:i}=YG(e[n]);if(!i.includes(t))throw new Error(`PSBTv${t}: field ${n} is not allowed`)}for(let n in e){let{reqInc:i}=YG(e[n]);if(i.includes(t)&&r[n]===void 0)throw new Error(`PSBTv${t}: missing required field ${n}`)}}o(jG,"validatePSBTFields");function k5e(t,e,r){let n={};for(let i in r){let s=i;if(s!=="unknown"){if(!e[s])continue;let{allowInc:a,silentIgnore:f}=YG(e[s]);if(!a.includes(t)){if(f)continue;throw new Error(`Failed to serialize in PSBTv${t}: ${s} but versions allows inclusion=${a}`)}}n[s]=r[s]}return n}o(k5e,"cleanPSBTFields");function G5e(t){let e=t&&t.global&&t.global.version||0;jG(e,i$,t.global);for(let a of t.inputs)jG(e,DN,a);for(let a of t.outputs)jG(e,UN,a);let r=e?t.global.inputCount:t.global.unsignedTx.inputs.length;if(t.inputs.length<r)throw new Error("Not enough inputs");let n=t.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=e?t.global.outputCount:t.global.unsignedTx.outputs.length;if(t.outputs.length<i)throw new Error("Not outputs inputs");let s=t.outputs.slice(i);if(s.length>1||s.length&&Object.keys(s[0]).length)throw new Error(`Unexpected outputs left in tx=${s}`);return t}o(G5e,"validatePSBT");function KG(t,e,r,n){let i={...r,...e};for(let s in t){let a=s,[f,l,h]=t[a],b=n&&!n.includes(s);if(e[s]===void 0&&s in e){if(b)throw new Error(`Cannot remove signed field=${s}`);delete i[s]}else if(l){let y=r&&r[s]?r[s]:[],E=e[a];if(E){if(!Array.isArray(E))throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);E=E.map(N=>{if(N.length!==2)throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);return[typeof N[0]=="string"?l.decode(Bi.decode(N[0])):N[0],typeof N[1]=="string"?h.decode(Bi.decode(N[1])):N[1]]});let I={},O=o((N,k,C)=>{if(I[N]===void 0){I[N]=[k,C];return}let L=Bi.encode(h.encode(I[N][1])),M=Bi.encode(h.encode(C));if(L!==M)throw new Error(`keyMap(${a}): same key=${N} oldVal=${L} newVal=${M}`)},"add");for(let[N,k]of y){let C=Bi.encode(l.encode(N));O(C,N,k)}for(let[N,k]of E){let C=Bi.encode(l.encode(N));if(k===void 0){if(b)throw new Error(`Cannot remove signed field=${a}/${N}`);delete I[C]}else O(C,N,k)}i[a]=Object.values(I)}}else if(typeof i[s]=="string")i[s]=h.decode(Bi.decode(i[s]));else if(b&&s in e&&r&&r[s]!==void 0&&!pi(h.encode(e[s]),h.encode(r[s])))throw new Error(`Cannot change signed field=${s}`)}for(let s in i)t[s]||delete i[s];return i}o(KG,"mergeKeyMap");var B5e=pu(gyt,G5e),P5e=pu(yyt,G5e),zG=va({txid:_i(32,!0),index:qn}),byt={encode(t){if(!(t.length!==2||!Si(t[0])||!Ry(t[0],wa.ecdsa)||t[1]!=="CHECKSIG"))return{type:"pk",pubkey:t[0]}},decode:o(t=>t.type==="pk"?[t.pubkey,"CHECKSIG"]:void 0,"decode")};var xyt={encode(t){if(!(t.length!==5||t[0]!=="DUP"||t[1]!=="HASH160"||!Si(t[2]))&&!(t[3]!=="EQUALVERIFY"||t[4]!=="CHECKSIG"))return{type:"pkh",hash:t[2]}},decode:o(t=>t.type==="pkh"?["DUP","HASH160",t.hash,"EQUALVERIFY","CHECKSIG"]:void 0,"decode")};var vyt={encode(t){if(!(t.length!==3||t[0]!=="HASH160"||!Si(t[1])||t[2]!=="EQUAL"))return{type:"sh",hash:t[1]}},decode:o(t=>t.type==="sh"?["HASH160",t.hash,"EQUAL"]:void 0,"decode")},NYr=o((t,e=I2)=>{let r=t.script;if(!Si(r))throw new Error(`Wrong script: ${typeof t.script}, expected Uint8Array`);let n=FN(r),i=Os.encode({type:"sh",hash:n});XG(i,r,t.witnessScript);let s={type:"sh",redeemScript:r,script:Os.encode({type:"sh",hash:n}),address:jN(e).encode({type:"sh",hash:n})};return t.witnessScript&&(s.witnessScript=t.witnessScript),s},"p2sh"),_yt={encode(t){if(!(t.length!==2||t[0]!==0||!Si(t[1]))&&t[1].length===32)return{type:"wsh",hash:t[1]}},decode:o(t=>t.type==="wsh"?[0,t.hash]:void 0,"decode")};var wyt={encode(t){if(!(t.length!==2||t[0]!==0||!Si(t[1]))&&t[1].length===20)return{type:"wpkh",hash:t[1]}},decode:o(t=>t.type==="wpkh"?[0,t.hash]:void 0,"decode")},MYr=o((t,e=I2)=>{if(!Ry(t,wa.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(t.length===65)throw new Error("P2WPKH: uncompressed public key");let r=FN(t);return{type:"wpkh",script:Os.encode({type:"wpkh",hash:r}),address:jN(e).encode({type:"wpkh",hash:r})}},"p2wpkh"),Syt={encode(t){let e=t.length-1;if(t[e]!=="CHECKMULTISIG")return;let r=t[0],n=t[e-1];if(typeof r!="number"||typeof n!="number")return;let i=t.slice(1,-2);if(n===i.length){for(let s of i)if(!Si(s))return;return{type:"ms",m:r,pubkeys:i}}},decode:o(t=>t.type==="ms"?[t.m,...t.pubkeys,t.pubkeys.length,"CHECKMULTISIG"]:void 0,"decode")};var Eyt={encode(t){if(!(t.length!==2||t[0]!==1||!Si(t[1])))return{type:"tr",pubkey:t[1]}},decode:o(t=>t.type==="tr"?[1,t.pubkey]:void 0,"decode")};function Ayt(t){let e=Array.from(t);for(;e.length>=2;){e.sort((a,f)=>(f.weight||1)-(a.weight||1));let n=e.pop(),i=e.pop(),s=(i?.weight||1)+(n?.weight||1);e.push({weight:s,childs:[i?.childs||i,n?.childs||n]})}let r=e[0];return r?.childs||r}o(Ayt,"taprootListToTree");function Iyt(t,e,r=!1){let n=Os.decode(t);if(n.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(n.type))throw new Error(`P2TR: invalid leaf script=${n.type}`);let i=n;if(!r&&i.pubkeys)for(let s of i.pubkeys){if(pi(s,$5e))throw new Error("Unspendable taproot key in leaf script");if(pi(s,e))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}o(Iyt,"checkTaprootScript");function ZG(t,e,r=!1){if(!t)throw new Error("taprootHashTree: empty tree");if(Array.isArray(t)&&t.length===1&&(t=t[0]),!Array.isArray(t)){let{leafVersion:f,script:l}=t;if(t.tapLeafScript||t.tapMerkleRoot&&!pi(t.tapMerkleRoot,Pi))throw new Error("P2TR: tapRoot leafScript cannot have tree");let h=typeof l=="string"?Bi.decode(l):l;if(!Si(h))throw new Error(`checkScript: wrong script type=${h}`);return Iyt(h,e,r),{type:"leaf",version:f,script:h,hash:kN(h,f)}}if(t.length!==2&&(t=Ayt(t)),t.length!==2)throw new Error("hashTree: non binary tree!");let n=ZG(t[0],e,r),i=ZG(t[1],e,r),[s,a]=[n.hash,i.hash];return WG(a,s)===-1&&([s,a]=[a,s]),{type:"branch",left:n,right:i,hash:df.utils.taggedHash("TapBranch",s,a)}}o(ZG,"taprootHashTree");function JG(t,e=[]){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return{...t,path:e};if(t.type!=="branch")throw new Error(`taprootAddPath: wrong type=${t}`);return{...t,path:e,left:JG(t.left,[t.right.hash,...e]),right:JG(t.right,[t.left.hash,...e])}}o(JG,"taprootAddPath");function QG(t){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return[t];if(t.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${t}`);return[...QG(t.left),...QG(t.right)]}o(QG,"taprootWalkTree");var $5e=hu(HN.BASE.toRawBytes(!1));function CYr(t,e,r=I2,n=!1){if(!t&&!e)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let i=typeof t=="string"?Bi.decode(t):t||$5e;if(!Ry(i,wa.schnorr))throw new Error("p2tr: non-schnorr pubkey");let s=e?JG(ZG(e,i,n)):void 0,a=s?s.hash:void 0,[f,l]=q5e(i,a||Pi),h;s&&(h=QG(s).map(E=>({...E,controlBlock:E2.encode({version:(E.version||t$)+l,internalKey:i,merklePath:E.path})})));let b;h&&(b=h.map(E=>[E2.decode(E.controlBlock),Zm(E.script,new Uint8Array([E.version||t$]))]));let y={type:"tr",script:Os.encode({type:"tr",pubkey:f}),address:jN(r).encode({type:"tr",pubkey:f}),tweakedPubkey:f,tapInternalKey:i};return h&&(y.leaves=h),b&&(y.tapLeafScript=b),a&&(y.tapMerkleRoot=a),y}o(CYr,"p2tr");var Tyt={encode(t){let e=t.length-1;if(t[e]!=="CHECKSIG")return;let r=[];for(let n=0;n<e;n++){let i=t[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===e-1)return;continue}if(!Si(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:o(t=>{if(t.type!=="tr_ns")return;let e=[];for(let r=0;r<t.pubkeys.length-1;r++)e.push(t.pubkeys[r],"CHECKSIGVERIFY");return e.push(t.pubkeys[t.pubkeys.length-1],"CHECKSIG"),e},"decode")};var Ryt={encode(t){let e=t.length-1;if(t[e]!=="NUMEQUAL"||t[1]!=="CHECKSIG")return;let r=[],n=iyt(t[e-1]);if(typeof n=="number"){for(let i=0;i<e-1;i++){let s=t[i];if(i&1){if(s!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!Si(s))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(s)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:o(t=>{if(t.type!=="tr_ms")return;let e=[t.pubkeys[0],"CHECKSIG"];for(let r=1;r<t.pubkeys.length;r++)e.push(t.pubkeys[r],"CHECKSIGADD");return e.push(t.m,"NUMEQUAL"),e},"decode")};var Oyt={encode(t){return{type:"unknown",script:_a.encode(t)}},decode:o(t=>t.type==="unknown"?_a.decode(t.script):void 0,"decode")},Nyt=[byt,xyt,vyt,_yt,wyt,Syt,Eyt,Tyt,Ryt,Oyt],Myt=y3(_a,v2.match(Nyt)),Os=pu(Myt,t=>{if(t.type==="pk"&&!Ry(t.pubkey,wa.ecdsa))throw new Error("OutScript/pk: wrong key");if((t.type==="pkh"||t.type==="sh"||t.type==="wpkh")&&(!Si(t.hash)||t.hash.length!==20))throw new Error(`OutScript/${t.type}: wrong hash`);if(t.type==="wsh"&&(!Si(t.hash)||t.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(t.type==="tr"&&(!Si(t.pubkey)||!Ry(t.pubkey,wa.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((t.type==="ms"||t.type==="tr_ns"||t.type==="tr_ms")&&!Array.isArray(t.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(t.type==="ms"){let e=t.pubkeys.length;for(let r of t.pubkeys)if(!Ry(r,wa.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(t.m<=0||e>16||t.m>e)throw new Error("OutScript/multisig: invalid params")}if(t.type==="tr_ns"||t.type==="tr_ms"){for(let e of t.pubkeys)if(!Ry(e,wa.schnorr))throw new Error(`OutScript/${t.type}: wrong pubkey`)}if(t.type==="tr_ms"){let e=t.pubkeys.length;if(t.m<=0||e>999||t.m>e)throw new Error("OutScript/tr_ms: invalid params")}return t});function W5e(t,e){if(e.length<2||e.length>40)throw new Error("Witness: invalid length");if(t>16)throw new Error("Witness: invalid version");if(t===0&&!(e.length===20||e.length===32))throw new Error("Witness: invalid length for version")}o(W5e,"validateWitness");function GG(t,e,r=I2){W5e(t,e);let n=t===0?EN:FG;return n.encode(r.bech32,[t].concat(n.toWords(e)))}o(GG,"programToWitness");function L5e(t,e){return H5e.encode(Zm(Uint8Array.from(e),t))}o(L5e,"formatKey");function jN(t=I2){return{encode(e){let{type:r}=e;if(r==="wpkh")return GG(0,e.hash,t);if(r==="wsh")return GG(0,e.hash,t);if(r==="tr")return GG(1,e.pubkey,t);if(r==="pkh")return L5e(e.hash,[t.pubKeyHash]);if(r==="sh")return L5e(e.hash,[t.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(e){if(e.length<14||e.length>74)throw new Error("Invalid address length");if(t.bech32&&e.toLowerCase().startsWith(t.bech32)){let n;try{if(n=EN.decode(e),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=FG.decode(e),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==t.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...s]=n.words,a=EN.fromWords(s);if(W5e(i,a),i===0&&a.length===32)return{type:"wsh",hash:a};if(i===0&&a.length===20)return{type:"wpkh",hash:a};if(i===1&&a.length===32)return{type:"tr",pubkey:a};throw new Error("Unknown witness program")}let r=H5e.decode(e);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===t.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===t.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}o(jN,"Address");var wi;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY"})(wi||(wi={}));var e$;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",t[t.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",t[t.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",t[t.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(e$||(e$={}));function Cyt(t){if(typeof t!="number"||typeof e$[t]!="string")throw new Error(`Invalid SigHash=${t}`);return t}o(Cyt,"validateSigHash");function D5e(t){let e=t&31;return{isAny:!!(t&wi.ANYONECANPAY),isNone:e===wi.NONE,isSingle:e===wi.SINGLE}}o(D5e,"unpackSighash");function CN(t){if(t.txid===void 0||t.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:t.txid,index:t.index,sequence:v3(t.sequence,V5e),finalScriptSig:v3(t.finalScriptSig,Pi)}}o(CN,"inputBeforeSign");function U5e(t){for(let e in t){let r=e;hyt.includes(r)||delete t[r]}}o(U5e,"cleanFinalInput");function w2(t){if(t.script===void 0||t.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:t.script,amount:t.amount}}o(w2,"outputBeforeSign");var t$=192,kN=o((t,e=t$)=>df.utils.taggedHash("TapLeaf",new Uint8Array([e]),yl.encode(t)),"tapLeafHash");function kyt(t,e,r,n=Pi){return pi(r,e)&&(t=tyt(t,n),e=df.getPublicKey(t)),{privKey:t,pubKey:e}}o(kyt,"getTaprootKeys");var Byt={}.toString;function Pyt(t){if(t!==void 0&&Byt.call(t)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${t}`);let e={...t,version:v3(t.version,nyt),lockTime:v3(t.lockTime,0),PSBTVersion:v3(t.PSBTVersion,0)};if(typeof e.allowUnknowInput<"u"&&(t.allowUnknownInputs=e.allowUnknowInput),typeof e.allowUnknowOutput<"u"&&(t.allowUnknownOutputs=e.allowUnknowOutput),![-1,0,1,2].includes(e.version))throw new Error(`Unknown version: ${e.version}`);if(typeof e.lockTime!="number")throw new Error("Transaction lock time should be number");if(qn.encode(e.lockTime),e.PSBTVersion!==0&&e.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${e.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=e[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}return Object.freeze(e)}o(Pyt,"validateOpts");var r$=class t{static{o(this,"Transaction")}constructor(e={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=Pyt(e);r.lockTime!==Ty&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(e,r={}){let n=Xd.decode(e),i=new t({...r,version:n.version,lockTime:n.lockTime});for(let s of n.outputs)i.addOutput(s);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let s=0;s<n.witnesses.length;s++)i.inputs[s].finalScriptWitness=n.witnesses[s];return i}static fromPSBT(e,r={}){let n;try{n=B5e.decode(e)}catch(y){try{n=P5e.decode(e)}catch{throw y}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let s=n.global.unsignedTx,a=i===0?s?.version:n.global.txVersion,f=i===0?s?.lockTime:n.global.fallbackLocktime,l=new t({...r,version:a,lockTime:f,PSBTVersion:i}),h=i===0?s?.inputs.length:n.global.inputCount;l.inputs=n.inputs.slice(0,h).map((y,E)=>({finalScriptSig:Pi,...n.global.unsignedTx?.inputs[E],...y}));let b=i===0?s?.outputs.length:n.global.outputCount;return l.outputs=n.outputs.slice(0,b).map((y,E)=>({...y,...n.global.unsignedTx?.outputs[E]})),l.global={...n.global,txVersion:a},f!==Ty&&(l.global.fallbackLocktime=f),l}toPSBT(e=this.opts.PSBTVersion){if(e!==0&&e!==2)throw new Error(`Wrong PSBT version=${e}`);let r=this.inputs.map(s=>k5e(e,DN,s));for(let s of r)s.partialSig&&!s.partialSig.length&&delete s.partialSig,s.finalScriptSig&&!s.finalScriptSig.length&&delete s.finalScriptSig,s.finalScriptWitness&&!s.finalScriptWitness.length&&delete s.finalScriptWitness;let n=this.outputs.map(s=>k5e(e,UN,s)),i={...this.global};return e===0?(i.unsignedTx=Xd.decode(this.unsignedTx),delete i.fallbackLocktime,delete i.txVersion):(i.version=e,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===Ty&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(e===0?B5e:P5e).encode({global:i,inputs:r,outputs:n})}get lockTime(){let e=Ty,r=0,n=Ty,i=0;for(let s of this.inputs)s.requiredHeightLocktime&&(e=Math.max(e,s.requiredHeightLocktime),r++),s.requiredTimeLocktime&&(n=Math.max(n,s.requiredTimeLocktime),i++);return r&&r>=i?e:n!==Ty?n:this.global.fallbackLocktime||Ty}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(e){this.checkInputIdx(e);let r=this.inputs[e];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(e){this.checkInputIdx(e);let r=this.inputType(this.inputs[e]).sighash,n=r===wi.DEFAULT?wi.ALL:r&3;return{sigInputs:r&wi.ANYONECANPAY,sigOutputs:n}}signStatus(){let e=!0,r=!0,n=[],i=[];for(let s=0;s<this.inputs.length;s++){if(this.inputStatus(s)==="unsigned")continue;let{sigInputs:f,sigOutputs:l}=this.inputSighash(s);if(f===wi.ANYONECANPAY?n.push(s):e=!1,l===wi.ALL)r=!1;else if(l===wi.SINGLE)i.push(s);else if(l!==wi.NONE)throw new Error(`Wrong signature hash output type: ${l}`)}return{addInput:e,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let e=0;e<this.inputs.length;e++)if(this.inputStatus(e)!=="finalized")return!1;return!0}get hasWitnesses(){let e=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(e=!0);return e}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let e=32,r=this.outputs.map(w2);this.hasWitnesses&&(e+=2),e+=4*bl.encode(this.inputs.length).length,e+=4*bl.encode(this.outputs.length).length;for(let n of this.inputs)e+=160+4*yl.encode(n.finalScriptSig||Pi).length;for(let n of r)e+=32+4*yl.encode(n.script).length;if(this.hasWitnesses)for(let n of this.inputs)n.finalScriptWitness&&(e+=n$.encode(n.finalScriptWitness).length);return e}get vsize(){return Math.ceil(this.weight/4)}toBytes(e=!1,r=!1){return Xd.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(CN).map(n=>({...n,finalScriptSig:e&&n.finalScriptSig||Pi})),outputs:this.outputs.map(w2),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return Bi.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Bi.encode(Xm(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Bi.encode(Xm(this.toBytes(!0)).reverse())}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.inputs.length)throw new Error(`Wrong input index=${e}`)}getInput(e){return this.checkInputIdx(e),PN(this.inputs[e])}get inputsLength(){return this.inputs.length}normalizeInput(e,r,n){let{nonWitnessUtxo:i,txid:s}=e;typeof i=="string"&&(i=Bi.decode(i)),Si(i)&&(i=Xd.decode(i)),i===void 0&&(i=r?.nonWitnessUtxo),typeof s=="string"&&(s=Bi.decode(s)),s===void 0&&(s=r?.txid);let a={...r,...e,nonWitnessUtxo:i,txid:s};a.nonWitnessUtxo===void 0&&delete a.nonWitnessUtxo,a.sequence===void 0&&(a.sequence=V5e),a.tapMerkleRoot===null&&delete a.tapMerkleRoot,a=KG(DN,a,r,n),s$.encode(a);let f;return a.nonWitnessUtxo&&a.index!==void 0?f=a.nonWitnessUtxo.outputs[a.index]:a.witnessUtxo&&(f=a.witnessUtxo),f&&!this.opts.disableScriptCheck&&XG(f&&f.script,a.redeemScript,a.witnessScript),a}addInput(e,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(this.normalizeInput(e)),this.inputs.length-1}updateInput(e,r,n=!1){this.checkInputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addInput||s.inputs.includes(e))&&(i=pyt)}this.inputs[e]=this.normalizeInput(r,this.inputs[e],i)}checkOutputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.outputs.length)throw new Error(`Wrong output index=${e}`)}getOutput(e){return this.checkOutputIdx(e),PN(this.outputs[e])}get outputsLength(){return this.outputs.length}normalizeOutput(e,r,n){let{amount:i,script:s}=e;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error("amount must be bigint sats");typeof s=="string"&&(s=Bi.decode(s)),s===void 0&&(s=r?.script);let a={...r,...e,amount:i,script:s};if(a.amount===void 0&&delete a.amount,a=KG(UN,a,r,n),a$.encode(a),a.script&&!this.opts.allowUnknownOutputs&&Os.decode(a.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownScript=true, if you sure");return this.opts.disableScriptCheck||XG(a.script,a.redeemScript,a.witnessScript),a}addOutput(e,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(e)),this.outputs.length-1}updateOutput(e,r,n=!1){this.checkOutputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addOutput||s.outputs.includes(e))&&(i=myt)}this.outputs[e]=this.normalizeOutput(r,this.outputs[e],i)}addOutputAddress(e,r,n=I2){return this.addOutput({script:Os.encode(jN(n).decode(e)),amount:r})}get fee(){let e=0n;for(let n of this.inputs){let i=this.prevOut(n);if(!i)throw new Error("Empty input amount");e+=i.amount}let r=this.outputs.map(w2);for(let n of r)e-=n.amount;return e}preimageLegacy(e,r,n){let{isAny:i,isNone:s,isSingle:a}=D5e(n);if(e<0||!Number.isSafeInteger(e))throw new Error(`Invalid input idx=${e}`);if(a&&e>=this.outputs.length||e>=this.inputs.length)return g5e.encode(1n);r=_a.encode(_a.decode(r).filter(b=>b!=="CODESEPARATOR"));let f=this.inputs.map(CN).map((b,y)=>({...b,finalScriptSig:y===e?r:Pi}));i?f=[f[e]]:(s||a)&&(f=f.map((b,y)=>({...b,sequence:y===e?b.sequence:0})));let l=this.outputs.map(w2);s?l=[]:a&&(l=l.slice(0,e).fill(syt).concat([l[e]]));let h=Xd.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:f,outputs:l});return Xm(h,_2.encode(n))}preimageWitnessV0(e,r,n,i){let{isAny:s,isNone:a,isSingle:f}=D5e(n),l=MN,h=MN,b=MN,y=this.inputs.map(CN),E=this.outputs.map(w2);s||(l=Xm(...y.map(zG.encode))),!s&&!f&&!a&&(h=Xm(...y.map(O=>qn.encode(O.sequence)))),!f&&!a?b=Xm(...E.map(S2.encode)):f&&e<E.length&&(b=Xm(S2.encode(E[e])));let I=y[e];return Xm(_2.encode(this.version),l,h,_i(32,!0).encode(I.txid),qn.encode(I.index),yl.encode(r),m3.encode(i),qn.encode(I.sequence),b,qn.encode(this.lockTime),qn.encode(n))}preimageWitnessV1(e,r,n,i,s=-1,a,f=192,l){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let h=[Ih.encode(0),Ih.encode(n),_2.encode(this.version),qn.encode(this.lockTime)],b=n===wi.DEFAULT?wi.ALL:n&3,y=n&wi.ANYONECANPAY,E=this.inputs.map(CN),I=this.outputs.map(w2);y!==wi.ANYONECANPAY&&h.push(...[E.map(zG.encode),i.map(m3.encode),r.map(yl.encode),E.map(N=>qn.encode(N.sequence))].map(N=>hu(Zm(...N)))),b===wi.ALL&&h.push(hu(Zm(...I.map(S2.encode))));let O=(l?1:0)|(a?2:0);if(h.push(new Uint8Array([O])),y===wi.ANYONECANPAY){let N=E[e];h.push(zG.encode(N),m3.encode(i[e]),yl.encode(r[e]),qn.encode(N.sequence))}else h.push(qn.encode(e));return O&1&&h.push(hu(yl.encode(l||Pi))),b===wi.SINGLE&&h.push(e<I.length?hu(S2.encode(I[e])):MN),a&&h.push(kN(a,f),Ih.encode(0),_2.encode(s)),df.utils.taggedHash("TapSighash",...h)}prevOut(e){if(e.nonWitnessUtxo){if(e.index===void 0)throw new Error("Unknown input index");return e.nonWitnessUtxo.outputs[e.index]}else{if(e.witnessUtxo)return e.witnessUtxo;throw new Error("Cannot find previous output info")}}inputType(e){let r="legacy",n=wi.ALL,i=this.prevOut(e),s=Os.decode(i.script),a=s.type,f=s,l=[s];if(s.type==="tr")return n=wi.DEFAULT,{txType:"taproot",type:"tr",last:s,lastScript:i.script,defaultSighash:n,sighash:e.sighashType||n};{if((s.type==="wpkh"||s.type==="wsh")&&(r="segwit"),s.type==="sh"){if(!e.redeemScript)throw new Error("inputType: sh without redeemScript");let E=Os.decode(e.redeemScript);(E.type==="wpkh"||E.type==="wsh")&&(r="segwit"),l.push(E),f=E,a+=`-${E.type}`}if(f.type==="wsh"){if(!e.witnessScript)throw new Error("inputType: wsh without witnessScript");let E=Os.decode(e.witnessScript);E.type==="wsh"&&(r="segwit"),l.push(E),f=E,a+=`-${E.type}`}let h=l[l.length-1];if(h.type==="sh"||h.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let b=Os.encode(h),y={type:a,txType:r,last:h,lastScript:b,defaultSighash:n,sighash:e.sighashType||n};if(r==="legacy"&&!this.opts.allowLegacyWitnessUtxo&&!e.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return y}}signIdx(e,r,n,i){this.checkInputIdx(r);let s=this.inputs[r],a=this.inputType(s);if(!Si(e)){if(!s.bip32Derivation||!s.bip32Derivation.length)throw new Error("bip32Derivation: empty");let b=s.bip32Derivation.filter(E=>E[1].fingerprint==e.fingerprint).map(([E,{path:I}])=>{let O=e;for(let N of I)O=O.deriveChild(N);if(!pi(O.publicKey,E))throw new Error("bip32Derivation: wrong pubKey");if(!O.privateKey)throw new Error("bip32Derivation: no privateKey");return O});if(!b.length)throw new Error(`bip32Derivation: no items with fingerprint=${e.fingerprint}`);let y=!1;for(let E of b)this.signIdx(E.privateKey,r)&&(y=!0);return y}n?n.forEach(Cyt):n=[a.defaultSighash];let f=a.sighash;if(!n.includes(f))throw new Error(`Input with not allowed sigHash=${f}. Allowed: ${n.join(", ")}`);let{sigOutputs:l}=this.inputSighash(r);if(l===wi.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let h=this.prevOut(s);if(a.txType==="taproot"){if(s.tapBip32Derivation)throw new Error("tapBip32Derivation unsupported");let b=this.inputs.map(this.prevOut),y=b.map(k=>k.script),E=b.map(k=>k.amount),I=!1,O=df.getPublicKey(e),N=s.tapMerkleRoot||Pi;if(s.tapInternalKey){let{pubKey:k,privKey:C}=kyt(e,O,s.tapInternalKey,N),[L,M]=q5e(s.tapInternalKey,N);if(pi(L,k)){let U=this.preimageWitnessV1(r,y,f,E),q=Zm(df.sign(U,C,i),f!==wi.DEFAULT?new Uint8Array([f]):Pi);this.updateInput(r,{tapKeySig:q},!0),I=!0}}if(s.tapLeafScript){s.tapScriptSig=s.tapScriptSig||[];for(let[k,C]of s.tapLeafScript){let L=C.subarray(0,-1),M=_a.decode(L),U=C[C.length-1],q=kN(L,U);if(M.findIndex(X=>Si(X)&&pi(X,O))===-1)continue;let re=this.preimageWitnessV1(r,y,f,E,void 0,L,U),Y=Zm(df.sign(re,e,i),f!==wi.DEFAULT?new Uint8Array([f]):Pi);this.updateInput(r,{tapScriptSig:[[{pubKey:O,leafHash:q},Y]]},!0),I=!0}}if(!I)throw new Error("No taproot scripts signed");return!0}else{let b=Q1t(e),y=!1,E=FN(b);for(let N of _a.decode(a.lastScript))Si(N)&&(pi(N,b)||pi(N,E))&&(y=!0);if(!y)throw new Error(`Input script doesn't have pubKey: ${a.lastScript}`);let I;if(a.txType==="legacy")I=this.preimageLegacy(r,a.lastScript,f);else if(a.txType==="segwit"){let N=a.lastScript;a.last.type==="wpkh"&&(N=Os.encode({type:"pkh",hash:a.last.hash})),I=this.preimageWitnessV0(r,N,f,h.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${a.txType}`);let O=eyt(I,e,this.opts.lowR);this.updateInput(r,{partialSig:[[b,Zm(O,new Uint8Array([f]))]]},!0)}return!0}sign(e,r,n){let i=0;for(let s=0;s<this.inputs.length;s++)try{this.signIdx(e,s,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(e){if(this.checkInputIdx(e),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[e],n=this.inputType(r);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let l=r.tapLeafScript.sort((h,b)=>E2.encode(h[0]).length-E2.encode(b[0]).length);for(let[h,b]of l){let y=b.slice(0,-1),E=b[b.length-1],I=Os.decode(y),O=kN(y,E),N=r.tapScriptSig.filter(C=>pi(C[0].leafHash,O)),k=[];if(I.type==="tr_ms"){let C=I.m,L=I.pubkeys,M=0;for(let U of L){let q=N.findIndex(j=>pi(j[0].pubKey,U));if(M===C||q===-1){k.push(Pi);continue}k.push(N[q][1]),M++}if(M!==C)continue}else if(I.type==="tr_ns"){for(let C of I.pubkeys){let L=N.findIndex(M=>pi(M[0].pubKey,C));L!==-1&&k.push(N[L][1])}if(k.length!==I.pubkeys.length)continue}else if(I.type==="unknown"&&this.opts.allowUnknownInputs){let C=_a.decode(y);if(k=N.map(([{pubKey:L},M])=>{let U=C.findIndex(q=>Si(q)&&pi(q,L));if(U===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:M,pos:U}}).sort((L,M)=>L.pos-M.pos).map(L=>L.signature),!k.length)continue}else throw new Error("Finalize: Unknown tapLeafScript");r.finalScriptWitness=k.reverse().concat([y,E2.encode(h)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=Pi,U5e(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=Pi,s=[];if(n.last.type==="ms"){let l=n.last.m,h=n.last.pubkeys,b=[];for(let y of h){let E=r.partialSig.find(I=>pi(y,I[0]));E&&b.push(E[1])}if(b=b.slice(0,l),b.length!==l)throw new Error(`Multisig: wrong signatures count, m=${l} n=${h.length} signatures=${b.length}`);i=_a.encode([0,...b])}else if(n.last.type==="pk")i=_a.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=_a.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=Pi,s=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let a,f;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(s=_a.decode(i).map(l=>{if(l===0)return Pi;if(Si(l))return l;throw new Error(`Wrong witness op=${l}`)})),s=s.concat(n.lastScript)),n.txType==="segwit"&&(f=s),n.type.startsWith("sh-wsh-")?a=_a.encode([_a.encode([0,hu(n.lastScript)])]):n.type.startsWith("sh-")?a=_a.encode([..._a.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(a=i),!a&&!f)throw new Error("Unknown error finalizing input");a&&(r.finalScriptSig=a),f&&(r.finalScriptWitness=f),U5e(r)}finalize(){for(let e=0;e<this.inputs.length;e++)this.finalizeIdx(e)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(e){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==e.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${e.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==e[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${e[i].length}`);let r=this.global.unsignedTx?Xd.encode(this.global.unsignedTx):Pi,n=e.global.unsignedTx?Xd.encode(e.global.unsignedTx):Pi;if(!pi(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=KG(i$,this.global,e.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,e.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,e.outputs[i],!0);return this}clone(){return t.fromPSBT(this.toPSBT(2),this.opts)}};export{nX as a,PA as b,gne as c,bne as d,jk as e,Qre as f,yf as g,Kk as h,ub as i,zk as j,Gk as k,ane as l,cne as m,fne as n,une as o,lne as p,dne as q,hne as r,pne as s,mne as t,bke as u,nc as v,bf as w,Tpt as x,Eg as y,c4 as z,BB as A,Cg as B,s8 as C,U8 as D,Bb as E,TKe as F,RKe as G,NKe as H,iD as I,td as J,lx as K,sMt as L,hs as M,Se as N,xze as O,vze as P,_ze as Q,Xde as R,kze as S,Pze as T,Lze as U,Dze as V,Uze as W,nd as X,We as Y,n4 as Z,S_ as _,Et as $,In as aa,Ji as ba,zh as ca,ic as da,Uc as ea,Hc as fa,Fc as ga,qc as ha,oc as ia,Gh as ja,Vc as ka,wg as la,sc as ma,h0 as na,$h as oa,p0 as pa,Tn as qa,t1 as ra,Ft as sa,IBt as ta,M0 as ua,i0e as va,Bw as wa,kw as xa,_p as ya,a0e as za,N5 as Aa,Pw as Ba,u0e as Ca,Zze as Da,Jze as Ea,mD as Fa,Qze as Ga,eGe as Ha,tGe as Ia,Wo as Ja,y0e as Ka,hx as La,xD as Ma,oGe as Na,EGe as Oa,AGe as Pa,mx as Qa,ED as Ra,ID as Sa,ad as Ta,LD as Ua,FD as Va,qD as Wa,FDt as Xa,Ap as Ya,aU as Za,o1 as _a,s1 as $a,Xo as ab,Oi as bb,Tp as cb,jf as db,lU as eb,ie as fb,gI as gb,eH as hb,Xpe as ib,Lx as jb,q0 as kb,yH as lb,jWe as mb,Fx as nb,NH as ob,OYe as pb,Lf as qb,Jde as rb,qze as sb,hD as tb,pD as ub,Vze as vb,jze as wb,NYe as xb,$H as yb,F1e as zb,La as Ab,mbe as Bb,MF as Cb,eve as Db,hq as Eb,qrt as Fb,zrt as Gb,Grt as Hb,yv as Ib,mq as Jb,yq as Kb,Nt as Lb,jve as Mb,bn as Nb,Lve as Ob,rh as Pb,Fve as Qb,qve as Rb,Vve as Sb,Kve as Tb,$ve as Ub,Wve as Vb,Yve as Wb,Xve as Xb,Zve as Yb,Jve as Zb,Qve as _b,e2e as $b,t2e as ac,r2e as bc,n2e as cc,zve as dc,i2e as ec,Gve as fc,o2e as gc,s2e as hc,Sq as ic,iG as jc,oG as kc,mm as lc,ro as mc,g2e as nc,snt as oc,Zf as pc,$1 as qc,GS as rc,Fq as sc,hi as tc,Nnt as uc,L2e as vc,Mnt as wc,Va as xc,Hnt as yc,slr as zc,Jft as Ac,Rt as Bc,et as Cc,YS as Dc,Kct as Ec,dr as Fc,Wct as Gc,Yct as Hc,w9 as Ic,nft as Jc,ift as Kc,oft as Lc,sft as Mc,d3e as Nc,rut as Oc,y3e as Pc,dK as Qc,VE as Rc,$9 as Sc,Mj as Tc,hEe as Uc,pEe as Vc,Cj as Wc,cft as Xc,_Ee as Yc,Nm as Zc,T9 as _c,jr as $c,hh as ad,qj as bd,FEe as cd,Cm as dd,KEe as ed,zEe as fd,GEe as gd,Ift as hd,Yj as id,Mi as jd,kj as kd,aft as ld,Cft as md,Zj as nd,Jj as od,s3e as pd,oK as qd,aK as rd,zft as sd,$ft as td,p2 as ud,hKr as vd,pKr as wd,hpt as xd,ppt as yd,mpt as zd,ypt as Ad,Wft as Bd,Yft as Cd,Xft as Dd,Zft as Ed,bpt as Fd,xpt as Gd,VAe as Hd,c3 as Id,tpt as Jd,Jz as Kd,rG as Ld,Wd as Md,$O as Nd,nG as Od,npt as Pd,h2 as Qd,spt as Rd,ipt as Sd,f3 as Td,apt as Ud,vpt as Vd,_pt as Wd,wpt as Xd,Vgt as Yd,_$ as Zd,mzr as _d,I2 as $d,_a as ae,NYr as be,MYr as ce,CYr as de,Os as ee,r$ as fe,vzr as ge,_zr as he};
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/curves/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/btc-signer/index.js:
  (*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-L3JU23Z5.js.map
