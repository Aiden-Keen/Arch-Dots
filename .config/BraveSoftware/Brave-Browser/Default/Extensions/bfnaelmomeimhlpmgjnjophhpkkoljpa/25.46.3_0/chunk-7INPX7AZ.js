import{g as nt,h as rt,i as ot,j as at,n as h,o as P,q as it,t as st,x as lt}from"./chunk-M3IC3XCG.js";import{h as Z}from"./chunk-4T2FPKLQ.js";import{qa as $,ua as R}from"./chunk-OQCZPFI2.js";import{Qb as L}from"./chunk-KLKDJF5S.js";import{A as Nt,Ab as V,Ac as A,D as v,E as F,Ec as q,Fc as H,I as U,Ic as X,J as O,Jc as z,L as K,Mb as Y,Pc as J,Wd as Q,Xd as tt,g as C,ga as W,ge as et,j as _,xb as G,zc as j}from"./chunk-BQE2SXP7.js";import{Lb as b,b as At,ba as B,c as It,he as M,v as x,w as T}from"./chunk-L3JU23Z5.js";import{u as k}from"./chunk-5HNKNX3S.js";import{a as r,g as y,i as o,l as xt,m as Buffer,n as a}from"./chunk-WKJYWAXG.js";o();a();o();a();var I=y(It(),1);var mt=y(At(),1);var ct=(0,I.struct)([(0,I.u8)("instruction"),q("amount")]);function dt(t,n,e,i,s=[],c=A){let l=X([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],e,s),d=Buffer.alloc(ct.span);return ct.encode({instruction:H.Burn,amount:BigInt(i)},d),new mt.TransactionInstruction({keys:l,programId:c,data:d})}r(dt,"createBurnInstruction");var Pt=r(({t,apiErrors:n,clientErrors:e})=>{let i={title:t("collectiblesSellStatusErrorTitle"),subtitle:t("collectiblesSellStatusErrorSubtitle")};return n.isSellErrorCode?n?.sellStepsError?.code===1?{title:t("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:t("collectiblesSellRecentlyTransferedNFTSubtitle")}:n?.sellStepsError?.code===3?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:n?.sellStepsError?.code===9?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:i:e.hasEnoughGas?e.executeSellError?e.executeSellError.message===lt?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:i:null:{title:t("collectiblesSellInsufficientFundsTitle"),subtitle:t("collectiblesSellInsufficientFundsSubtitle")}},"getInstantSellError");o();a();var Et=r(t=>P(t)?t.standard===tt.ERC1155:h(t)?t.standard===Q.SemiFungible:!1,"isCollectibleSemiFungible");o();a();var E=y(xt(),1);o();a();async function ut(t){let{mint:n}=t,e=new x.Transaction,i=await st({networkID:B.Mainnet,mintAddress:n});return e.add(await U({...t,...i})),e}r(ut,"createCompressedTokenBurnTransaction");var Dt=r(async({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:s,compression:c,programId:l,isProgrammable:d,connection:N})=>{let f=new x.Transaction,u=new T.PublicKey(t),p=await z(u,n);if(c?.compressed)return ut({compression:c,mint:t});if(l===F)return j({mint:t,connection:N,owner:n.toBase58()});if(d)return K({senderAddress:n,senderAccount:p,mintAddress:new T.PublicKey(t)});if(s===null||!nt(s)){let g=dt(p,u,n,e),S=Z(p,n,n);f.add(g,S)}else{let g=E.Buffer.from(u.toBytes()),S=rt(g),Tt=ot(g),w;if(i!==null){let ht=new T.PublicKey(i),yt=E.Buffer.from(ht.toBytes());w=at(yt)}let St={metadata:S,owner:n,mint:u,tokenAccount:p,masterEditionAccount:Tt,splTokenProgram:A,collectionMetadata:w},{createBurnNftInstruction:bt}=await O(),Ct=bt(St,v);f.add(Ct)}return f},"getBurnTransaction"),wt=r(async({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:s,chainId:c,compression:l,programId:d,isProgrammable:N})=>{let f=V(c),u=await Dt({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:s,compression:l,programId:d,isProgrammable:N,connection:f});u.recentBlockhash=(await f.getLatestBlockhash("confirmed")).blockhash,u.feePayer=n;let p=await Y(u,{connection:f}),g=await J(c,[p.compileMessage()]),S=W(g);return{burnTxWithPriority:p,networkFeeUiAmount:S}},"getBurnTransactionWithPriorityFee");o();a();o();a();var kt=r((t,n=_.standard,e,i,s,c,l)=>{if(b.isEVMNetworkID(t)){let d=G.get(t).transactionSpeedSeconds(n);return{ownerAddress:e.address,networkID:t,data:{hash:"",nonce:"",unsignedTransaction:k.parse({from:e.address}),estimatedTimeToMineInSeconds:d},type:C.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}},detail:{header:`${c} ${i}`,uiRecipient:s}}}}else{if(b.isSolanaNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{signature:""},type:C.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}}}};if(b.isBitcoinNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{txID:"",psbtHex:""},type:C.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}}}};if(b.isSuiNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{digest:""},type:C.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${t}}`)}},"createTransferPendingTransactionInput");o();a();o();a();var ft=r(({url:t,format:n})=>{if(!t)return null;!t.startsWith("http")&&t.split(".").length===2&&(t=`http://${t}`),t.startsWith("www.")&&(t=`https://${t}`),!t.startsWith("http")&&!t.startsWith("https")&&(t=`https://${t}`);try{let{hostname:e,href:i}=new URL(t);switch(n){case"hostname":return e.replace("www.","");case"root":return e.split(".").slice(-2).join(".");case"domain":return e.split(".").slice(-2)[0];case"full":return i;default:return e}}catch{return null}},"formatURL");var Bt=r(t=>t.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim(),"parseName"),Mt=r((t,n)=>{if(t.name&&t.name.length>0)return t.name;if(t.externalUrl){let e=ft({url:t.externalUrl,format:"domain"});if(e)return e}if(n?.name){let e=Bt(n.name);if(e)return e}if(n?.symbol)return n.symbol},"selectBestCollectionName");o();a();var Lt=r((t,n)=>{if(h(t.chainData))return{standard:t.chainData.standard,pubkey:t.chainData.tokenAccount,mintPubKey:t.chainData.mint,ownerPubKey:n,decimals:parseInt(t.decimals??"0",10),amount:t.balance??"0",delegate:null,delegatedAmount:"",logoURI:null,name:t.name??null,symbol:t.symbol??null,state:"initialized",collectionPubKey:t.collection.id,uses:null,creators:[],uri:t.uri??"",collectionName:t.collection.name??void 0,collectibleImage:t.media?.previews?.medium??void 0}},"convertCollectibleToSPLTokenAccount");o();a();var D=y(Nt(),1);var $t=1e6,Rt=1e4,_t=r(t=>t>$t?">1M":t<Rt?(0,D.default)(t).format("0,0.[000]"):(0,D.default)(t).format("0.[0]a").toUpperCase(),"formatCount");o();a();o();a();function pt({chainID:t,amount:n,collectible:e,symbol:i}){let s=R(t);switch(s.chainName){case"solana":return{...s,asset:{amount:n.toString(),mint:"mint"in e?e.mint:"UNKNOWN",symbol:i,type:"collectible"}};case"ethereum":case"polygon":case"base":case"arbitrum":case"monad":case"hyperevm":return{...s,asset:{amount:n.toString(),address:"contract"in e?e.contract:"UNKNOWN",symbol:i,type:"collectible"}};case"bitcoin":return{...s,asset:{id:"firstCreatedInscriptionId"in e?e.firstCreatedInscriptionId:"UNKNOWN",symbol:i,type:"collectible"}};case"sui":return{...s,asset:{amount:n.toString(),address:"not yet implemented",symbol:i,type:"collectible"}}}}r(pt,"getCollectibleData");var vt="list",gt=r(t=>new $(t,vt),"createListingAnalytics"),Ft=L(M,t=>gt(t));o();a();function Ut(t){if(!t)return!1;let n=et(t),e=t.chainData&&it(t.chainData)&&!!t.chainData.kioskId;return n||!!e}r(Ut,"isCollectibleNonTransferable");export{Pt as a,Et as b,kt as c,ft as d,Mt as e,Lt as f,_t as g,wt as h,pt as i,Ut as j};
//# sourceMappingURL=chunk-7INPX7AZ.js.map
