import{a as po}from"./chunk-MHVIYCP6.js";import{a as Le,b as ho}from"./chunk-YPZVTUKM.js";import{a as bo}from"./chunk-JVXLNGJJ.js";import{a as Ao}from"./chunk-DS4IZQCY.js";import{a as yo,b as To,d as xo,e as Fo,f as ko}from"./chunk-UW7WESAD.js";import{d as eo,pa as fo,qa as go,ra as xt}from"./chunk-UOP6XST7.js";import{r as So}from"./chunk-2EBYQ5P2.js";import{a as _t}from"./chunk-NZFNOPCO.js";import{a as Vt}from"./chunk-2V4XDYKJ.js";import{f as lo}from"./chunk-UKK3MGUG.js";import{c as uo}from"./chunk-BXLRR6GM.js";import{o as bn}from"./chunk-M62EOSRT.js";import{a as co,c as mo}from"./chunk-S5LVVL2E.js";import{A as io,Q as ao,db as st,m as ie}from"./chunk-4EXJCS3P.js";import{Db as oo,jb as no}from"./chunk-TAPPRV2Q.js";import{X as qe,Y as g}from"./chunk-M3IC3XCG.js";import{A as qn,E as to,F as Ot,t as hn,u as St}from"./chunk-2UWPPO5V.js";import{$ as _n,C as Dn,Ha as Zn,I as At,K as Un,L as Je,M as Mn,O as Pn,Sa as Tt,U as yt,X as On,Z as Vn,_a as Xn,a as Dt,ab as Qn,ca as Hn,db as Yn,ea as Wn,eb as Jn,ha as Gn,ka as rt,kb as ro,la as Kn,mb as so,qa as $n,ra as jn,ua as zn}from"./chunk-4T2FPKLQ.js";import{Ja as yn,La as Tn,aa as An,la as Ne,ua as Pt}from"./chunk-OQCZPFI2.js";import{A as He,Qb as mn,Zb as un,k as sn,kb as Be,mc as ft,o as an,ub as cn}from"./chunk-KLKDJF5S.js";import{Ab as Cn,Ac as En,Ae as Ln,Bc as Rn,De as Ye,Gd as ht,Hd as vn,Rd as bt,U as We,Zd as Qe,ca as Fn,ea as kn,fe as wn,j as xn,le as In,re as Bn,we as Nn,xb as Ge,ze as ot}from"./chunk-BQE2SXP7.js";import{Bc as Ze,Cc as Ve,Dd as on,Fc as _e,Lb as I,Ld as rn,Nb as Ut,Rb as ut,Sb as Mt,Sd as pt,Y as Oe,_d as dn,aa as tn,ec as lt,h as Jt,he as Xe,id as nn,qa as mt,w as ct}from"./chunk-L3JU23Z5.js";import{Aa as gn,Ea as gt,U as Fe,W as ln,a as j,ab as Sn,b as oe,ba as q,ca as pn,d as xe,ia as z,ja as fn,l as p,q as J}from"./chunk-R3MCCTIW.js";import{B as qt,C as en}from"./chunk-FA7LVEFF.js";import{a as i,g as R,i as c,m as Buffer,n as m}from"./chunk-WKJYWAXG.js";c();m();var Ae=R(j());c();m();var Ft=R(oe());var kt=R(j());c();m();var ke=R(oe());var Co=i(({goHome:e})=>{let{t}=J();return(0,ke.jsxs)(q,{height:"100%",paddingY:36,paddingX:"screen",justifyContent:"center",alignItems:"center",children:[(0,ke.jsxs)(q,{flex:1,justifyContent:"center",alignItems:"center",children:[(0,ke.jsx)(q,{marginBottom:24,children:(0,ke.jsx)(gt,{icon:"X",size:64,shape:"circle",backgroundColor:"spotNegative"})}),(0,ke.jsx)(z,{color:"textBase",align:"center",font:"title1Semibold",marginBottom:8,children:t("sendErrorTitle")}),(0,ke.jsx)(z,{color:"textDiminished",align:"center",font:"body",children:t("sendErrorFallback")})]}),(0,ke.jsx)(gn,{onPress:e,children:t("homeTab")})]})},"SendErrorFallback");var Ht=(0,kt.createContext)(!1),es=i(({goHome:e,children:t})=>{let n=(0,kt.useCallback)(()=>{g.getState().resetSendSlice(),e()},[e]);return(0,Ft.jsx)(hn,{fallback:i(o=>{if(o instanceof qe)return(0,Ft.jsx)(Co,{goHome:n});throw o},"fallback"),children:(0,Ft.jsx)(Ht.Provider,{value:!0,children:t})})},"SendFungibleFlowErrorBoundary");c();m();var vo=R(j());c();m();c();m();var Eo=i((e,t)=>{let{getExistingAccount:n,getKnownAddressLabel:o}=Ne();if(!e)return null;let r=n(e),s=o(e,t),u=r?r.name:s;return u||null},"useResolveHandleFromAddress");var Ct=i(({recipient:e,recipientHandle:t,networkID:n})=>{let o=Eo(e,n),{data:r}=_n(e,n),s=r?.address&&e;return{recipient:r?.address?r.address:e,recipientHandle:t||o||s||""}},"useResolvedRecipient");c();m();var Ro=i((e,t)=>{let n=He(e,4);return t?`${t} (${n})`:n},"formatRecipient");var Wt=i(()=>{let e=g(r=>r.sendFormValues.recipient),t=g(r=>r.sendFormValues.recipientHandle),n=g(r=>r.encodedCaip19),o=n?ut(n).chainId:mt.Solana.Mainnet;return Ct({recipient:e,recipientHandle:t,networkID:o})},"useResolvedSendFungibleRecipient"),wo=i(()=>{let{recipient:e,recipientHandle:t}=Wt();return(0,vo.useMemo)(()=>Ro(e,t),[e,t])},"useFormattedSendFungibleRecipient");var ue=i(()=>{if(!(0,Ae.useContext)(Ht))throw new Error("useSendFungibleFlow must be used within a SendFungibleFlowErrorBoundary");let t=g(_=>_.fungibleKey),n=g(_=>_.encodedCaip19),o=g(_=>_.splTokenAccount),r=g(_=>!!_.sendFormValues.solana),s=(0,Ae.useMemo)(()=>{if(n)return n;if(r&&t)return t==="SolanaNative"?Mt({chainId:I.solana.mainnetID,resourceType:Ut.nativeToken,slip44:tn.Solana}):Mt({chainId:I.solana.mainnetID,resourceType:Ut.address,address:t})},[n,r,t]),{data:u}=Tt({legacyKey:t??"",encodedCaip19:s??"",isSplCompressed:!1,queryOptions:{enabled:!!t&&!!s}}),d=(0,Ae.useMemo)(()=>{if(u)return go(u,{splTokenAccount:o})},[u,o]),[l]=(0,Ae.useState)(d),a=(0,Ae.useMemo)(()=>{let _=l?.data.chain.id;if(_){if(I.isBitcoinNetworkID(_)){let X=l?.data.walletAddress;return X?{address:X,networkID:_}:void 0}return _}},[l]),{data:f}=ft(a);if(!l&&!f)throw new qe("fungible and senderAddress are undefined, send flow is broken");if(!l)throw new qe("fungible is undefined, send flow is broken");if(!f)throw new qe("senderAddress is undefined, send flow is broken");let{data:A,type:b}=l,{chain:F,decimals:y,logoUri:D,symbol:k,balance:S,key:B}=A,C=(0,Ae.useMemo)(()=>{if(u)return xt(u);if(A.tokenAddress)return A.tokenAddress},[u,A.tokenAddress]),G=F.id,O=k||(C?He(C,4):p.t("tokenRowUnknownToken")),U=C??"",Z=b===ht.SPL?l.data.programId:null,w=wo(),E=g(_=>_.sendFormValues),{amountAsset:T}=E,x=We(T,y),K=`${Ye(x,y)} ${O}`,L=(0,Ae.useMemo)(()=>Bn(l),[l]),{data:de}=Dn({query:L?{data:L}:void 0}),{fromUsd:fe,formatLocalizedPrice:De}=yt(),te=de?.usd??0,Ce=rt(x.toNumber(),te),V=fe(Ce),ge=De(V),ce=te?`~${ge}`:"-",Y=wn(l);return{senderAddress:f,networkID:G,tokenAddress:U,symbol:O,balance:S,decimals:y,programId:Z,formattedRecipient:w,uiAmount:x,usdPriceOfToken:te,formattedUiAmount:K,formattedCurrencyAmount:ce,tokenPrice:ge,logoUri:D,type:b,key:B,transferFeePercent:Y}},"useSendFungibleFlow");c();m();var Rt=R(j());c();m();c();m();var ir=[En.toString(),Rn.toString()],Io=i(async(e,t)=>{let n=Cn(t);try{let o=await n.getParsedAccountInfo(new ct.PublicKey(e));if(o&&ir.includes(o.value?.owner.toString()??"")&&"mintAuthority"in(o.value?.data).parsed.info)return!0}catch{}return!1},"isMintAccount");var ar=1*24*60*1e3,dr=1*60*1e3,Bo=i(({address:e,networkID:t})=>nn({queryKey:["is-mint-account",e],queryFn:i(async()=>{if(!I.isSolanaNetworkID(t))throw new Error("Attempting to get mint account for non-Solana network");return Io(e,t)},"queryFn"),enabled:!!e&&I.isSolanaNetworkID(t),gcTime:ar,staleTime:dr}),"useIsMintAccount");c();m();var Lo=R(j());c();m();var No=890880,Et=i(()=>{let{senderAddress:e,type:t,networkID:n}=ue(),o=g(d=>d.sendFormValues),r=t===ht.SolanaNative,s=Ct({recipient:o.recipient,recipientHandle:o.recipientHandle,networkID:n}),{data:u}=zn({...e,address:s.recipient},r);return r&&typeof u<"u"&&u<No?No:0},"useMinSendableAmount");var Do=i((e,t,n)=>{let{fungibleKey:o,splTokenAccount:r,encodedCaip19:s}=g(y=>({fungibleKey:y.fungibleKey,splTokenAccount:y.splTokenAccount,encodedCaip19:y.encodedCaip19})),{data:[u]}=pt(["kill-send-simulation"]),d=Et(),l=(0,Lo.useMemo)(()=>{if(!(!e||u))return{sendSessionId:"simulate-send",shouldShowFiatValues:!1,fungibleKey:o,encodedCaip19:s,splTokenAccount:r,confirmedFungibleAndSender:null,sendFormValues:{recipient:t,recipientHandle:"",amountAsset:new xe(d===0?1:d),solana:{references:[]}},gasEstimation:void 0}},[u,d,e,o,t,r]),{data:a,isLoading:f}=Le(l),A={type:"transaction",userAccount:e,params:void 0,url:"https://phantom.com",networkID:n};a&&(I.isEVMNetworkID(a.networkID)&&(A.params={transactions:[a.unsignedTransaction]}),I.isSolanaNetworkID(a.networkID)&&(A.params={transactions:a.transaction.map(y=>Jt(y)),method:"signAndSendTransaction"}));let{data:b,isLoading:F}=eo(A,{disabled:!a||u,disableRefetch:!0});return{data:b,isLoading:!u&&(f||F)}},"useSimulateSend");c();m();function cr(e,t){return e.transactionHash===t.transactionHash&&e.index===t.index}i(cr,"matchesUtxo");function mr(e){return Buffer.from(e).reverse().toString("hex")}i(mr,"toTxHash");function ur(e){return e.txInputs.map(t=>{if(typeof t.hash=="string")throw new Error("Expected hash to be a Buffer");return{transactionHash:mr(t.hash),index:t.index}})}i(ur,"getUtxoIdsFromPsbt");var Uo=i(({senderAddress:e,recipient:t,networkID:n})=>{let o=g(),{data:r}=Le(o),{t:s}=J(),u=e?{address:e,addressType:lt(n,e),networkID:n}:void 0,{data:d,isLoading:l}=Vn(u);if(!rn("enable-bypass-utxo-protection")||!r||!Fn(r))return{utxoWarning:void 0,utxoWarningVariant:"warning",isUtxoWarningLoading:l};let f=ur(r.psbt),A=d?.safeToSendUtxos?.filter(k=>f.some(B=>cr(B,k))&&k.rareSatDetails),b=null,F=null,y=0;A?.forEach(k=>{k.rareSatDetails&&((F===null||k.rareSatDetails.bestRarity<F)&&(F=k.rareSatDetails.bestRarity,b=k.rareSatDetails.mostRareType.replace(/_/g," ")),y+=k.rareSatDetails.totalRareSats)});let D=A&&A.length>0;return{utxoWarning:D&&b?y===1?s("sendRareSatsUtxoWarningWithType",{rareType:b}):s("sendRareSatsUtxoWarningWithTypePlural",{rareType:b,numRareSats:y}):D?s("sendRareSatsUtxoWarning"):void 0,utxoWarningVariant:"warning",isUtxoWarningLoading:l}},"useUtxoWarning");var lr=i((e,t)=>({address:e,addressType:lt(t,e),networkID:t}),"recipientToChainAddress"),pr=i(({senderAddress:e,senderAccounts:t,networkID:n})=>(0,Rt.useMemo)(()=>e?t.reduce((o,r)=>{let s=r.addresses.filter(u=>u.networkID===n&&u.address!==e);if(n)for(let u of s)o.push({label:r.name,address:u.address,chainID:n});return o},[]):[],[e,t,n]),"useCompatibleSenderAddresses");function fr(e){if(!e)return"";let{warnings:t=[],error:n=""}=e;return n==="UNKNOWN_ERROR"?t[0]?.message:n==="INSUFFICIENT_FUNDS"?p.t(`sendWarning_${n}`):""}i(fr,"getWarningFromSimulationResult");var gr=i(({senderAddress:e,recipient:t,networkID:n})=>{let{data:o,isLoading:r}=Do(e??"",t,n);return{simulationWarning:fr(o),isSimulationLoading:r}},"useSimulationWarnings"),Sr=i(({recipient:e,networkID:t})=>{let{currentRecipient:n,isStaleRecipient:o,recipientError:r}=Wn(e,t);return!o&&!r&&n.length>0?n:""},"useResolvedRecipient"),hr=i(({recipient:e,networkID:t})=>{let{data:n=[],isLoading:o}=In({chainAddresses:e?[lr(e,t)]:[]});return{recipientHasZeroBalance:(0,Rt.useMemo)(()=>n.length===1&&n[0].data.amount==="0",[n]),recipientTokensIsLoading:o}},"useRecipientHasZeroBalance"),it=i(({senderAddress:e,senderAccounts:t,networkID:n,recipient:o})=>{let{recentAddresses:r,savedAddresses:s}=Ne(),u=pr({senderAddress:e,senderAccounts:t,networkID:n}),d=Sr({recipient:o,networkID:n}),{recipientHasZeroBalance:l,recipientTokensIsLoading:a}=hr({recipient:d,networkID:n}),{data:f,isLoading:A}=Bo({address:d,networkID:n}),{simulationWarning:b,isSimulationLoading:F}=gr({senderAddress:e??"",recipient:d,networkID:n}),{utxoWarning:y,isUtxoWarningLoading:D}=Uo({senderAddress:e??"",recipient:d,networkID:n}),k=!d||a||A&&I.isSolanaNetworkID(n)||F||D;return{sendAddressWarning:(0,Rt.useMemo)(()=>k||!e?null:y||(f?p.t("sendMintAccountWarning"):u.find(C=>C.address===d)?null:b||(r.addresses.find(C=>C.address===o)||s.addresses.find(C=>C.address===o)?null:e===d?p.t("sendSameAddressWarning"):l?p.t("sendRecipientZeroBalanceWarning"):p.t("sendUnknownAddressWarning"))),[r,s,o,d,u,e,l,f,b,k,y]),sendAddressVariant:f?"danger":"warning"}},"useSendWarning");c();m();var H=R(j());c();m();function Mo(e,t){return e.isZero()?new xe(Ge.get(t).amountForGasEstimation??0):e}i(Mo,"amountForGasEstimation");var br=dn({seconds:10}),Ar=i(({onClose:e,onNext:t})=>{let{senderAddress:n,networkID:o,decimals:r,programId:s,type:u,balance:d,usdPriceOfToken:l,symbol:a,logoUri:f,formattedUiAmount:A,formattedCurrencyAmount:b}=ue(),F=Et(),y=We(F,r).toNumber(),[D,k]=(0,H.useState)(""),S=(0,H.useMemo)(()=>{try{let h=new xe(D);if(!h.isNaN())return h}catch{}return new xe(0)},[D]),B=g(h=>h),C=g(h=>h.sendFormValues),G=g(h=>h.resetSendSlice),{amountAsset:O,amountUsd:U,recipient:Z}=C,w=g(h=>h.setSendFormValues),E=g(h=>h.shouldShowFiatValues),T=g(h=>h.setShouldShowFiatValues),x=s===on,K=C.solana.memo,L=(0,H.useMemo)(()=>{let h=B.sendFormValues.recipient;return{...B,sendFormValues:{...C,recipient:h||n.address,amountAsset:Mo(C.amountAsset,o)}}},[C,B,n,o]),{data:de}=Le(L),{data:fe}=Je({networkID:o,multichainTransaction:de,transactionSpeed:"fastest",queryOptions:{refetchInterval:br}}),{currencySymbol:De,currencyCode:te,toUsd:Ce,fromUsd:V,formatLocalizedPrice:ge}=yt(),ce=jn({chainAddress:n,type:u,balance:d,decimals:r,recipient:Z,gasEstimation:fe,clampToZero:!0}),Y=We(ce??0,r),_=rt(Y.toNumber(),l),X=V(_,2),Ee=E?De:void 0,se=E?void 0:` ${a}`,Re=E?te:a,me=(0,H.useMemo)(()=>{if(S.isZero())return;let h=bt.get(o),W=E?h.minimumSendableCurrencyAmount:y,Ie=E?X:Y,nt=S.lt(W),Lt=S.gt(Ie);return nt?p.t("sendFormErrorMinRequiredInterpolated",{minAmount:W,tokenName:Re}):Lt?p.t("sendFormErrorInsufficientBalance"):void 0},[S,E,o,X,Y,y,Re]),ne=(0,H.useCallback)(h=>{let W=to(h),Ie=no(W,r);k(Ie)},[r]),Se=(0,H.useCallback)(()=>{let h=We(O,r).toString(10),W=V(U??0).toString(10);ne(E?h:W),T(!E)},[E,T,O,U,r,ne,V]),he=(0,H.useCallback)(()=>{ne(E?X.toString(10):Y.toString(10))},[ne,E,Y,X]);(0,H.useEffect)(()=>{let h,W,Ie;E?(Ie=S.toNumber(),W=Ce(Ie),h=Ot(Kn(W,l,r),r)):(h=Ot(S,r),W=rt(S.toNumber(),l)),w({...g.getState().sendFormValues,amountAsset:h,amountUsd:W})},[w,S,E,l,r,Ce]),(0,H.useEffect)(()=>{if(D)return;let h=E?U:We(O,r).toNumber();h&&k(h.toString())},[]);let et=(0,H.useMemo)(()=>E?l?`${A}`:`??? ${a}`:`${b}`,[E,l,a,A,b]),ve=(0,H.useMemo)(()=>{let h=Ee??"",W=se??"";return E?`${ge(X)}`:`${h}${Ye(Y)}${W}`},[E,X,Y,Ee,se,ge]),Ue=(0,H.useCallback)(h=>{let W=C.solana;W.memo=h,w({...C,solana:W})},[C,w]),Me=(0,H.useMemo)(()=>!me&&O.gt(0),[me,O]),je=(0,H.useCallback)(()=>{Me&&t()},[Me,t]),dt=(0,H.useCallback)(()=>{e(),G()},[e,G]),tt=(0,H.useMemo)(()=>({edit:p.t("commandEdit"),next:p.t("commandNext"),send:p.t("commandSend"),cancel:p.t("commandCancel"),maxInput:p.t("maxInputMax"),inputAmountPlaceholder:p.t("maxInputAmount"),recipientAddress:p.t("sendRecipientAddress"),memoPlaceholder:p.t("sendMemoOptional"),availableToSend:p.t("availableToSend"),available:p.t("available"),pageTitle:`${p.t("commandSend")} ${a}`}),[a]),Q=I.isMainnetNetworkID(o);return{networkID:o,handleClose:dt,handleInputChange:ne,handleMemoChange:Ue,handleNext:je,primaryTextPrefix:Ee,primaryText:D,primaryTextSuffix:se,toggleDenomination:Se,errorText:me,secondaryText:et,formattedMaxAmount:ve,primarySymbol:Re,symbol:a,decimals:r,logoUri:f,canGoNext:Me,i18nStrings:tt,handleSetMax:he,showSecondaryText:Q,canSendCurrencyAmount:Q&&!!l,isMemoEnabled:x,memo:K}},"useSendFungibleAmountPage");c();m();var le=R(j());var yr=i(({onClose:e,onRecipientNavigation:t,onAmountNavigation:n,networkID:o})=>{let{recipientHandle:r}=g(w=>w.sendFormValues),{data:s,isLoading:u}=oo({usernameOrUserProfileId:r}),d=(0,le.useMemo)(()=>{if(s?.addresses)return Object.keys(s.addresses)},[s]),{isLoading:l,hasNextPage:a,fungibleTokens:f,visibilityOverrides:A}=Xn(),b=(0,le.useMemo)(()=>{let w=o?f.filter(T=>T.decodedCaip19.chainId===o):f;return(d?w.filter(T=>d.includes(T.decodedCaip19.chainId)):w).filter(T=>!T.extraMetadata?.compression?.compressed)},[o,f,d]),[F,y]=(0,le.useState)(""),D=yn(F)??"",k=qn(b,D,po),S=g(w=>w.resetSendSlice),B=(0,le.useMemo)(()=>({close:p.t("commandClose"),search:p.t("assetListSearch"),unknownToken:p.t("assetDetailUnknownToken"),noTokens:p.t("sendNoTokens")}),[]),C=(0,le.useCallback)(w=>y(w),[y]),G=(0,le.useCallback)(()=>{e(),S()},[e,S]),O=(0,le.useCallback)(w=>{let{key:E,splTokenAccountPubkey:T,networkId:x,encodedCaip19:K}={key:w.legacyKey??w.encodedCaip19,splTokenAccountPubkey:fo(w,{find:"highestQuantity"})?.account,networkId:w.decodedCaip19.chainId,encodedCaip19:w.encodedCaip19},L=g.getState().fungibleKey;L&&L!==E&&g.getState().resetSendSlice(),g.setState({fungibleKey:E,splTokenAccount:T,encodedCaip19:K});let de=g.getState().sendFormValues;if(de.recipientHandle&&!de.recipient){let fe=s?.addresses[x];if(fe){g.setState({sendFormValues:{...de,recipient:fe}}),n();return}}t()},[t,n,s?.addresses]),U=l||u;return{fungibles:(0,le.useMemo)(()=>a?[...k,"loading"]:k,[a,k]),isLoading:U,visibilityOverrides:A,searchQuery:F,handleSearch:C,handleClose:G,handleSelect:O,i18nStrings:B}},"useSendFungibleSelectPage");c();m();c();m();var Gt=R(j());var Po=i(()=>{let e=g(a=>a.analyticsRecipient),t=g(a=>a.fungibleKey),n=g(a=>a.encodedCaip19),{data:o}=Tt({legacyKey:t??"",encodedCaip19:n??"",isSplCompressed:!1,queryOptions:{enabled:!!t&&!!n}}),r=n?ut(n).chainId:mt.Solana.Mainnet,{data:s=[]}=Be(),{data:u}=un(),d=(0,Gt.useMemo)(()=>s.some(a=>a.addresses.some(f=>f.address===e?.address)),[s,e]),{data:l}=ft({address:o?.walletAddress,networkID:r});return(0,Gt.useMemo)(()=>({assetType:"token",networkId:r,recipient:e,senderAddress:l?.address??"",senderUsername:u?.username??"",tokenAddress:o?xt(o)??"":"",tokenSymbol:o?.symbol??"",tokenType:o?Zn(o):void 0,selfSend:d}),[r,e,l?.address,u?.username,o,d])},"useSendTokenAnalyticsParams");c();m();var pe=R(j());c();m();var _o=R(j(),1),Ho=R(j(),1);var Tr=i(e=>typeof e=="function","x"),Oo=i((e,t)=>Tr(e)?e(t):e,"p"),xr=(()=>{let e=0;return()=>(++e).toString()})();var Fr=20,vt=new Map,kr=1e3,Vo=i(e=>{if(vt.has(e))return;let t=setTimeout(()=>{vt.delete(e),wt({type:4,toastId:e})},kr);vt.set(e,t)},"b"),Cr=i(e=>{let t=vt.get(e);t&&clearTimeout(t)},"M"),$t=i((e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Fr)};case 1:return t.toast.id&&Cr(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return e.toasts.find(s=>s.id===n.id)?$t(e,{type:1,toast:n}):$t(e,{type:0,toast:n});case 3:let{toastId:o}=t;return o?Vo(o):e.toasts.forEach(s=>{Vo(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===o||o===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+r}))}}},"g"),Er=[],Kt={toasts:[],pausedAt:void 0},wt=i(e=>{Kt=$t(Kt,e),Er.forEach(t=>{t(Kt)})},"T");var Rr=i((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||xr()}),"w"),at=i(e=>(t,n)=>{let o=Rr(t,e,n);return wt({type:2,toast:o}),o.id},"l"),ae=i((e,t)=>at("blank")(e,t),"a");ae.error=at("error");ae.success=at("success");ae.loading=at("loading");ae.custom=at("custom");ae.dismiss=e=>{wt({type:3,toastId:e})};ae.remove=e=>wt({type:4,toastId:e});ae.promise=(e,t,n)=>{let o=ae.loading(t.loading,{...n,...n?.loading});return e.then(r=>(ae.success(Oo(t.success,r),{id:o,...n,...n?.success}),r)).catch(r=>{ae.error(Oo(t.error,r),{id:o,...n,...n?.error})}),e};c();m();var Wo=R(j());var Go=i(({networkID:e,transactionUnitAmount:t,onTransactionSpeedChange:n})=>{let{status:o,data:r}=At({networkID:e}),{transactionSpeed:s}=g(d=>d.sendFormValues),u=(0,Wo.useMemo)(()=>{if(o!=="error"&&r&&s)return()=>n({transactionSpeed:s,transactionUnitAmount:t})},[n,s,t,r,o]);return{transactionSpeed:s,openTransactionSettings:u}},"useSendFungibleGasSettings");c();m();var jt=R(oe());var Ko=R(j());var zt=i(({networkID:e,formattedRecipient:t,networkName:n,networkFee:o,networkFeeErrorMsg:r,networkFeeRow:s,displayFeeTooltip:u,transferFeePercent:d,solanaMetadata:l,openTransactionSettings:a,onNetworkFeeDescriptionPress:f,onTransferFeePress:A})=>(0,Ko.useMemo)(()=>{let b=[];I.isSolanaNetworkID(e)&&(l.label&&b.push({topLeft:p.t("sendConfirmationLabel"),topRight:l.label}),l.message&&b.push({topLeft:p.t("sendConfirmationMessage"),topRight:l.message}));let F=[{topLeft:p.t("transactionsTo"),topRight:t},{topLeft:p.t("sendFungibleSummaryNetwork"),topRight:n},{...u?{type:"tooltip",tooltipContent:p.t("networkFeesTooltipDescription",{chainName:n}),showTooltip:i(()=>f?.(),"showTooltip"),onClick:a,onPress:a}:{type:"base"},topLeft:p.t("sendFungibleSummaryNetworkFee"),topRight:o.length===0?(0,jt.jsx)(pn,{width:75,height:8}):{text:o,color:r?"spotNegative":"textDiminished",after:u&&a?(0,jt.jsx)(ln.ChevronRight,{size:fn.icon,color:"textDiminished"}):void 0},bottomLeft:{text:r||s?.leftSubtext,color:r?"spotNegative":s?.leftSubtextColor},bottomRight:s?.rightSubtext,verticalAlign:"baseline"}];return d&&F.push({type:"tooltip",tooltipContent:p.t("sendFungibleTransferFeeToolTip"),showTooltip:i(()=>A?.(),"showTooltip"),topLeft:p.t("sendFungibleTransferFee"),topRight:`${d}%`}),l.memo&&F.push({topLeft:p.t("sendMemo"),bottomLeft:{text:l.memo.replace(/(\r\n|\n|\r)/gm," "),...en?{numberOfLines:void 0}:{}}}),[...b,...F]},[e,t,n,u,o,r,s?.leftSubtext,s?.leftSubtextColor,s?.rightSubtext,l.label,l.message,l.memo,d,f,A,a]),"useSendSummaryRows");var $o;(function(e){e.Link="link"})($o||($o={}));var vr=i(({hasSufficientFunds:e,isTransactionUnitError:t,isTransactionCreationError:n,hasGasEstimationFailed:o,nativeTokenSymbol:r})=>t?p.t("transactionGasLimitError"):o?p.t("transactionGasEstimationError"):e==="insufficient"?p.t("transactionNotEnoughNative",{nativeTokenSymbol:r}):n?p.t("transactionCreationError"):"","getNetworkFeeErrorMessage"),wr=i(({onNext:e,onClose:t,onTransactionSpeedChange:n,onNetworkFeeDescriptionPress:o,onTransferFeePress:r,onSubmissionCheckFail:s,copyToClipboard:u})=>{let d=Xe(),{senderAddress:l,networkID:a,symbol:f,formattedRecipient:A,uiAmount:b,key:F,type:y,transferFeePercent:D}=ue(),k=g(),S=g(Q=>Q.sendFormValues),B=g(Q=>Q.setSendFormValues),{amountAsset:C,solana:G}=S,O=I.getNetworkName(a);so(l,ro.SEND_FUNGIBLE);let{data:U,isError:Z}=Le(k),{data:w,isError:E}=Un(U),T=(0,pe.useCallback)(({transactionSpeed:Q,transactionUnitAmount:we})=>{n({transactionSpeed:Q,transactionUnitAmount:we,sendFormValues:S,setSendFormValues:B,networkID:a})},[B,S,a,n]),{transactionSpeed:x,openTransactionSettings:K}=Go({networkID:a,transactionUnitAmount:w,onTransactionSpeedChange:T}),{data:L,isFetched:de,isSuccess:fe}=Je({networkID:a,multichainTransaction:U,transactionSpeed:x,queryOptions:{refetchInterval:!1}}),{data:De}=Mn(a,L),te=On(l),Ce=vn(y)?C:new xe(0),{hasSufficientFunds:V,isLoading:ge,nativeTokenSymbol:ce}=Qn({networkID:a,addressType:l?.addressType,gasEstimation:L,transactionValue:Ce,recipient:S.recipient}),Y=Hn({networkID:a,gasEstimation:L,gasEstimationPrice:De}),_=Jn(L,p.t),{data:X}=At({networkID:a}),Ee=(0,pe.useMemo)(()=>Ge.get(a).supportsNetworkSettings&&Object.keys(X??{}).length>1,[X,a]);(0,pe.useEffect)(()=>{d.capture("sendAssetSummary",{data:{type:"fungible",symbol:f,networkId:a,chainId:I.getChainID(a)}})},[a,f,d]);let{data:se=[]}=Be(),{sendAddressVariant:Re}=it({senderAddress:l?.address,senderAccounts:se,networkID:a,recipient:S.recipient}),me=de&&!fe,ne=!!L&&!ge&&V!=="insufficient"&&!!Y&&Re!=="danger",Se=vr({hasSufficientFunds:V,isTransactionUnitError:E,isTransactionCreationError:Z,hasGasEstimationFailed:me,nativeTokenSymbol:ce}),he=(0,pe.useCallback)(()=>U?te?(d.capture("showFungibleTxSubmissionFailureModal"),s(te),!1):(B({...S,multichainTransaction:U}),!0):!1,[U,te,B,S,d,s]),et=Ao((0,pe.useCallback)(()=>{if(!he())return;let we={chainID:a,amount:b.toString(),symbol:f,address:F};_e.addBreadcrumb(Ve.Fungibles,"approved",Ze.Info,we),e()},[he,f,b,a,e,F]),1e3),ve=zt({networkID:a,formattedRecipient:A,networkName:O,networkFee:Y,networkFeeErrorMsg:Se,networkFeeRow:_,transferFeePercent:D,solanaMetadata:G,displayFeeTooltip:Ee,openTransactionSettings:K,onNetworkFeeDescriptionPress:o,onTransferFeePress:r}),{data:Ue}=Tn(),Me=(0,pe.useMemo)(()=>{let Q=U&&kn(U)?U.transaction.map(we=>{let Pe=Buffer.from(we.serialize({verifySignatures:!1,requireAllSignatures:!1})).toString("base64");return{topLeft:p.t("notificationCopyTransactionText"),topRight:Pe.slice(0,8),onClick:i(()=>{u(Pe),ae.success(p.t("notificationTransactionCopied"))},"onClick")}}):[];return[...ve,...Q]},[ve,U,u]),je=(0,pe.useCallback)(()=>{t(),k.resetSendSlice()},[t,k]),dt=bo(p.language,I.isSolanaNetworkID(a)),tt=(0,pe.useMemo)(()=>({title:p.t("sendConfirmationPrimaryText"),send:p.t("commandSend"),cancel:p.t("commandCancel")}),[]);return{senderAddress:l?.address,networkID:a,handleNext:et,handleClose:je,canSend:ne,txSubmissionCheckFailureModal:te,summaryRows:Ue&&qt?Me:ve,i18nStrings:tt,networkHealth:dt}},"useSendFungibleSummaryViewState");c();m();var P=R(oe());var M=R(j());c();m();var jo=mn(Xe,e=>new Zt(e)),Zt=class{static{i(this,"SendAnalytics")}#e;constructor(t){this.#e=t}onSendFlowStart({assetType:t,context:n}){this.#e.capture("sendFlowStart",{data:{assetType:t,context:n}})}onSendAssetAttempt(t){this.#e.capture("sendAssetAttempt",{data:{chainId:I.getChainID(t.networkId),...t}})}onSendAssetSuccess(t){this.#e.capture("sendAssetSuccess",{data:{chainId:I.getChainID(t.networkId),...t}})}onSendAssetFailure(t){this.#e.capture("sendAssetFailure",{data:{chainId:I.getChainID(t.networkId),...t}})}};c();m();var ee;(function(e){e.SUCCESS="SUCCESS",e.ERROR="ERROR",e.LOADING="LOADING"})(ee||(ee={}));c();m();var It=R(oe());var zo=R(j());var Ir=[/Unknown instruction error/i,/Unknown error/i];function Xt({programId:e,customErrorCode:t,customErrorReason:n,errorReason:o}){let{t:r}=J(),s=Xe(),u=n||o,d=r(u);return(0,zo.useEffect)(()=>{s.capture("transactionErrorDetails",{data:{programId:e,customErrorCode:t,customErrorReason:n,errorReason:o,hasTranslatedErrorMessage:u!==d}})},[]),(0,It.jsx)(q,{children:(0,It.jsxs)(z,{align:"center",color:"textDiminished",children:[d,t&&Ir.some(l=>l.test(u))?` (${r("transactionsError")}: ${t})`:""]})})}i(Xt,"TransactionErrorDetails");var Br=i(({sendSequenceAnalytics:e,onTransactionLinkPress:t,onClose:n,onCancel:o,onBack:r,mobileSignWithLedger:s,ledgerSupported:u})=>{let{t:d}=J(),{data:[l]}=pt(["kill-base-history"]),{senderAddress:a,networkID:f,symbol:A,formattedRecipient:b,uiAmount:F,logoUri:y,tokenPrice:D,key:k}=ue(),{data:S,status:B}=cn(),C=(0,M.useMemo)(()=>S?.addresses??[],[S]),G=jo(),O=Po(),U=g(),Z=(0,M.useMemo)(()=>Pt(f),[f]),{transactionSpeed:w,recipient:E}=U.sendFormValues,T=Nn(f,w,a,A,y??"",b,F.toNumber(),D,d),[x,K]=(0,M.useState)(!1),[L,de]=(0,M.useState)(null),[fe,De]=(0,M.useState)(null),{addRecentAddress:te}=Ne(),Ce=S?.type===an.Ledger,[V,ge]=(0,M.useState)(void 0),ce=Pn("send:fungible",f,!!s);$n(k,F,V?V.id:"");let Y=Yn(C),_=(0,M.useCallback)($=>{ce($.id,"confirmed"),G.onSendAssetSuccess({...O,txId:$.id}),Y()},[G,ce,Y,O]),{isSuccess:X,isError:Ee,error:se}=Gn(_,V??void 0),Re=!!V,me=bt.get(f).sendSuccessCondition,ne=(0,M.useMemo)(()=>{switch(me){case Qe.SUBMISSION:return x?ee.ERROR:Re?ee.SUCCESS:ee.LOADING;case Qe.CONFIRMATION:return x||Ee?ee.ERROR:X?ee.SUCCESS:ee.LOADING}},[Ee,X,x,Re,me]),{isError:Se,isSuccess:he}=(0,M.useMemo)(()=>({isError:ne===ee.ERROR,isSuccess:ne===ee.SUCCESS}),[ne]),et=(0,M.useMemo)(()=>{let $=Ge.get(f).transactionSpeedDescription(w??xn.standard);return $?d($):""},[f,w,d]),ve=me===Qe.CONFIRMATION?"sendStatusConfirmedSuccessTitle":"sendStatusSubmittedSuccessTitle",Ue=(0,M.useMemo)(()=>{switch(ne){case ee.LOADING:return d("sendStatusLoadingTitle");case ee.ERROR:return d("sendStatusErrorTitle");case ee.SUCCESS:return d(ve)}},[ne,ve,d]),Me=(0,M.useMemo)(()=>({titleText:Ue,retryText:d("commandRetry"),cancelText:d("commandCancel"),closeText:d("commandClose"),viewTransactionText:d("sendStatusViewTransaction")}),[Ue,d]);(0,M.useEffect)(()=>{X?(_e.addBreadcrumb(Ve.Fungibles,"transactionStatus",Ze.Info,{...Z,status:"confirmed"}),V?.id&&e&&e.transactionStatus(V.id,{...Z,status:{type:"confirmed"}})):Se&&(_e.addBreadcrumb(Ve.Fungibles,"transactionStatus",Ze.Error,{...Z,status:"error"}),V?.id&&e&&e.transactionStatus(V.id,{...Z,status:{type:"error"}}))},[X,Se,V,Z,e]);let{mutateAsync:je}=ho(),tt=Se?(0,P.jsxs)(P.Fragment,{children:[i($=>{switch($){case ot.InsufficientFunds:return(0,P.jsx)(z,{color:"textDiminished",align:"center",children:d("sendStatusErrorMessageInsufficientBalance")});case ot.UnknownError:default:return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(z,{font:"bodySemibold",color:"textDiminished",align:"center",children:(0,P.jsx)(St,{i18nKey:"sendFungibleErrorMessageInterpolated",values:{uiAmount:F.toString(),assetSymbol:A,uiRecipient:b},components:{2:(0,P.jsx)(z,{font:"bodySemibold",color:"textBase"})}})}),L?(0,P.jsx)(q,{marginTop:16,justifyContent:"center",children:(0,P.jsx)(z,{font:"body",color:"textDiminished",children:d("sendFungibleSolanaErrorCode",{code:L})})}):null]})}},"showErrorDetails")(fe??ot.InsufficientFunds),se&&"data"in se?(0,P.jsx)(q,{marginY:16,justifyContent:"center",color:"textDiminished",children:(0,P.jsx)(Xt,{errorReason:se.data.errorReason,programId:se.data.programId,customErrorReason:se.data.customErrorReason,customErrorCode:se.data.customErrorCode})}):null]}):he&&me===Qe.CONFIRMATION?(0,P.jsx)(z,{font:"bodySemibold",color:"textDiminished",align:"center",children:(0,P.jsx)(St,{i18nKey:"sendFungibleConfirmedSuccessMessageInterpolated",values:{uiAmount:F.toString(),assetSymbol:A,uiRecipient:b},components:{2:(0,P.jsx)(z,{font:"bodySemibold",color:"textBase"})}})}):he&&me===Qe.SUBMISSION?(0,P.jsx)(z,{font:"bodySemibold",align:"center",children:d("sendStatusEstimatedTransactionTime",{time:et})}):(0,P.jsx)(z,{font:"bodySemibold",color:"textDiminished",align:"center",children:(0,P.jsx)(St,{i18nKey:"sendFungibleLoadingMessageInterpolated",values:{uiAmount:F.toString(),assetSymbol:A,uiRecipient:b},components:{2:(0,P.jsx)(z,{font:"bodySemibold",color:"textBase"})}})}),Q=U.sendFormValues.multichainTransaction,{data:we}=Je({networkID:f,multichainTransaction:Q,transactionSpeed:w,queryOptions:{refetchInterval:!1}}),Pe=we,h=(0,M.useCallback)(async()=>{try{if(!Q)throw new Error("multichainTransaction is undefined on send status");if(!Pe)throw new Error("gasEstimation is undefined on send status");te({address:E,chainID:f,timestamp:Date.now()});let $=Date.now();G.onSendAssetAttempt(O);let be=await je({multichainTransaction:Q,pendingTransactionInput:T,senderAddress:a,gasEstimation:Pe}),ze=be.id;ce(ze,"initiated",$),ce(ze,"received");let ye=Pt(f),Te;ye.chainType===Oe.Solana&&e?(Te="signAndSendTransaction",e.submittedTransaction(be.id,{...ye,method:Te,walletAddress:a.address})):ye.chainType===Oe.EVM&&e?(Te="eth_sendRawTransaction",e.submittedTransaction(be.id,{...ye,method:Te,walletAddress:a.address})):ye.chainType===Oe.Sui&&e?(Te="signAndExecuteTransaction",e.submittedTransaction(be.id,{...ye,method:Te,walletAddress:a.address})):ye.chainName==="bitcoin"&&e&&(Te="sendrawtransaction",e.submittedTransaction(be.id,{...ye,method:Te,walletAddress:a.address})),_e.addBreadcrumb(Ve.Fungibles,"submittedTransaction",Ze.Info,{...ye,txReceipt:be.id,method:Te??"UNKNOWN"}),ge(be)}catch($){let be=Ln($,Z.chainType===Oe.Solana?Oe.Solana:void 0);if(De(be),be===ot.UnknownError&&$ instanceof Error&&Z.chainType===Oe.Solana){let[ze]=$.message.match(/0x\d+/)||[];typeof ze=="string"&&ze&&de(ze)}K(!0),G.onSendAssetFailure(O),_e.captureError($,Ve.Fungibles)}},[Q,E,Pe,te,Z,je,T,ce,f,G,e,a,O,K]),W=g($=>$.retryArgs),Ie=(0,M.useCallback)(()=>{W?(ge(void 0),K(!1),h()):r()},[h,r,W]),{data:nt}=An(V),Lt=(0,M.useCallback)(()=>{nt&&t(nt)},[t,nt]),tr=(0,M.useCallback)(()=>{o()},[o]),nr=(0,M.useCallback)(()=>{let{sendSuccessRedirect:$}=Ge.get(f);n($(l))},[n,l,f]),or=bn(f),rr=B==="pending",sr=(0,M.useCallback)(()=>{u&&!he&&!Se&&U.resetSendSlice()},[he,Se,U,u]);return uo(sr),{handleClose:nr,handleCancel:tr,handleRetry:Ie,handleTransactionLinkPress:Lt,isSuccess:he,isError:Se,MessageElement:tt,title:Ue,txReceipt:V,handleTokenTransfer:h,i18nStrings:Me,isLoadingSelectedAccountStatus:rr,isLedger:Ce,ledgerApp:or}},"useSendFungibleStatusPage");c();m();var re=R(j(),1);c();m();var Bt=R(j(),1);var Ke=R(oe(),1),Nr=ie(To)`
  width: 100%;
  border-style: none;
  padding: 0;
`,Zo=ie(mo).attrs({width:"28px",borderRadius:"50px"})`
  height: 28px;
`,Xo=Bt.default.memo(({isExpanded:e,addressBookRecipient:t,clearRecipient:n})=>{let{t:o}=J(),[r,s]=(0,Bt.useState)(!1),u={onMouseEnter:i(()=>s(!0),"onMouseEnter"),onMouseLeave:i(()=>s(!1),"onMouseLeave")},d=r&&!t&&!e;return(0,Ke.jsx)(So,{color:Fe.colors.legacy.areaBase,label:o("sendAddressBookButtonLabel"),ariaLabel:o("sendAddressBookButtonLabel"),alignment:"bottomRight",isVisible:d,triggerParams:u,children:t?(0,Ke.jsx)(Zo,{theme:"primary",paddingY:9,onClick:n,children:(0,Ke.jsx)(io,{fill:Fe.colors.legacy.areaBase,width:10})}):(0,Ke.jsx)(Nr,{children:(0,Ke.jsx)(Zo,{paddingY:6,theme:"primary",children:(0,Ke.jsx)(ao,{fill:Fe.colors.legacy.areaBase})})})})});c();m();var Qo=R(j(),1);var Jo=R(oe(),1),Yo=Qo.default.memo(({symbol:e,chainName:t,recipient:n,recipientError:o,handleRecipientChange:r,onBlur:s})=>{let{t:u}=J();return(0,Jo.jsx)(lo,{type:"text",name:"recipient",value:n,autoComplete:"off",spellCheck:"false",placeholder:u("sendRecipientTextAreaPlaceholder2",{symbol:t||e}),warning:!!o,onChange:r,onBlur:s,paddingRight:"80px"})});var N=R(oe(),1),qo=ie(st).attrs({size:16,weight:500,color:Fe.colors.legacy.textDiminished})`
  font-style: italic;
`,Lr=ie(yo)`
  width: 100%;
  position: relative;
`,Dr=ie(Vt).attrs({align:"center"})`
  position: relative;
  border-radius: 6px;
  border: 1px solid ${Fe.colors.legacy.borderDiminished};
  padding: 14px;
  background: ${Fe.colors.legacy.areaAccent};
  height: 50px;
  margin-bottom: 2px;
`,Ur=ie(xo)`
  z-index: 2;
  width: 100%;
`,Qt=ie(ko)`
  padding: 8px 12px;
  min-height: 41px;
`,Mr=ie(Vt).attrs({justify:"center"})`
  height: 85px;
`,er=ie(st).attrs({size:16,color:Fe.colors.legacy.textDiminished})``,Pr=ie.div`
  position: absolute;
  right: 12px;
  top: calc(50% - 28px / 2);
  width: auto;
  display: flex;
  gap: 12px;
  align-items: center;
`,Or="__none",Vr=50,Nt=10,_r=i(e=>{let{addressBookRecipient:t,networkID:n,senderAddress:o,symbol:r,sendFormValues:s,sendFormErrors:u,recipientError:d,handleAddressSelection:l,setSendFormValues:a,setSendFormErrors:f,isLoading:A}=e,{t:b}=J(),F=(0,re.useMemo)(()=>({sendAddressBookRecentlyUsed:b("sendAddressBookRecentlyUsed"),sendAddressBookNoAddressesSaved:b("sendAddressBookNoAddressesSaved")}),[b]),{data:y=[]}=Be(),D=(0,re.useMemo)(()=>o?y.reduce((T,x)=>{let K=x.addresses.filter(L=>L.networkID===n&&L.address!==o);if(n)for(let L of K)T.push({label:x.name,address:L.address,chainID:n});return T},[]):[],[o,y,n]),{recentAddresses:k,savedAddresses:S}=Ne(),B=(0,re.useMemo)(()=>S.addresses.reduce((T,x)=>(n&&Dt(I.getAddressTypes(x.chainID),I.getAddressTypes(n))&&T.push({...x}),T),[]),[S,n]),C=(0,re.useMemo)(()=>k.addresses.reduce((T,x)=>(n&&Dt(I.getAddressTypes(x.chainID),I.getAddressTypes(n))&&T.push(x.address),T),[]),[k,n]),G=D.length===0&&B.length===0&&C.length===0,O=(0,re.useMemo)(()=>{for(let{address:T,label:x}of D)if(T===t)return x;for(let{address:T,label:x}of B)if(T===t)return x},[t,D,B]),{recipient:U}=s,Z=(0,re.useCallback)(T=>{let x=T.currentTarget,K=self.getComputedStyle(x),L=parseInt(K.getPropertyValue("border-top-width"),Nt)+parseInt(K.getPropertyValue("padding-top"),Nt)+x.scrollHeight+parseInt(K.getPropertyValue("padding-bottom"),Nt)+parseInt(K.getPropertyValue("border-bottom-width"),Nt);L=x.value?Math.min(68,L-28):Vr,x.style.height=`${L}px`,a({...s,recipient:x.value}),f({...u,recipientError:void 0})},[s,u,f,a]),w=(0,re.useCallback)(()=>{a({...s,recipient:"",addressBookRecipient:void 0})},[s,a]),E=(0,re.useMemo)(()=>{if(n)return I.getNetworkName(n)},[n]);return{i18nStrings:F,recipient:U,addressBookRecipient:t,addresses:D,savedAddresses:B,recentAddresses:C,isEmpty:G,selectedName:O,recipientError:d,symbol:r,chainName:E,handleAddressSelection:l,handleRecipientChange:Z,clearRecipient:w,isLoading:A}},"useSendAddressBookProps"),Tm=re.default.memo(e=>{let t=_r(e);return(0,N.jsx)(Hr,{...t})}),Hr=re.default.memo(e=>{let{i18nStrings:t,recipient:n,addressBookRecipient:o,addresses:r,savedAddresses:s,recentAddresses:u,isEmpty:d,selectedName:l,recipientError:a,symbol:f,chainName:A,handleAddressSelection:b,handleRecipientChange:F,clearRecipient:y,isLoading:D=!1}=e;return(0,N.jsx)(Lr,{onChange:b,value:o??Or,children:({isExpanded:k})=>(0,N.jsxs)(N.Fragment,{children:[o?(0,N.jsxs)(Dr,{children:[l?(0,N.jsx)(st,{size:16,weight:500,children:l}):(0,N.jsx)(qo,{children:t.sendAddressBookRecentlyUsed}),(0,N.jsxs)(st,{opacity:.5,size:16,weight:400,margin:"0 0 0 6px",children:["(",o.includes(".")?o:He(o,4),")"]})]}):(0,N.jsx)(Yo,{symbol:f??"",chainName:A,recipient:n,recipientError:a,handleRecipientChange:F}),(0,N.jsxs)(Pr,{children:[D?(0,N.jsx)(co,{diameter:20}):null,(0,N.jsx)(Xo,{isExpanded:k,addressBookRecipient:o,clearRecipient:y})]}),(0,N.jsx)(Ur,{portal:!1,children:(0,N.jsxs)(Fo,{maxHeight:"150px",children:[r.map(({address:S,label:B,chainID:C},G)=>(0,N.jsx)(Qt,{value:S,children:(0,N.jsx)(_t,{name:B,publicKey:S,publicKeyLabel:sn(C,S)})},`${S}-${G}`)),s.map(({address:S,label:B},C)=>(0,N.jsx)(Qt,{value:S,children:(0,N.jsx)(_t,{name:B,publicKey:S})},`${S}-${C}`)),u.map((S,B)=>(0,N.jsxs)(Qt,{value:S,children:[(0,N.jsx)(qo,{children:t.sendAddressBookRecentlyUsed}),(0,N.jsx)(er,{opacity:.5,children:He(S,4)})]},`${S}-${B}`)),d&&(0,N.jsx)(Mr,{children:(0,N.jsx)(er,{children:t.sendAddressBookNoAddressesSaved})})]})})]})})});c();m();var $e=R(oe());var Wr=i(()=>{let{uiAmount:e,symbol:t,formattedCurrencyAmount:n}=ue(),o=Ye(e);return(0,$e.jsxs)(q,{direction:"column",alignItems:"center",marginTop:8,marginBottom:32,children:[(0,$e.jsx)(q,{marginBottom:16,children:(0,$e.jsx)(gt,{icon:"Send2",size:64,color:"spotBase",backgroundColor:"areaBase",shape:"circle"})}),(0,$e.jsxs)(z,{font:"heading1Semibold",align:"center",children:[o," ",t]}),n?(0,$e.jsx)(z,{color:"textDiminished",font:"title2",align:"center",children:n}):null]})},"SendFungibleSummaryHeader");c();m();var Yt=R(oe());var Gr=i(({networkId:e,senderAddress:t})=>{let{data:n=[]}=Be(),{recipient:o}=Wt(),{sendAddressWarning:r,sendAddressVariant:s}=it({senderAddress:t,senderAccounts:n,networkID:e,recipient:o});return r?(0,Yt.jsx)(q,{marginBottom:12,children:(0,Yt.jsx)(Sn,{level:s==="danger"?"1-critical-alert":"2-alert",children:r})}):null},"SendFungibleWarningBanner");c();m();export{es as a,ue as b,it as c,zt as d,wr as e,Ar as f,yr as g,Xt as h,Br as i,Tm as j,Wr as k,Gr as l};
//# sourceMappingURL=chunk-M4BOUA6E.js.map
