import{a as ce}from"./chunk-3CMC7R7H.js";import"./chunk-Q7YS6EOF.js";import"./chunk-HY5EE4BL.js";import{a as pe}from"./chunk-CBYVPUDB.js";import{D as se,Ga as me}from"./chunk-UOP6XST7.js";import"./chunk-PZK75MNV.js";import"./chunk-J25C3IZ2.js";import"./chunk-DQWLAPQA.js";import{s as ie}from"./chunk-2EBYQ5P2.js";import"./chunk-JXEDAEEX.js";import"./chunk-NZFNOPCO.js";import"./chunk-2V4XDYKJ.js";import"./chunk-SUKAPYGM.js";import"./chunk-736WIWZX.js";import"./chunk-PV5WDBPS.js";import"./chunk-LOTYUAC5.js";import"./chunk-3BNSF37W.js";import"./chunk-UKK3MGUG.js";import"./chunk-KOBOJI2X.js";import{a as h}from"./chunk-CH3CP7SO.js";import{j as ae,o as re}from"./chunk-BXLRR6GM.js";import"./chunk-ST7U2VUQ.js";import"./chunk-LEFSCI55.js";import"./chunk-WY4HUBHZ.js";import"./chunk-RDJLORQI.js";import"./chunk-M62EOSRT.js";import"./chunk-4V5HUNZ6.js";import"./chunk-WWYPP3MY.js";import"./chunk-IJJXVSGB.js";import"./chunk-XF26M2KT.js";import"./chunk-N3C6FBKY.js";import"./chunk-CTKHELYY.js";import"./chunk-XMURLUQN.js";import"./chunk-JUI4ISS4.js";import"./chunk-GVVB5LZG.js";import{d as oe}from"./chunk-S5LVVL2E.js";import{c as te,db as ne,m as S}from"./chunk-4EXJCS3P.js";import"./chunk-TAPPRV2Q.js";import"./chunk-C3BAWXY6.js";import"./chunk-WVRYN4MY.js";import"./chunk-M3IC3XCG.js";import"./chunk-RSJ6JVZU.js";import"./chunk-2UWPPO5V.js";import{I as W,K as X,L as Y,M as Z,ab as _,fb as ee,r as Q}from"./chunk-4T2FPKLQ.js";import"./chunk-GC6SFTGM.js";import"./chunk-A3JYJELV.js";import"./chunk-MVNJOY5H.js";import"./chunk-SIWEHH3L.js";import"./chunk-OQCZPFI2.js";import"./chunk-YJCG6GWC.js";import{mc as j,ub as O}from"./chunk-KLKDJF5S.js";import{ha as K,j as J}from"./chunk-BQE2SXP7.js";import{Lb as k,Nb as L,Y as $}from"./chunk-L3JU23Z5.js";import{u as I}from"./chunk-5HNKNX3S.js";import{U as c,a as ke,b as H,e as B,na as q,q as z}from"./chunk-R3MCCTIW.js";import"./chunk-FNC6PQ53.js";import"./chunk-5QQLABHI.js";import"./chunk-VL3IRAUM.js";import"./chunk-FA7LVEFF.js";import{a as f,g as E,i as R,n as V}from"./chunk-WKJYWAXG.js";R();V();var n=E(ke(),1);var o=E(H(),1),Ue=S(h).attrs({align:"center"})`
  height: 100%;
`,ve=S(h).attrs({align:"center",justify:"space-between"})`
  height: 100%;
`,xe=S(h).attrs({align:"center",paddingTop:"25px"})`
  border-radius: 6px;
`,De=S(ne).attrs({size:38,weight:500,lineHeight:46})`
  margin-top: 18px;
`,Ae=f((a,e)=>{let{status:p,data:i}=W({networkID:a}),[t,l]=(0,n.useState)(J.standard),{popDetailView:r,pushDetailView:m}=ae(),y;return p!=="error"&&i&&t&&e&&(y=f(()=>{m((0,o.jsx)(pe,{onSelectTransactionSpeed:l,selectedTransactionSpeed:t,networkID:a,transactionUnitAmount:e,closeModal:r}))},"openGasSettings")),{transactionSpeed:t,openGasSettings:y}},"useUnwrapGasSettings"),Ce=f(a=>{let{t:e}=z(),p=te(),{handleHideModalVisibility:i}=me(),{chain:t,tokenAddress:l,balance:r,symbol:m,logoUri:y,walletAddress:de}=a.data,s=t.id,U=k.getNetworkName(s),{data:le}=O(),ue=le?.addresses??[],{data:u}=j({networkID:s,address:de}),g=(0,n.useMemo)(()=>({pageHeaderText:e("unwrapFungibleConfirmSwap"),swapTitle:e("unwrapFungibleConfirmSwapTitle",{fromToken:m,toToken:t.symbol}),networkFeeText:e("sendFungibleSummaryNetworkFee"),networkFeeTextDescription:e("networkFeesTooltipDescription",{chainName:U}),confirmSwap:e("commandSwap"),cancelSwap:e("commandClose")}),[t.symbol,U,m,e]),{data:T,isPending:ge}=Q({amount:r,caip19:{chainId:s,resourceType:L.address,address:l??""},owner:u?.address??""}),d=(0,n.useMemo)(()=>T&&u?I.parse({to:T.to,from:u.address??"",data:T.data}):void 0,[T,u]),v=(0,n.useMemo)(()=>d?{type:$.EVM,networkID:s,unsignedTransaction:d}:void 0,[s,d]),{data:we}=X(v),{transactionSpeed:fe,openGasSettings:x}=Ae(s,we),{data:w,isFetched:D,isError:A,isSuccess:Se}=Y({networkID:s,transactionSpeed:fe,multichainTransaction:v,queryOptions:{refetchInterval:!1}}),{data:C}=Z(s,w),ye=C?.gasEstimationPriceUSD?e("gasUpTo",{amount:C?.gasEstimationPriceUSD}):void 0,Te=K(w),F=ye??Te??"",{hasSufficientFunds:P,nativeTokenSymbol:N}=_({networkID:s,addressType:u?.addressType,gasEstimation:w,transactionValue:new B(r??"0",16)}),G=D&&!Se,b=(0,n.useMemo)(()=>A?e("transactionGasLimitError"):G?e("transactionGasEstimationError"):P==="insufficient"?e("transactionNotEnoughNative",{nativeTokenSymbol:N}):"",[A,G,P,e,N]),be=(0,n.useMemo)(()=>[{label:e("commandSend"),value:`+${r} ${t.symbol}`,color:c.colors.legacy.spotPositive},{label:e("commandReceive"),value:`-${r} ${m}`,color:c.colors.legacy.spotNegative},{label:g.networkFeeText,onClick:x,value:F.length>0?F:(0,o.jsx)(ie,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:c.colors.legacy.borderDiminished}),color:b?c.colors.legacy.spotNegative:c.colors.legacy.textBase,leftSubtext:b,subtextColor:c.colors.legacy.spotNegative,tooltipContent:g.networkFeeTextDescription}],[r,t.symbol,g.networkFeeText,g.networkFeeTextDescription,F,b,x,m,e]),{mutateAsync:M,isPending:he}=ee(ue),Fe=(0,n.useCallback)(()=>{M({fungible:a,unsignedUnwrapTx:d,gasEstimation:w}),i("approveUnwrapFungible"),p("/notifications")},[a,w,i,p,d,M]),Ee=(0,n.useCallback)(()=>{i("approveUnwrapFungible")},[i]);return{isLoading:ge||!D,isSwapDisabled:he||!d||!!b,logoUri:y,summaryRows:be,i18nStrings:g,onConfirmSwap:Fe,onDenySwap:Ee}},"useApproveUnwrapEVMFungibleProps"),Pe=f(({fungible:a})=>{if(k.isEthereumNetworkID(a.data.chain.id)){let e=Ce(a);return(0,o.jsx)(Ne,{...e})}throw new Error(`Unwrap fungible not supported for chain: ${a.data.chain.id}`)},"ApproveUnwrapFungible"),rt=Pe,Ne=n.default.memo(({isLoading:a,isSwapDisabled:e,logoUri:p,summaryRows:i,i18nStrings:t,onConfirmSwap:l,onDenySwap:r})=>(0,o.jsxs)(Ue,{children:[(0,o.jsx)(re,{children:t.pageHeaderText}),(0,o.jsxs)(ve,{children:[(0,o.jsxs)(xe,{children:[(0,o.jsx)(se,{image:{type:"icon",preset:"swap"},size:64,badge:{src:p??""}}),(0,o.jsx)(De,{children:t.swapTitle})]}),(0,o.jsx)(ce,{rows:i,borderRadius:"6px 6px 6px 6px",padding:16,fontSize:16}),(0,o.jsx)(q,{mode:"wait",initial:!1,children:(0,o.jsx)(oe,{primaryText:t.confirmSwap,secondaryText:t.cancelSwap,primaryDisabled:a||e,onPrimaryClicked:l,onSecondaryClicked:r})})]})]}));export{rt as default};
//# sourceMappingURL=ApproveUnwrapFungible-EAQUF2D5.js.map
