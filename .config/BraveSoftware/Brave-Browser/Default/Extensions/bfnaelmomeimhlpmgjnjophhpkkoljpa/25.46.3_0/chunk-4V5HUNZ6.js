import{jc as I,mc as c}from"./chunk-TAPPRV2Q.js";import{c as u}from"./chunk-WVRYN4MY.js";import{a as B}from"./chunk-YJCG6GWC.js";import{Jb as b,Mb as w,Sb as U,Zb as l,ca as y,fa as E}from"./chunk-KLKDJF5S.js";import{Fc as m,M as P}from"./chunk-L3JU23Z5.js";import{a as R}from"./chunk-R3MCCTIW.js";import{a as s,g as d,i as o,n}from"./chunk-WKJYWAXG.js";o();n();var p=d(B(),1);o();n();o();n();function f(e){return BigInt(Math.round(e*1e18))}s(f,"toSafeInteger");function x(e){return Number(e)/1e18}s(x,"fromSafeInteger");function W(e,r){return x(f(e)+f(r))}s(W,"safeAdd");function h(e,r){return x(f(e)-f(r))}s(h,"safeSubtract");function M(e,r){return x(f(e)*BigInt(1e18)/f(r))}s(M,"safeDivide");function T(e,r){if(r===-100)return-1*e;let t=M(e,1+r/100);return h(e,t)}s(T,"calculatePriceDifference");var V=T;o();n();function v(e,r){return r*Number(e.totalQuantity)/10**e.decimals}s(v,"getPriceForToken");var fe=s(async()=>{let e=c("hasOnboarded"),r=await u(p.default.runtime,e);if("error"in r)throw new Error(r.error.message);return r.result},"hasOnboarded"),de=s(async()=>{let e=c("resetHasOnboarded"),r=await u(p.default.runtime,e);if("error"in r)throw new Error(r.error.message);return r.result},"resetHasOnboarded"),ge=s(async e=>{let r=c("unlockExtension",e),t=await m.startSpan("unlockExtension",()=>u(p.default.runtime,r));if("error"in t)throw new Error(t.error.message);if(!t.result)throw new Error("Missing unlock extension response.");let{isUnlocked:i,migrationResult:g}=t.result;if(i===void 0)throw new Error("Missing isUnlocked in unlock response.");if(g===void 0)throw new Error("Missing migrationResult in unlock response.");switch(g){case"success":await I.invalidateQueries({refetchType:"all"});break;case"no-migration":case"failure":break;default:P(g)}return{isUnlocked:i,migrationResult:g}},"unlockExtension"),Re=s(async()=>{let e=c("IsExtensionUnlocked"),r=await m.startSpan("isExtensionUnlocked",()=>u(p.default.runtime,e));if("error"in r)throw new Error(r.error.message);return r.result},"isExtensionUnlocked"),we=s(async()=>{let e=c("lockExtension"),r=await m.startSpan("lockExtension",()=>u(p.default.runtime,e));if("error"in r)throw new Error(r.error.message);return r.result},"lockExtension"),xe=s(async e=>{let r=c("setPassword",e),t=await m.startSpan("setPassword",()=>u(p.default.runtime,r));if("error"in t)throw new Error(t.error.message);return t.result},"setPassword"),Pe=s(async e=>{let r=c("verifyPassword",e),t=await m.startSpan("verifyPassword",()=>u(p.default.runtime,r));if("error"in t)throw new Error(t.error.message);return t.result},"verifyPassword"),ye=s(async(e,r)=>{let t=c("updatePassword",[e,r]),i=await m.startSpan("updatePassword",()=>u(p.default.runtime,t));if("error"in i)throw new Error(i.error.message);return i.result},"updatePassword");o();n();var F=s(()=>{let{data:e}=l();return e?.username},"useUsername");o();n();var k=d(R());o();n();var L=/^https?:\/\/.+$/,S=s(e=>N(e?.icon),"getUserProfileIcon"),N=s(e=>e?e.match(L)?{type:w.Image,imageUrl:e}:{type:w.Emoji,unicode:e}:{type:w.Default},"getUserProfileIconFromIcon");var C=s(()=>{let{data:e}=l();return(0,k.useMemo)(()=>S(e),[e])},"useUserProfileIcon");o();n();var q=d(R());var _=0,D=s(e=>e!==null?e.split("@")[_]:null,"obfuscateEmail"),H=s(async(e,r)=>{let t=await e.getUser();if(!t)throw new Error("no user");let i=await r.getUserProfile();return{userID:t.userID,username:i?.username??null,email:D(t.email??null)}},"getUserStateLogs"),Q=s(()=>{let e=y(),r=U(),{data:t={}}=E();return(0,q.useCallback)(async()=>{try{return{...await H(e,r),authFactors:t}}catch{return{userID:null,username:null,email:null,authFactors:t}}},[t,e,r])},"useGetAuthStateLogs");o();n();o();n();var A=d(R());var G=s(()=>{let{data:e}=l();return(0,A.useMemo)(()=>e?.privacyState??b.PUBLIC,[e?.privacyState])},"useUserPrivacyState");o();n();var O=d(R());var j=s(()=>{let{data:e}=l();return(0,O.useMemo)(()=>e?.addresses,[e?.addresses])},"useUserPublicAddresses");export{W as a,h as b,M as c,V as d,v as e,F as f,C as g,G as h,j as i,Q as j,fe as k,de as l,ge as m,Re as n,we as o,xe as p,Pe as q,ye as r};
//# sourceMappingURL=chunk-4V5HUNZ6.js.map
