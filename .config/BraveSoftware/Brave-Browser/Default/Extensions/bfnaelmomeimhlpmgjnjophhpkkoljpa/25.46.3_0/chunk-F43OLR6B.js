import{c as et,d as rt}from"./chunk-2NH23TPO.js";import{b as X,c as q}from"./chunk-6S3RTPCG.js";import{j as tt,k as ot}from"./chunk-4V5HUNZ6.js";import{f as I}from"./chunk-XF26M2KT.js";import{b as T}from"./chunk-N3C6FBKY.js";import{f as l}from"./chunk-7R3NEG4N.js";import{a as U}from"./chunk-SG46YPDZ.js";import{jc as J}from"./chunk-TAPPRV2Q.js";import{f as M}from"./chunk-M3IC3XCG.js";import{e as P,f as C}from"./chunk-2UWPPO5V.js";import{Ka as B,La as j,Ma as H,Oa as p,Qa as W,Za as Q,g as v,i as c,n as $}from"./chunk-4T2FPKLQ.js";import{a as z,g as Z}from"./chunk-A3JYJELV.js";import{a as x,b as V}from"./chunk-MVNJOY5H.js";import{Y as G,d as Y,ma as F}from"./chunk-OQCZPFI2.js";import{Hb as N,Ka as D,M as w,T as E}from"./chunk-KLKDJF5S.js";import{cd as K}from"./chunk-BQE2SXP7.js";import{Ad as R,Dc as b,Rc as O,md as k}from"./chunk-L3JU23Z5.js";import{a as ft,l as h}from"./chunk-R3MCCTIW.js";import{s as L}from"./chunk-FA7LVEFF.js";import{a as m,g as ut,i as a,n as s}from"./chunk-WKJYWAXG.js";a();s();var St={...R,...M,...C,...v,...K},at=O.getInstance({storage:U,keyRegistry:St,authRepository:l,queryClient:J,isOnboardingDone:ot});l.subscribe(E.User,async()=>{at.hydrateIfNeeded()});l.subscribe(E.LoggedOut,async()=>{at.clear()});a();s();a();s();a();s();var dt=c(e=>{let t=Object.fromEntries(Object.entries(e(p).data?.updates??{}).map(([o,r])=>[o,{name:r.name,quantity:r.totalQuantity/10**r.decimals,timestamp:r.timestamp}]));return{errors:e(et),walletCaip19:e(B),totalValue:e(q),portfolioValueStatus:e(X).status,balanceUpdatesStatus:e(p).status,balancesStatus:e(j).status,balancesFromUnixTimestamp:Math.floor(e(H)/1e3),updatesFromUnixTimestamp:(e(p).data?.lastTimestamp??0)/1e6,updates:t,hasNextPage:e(W),fungibleTokens:e(Q).map(o=>o.encodedCaip19)}}),st=dt;var nt=c(e=>({...e(st),visibleTokens:e(rt).map(t=>t.encodedCaip19)}));var n=ut(ft(),1);a();s();var u=class{static{m(this,"DeprecatedLocalStorage")}async get(t){let o=null;try{if(o=self.localStorage.getItem(t),typeof o!="string")return null;try{return JSON.parse(o)}catch{return console.warn(`[DeprecatedLocalStorage.get] Error parsing JSON for key "${t}"`),o}}catch(r){let i=`[DeprecatedLocalStorage.get] Error getting key (${t}): ${r}`;throw new Error(i)}}async getAll(t){try{let o={};t=t||Object.keys(self.localStorage);for(let r of t)o[r]=await this.get(r);return o}catch(o){let r=`[DeprecatedLocalStorage.getAll] Error getting key(s) (${t}): ${o}`;throw new Error(r)}}async remove(t){let o=`[DeprecatedLocalStorage.remove] Error removing key(s) (${t}): Method not implemented`;throw new Error(o)}async set(t,o){let r=`[DeprecatedLocalStorage.set] Error setting key (${t}): Method not implemented`;throw new Error(r)}async setAll(t){let r=`[DeprecatedLocalStorage.setAll] Error setting key (${Object.keys(t)}): Method not implemented`;throw new Error(r)}subscribe(t){return console.warn("[DeprecatedLocalStorage.subscribe] Method not implemented"),()=>{}}async update(t){let o=`[DeprecatedLocalStorage.update] Error updating key(s) (${t}): Method not implemented`;throw new Error(o)}};var Et=new x,Tt=new u,At=[...D,...I,P,w,"i18nextLng"],Lo=m(()=>{let{data:e,isFetching:t}=N(),{data:o,isFetching:r}=F(),{data:i,isFetching:it}=k([{key:"Local Storage",storage:Et},{key:"Deprecated Local Storage",storage:Tt}],At),{data:A}=G(),_=tt(),[y]=$(nt),f=(0,n.useCallback)(async()=>{let{version:S}=chrome.runtime.getManifest(),d=await V.getDeviceId(),gt=await _();return{"App Version":S,"Platform Information":z,"Display Language":Y(h.language),"Phantom Auth":gt,"Device Id":d,Portfolio:y,"Auto Lock Timer(ms)":A,...e,...o,...i}},[y,e,o,i,_,A]),mt=t||r||it,ct=(0,n.useCallback)(async S=>{S?.preventDefault();let d=await f();await b.downloadLog(d)},[f]),pt=(0,n.useCallback)(()=>{T({url:Z})},[]),lt=(0,n.useCallback)(()=>{T({url:L})},[]);return{appState:f,isFetching:mt,goCreateTicket:pt,goSupportDesk:lt,downloadLogs:ct}},"useDownloadLogs");export{Lo as a,at as b};
//# sourceMappingURL=chunk-F43OLR6B.js.map
