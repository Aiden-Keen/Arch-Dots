import{a as Cp}from"../chunk-Q7YS6EOF.js";import{b as Rp,d as Rn,f as Rs,g as Cs,h as Pe,i as Bs,j as Cn,k as xe,l as Er,m as Bp,n as Tr,o as kr,p as Lp,q as Mp,r as Up,t as Ls,u as G,v as Fp,w as c,x as yo}from"../chunk-ADIIPGIT.js";import{a as Hp}from"../chunk-SWUKS26S.js";import{a as Wr}from"../chunk-OMRGFVMP.js";import{a as xo}from"../chunk-OSQBA23G.js";import"../chunk-TJNSL4NB.js";import{a as go}from"../chunk-3V7FZ2LC.js";import{d as $p}from"../chunk-X7ARO2KA.js";import{a as fo}from"../chunk-RDJLORQI.js";import"../chunk-M62EOSRT.js";import{b as Pp,c as Vp}from"../chunk-MASTYD3E.js";import"../chunk-NUS6T2MC.js";import"../chunk-W64P7QDN.js";import{b as Md}from"../chunk-XF26M2KT.js";import{a as ho,b as Sp,c as Is,d as Ap,e as _p,g as vp,k as Ep}from"../chunk-N3C6FBKY.js";import"../chunk-CTKHELYY.js";import{b as Tp}from"../chunk-7DNVCCG7.js";import{b as kp,d as Ip,e as Op,f as Dp}from"../chunk-7R3NEG4N.js";import"../chunk-SG46YPDZ.js";import{h as Gd,jc as It,lc as Np}from"../chunk-TAPPRV2Q.js";import"../chunk-C3BAWXY6.js";import{a as wr,b as bn,d as Xc}from"../chunk-WVRYN4MY.js";import"../chunk-M3IC3XCG.js";import"../chunk-RSJ6JVZU.js";import"../chunk-2UWPPO5V.js";import"../chunk-4T2FPKLQ.js";import"../chunk-GC6SFTGM.js";import{b as Bn,c as Ms}from"../chunk-A3JYJELV.js";import{a as ke,b as Ue}from"../chunk-MVNJOY5H.js";import{a as Kd}from"../chunk-SIWEHH3L.js";import{A as bs,Aa as jd,Ba as qd,C as Pd,J as Fd,K as Sr,N as Hd,O as $d,e as Qt,fa as Vd,m as Nd,n as Od,oa as Ss,pa as As,r as Dd,ra as vn,sa as En,x as er,y as qr,za as zd}from"../chunk-OQCZPFI2.js";import{a as Fr}from"../chunk-YJCG6GWC.js";import{Ba as kd,C as bd,Da as Id,G as Sd,Ha as Rd,Ja as Ut,K as Ad,La as Cd,M as _d,Ma as io,N as vd,Pa as Bd,Qa as Ld,T as Ed,_ as Td,ib as ws,p as gd,v as yd,vc as Ud,w as xd,x as wd,y as Le}from"../chunk-KLKDJF5S.js";import{$a as In,Aa as tt,Ab as nr,Ba as Ot,C as Yd,Ca as ep,Da as it,Ea as tp,Fa as lo,Ga as Gr,Ha as rp,Ia as np,Ja as Es,Jb as lp,Ka as Dt,Kb as up,La as Je,Ma as Qe,Mb as mp,Na as op,Oa as Ts,Pa as ks,Qa as _r,Qc as xp,Ra as vr,Sa as Tn,Sc as wp,Ta as kn,Tb as St,Tc as bp,U as Xd,Ua as kt,Va as sp,Wa as ip,Xa as ap,Ya as cp,Za as dp,_a as pp,a as xs,g as Kr,jc as fp,l as Wd,la as mt,ma as wt,na as Jd,nc as hp,oa as Ge,oc as gp,pa as ao,qa as co,ra as Qd,rc as yp,sa as Nt,ta as tr,ua as _s,uc as mo,va as rr,vb as uo,wa as po,xa as vs,ya as Ar,z as Zd,za as bt}from"../chunk-BQE2SXP7.js";import{Bc as _e,Cc as re,Dc as An,Fc as ee,Lb as Xe,M as nd,Md as so,Nb as gs,Nd as fd,Rb as ro,Sb as ys,Tc as ud,Td as br,Vd as hd,Y as Se,_b as $r,b as Wh,bc as st,cc as cd,da as od,ec as dd,f as Dr,gb as id,gc as Vr,hb as ad,hc as pd,ia as Sn,ic as no,jd as oo,ka as hs,kd as _n,oa as to,q as Zc,qb as ot,r as Yc,ra as sd,rb as Hr,sc as ld,tc as zr,ud as md,v as Pr,vc as jr,w as Ce,x as de}from"../chunk-L3JU23Z5.js";import{A as ps,B as Be,C as Kc,G as ls,H as us,I as Zn,J as Yn,K as Xn,L as be,M as yn,N as Re,O as xn,P as Mt,Q as Gc,R as Wc,S as Nr,T as ms,U as wn,V as ye,W as Jn,X as xr,d as gr,t as Ur,u as jc,v as qc}from"../chunk-5HNKNX3S.js";import{Q as Zh,a as Me,b as Ee,d as Or,gb as Yh,l as dt}from"../chunk-R3MCCTIW.js";import"../chunk-FNC6PQ53.js";import"../chunk-5QQLABHI.js";import{h as rd}from"../chunk-VL3IRAUM.js";import{g as yr,h as fs,j as Jc,l as Qn,m as eo,o as Qc,q as ed,y as td}from"../chunk-FA7LVEFF.js";import{a as o,b as gn,d as zc,e as De,g as ce,i as d,m as Buffer,n as p}from"../chunk-WKJYWAXG.js";var Tm=zc((Lv,Em)=>{"use strict";d();p();function g1(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var a=e.length,u=e.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function A(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var y=0,S=0,_=0,E=w.length;_!==E&&w[_]===0;)_++,y++;for(var I=(E-_)*h+1>>>0,k=new Uint8Array(I);_!==E;){for(var B=w[_],D=0,H=I-1;(B!==0||D<S)&&H!==-1;H--,D++)B+=256*k[H]>>>0,k[H]=B%a>>>0,B=B/a>>>0;if(B!==0)throw new Error("Non-zero carry");S=D,_++}for(var ue=I-S;ue!==I&&k[ue]===0;)ue++;for(var te=u.repeat(y);ue<I;++ue)te+=e.charAt(k[ue]);return te}o(A,"encode");function x(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;for(var y=0,S=0,_=0;w[y]===u;)S++,y++;for(var E=(w.length-y)*l+1>>>0,I=new Uint8Array(E);w[y];){var k=t[w.charCodeAt(y)];if(k===255)return;for(var B=0,D=E-1;(k!==0||B<_)&&D!==-1;D--,B++)k+=a*I[D]>>>0,I[D]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");_=B,y++}for(var H=E-_;H!==E&&I[H]===0;)H++;for(var ue=new Uint8Array(S+(E-H)),te=S;H!==E;)ue[te++]=I[H++];return ue}o(x,"decodeUnsafe");function g(w){var y=x(w);if(y)return y;throw new Error("Non-base"+a+" character")}return o(g,"decode"),{encode:A,decodeUnsafe:x,decode:g}}o(g1,"base");Em.exports=g1});var pn=zc((Ov,km)=>{d();p();var y1=Tm(),x1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";km.exports=y1(x1)});d();p();d();p();d();p();d();p();var zp=ce(Wh(),1),wo=ce(Me(),1),ag=ce(Ee(),1),Ns=ce(Me(),1),jp=ce(Me(),1),Os=ce(Me(),1),Ds=ce(Me(),1);var rt={SOLANA_MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",SOLANA_DEVNET:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",SOLANA_TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3",ETHEREUM_MAINNET:"eip155:1",ETHEREUM_SEPOLIA:"eip155:11155111",MONAD_DEVNET:"eip155:20143"},C0={[rt.SOLANA_MAINNET]:"Solana Mainnet",[rt.SOLANA_DEVNET]:"Solana Devnet",[rt.SOLANA_TESTNET]:"Solana Testnet",[rt.ETHEREUM_MAINNET]:"Ethereum Mainnet",[rt.ETHEREUM_SEPOLIA]:"Ethereum Sepolia",[rt.MONAD_DEVNET]:"Monad Devnet"};var B0=Object.freeze({});var Xh={name:"@dialectlabs/blinks-core",version:"0.18.1",license:"Apache-2.0",private:!1,sideEffects:!0,type:"module",repository:{type:"git",url:"https://github.com/dialectlabs/blinks"},scripts:{build:"tsup-node",dev:"tsup-node --watch"},main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",exports:{".":{import:"./dist/index.js",require:"./dist/index.cjs",types:"./dist/index.d.ts"}},files:["dist"],devDependencies:{"@solana/actions-spec":"~2.4.2","@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@typescript-eslint/eslint-plugin":"^7.16.1","@typescript-eslint/parser":"^7.16.1",autoprefixer:"^10.4.19",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-react":"^7.34.4","eslint-plugin-react-hooks":"^4.6.2",postcss:"^8.4.39","postcss-prefix-selector":"^1.16.1",prettier:"^3.3.3","prettier-plugin-organize-imports":"^4.0.0","prettier-plugin-tailwindcss":"^0.6.5",tailwindcss:"^3.4.3",tsup:"^8.2.0",typescript:"^5.5.3"},peerDependencies:{react:">=18","@solana/web3.js":"^1.95.3"},dependencies:{nanoid:"^5.0.7"},peerDependenciesMeta:{"@solana/web3.js":{optional:!0}}},Jh=Xh,L0=Jh.devDependencies["@solana/actions-spec"].replace(/[^\d.]/g,"");var Qh=[rt.SOLANA_MAINNET,rt.SOLANA_DEVNET];var M0=[rt.SOLANA_MAINNET];var eg="(?<domain>[^\\n]+?) wants you to sign a message with your account:\\n",tg="(?<address>[^\\n]+)(?:\\n|$)",rg="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))",ng="(?:\\nChain ID: (?<chainId>[^\\n]+))?",og="\\nNonce: (?<nonce>[^\\n]+)",sg="\\nIssued At: (?<issuedAt>[^\\n]+)",ig=`${ng}${og}${sg}`,U0=new RegExp(`^${eg}${tg}${rg}${ig}\\n*$`);var N0=class Us{static{o(this,"_ActionConfig")}constructor(t,r){if(this.adapter=r,!t)throw new Error("rpcUrl or connection is required");this.connection=typeof t=="string"?new zp.Connection(t,"confirmed"):t}static CONFIRM_TIMEOUT_MS=6e4*1.2;static DEFAULT_METADATA={supportedBlockchainIds:Qh};connection;get metadata(){return this.adapter.metadata??Us.DEFAULT_METADATA}signTransaction(t,r){return this.adapter.signTransaction(t,r)}confirmTransaction(t){return new Promise((r,n)=>{let s=Date.now(),i=o(async()=>{if(Date.now()-s>=Us.CONFIRM_TIMEOUT_MS){n(new Error("Unable to confirm transaction: timeout reached"));return}try{let a=await this.connection.getSignatureStatus(t);if(a.value?.err){n(new Error("Transaction execution failed, check wallet for details"));return}if(a.value&&a.value.confirmations!==null){r();return}}catch(a){console.error("[@dialectlabs/blinks] Error confirming transaction",a)}setTimeout(i,3e3)},"confirm");i()})}async signMessage(t,r){return this.adapter.signMessage(t,r)}async connect(t){try{return await this.adapter.connect(t)}catch{return null}}},O0=10*60*1e3;var fg=ce(Me(),1);d();p();var hg=ce(Me(),1);var Kp=ce(Ee(),1);var gg=ce(Me(),1),yg=ce(Ee(),1);var xg=ce(Ee(),1),wg=ce(Ee(),1),Gp=ce(Ee(),1),Wp=ce(Ee(),1),Zp=ce(Ee(),1),X0=ce(Me(),1),bg=ce(Ee(),1),J0=ce(Me(),1),Sg=ce(Ee(),1),Q0=ce(Me(),1),Yp=ce(Ee(),1),Ag=ce(Me(),1),Ps=ce(Ee(),1);var Xp=ce(Ee(),1),Jp=ce(Ee(),1);var Fs=ce(Me(),1);var _g=ce(Me(),1),vg=ce(Ee(),1),Qp=ce(Ee(),1),el=ce(Ee(),1),Ln=ce(Me(),1),tl=ce(Ee(),1);var Eg=ce(Me(),1),rl=ce(Ee(),1),Tg=ce(Ee(),1),bo=ce(Me(),1),kg=ce(Ee(),1),Ig=ce(Ee(),1),So=ce(Me(),1),Rg=ce(Ee(),1),Cg=ce(Ee(),1);var Ao=ce(Me(),1);var Bg=ce(Me(),1),nl=ce(Ee(),1),ol=ce(Ee(),1),_o=ce(Me(),1),sl=ce(Ee(),1),Hs=ce(Me(),1),Lg=ce(Ee(),1),$s=ce(Me(),1),Mg=ce(Ee(),1),vo=ce(Me(),1),Ug=ce(Ee(),1),Vs=ce(Ee(),1);var Ng=ce(Me(),1);var il=ce(Ee(),1),Og=ce(Ee(),1);var Dg=ce(Me(),1),Pg=ce(Ee(),1);var Fg=ce(Me(),1);var al=ce(Me(),1);var Hg=ce(Me(),1),cl=ce(Ee(),1),$g=ce(Ee(),1);d();p();d();p();var Vg=ce(gr(),1);d();p();function zs(e,t){if(!e)return{hideProvidersArray:!1,dontOverrideWindowEthereum:!1};let r=t.find(n=>n.hostname.toLowerCase().trim()===e.toLowerCase().trim());return r?{hideProvidersArray:r.hideProvidersArray,dontOverrideWindowEthereum:r.dontOverrideWindowEthereum}:{hideProvidersArray:!1,dontOverrideWindowEthereum:!1}}o(zs,"getRemoteProviderConfigurationSettings");d();p();d();p();d();p();function dl(e){return new Promise(t=>setTimeout(t,e))}o(dl,"delayAsync");function zg(e,t){let r=typeof t.interval=="function"?t.interval:()=>t.interval;if(typeof e!="function")throw new Error("Invalid arguments for retryInternal");let n=1;async function s(){try{return await e()}catch(i){if(n++<t.times&&t.errorFilter(i))return await dl(r(n-1)),s();throw i}}return o(s,"retryAttempt"),s()}o(zg,"retryInternal");async function pl(e,t,r=3,n=2e3,s){return zg(e,{times:r,interval:s?()=>n:i=>n*Math.pow(2,i-1),errorFilter:t})}o(pl,"withRetry");var jg="https://sanity-proxy-v2.phantom.app",qg="production",Kg=yr.object({hostname:yr.string(),hideProvidersArray:yr.boolean(),dontOverrideWindowEthereum:yr.boolean()}),Gg=yr.object({dApps:yr.array(Kg).optional()}).optional(),Wg=`
*[_type == 'dAppsList' && _id == 'dAppsList-singleton']{
 dApps
}[0]`,js=o(()=>pl(async()=>{let e=await rd.get(`${jg}/v1/data/query/${qg}?query=${encodeURIComponent(Wg)}`);if(e.status>=300)throw new Error(`status code: ${e.status}, body: ${e.data}`);let t=e.data;return Gg.parse(t.result)?.dApps??[]},()=>!0,3,50),"fetchDappsList");function qs(e){try{let t=new URL(e).hostname;if(!t||t==="localhost")return null;let r="www.";return t.startsWith(r)?t.slice(r.length):t}catch{return null}}o(qs,"getHostname");d();p();d();p();var Pt;(function(e){e.BlinksEnabled="blinksEnabled",e.BlinksLog="blinksLog",e.BlinksV2Config="BlinksV2Config"})(Pt||(Pt={}));d();p();var Eo=class{static{o(this,"TTLCache")}storage;ttlMs;asyncFunction;cacheKey;cacheExpirationKey;constructor(t,r,n,s){this.storage=t,this.ttlMs=r,this.asyncFunction=n,this.cacheKey=`${s}-data`,this.cacheExpirationKey=`${s}-expiration`,this.updateCache()}async updateCache(){try{let t=await this.asyncFunction();await this.storage.set(this.cacheKey,t),await this.storage.set(this.cacheExpirationKey,Date.now()+this.ttlMs)}catch(t){throw new Error("error updating cache: "+t?.message,{cause:t})}}async get(){let t=await this.storage.get(this.cacheKey);try{return t||(await this.updateCache(),await this.storage.get(this.cacheKey))}finally{let r=await this.storage.get(this.cacheExpirationKey);(typeof r!="number"||r<Date.now())&&await this.updateCache()}}};var jh=ce(Yh(),1),et=ce(Fr(),1);d();p();var ku=ce(Zh(),1),Iu=ce(Fr(),1);d();p();var To=[],Ks=o(e=>{To.push(e)},"addDappNotificationStream"),Gs=o(e=>{To.splice(To.findIndex(t=>{let{origin:r,tabId:n,port:s}=t;return e.origin===r&&e.tabId===n&&s===e.port}),1)},"removeDappNotificationStream"),Zr=o(()=>To.map(({origin:e,tabId:t,port:r})=>({origin:e,tabId:t,send:o(n=>r.postMessage(JSON.stringify(n)),"send")})),"getDappTabs");d();p();d();p();var Zg=new Error("There is no currently selected account"),ge=o(async()=>{let e=await Ud();if(!e)throw Zg;return e},"getSelectedAccount");var ko=o(async()=>{let e=await ge();return Ws(e)},"getSelectedAccount"),Ws=o(e=>{let t=e.addresses.filter(s=>s.networkID===Sn.Mainnet||s.networkID===Sn.Testnet);if(t.length===0)throw yd;if(t.length===1){let[s]=t;if(!s?.publicKey)throw new Error("[btc provider] selected account account does not have a public key");return[{address:s.address,publicKey:Buffer.from(s.publicKey).toString("hex"),addressType:s.addressType,purpose:"payment"},{address:s.address,publicKey:Buffer.from(s.publicKey).toString("hex"),addressType:s.addressType,purpose:"ordinals"}]}let r=t.find(s=>s.addressType===Se.BitcoinTaproot);if(!r?.publicKey)throw new Error("[btc provider] ordinalAddress does not have a public key");let n=t.find(s=>s.addressType===Se.BitcoinNativeSegwit);if(!n?.publicKey)throw new Error("[btc provider] paymentAddress does not have a public key");return[{address:n.address,publicKey:Buffer.from(n.publicKey).toString("hex"),addressType:n.addressType,purpose:"payment"},{address:r.address,publicKey:Buffer.from(r.publicKey).toString("hex"),addressType:r.addressType,purpose:"ordinals"}]},"getBitcoinAddressWithPurpose");var Xs={};De(Xs,{addChain:()=>ll,autoConfirmValidateMessage:()=>fl,autoConfirmValidateTransaction:()=>hl,doesSupportEth:()=>gl,getAccountNonce:()=>yl,getAccounts:()=>xl,getEnabledChains:()=>wl,getNetworkId:()=>Yr,getRpcURL:()=>bl,getSelectedAccount:()=>Sl,getSupportedNetworks:()=>Al,sendTransaction:()=>_l,signAndSendTransaction:()=>vl,signMessage:()=>El,signTypedData:()=>Tl,switchChain:()=>kl});d();p();d();p();var ll=o(async e=>{let t=parseInt(e.chainId.substring(2),16);return!!Vr(t)},"addChain");d();p();d();p();var ul=ce(Fr(),1);var Yg=new ke,Zs=class extends Rp{static{o(this,"AutoConfirmService")}constructor(){super(Yg)}async isTabFocused(t){this.executedChecksAudit.push(Jn.IsTabFocused);let n=(await ul.default.tabs.query({active:!0,lastFocusedWindow:!0}))[0]?.url;return n?new URL(n).hostname===new URL(t).hostname:!1}async isFeatureEnabled(){return this.executedChecksAudit.push(Jn.IsFeatureFlagEnabled),await br.isFeatureEnabledAsync("kill-automatic-approval")!==!0}async isWalletUnlocked(){return this.executedChecksAudit.push(Jn.IsWalletUnlocked),!!Pe()}},We=new Zs;d();p();d();p();var Io={};d();p();var Ys=[new ke];async function ml(){for(let e of Ys){let t=await e.get(Ut.DeveloperMode);if(t)return t.isDeveloperMode}return!1}o(ml,"getIsDeveloperMode");var Yr=o(async e=>{if(await ml()){let i=(await Dd(Ys)).eip155;if(!i)throw new Error("No evm developer mode chainId set");let a=i.replace("eip155:","");return us(a)}let r=Io[e]??od.Mainnet,n=Xe.getEVMNetworkIDValue(r);return us(n.toString())},"getNetworkId");var fl=o(async(e,t)=>{let r=await Yr(e.origin);if(!r)return{status:ye.UnsupportedNetworkId};let n=$r(r);if(!Xe.isEVMNetworkID(n))return{status:ye.UnsupportedNetworkId};let s=await ge(),i=await Le(s,Se.EVM),a=Qt(dt.language)??"en",u=await Ue.getDeviceId();return await We.isEthMessageAutoConfirmable({url:e,networkID:n,data:t,account:s,userAccountAddress:i,accountIdentifier:s.identifier},{locale:a,deviceId:u})},"autoConfirmValidateMessage");d();p();var hl=o(async(e,t)=>{let r=t[0]?.chainId;if(!r)return{status:ye.UnsupportedNetworkId};let n=$r(r);if(!Xe.isEVMNetworkID(n))return{status:ye.UnsupportedNetworkId};let s=await ge(),i=await Le(s,Se.EVM),a=Qt(dt.language)??"en",u=await Ue.getDeviceId();return We.isEthTransactionAutoConfirmable({url:e,networkID:n,data:t,account:s,userAccountAddress:i,accountIdentifier:s.identifier},{locale:a,deviceId:u})},"autoConfirmValidateTransaction");d();p();var gl=o(async()=>(await ge()).addresses.some(t=>t.addressType===Se.EVM),"doesSupportEth");d();p();var Xg=new ke,yl=o(async(e,t)=>{let r=parseInt(e.replace("0x",""),16),n=Vr(r);if(!n)throw new Error(`Unsupported EVM Network ID: ${r}`);return fp(n,t,Xg)},"getAccountNonce");d();p();var xl=o(async()=>{let e=await ge();return[Le(e,Se.EVM).toLowerCase()]},"getAccounts");d();p();var wl=o(async(e=!1)=>{let t=new ke,r=hd(),n=await t.get(Ut.DeveloperMode);return e?r.enabledNetworkIDs.map(no):n?.isDeveloperMode===!0?r.enabledTestnetOnlyNetworkIDs.map(no):r.enabledMainnetOnlyNetworkIDs.map(no)},"getEnabledChains");d();p();var bl=o(async e=>{let t=to.parse(`eip155:${parseInt(e,16)}`);if(!Xe.isEVMNetworkID(t))throw new Error(`Invalid EVM NetworkID for chainID: ${e}`);let r=Xe.getRpcProxyUrl(t);if(!r)throw new Error(`No RPC URL found for chainID ${e}`);return r},"getRpcURL");d();p();var Sl=o(async()=>{let e=await ge();return Le(e,Se.EVM).toLowerCase()},"getSelectedAccount");d();p();var Al=o(()=>pd(),"getSupportedNetworks");d();p();d();p();var Jg=new ke,Ro=o(async(e,t)=>{let r=await ge();Le(r,Se.EVM);let n=dt.t("transactionsAppInteraction"),s=to.parse(`eip155:${e.chainId?parseInt(e.chainId,16):void 0}`),i=bd(e.to??"",void 0,void 0,5),a=Xd(e.value??"",Xe.getTokenDecimals(s)),u=Xe.getTokenSymbol(s);if(e.nonce===void 0)throw new Error("nonce missing on unsigned transaction");if(e.maxFeePerGas==null||e.maxPriorityFeePerGas==null){let A=(await Zd(s,!0))?.standard;if(A)e.maxFeePerGas==null&&(e.maxFeePerGas=`0x${A.maxFeePerGas.integerValue(Or.ROUND_CEIL).toString(16)}`),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=`0x${A.maxPriorityFeePerGas.integerValue(Or.ROUND_CEIL).toString(16)}`);else throw new Error("Standard transaction speed price information is missing.")}let l={accountSigner:xe,accountIdentifier:r.identifier,networkID:s,unsignedTransaction:e,callPayload:void 0,pendingTransactionInput:{ownerAddress:e.from,networkID:s,data:{nonce:e.nonce,hash:"",unsignedTransaction:jc.parse({from:e.from})},type:Kr.DappInteraction,display:{summary:{topLeft:{text:n},topRight:{text:a?`- ${a} ${u}`:""}},detail:{uiRecipient:i}}},storage:Jg};return t?await hp({...l,signature:t}):await gp(l)},"sendEthTransaction");var _l=Ro;d();p();var vl=Ro;d();p();var El=o(async e=>{let t=Up(e),r=await ge();Le(r,Se.EVM);let n=await xe.sign(r.identifier,{chainType:Se.EVM,signingType:"message",message:t});if(n.status==="error")throw new Error(`[${n.type}] ${n.message}`);return n.signature},"signMessage");d();p();var Tl=o(async e=>{let t=await ge();Le(t,Se.EVM);let r=await xe.sign(t.identifier,{chainType:Se.EVM,signingType:"typedData",...e});if(r.status==="error")throw new Error(`[${r.type}] ${r.message}`);return r.signature},"signTypedData");d();p();var kl=o(async(e,t)=>{let r=parseInt(e.substring(2),16),n=Vr(r);return n?(Io[t]=n,!0):!1},"switchChain");d();p();d();p();d();p();d();p();var Qg=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),or=new Uint32Array(64),Co=class extends Es{static{o(this,"SHA256")}constructor(t=32){super(64,t,8,!1),this.A=Dt[0]|0,this.B=Dt[1]|0,this.C=Dt[2]|0,this.D=Dt[3]|0,this.E=Dt[4]|0,this.F=Dt[5]|0,this.G=Dt[6]|0,this.H=Dt[7]|0}get(){let{A:t,B:r,C:n,D:s,E:i,F:a,G:u,H:l}=this;return[t,r,n,s,i,a,u,l]}set(t,r,n,s,i,a,u,l){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=u|0,this.H=l|0}process(t,r){for(let x=0;x<16;x++,r+=4)or[x]=t.getUint32(r,!1);for(let x=16;x<64;x++){let g=or[x-15],w=or[x-2],y=bt(g,7)^bt(g,18)^g>>>3,S=bt(w,17)^bt(w,19)^w>>>10;or[x]=S+or[x-7]+y+or[x-16]|0}let{A:n,B:s,C:i,D:a,E:u,F:l,G:h,H:A}=this;for(let x=0;x<64;x++){let g=bt(u,6)^bt(u,11)^bt(u,25),w=A+g+rp(u,l,h)+Qg[x]+or[x]|0,S=(bt(n,2)^bt(n,13)^bt(n,22))+np(n,s,i)|0;A=h,h=l,l=u,u=a+w|0,a=i,i=s,s=n,n=w+S|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,u=u+this.E|0,l=l+this.F|0,h=h+this.G|0,A=A+this.H|0,this.set(n,s,i,a,u,l,h,A)}roundClean(){Ar(or)}destroy(){this.set(0,0,0,0,0,0,0,0),Ar(this.buffer)}};var Il=op(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ey=Il[0],ty=Il[1],sr=new Uint32Array(80),ir=new Uint32Array(80),Bo=class extends Es{static{o(this,"SHA512")}constructor(t=64){super(128,t,16,!1),this.Ah=Qe[0]|0,this.Al=Qe[1]|0,this.Bh=Qe[2]|0,this.Bl=Qe[3]|0,this.Ch=Qe[4]|0,this.Cl=Qe[5]|0,this.Dh=Qe[6]|0,this.Dl=Qe[7]|0,this.Eh=Qe[8]|0,this.El=Qe[9]|0,this.Fh=Qe[10]|0,this.Fl=Qe[11]|0,this.Gh=Qe[12]|0,this.Gl=Qe[13]|0,this.Hh=Qe[14]|0,this.Hl=Qe[15]|0}get(){let{Ah:t,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:u,Dl:l,Eh:h,El:A,Fh:x,Fl:g,Gh:w,Gl:y,Hh:S,Hl:_}=this;return[t,r,n,s,i,a,u,l,h,A,x,g,w,y,S,_]}set(t,r,n,s,i,a,u,l,h,A,x,g,w,y,S,_){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=u|0,this.Dl=l|0,this.Eh=h|0,this.El=A|0,this.Fh=x|0,this.Fl=g|0,this.Gh=w|0,this.Gl=y|0,this.Hh=S|0,this.Hl=_|0}process(t,r){for(let k=0;k<16;k++,r+=4)sr[k]=t.getUint32(r),ir[k]=t.getUint32(r+=4);for(let k=16;k<80;k++){let B=sr[k-15]|0,D=ir[k-15]|0,H=_r(B,D,1)^_r(B,D,8)^Ts(B,D,7),ue=vr(B,D,1)^vr(B,D,8)^ks(B,D,7),te=sr[k-2]|0,F=ir[k-2]|0,ie=_r(te,F,19)^Tn(te,F,61)^Ts(te,F,6),J=vr(te,F,19)^kn(te,F,61)^ks(te,F,6),Z=ap(ue,J,ir[k-7],ir[k-16]),L=cp(Z,H,ie,sr[k-7],sr[k-16]);sr[k]=L|0,ir[k]=Z|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:u,Cl:l,Dh:h,Dl:A,Eh:x,El:g,Fh:w,Fl:y,Gh:S,Gl:_,Hh:E,Hl:I}=this;for(let k=0;k<80;k++){let B=_r(x,g,14)^_r(x,g,18)^Tn(x,g,41),D=vr(x,g,14)^vr(x,g,18)^kn(x,g,41),H=x&w^~x&S,ue=g&y^~g&_,te=dp(I,D,ue,ty[k],ir[k]),F=pp(te,E,B,H,ey[k],sr[k]),ie=te|0,J=_r(n,s,28)^Tn(n,s,34)^Tn(n,s,39),Z=vr(n,s,28)^kn(n,s,34)^kn(n,s,39),L=n&i^n&u^i&u,U=s&a^s&l^a&l;E=S|0,I=_|0,S=w|0,_=y|0,w=x|0,y=g|0,{h:x,l:g}=kt(h|0,A|0,F|0,ie|0),h=u|0,A=l|0,u=i|0,l=a|0,i=n|0,a=s|0;let M=sp(ie,Z,U);n=ip(M,F,J,L),s=M|0}({h:n,l:s}=kt(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=kt(this.Bh|0,this.Bl|0,i|0,a|0),{h:u,l}=kt(this.Ch|0,this.Cl|0,u|0,l|0),{h,l:A}=kt(this.Dh|0,this.Dl|0,h|0,A|0),{h:x,l:g}=kt(this.Eh|0,this.El|0,x|0,g|0),{h:w,l:y}=kt(this.Fh|0,this.Fl|0,w|0,y|0),{h:S,l:_}=kt(this.Gh|0,this.Gl|0,S|0,_|0),{h:E,l:I}=kt(this.Hh|0,this.Hl|0,E|0,I|0),this.set(n,s,i,a,u,l,h,A,x,g,w,y,S,_,E,I)}roundClean(){Ar(sr,ir)}destroy(){Ar(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Js=class extends Bo{static{o(this,"SHA384")}constructor(){super(48),this.Ah=Je[0]|0,this.Al=Je[1]|0,this.Bh=Je[2]|0,this.Bl=Je[3]|0,this.Ch=Je[4]|0,this.Cl=Je[5]|0,this.Dh=Je[6]|0,this.Dl=Je[7]|0,this.Eh=Je[8]|0,this.El=Je[9]|0,this.Fh=Je[10]|0,this.Fl=Je[11]|0,this.Gh=Je[12]|0,this.Gl=Je[13]|0,this.Hh=Je[14]|0,this.Hl=Je[15]|0}};var Lo=lo(()=>new Co);var Mo=lo(()=>new Bo),Rl=lo(()=>new Js);d();p();d();p();var ti=BigInt(0),ei=BigInt(1);function Ft(e,t=""){if(typeof e!="boolean"){let r=t&&`"${t}"`;throw new Error(r+"expected boolean, got type="+typeof e)}return e}o(Ft,"_abool2");function ft(e,t,r=""){let n=tr(e),s=e?.length,i=t!==void 0;if(!n||i&&s!==t){let a=r&&`"${r}" `,u=i?` of length ${t}`:"",l=n?`length=${s}`:`type=${typeof e}`;throw new Error(a+"expected Uint8Array"+u+", got "+l)}return e}o(ft,"_abytes2");function Mn(e){let t=e.toString(16);return t.length&1?"0"+t:t}o(Mn,"numberToHexUnpadded");function Cl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?ti:BigInt("0x"+e)}o(Cl,"hexToNumber");function Xr(e){return Cl(tt(e))}o(Xr,"bytesToNumberBE");function Ht(e){return rr(e),Cl(tt(Uint8Array.from(e).reverse()))}o(Ht,"bytesToNumberLE");function Uo(e,t){return Ot(e.toString(16).padStart(t*2,"0"))}o(Uo,"numberToBytesBE");function ri(e,t){return Uo(e,t).reverse()}o(ri,"numberToBytesLE");function Ne(e,t,r){let n;if(typeof t=="string")try{n=Ot(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(tr(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return n}o(Ne,"ensureBytes");function Bl(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}o(Bl,"equalBytes");function ni(e){return Uint8Array.from(e)}o(ni,"copyBytes");var Qs=o(e=>typeof e=="bigint"&&ti<=e,"isPosBig");function Ll(e,t,r){return Qs(e)&&Qs(t)&&Qs(r)&&t<=e&&e<r}o(Ll,"inRange");function Un(e,t,r,n){if(!Ll(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}o(Un,"aInRange");function No(e){let t;for(t=0;e>ti;e>>=ei,t+=1);return t}o(No,"bitLen");var ar=o(e=>(ei<<BigInt(e))-ei,"bitMask");function Ml(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=o(w=>new Uint8Array(w),"u8n"),s=o(w=>Uint8Array.of(w),"u8of"),i=n(e),a=n(e),u=0,l=o(()=>{i.fill(1),a.fill(0),u=0},"reset"),h=o((...w)=>r(a,i,...w),"h"),A=o((w=n(0))=>{a=h(s(0),w),i=h(),w.length!==0&&(a=h(s(1),w),i=h())},"reseed"),x=o(()=>{if(u++>=1e3)throw new Error("drbg: tried 1000 values");let w=0,y=[];for(;w<t;){i=h();let S=i.slice();y.push(S),w+=i.length}return it(...y)},"gen");return o((w,y)=>{l(),A(w);let S;for(;!(S=y(x()));)A();return l(),S},"genUntil")}o(Ml,"createHmacDrbg");function cr(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(s,i,a){let u=e[s];if(a&&u===void 0)return;let l=typeof u;if(l!==i||u===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${l}`)}o(n,"checkField"),Object.entries(t).forEach(([s,i])=>n(s,i,!1)),Object.entries(r).forEach(([s,i])=>n(s,i,!0))}o(cr,"_validateObject");var oi=o(()=>{throw new Error("not implemented")},"notImplemented");function Jr(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(s!==void 0)return s;let i=e(r,...n);return t.set(r,i),i}}o(Jr,"memoized");d();p();var at=BigInt(0),Ze=BigInt(1),Ir=BigInt(2),Ol=BigInt(3),Dl=BigInt(4),Pl=BigInt(5),ny=BigInt(7),Fl=BigInt(8),oy=BigInt(9),Hl=BigInt(16);function qe(e,t){let r=e%t;return r>=at?r:t+r}o(qe,"mod");function At(e,t,r){let n=e;for(;t-- >at;)n*=n,n%=r;return n}o(At,"pow2");function Ul(e,t){if(e===at)throw new Error("invert: expected non-zero number");if(t<=at)throw new Error("invert: expected positive modulus, got "+t);let r=qe(e,t),n=t,s=at,i=Ze,a=Ze,u=at;for(;r!==at;){let h=n/r,A=n%r,x=s-a*h,g=i-u*h;n=r,r=A,s=a,i=u,a=x,u=g}if(n!==Ze)throw new Error("invert: does not exist");return qe(s,t)}o(Ul,"invert");function si(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}o(si,"assertIsSquare");function $l(e,t){let r=(e.ORDER+Ze)/Dl,n=e.pow(t,r);return si(e,n,t),n}o($l,"sqrt3mod4");function sy(e,t){let r=(e.ORDER-Pl)/Fl,n=e.mul(t,Ir),s=e.pow(n,r),i=e.mul(t,s),a=e.mul(e.mul(i,Ir),s),u=e.mul(i,e.sub(a,e.ONE));return si(e,u,t),u}o(sy,"sqrt5mod8");function iy(e){let t=ct(e),r=Vl(e),n=r(t,t.neg(t.ONE)),s=r(t,n),i=r(t,t.neg(n)),a=(e+ny)/Hl;return(u,l)=>{let h=u.pow(l,a),A=u.mul(h,n),x=u.mul(h,s),g=u.mul(h,i),w=u.eql(u.sqr(A),l),y=u.eql(u.sqr(x),l);h=u.cmov(h,A,w),A=u.cmov(g,x,y);let S=u.eql(u.sqr(A),l),_=u.cmov(h,A,S);return si(u,_,l),_}}o(iy,"sqrt9mod16");function Vl(e){if(e<Ol)throw new Error("sqrt is not defined for small field");let t=e-Ze,r=0;for(;t%Ir===at;)t/=Ir,r++;let n=Ir,s=ct(e);for(;Nl(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return $l;let i=s.pow(n,t),a=(t+Ze)/Ir;return o(function(l,h){if(l.is0(h))return h;if(Nl(l,h)!==1)throw new Error("Cannot find square root");let A=r,x=l.mul(l.ONE,i),g=l.pow(h,t),w=l.pow(h,a);for(;!l.eql(g,l.ONE);){if(l.is0(g))return l.ZERO;let y=1,S=l.sqr(g);for(;!l.eql(S,l.ONE);)if(y++,S=l.sqr(S),y===A)throw new Error("Cannot find square root");let _=Ze<<BigInt(A-y-1),E=l.pow(x,_);A=y,x=l.sqr(E),g=l.mul(g,x),w=l.mul(w,E)}return w},"tonelliSlow")}o(Vl,"tonelliShanks");function ay(e){return e%Dl===Ol?$l:e%Fl===Pl?sy:e%Hl===oy?iy(e):Vl(e)}o(ay,"FpSqrt");var $t=o((e,t)=>(qe(e,t)&Ze)===Ze,"isNegativeLE"),cy=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ii(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=cy.reduce((n,s)=>(n[s]="function",n),t);return cr(e,r),e}o(ii,"validateField");function dy(e,t,r){if(r<at)throw new Error("invalid exponent, negatives unsupported");if(r===at)return e.ONE;if(r===Ze)return t;let n=e.ONE,s=t;for(;r>at;)r&Ze&&(n=e.mul(n,s)),s=e.sqr(s),r>>=Ze;return n}o(dy,"FpPow");function Nn(e,t,r=!1){let n=new Array(t.length).fill(r?e.ZERO:void 0),s=t.reduce((a,u,l)=>e.is0(u)?a:(n[l]=a,e.mul(a,u)),e.ONE),i=e.inv(s);return t.reduceRight((a,u,l)=>e.is0(u)?a:(n[l]=e.mul(a,n[l]),e.mul(a,u)),i),n}o(Nn,"FpInvertBatch");function Nl(e,t){let r=(e.ORDER-Ze)/Ir,n=e.pow(t,r),s=e.eql(n,e.ONE),i=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}o(Nl,"FpLegendre");function Oo(e,t){t!==void 0&&_s(t);let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(Oo,"nLength");function ct(e,t,r=!1,n={}){if(e<=at)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,a=!1,u;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let g=t;g.BITS&&(s=g.BITS),g.sqrt&&(i=g.sqrt),typeof g.isLE=="boolean"&&(r=g.isLE),typeof g.modFromBytes=="boolean"&&(a=g.modFromBytes),u=g.allowedLengths}else typeof t=="number"&&(s=t),n.sqrt&&(i=n.sqrt);let{nBitLength:l,nByteLength:h}=Oo(e,s);if(h>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let A,x=Object.freeze({ORDER:e,isLE:r,BITS:l,BYTES:h,MASK:ar(l),ZERO:at,ONE:Ze,allowedLengths:u,create:o(g=>qe(g,e),"create"),isValid:o(g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return at<=g&&g<e},"isValid"),is0:o(g=>g===at,"is0"),isValidNot0:o(g=>!x.is0(g)&&x.isValid(g),"isValidNot0"),isOdd:o(g=>(g&Ze)===Ze,"isOdd"),neg:o(g=>qe(-g,e),"neg"),eql:o((g,w)=>g===w,"eql"),sqr:o(g=>qe(g*g,e),"sqr"),add:o((g,w)=>qe(g+w,e),"add"),sub:o((g,w)=>qe(g-w,e),"sub"),mul:o((g,w)=>qe(g*w,e),"mul"),pow:o((g,w)=>dy(x,g,w),"pow"),div:o((g,w)=>qe(g*Ul(w,e),e),"div"),sqrN:o(g=>g*g,"sqrN"),addN:o((g,w)=>g+w,"addN"),subN:o((g,w)=>g-w,"subN"),mulN:o((g,w)=>g*w,"mulN"),inv:o(g=>Ul(g,e),"inv"),sqrt:i||(g=>(A||(A=ay(e)),A(x,g))),toBytes:o(g=>r?ri(g,h):Uo(g,h),"toBytes"),fromBytes:o((g,w=!0)=>{if(u){if(!u.includes(g.length)||g.length>h)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+g.length);let S=new Uint8Array(h);S.set(g,r?0:S.length-g.length),g=S}if(g.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+g.length);let y=r?Ht(g):Xr(g);if(a&&(y=qe(y,e)),!w&&!x.isValid(y))throw new Error("invalid field element: outside of range 0..ORDER");return y},"fromBytes"),invertBatch:o(g=>Nn(x,g),"invertBatch"),cmov:o((g,w,y)=>y?w:g,"cmov")});return Object.freeze(x)}o(ct,"Field");function zl(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}o(zl,"getFieldBytesLength");function ai(e){let t=zl(e);return t+Math.ceil(t/2)}o(ai,"getMinHashLength");function jl(e,t,r=!1){let n=e.length,s=zl(t),i=ai(t);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);let a=r?Ht(e):Xr(e),u=qe(a,t-Ze)+Ze;return r?ri(u,s):Uo(u,s)}o(jl,"mapHashToField");var Qr=BigInt(0),Rr=BigInt(1);function On(e,t){let r=t.negate();return e?r:t}o(On,"negateCt");function Vt(e,t){let r=Nn(e.Fp,t.map(n=>n.Z));return t.map((n,s)=>e.fromAffine(n.toAffine(r[s])))}o(Vt,"normalizeZ");function Wl(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}o(Wl,"validateW");function ci(e,t){Wl(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),s=2**e,i=ar(e),a=BigInt(e);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:a}}o(ci,"calcWOpts");function ql(e,t,r){let{windowSize:n,mask:s,maxNumber:i,shiftBy:a}=r,u=Number(e&s),l=e>>a;u>n&&(u-=i,l+=Rr);let h=t*n,A=h+Math.abs(u)-1,x=u===0,g=u<0,w=t%2!==0;return{nextN:l,offset:A,isZero:x,isNeg:g,isNegF:w,offsetF:h}}o(ql,"calcOffsets");function py(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}o(py,"validateMSMPoints");function ly(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}o(ly,"validateMSMScalars");var di=new WeakMap,Zl=new WeakMap;function pi(e){return Zl.get(e)||1}o(pi,"getW");function Kl(e){if(e!==Qr)throw new Error("invalid wNAF")}o(Kl,"assert0");var en=class{static{o(this,"wNAF")}constructor(t,r){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let s=t;for(;r>Qr;)r&Rr&&(n=n.add(s)),s=s.double(),r>>=Rr;return n}precomputeWindow(t,r){let{windows:n,windowSize:s}=ci(r,this.bits),i=[],a=t,u=a;for(let l=0;l<n;l++){u=a,i.push(u);for(let h=1;h<s;h++)u=u.add(a),i.push(u);a=u.double()}return i}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE,a=ci(t,this.bits);for(let u=0;u<a.windows;u++){let{nextN:l,offset:h,isZero:A,isNeg:x,isNegF:g,offsetF:w}=ql(n,u,a);n=l,A?i=i.add(On(g,r[w])):s=s.add(On(x,r[h]))}return Kl(n),{p:s,f:i}}wNAFUnsafe(t,r,n,s=this.ZERO){let i=ci(t,this.bits);for(let a=0;a<i.windows&&n!==Qr;a++){let{nextN:u,offset:l,isZero:h,isNeg:A}=ql(n,a,i);if(n=u,!h){let x=r[l];s=s.add(A?x.negate():x)}}return Kl(n),s}getPrecomputes(t,r,n){let s=di.get(r);return s||(s=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(s=n(s)),di.set(r,s))),s}cached(t,r,n){let s=pi(t);return this.wNAF(s,this.getPrecomputes(s,t,n),r)}unsafe(t,r,n,s){let i=pi(t);return i===1?this._unsafeLadder(t,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,n),r,s)}createCache(t,r){Wl(r,this.bits),Zl.set(t,r),di.delete(t)}hasCache(t){return pi(t)!==1}};function Yl(e,t,r,n){let s=t,i=e.ZERO,a=e.ZERO;for(;r>Qr||n>Qr;)r&Rr&&(i=i.add(s)),n&Rr&&(a=a.add(s)),s=s.double(),r>>=Rr,n>>=Rr;return{p1:i,p2:a}}o(Yl,"mulEndoUnsafe");function tn(e,t,r,n){py(r,e),ly(n,t);let s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");let a=e.ZERO,u=No(BigInt(s)),l=1;u>12?l=u-3:u>4?l=u-2:u>0&&(l=2);let h=ar(l),A=new Array(Number(h)+1).fill(a),x=Math.floor((t.BITS-1)/l)*l,g=a;for(let w=x;w>=0;w-=l){A.fill(a);for(let S=0;S<i;S++){let _=n[S],E=Number(_>>BigInt(w)&h);A[E]=A[E].add(r[S])}let y=a;for(let S=A.length-1,_=a;S>0;S--)_=_.add(A[S]),y=y.add(_);if(g=g.add(y),w!==0)for(let S=0;S<l;S++)g=g.double()}return g}o(tn,"pippenger");function Gl(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return ii(t),t}else return ct(e,{isLE:r})}o(Gl,"createField");function Do(e,t,r={},n){if(n===void 0&&(n=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(let l of["p","n","h"]){let h=t[l];if(!(typeof h=="bigint"&&h>Qr))throw new Error(`CURVE.${l} must be positive bigint`)}let s=Gl(t.p,r.Fp,n),i=Gl(t.n,r.Fn,n),u=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(let l of u)if(!s.isValid(t[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}o(Do,"_createCurveFields");d();p();var dr=BigInt(0),Ye=BigInt(1),li=BigInt(2),uy=BigInt(8);function my(e,t,r,n){let s=e.sqr(r),i=e.sqr(n),a=e.add(e.mul(t.a,s),i),u=e.add(e.ONE,e.mul(t.d,e.mul(s,i)));return e.eql(a,u)}o(my,"isEdValidXY");function fy(e,t={}){let r=Do("edwards",e,t,t.FpFnLE),{Fp:n,Fn:s}=r,i=r.CURVE,{h:a}=i;cr(t,{},{uvRatio:"function"});let u=li<<BigInt(s.BYTES*8)-Ye,l=o(_=>n.create(_),"modP"),h=t.uvRatio||((_,E)=>{try{return{isValid:!0,value:n.sqrt(n.div(_,E))}}catch{return{isValid:!1,value:dr}}});if(!my(n,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function A(_,E,I=!1){let k=I?Ye:dr;return Un("coordinate "+_,E,k,u),E}o(A,"acoord");function x(_){if(!(_ instanceof y))throw new Error("ExtendedPoint expected")}o(x,"aextpoint");let g=Jr((_,E)=>{let{X:I,Y:k,Z:B}=_,D=_.is0();E==null&&(E=D?uy:n.inv(B));let H=l(I*E),ue=l(k*E),te=n.mul(B,E);if(D)return{x:dr,y:Ye};if(te!==Ye)throw new Error("invZ was invalid");return{x:H,y:ue}}),w=Jr(_=>{let{a:E,d:I}=i;if(_.is0())throw new Error("bad point: ZERO");let{X:k,Y:B,Z:D,T:H}=_,ue=l(k*k),te=l(B*B),F=l(D*D),ie=l(F*F),J=l(ue*E),Z=l(F*l(J+te)),L=l(ie+l(I*l(ue*te)));if(Z!==L)throw new Error("bad point: equation left != right (1)");let U=l(k*B),M=l(D*H);if(U!==M)throw new Error("bad point: equation left != right (2)");return!0});class y{static{o(this,"Point")}constructor(E,I,k,B){this.X=A("x",E),this.Y=A("y",I),this.Z=A("z",k,!0),this.T=A("t",B),Object.freeze(this)}static CURVE(){return i}static fromAffine(E){if(E instanceof y)throw new Error("extended point not allowed");let{x:I,y:k}=E||{};return A("x",I),A("y",k),new y(I,k,Ye,l(I*k))}static fromBytes(E,I=!1){let k=n.BYTES,{a:B,d:D}=i;E=ni(ft(E,k,"point")),Ft(I,"zip215");let H=ni(E),ue=E[k-1];H[k-1]=ue&-129;let te=Ht(H),F=I?u:n.ORDER;Un("point.y",te,dr,F);let ie=l(te*te),J=l(ie-Ye),Z=l(D*ie-B),{isValid:L,value:U}=h(J,Z);if(!L)throw new Error("bad point: invalid y coordinate");let M=(U&Ye)===Ye,P=(ue&128)!==0;if(!I&&U===dr&&P)throw new Error("bad point: x=0 and x_0=1");return P!==M&&(U=l(-U)),y.fromAffine({x:U,y:te})}static fromHex(E,I=!1){return y.fromBytes(Ne("point",E),I)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(E=8,I=!0){return S.createCache(this,E),I||this.multiply(li),this}assertValidity(){w(this)}equals(E){x(E);let{X:I,Y:k,Z:B}=this,{X:D,Y:H,Z:ue}=E,te=l(I*ue),F=l(D*B),ie=l(k*ue),J=l(H*B);return te===F&&ie===J}is0(){return this.equals(y.ZERO)}negate(){return new y(l(-this.X),this.Y,this.Z,l(-this.T))}double(){let{a:E}=i,{X:I,Y:k,Z:B}=this,D=l(I*I),H=l(k*k),ue=l(li*l(B*B)),te=l(E*D),F=I+k,ie=l(l(F*F)-D-H),J=te+H,Z=J-ue,L=te-H,U=l(ie*Z),M=l(J*L),P=l(ie*L),O=l(Z*J);return new y(U,M,O,P)}add(E){x(E);let{a:I,d:k}=i,{X:B,Y:D,Z:H,T:ue}=this,{X:te,Y:F,Z:ie,T:J}=E,Z=l(B*te),L=l(D*F),U=l(ue*k*J),M=l(H*ie),P=l((B+D)*(te+F)-Z-L),O=M-U,q=M+U,Y=l(L-I*Z),j=l(P*O),le=l(q*Y),Q=l(P*Y),fe=l(O*q);return new y(j,le,fe,Q)}subtract(E){return this.add(E.negate())}multiply(E){if(!s.isValidNot0(E))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:I,f:k}=S.cached(this,E,B=>Vt(y,B));return Vt(y,[I,k])[0]}multiplyUnsafe(E,I=y.ZERO){if(!s.isValid(E))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return E===dr?y.ZERO:this.is0()||E===Ye?this:S.unsafe(this,E,k=>Vt(y,k),I)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return S.unsafe(this,i.n).is0()}toAffine(E){return g(this,E)}clearCofactor(){return a===Ye?this:this.multiplyUnsafe(a)}toBytes(){let{x:E,y:I}=this.toAffine(),k=n.toBytes(I);return k[k.length-1]|=E&Ye?128:0,k}toHex(){return tt(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(E){return Vt(y,E)}static msm(E,I){return tn(y,s,E,I)}_setWindowSize(E){this.precompute(E)}toRawBytes(){return this.toBytes()}}y.BASE=new y(i.Gx,i.Gy,Ye,l(i.Gx*i.Gy)),y.ZERO=new y(dr,Ye,Ye,dr),y.Fp=n,y.Fn=s;let S=new en(y,s.BITS);return y.BASE.precompute(8),y}o(fy,"edwards");var Po=class{static{o(this,"PrimeEdwardsPoint")}constructor(t){this.ep=t}static fromBytes(t){oi()}static fromHex(t){oi()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(t){return this.ep.toAffine(t)}toHex(){return tt(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(t){return this.assertSame(t),this.init(this.ep.add(t.ep))}subtract(t){return this.assertSame(t),this.init(this.ep.subtract(t.ep))}multiply(t){return this.init(this.ep.multiply(t))}multiplyUnsafe(t){return this.init(this.ep.multiplyUnsafe(t))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(t,r){return this.init(this.ep.precompute(t,r))}toRawBytes(){return this.toBytes()}};function hy(e,t,r={}){if(typeof t!="function")throw new Error('"hash" function param is required');cr(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:s,Fp:i,Fn:a}=e,u=r.randomBytes||Gr,l=r.adjustScalarBytes||(F=>F),h=r.domain||((F,ie,J)=>{if(Ft(J,"phflag"),ie.length||J)throw new Error("Contexts/pre-hash are not supported");return F});function A(F){return a.create(Ht(F))}o(A,"modN_LE");function x(F){let ie=k.secretKey;F=Ne("private key",F,ie);let J=Ne("hashed private key",t(F),2*ie),Z=l(J.slice(0,ie)),L=J.slice(ie,2*ie),U=A(Z);return{head:Z,prefix:L,scalar:U}}o(x,"getPrivateScalar");function g(F){let{head:ie,prefix:J,scalar:Z}=x(F),L=s.multiply(Z),U=L.toBytes();return{head:ie,prefix:J,scalar:Z,point:L,pointBytes:U}}o(g,"getExtendedPublicKey");function w(F){return g(F).pointBytes}o(w,"getPublicKey");function y(F=Uint8Array.of(),...ie){let J=it(...ie);return A(t(h(J,Ne("context",F),!!n)))}o(y,"hashDomainToScalar");function S(F,ie,J={}){F=Ne("message",F),n&&(F=n(F));let{prefix:Z,scalar:L,pointBytes:U}=g(ie),M=y(J.context,Z,F),P=s.multiply(M).toBytes(),O=y(J.context,P,U,F),q=a.create(M+O*L);if(!a.isValid(q))throw new Error("sign failed: invalid s");let Y=it(P,a.toBytes(q));return ft(Y,k.signature,"result")}o(S,"sign");let _={zip215:!0};function E(F,ie,J,Z=_){let{context:L,zip215:U}=Z,M=k.signature;F=Ne("signature",F,M),ie=Ne("message",ie),J=Ne("publicKey",J,k.publicKey),U!==void 0&&Ft(U,"zip215"),n&&(ie=n(ie));let P=M/2,O=F.subarray(0,P),q=Ht(F.subarray(P,M)),Y,j,le;try{Y=e.fromBytes(J,U),j=e.fromBytes(O,U),le=s.multiplyUnsafe(q)}catch{return!1}if(!U&&Y.isSmallOrder())return!1;let Q=y(L,j.toBytes(),Y.toBytes(),ie);return j.add(Y.multiplyUnsafe(Q)).subtract(le).clearCofactor().is0()}o(E,"verify");let I=i.BYTES,k={secretKey:I,publicKey:I,signature:2*I,seed:I};function B(F=u(k.seed)){return ft(F,k.seed,"seed")}o(B,"randomSecretKey");function D(F){let ie=te.randomSecretKey(F);return{secretKey:ie,publicKey:w(ie)}}o(D,"keygen");function H(F){return tr(F)&&F.length===a.BYTES}o(H,"isValidSecretKey");function ue(F,ie){try{return!!e.fromBytes(F,ie)}catch{return!1}}o(ue,"isValidPublicKey");let te={getExtendedPublicKey:g,randomSecretKey:B,isValidSecretKey:H,isValidPublicKey:ue,toMontgomery(F){let{y:ie}=e.fromBytes(F),J=k.publicKey,Z=J===32;if(!Z&&J!==57)throw new Error("only defined for 25519 and 448");let L=Z?i.div(Ye+ie,Ye-ie):i.div(ie-Ye,ie+Ye);return i.toBytes(L)},toMontgomerySecret(F){let ie=k.secretKey;ft(F,ie);let J=t(F.subarray(0,ie));return l(J).subarray(0,ie)},randomPrivateKey:B,precompute(F=8,ie=e.BASE){return ie.precompute(F,!1)}};return Object.freeze({keygen:D,getPublicKey:w,sign:S,verify:E,utils:te,Point:e,lengths:k})}o(hy,"eddsa");function gy(e){let t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=ct(t.n,e.nBitLength,!0),s={Fp:r,Fn:n,uvRatio:e.uvRatio},i={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:s,hash:e.hash,eddsaOpts:i}}o(gy,"_eddsa_legacy_opts_to_new");function yy(e,t){let r=t.Point;return Object.assign({},t,{ExtendedPoint:r,CURVE:e,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}o(yy,"_eddsa_new_output_to_legacy");function Xl(e){let{CURVE:t,curveOpts:r,hash:n,eddsaOpts:s}=gy(e),i=fy(t,r),a=hy(i,n,s);return yy(e,a)}o(Xl,"twistedEdwards");var xy=BigInt(0),zt=BigInt(1),Jl=BigInt(2),M3=BigInt(3),wy=BigInt(5),by=BigInt(8),rn=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Dn={p:rn,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:by,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Sy(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=rn,u=e*e%i*e%i,l=At(u,Jl,i)*u%i,h=At(l,zt,i)*e%i,A=At(h,wy,i)*h%i,x=At(A,t,i)*A%i,g=At(x,r,i)*x%i,w=At(g,n,i)*g%i,y=At(w,s,i)*w%i,S=At(y,s,i)*w%i,_=At(S,t,i)*A%i;return{pow_p_5_8:At(_,Jl,i)*e%i,b2:u}}o(Sy,"ed25519_pow_2_252_3");function Ay(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}o(Ay,"adjustScalarBytes");var ui=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function hi(e,t){let r=rn,n=qe(t*t*t,r),s=qe(n*n*t,r),i=Sy(e*s).pow_p_5_8,a=qe(e*n*i,r),u=qe(t*a*a,r),l=a,h=qe(a*ui,r),A=u===e,x=u===qe(-e,r),g=u===qe(-e*ui,r);return A&&(a=l),(x||g)&&(a=h),$t(a,r)&&(a=qe(-a,r)),{isValid:A||x,value:a}}o(hi,"uvRatio");var pr=ct(Dn.p,{isLE:!0}),_y=ct(Dn.n,{isLE:!0}),vy={...Dn,Fp:pr,hash:Mo,adjustScalarBytes:Ay,uvRatio:hi},jt=Xl(vy);var mi=ui,Ey=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Ty=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ky=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Iy=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Ql=o(e=>hi(zt,e),"invertSqrt"),Ry=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),fi=o(e=>jt.Point.Fp.create(Ht(e)&Ry),"bytes255ToNumberLE");function eu(e){let{d:t}=Dn,r=rn,n=o(E=>pr.create(E),"mod"),s=n(mi*e*e),i=n((s+zt)*ky),a=BigInt(-1),u=n((a-t*s)*n(s+t)),{isValid:l,value:h}=hi(i,u),A=n(h*e);$t(A,r)||(A=n(-A)),l||(h=A),l||(a=s);let x=n(a*(s-zt)*Iy-u),g=h*h,w=n((h+h)*u),y=n(x*Ey),S=n(zt-g),_=n(zt+g);return new jt.Point(n(w*_),n(S*y),n(y*_),n(w*S))}o(eu,"calcElligatorRistrettoMap");function Cy(e){rr(e,64);let t=fi(e.subarray(0,32)),r=eu(t),n=fi(e.subarray(32,64)),s=eu(n);return new qt(r.add(s))}o(Cy,"ristretto255_map");var qt=class e extends Po{static{o(this,"_RistrettoPoint")}constructor(t){super(t)}static fromAffine(t){return new e(jt.Point.fromAffine(t))}assertSame(t){if(!(t instanceof e))throw new Error("RistrettoPoint expected")}init(t){return new e(t)}static hashToCurve(t){return Cy(Ne("ristrettoHash",t,64))}static fromBytes(t){rr(t,32);let{a:r,d:n}=Dn,s=rn,i=o(B=>pr.create(B),"mod"),a=fi(t);if(!Bl(pr.toBytes(a),t)||$t(a,s))throw new Error("invalid ristretto255 encoding 1");let u=i(a*a),l=i(zt+r*u),h=i(zt-r*u),A=i(l*l),x=i(h*h),g=i(r*n*A-x),{isValid:w,value:y}=Ql(i(g*x)),S=i(y*h),_=i(y*S*g),E=i((a+a)*S);$t(E,s)&&(E=i(-E));let I=i(l*_),k=i(E*I);if(!w||$t(k,s)||I===xy)throw new Error("invalid ristretto255 encoding 2");return new e(new jt.Point(E,I,zt,k))}static fromHex(t){return e.fromBytes(Ne("ristrettoHex",t,32))}static msm(t,r){return tn(e,jt.Point.Fn,t,r)}toBytes(){let{X:t,Y:r,Z:n,T:s}=this.ep,i=rn,a=o(_=>pr.create(_),"mod"),u=a(a(n+r)*a(n-r)),l=a(t*r),h=a(l*l),{value:A}=Ql(a(u*h)),x=a(A*u),g=a(A*l),w=a(x*g*s),y;if($t(s*w,i)){let _=a(r*mi),E=a(t*mi);t=_,r=E,y=a(x*Ty)}else y=g;$t(t*w,i)&&(r=a(-r));let S=a((n-r)*y);return $t(S,i)&&(S=a(-S)),pr.toBytes(S)}equals(t){this.assertSame(t);let{X:r,Y:n}=this.ep,{X:s,Y:i}=t.ep,a=o(h=>pr.create(h),"mod"),u=a(r*i)===a(n*s),l=a(n*i)===a(r*s);return u||l}is0(){return this.equals(e.ZERO)}};qt.BASE=new qt(jt.Point.BASE);qt.ZERO=new qt(jt.Point.ZERO);qt.Fp=pr;qt.Fn=_y;d();p();function tu(e,t){return Nt.IntentMessage(Nt.fixedArray(t.length,Nt.u8())).serialize({intent:{scope:{[e]:!0},version:{V0:!0},appId:{Sui:!0}},value:t}).toBytes()}o(tu,"messageWithIntent");d();p();var Kt={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5,Passkey:6},ru={ED25519:32,Secp256k1:33,Secp256r1:33},nu={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin",6:"Passkey"};d();p();d();p();d();p();d();p();d();p();d();p();d();p();var Fo=class extends tp{static{o(this,"HMAC")}constructor(t,r){super(),this.finished=!1,this.destroyed=!1,po(t);let n=ep(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?t.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=t.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),Ar(i)}update(t){return vs(this),this.iHash.update(t),this}digestInto(t){vs(this),rr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:a,outputLen:u}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=a,t.outputLen=u,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},gi=o((e,t,r)=>new Fo(e,t).update(r).digest(),"hmac");gi.create=(e,t)=>new Fo(e,t);var ou=o((e,t)=>(e+(e>=0?t:-t)/su)/t,"divNearest");function By(e,t,r){let[[n,s],[i,a]]=t,u=ou(a*e,r),l=ou(-s*e,r),h=e-u*n-l*i,A=-u*s-l*a,x=h<Wt,g=A<Wt;x&&(h=-h),g&&(A=-A);let w=ar(Math.ceil(No(r)/2))+on;if(h<Wt||h>=w||A<Wt||A>=w)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:x,k1:h,k2neg:g,k2:A}}o(By,"_splitEndoScalar");function xi(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}o(xi,"validateSigFormat");function yi(e,t){let r={};for(let n of Object.keys(t))r[n]=e[n]===void 0?t[n]:e[n];return Ft(r.lowS,"lowS"),Ft(r.prehash,"prehash"),r.format!==void 0&&xi(r.format),r}o(yi,"validateSigOpts");var wi=class extends Error{static{o(this,"DERErr")}constructor(t=""){super(t)}},Gt={Err:wi,_tlv:{encode:o((e,t)=>{let{Err:r}=Gt;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,s=Mn(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?Mn(s.length/2|128):"";return Mn(e)+i+s+t},"encode"),decode(e,t){let{Err:r}=Gt,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let s=t[n++],i=!!(s&128),a=0;if(!i)a=s;else{let l=s&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");let h=t.subarray(n,n+l);if(h.length!==l)throw new r("tlv.decode: length bytes not complete");if(h[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let A of h)a=a<<8|A;if(n+=l,a<128)throw new r("tlv.decode(long): not minimal encoding")}let u=t.subarray(n,n+a);if(u.length!==a)throw new r("tlv.decode: wrong value length");return{v:u,l:t.subarray(n+a)}}},_int:{encode(e){let{Err:t}=Gt;if(e<Wt)throw new t("integer: negative integers are not allowed");let r=Mn(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=Gt;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Xr(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=Gt,s=Ne("signature",e),{v:i,l:a}=n.decode(48,s);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:u,l}=n.decode(2,i),{v:h,l:A}=n.decode(2,l);if(A.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(u),s:r.decode(h)}},hexFromSig(e){let{_tlv:t,_int:r}=Gt,n=t.encode(2,r.encode(e.r)),s=t.encode(2,r.encode(e.s)),i=n+s;return t.encode(48,i)}},Wt=BigInt(0),on=BigInt(1),su=BigInt(2),Ho=BigInt(3),Ly=BigInt(4);function nn(e,t){let{BYTES:r}=e,n;if(typeof t=="bigint")n=t;else{let s=Ne("private key",t);try{n=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}o(nn,"_normFnElement");function My(e,t={}){let r=Do("weierstrass",e,t),{Fp:n,Fn:s}=r,i=r.CURVE,{h:a,n:u}=i;cr(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:l}=t;if(l&&(!n.is0(i.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let h=au(n,s);function A(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}o(A,"assertCompressionIsSupported");function x(Z,L,U){let{x:M,y:P}=L.toAffine(),O=n.toBytes(M);if(Ft(U,"isCompressed"),U){A();let q=!n.isOdd(P);return it(iu(q),O)}else return it(Uint8Array.of(4),O,n.toBytes(P))}o(x,"pointToBytes");function g(Z){ft(Z,void 0,"Point");let{publicKey:L,publicKeyUncompressed:U}=h,M=Z.length,P=Z[0],O=Z.subarray(1);if(M===L&&(P===2||P===3)){let q=n.fromBytes(O);if(!n.isValid(q))throw new Error("bad point: is not on curve, wrong x");let Y=S(q),j;try{j=n.sqrt(Y)}catch(fe){let se=fe instanceof Error?": "+fe.message:"";throw new Error("bad point: is not on curve, sqrt error"+se)}A();let le=n.isOdd(j);return(P&1)===1!==le&&(j=n.neg(j)),{x:q,y:j}}else if(M===U&&P===4){let q=n.BYTES,Y=n.fromBytes(O.subarray(0,q)),j=n.fromBytes(O.subarray(q,q*2));if(!_(Y,j))throw new Error("bad point: is not on curve");return{x:Y,y:j}}else throw new Error(`bad point: got length ${M}, expected compressed=${L} or uncompressed=${U}`)}o(g,"pointFromBytes");let w=t.toBytes||x,y=t.fromBytes||g;function S(Z){let L=n.sqr(Z),U=n.mul(L,Z);return n.add(n.add(U,n.mul(Z,i.a)),i.b)}o(S,"weierstrassEquation");function _(Z,L){let U=n.sqr(L),M=S(Z);return n.eql(U,M)}if(o(_,"isValidXY"),!_(i.Gx,i.Gy))throw new Error("bad curve params: generator point");let E=n.mul(n.pow(i.a,Ho),Ly),I=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(E,I)))throw new Error("bad curve params: a or b");function k(Z,L,U=!1){if(!n.isValid(L)||U&&n.is0(L))throw new Error(`bad point coordinate ${Z}`);return L}o(k,"acoord");function B(Z){if(!(Z instanceof F))throw new Error("ProjectivePoint expected")}o(B,"aprjpoint");function D(Z){if(!l||!l.basises)throw new Error("no endo");return By(Z,l.basises,s.ORDER)}o(D,"splitEndoScalarN");let H=Jr((Z,L)=>{let{X:U,Y:M,Z:P}=Z;if(n.eql(P,n.ONE))return{x:U,y:M};let O=Z.is0();L==null&&(L=O?n.ONE:n.inv(P));let q=n.mul(U,L),Y=n.mul(M,L),j=n.mul(P,L);if(O)return{x:n.ZERO,y:n.ZERO};if(!n.eql(j,n.ONE))throw new Error("invZ was invalid");return{x:q,y:Y}}),ue=Jr(Z=>{if(Z.is0()){if(t.allowInfinityPoint&&!n.is0(Z.Y))return;throw new Error("bad point: ZERO")}let{x:L,y:U}=Z.toAffine();if(!n.isValid(L)||!n.isValid(U))throw new Error("bad point: x or y not field elements");if(!_(L,U))throw new Error("bad point: equation left != right");if(!Z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function te(Z,L,U,M,P){return U=new F(n.mul(U.X,Z),U.Y,U.Z),L=On(M,L),U=On(P,U),L.add(U)}o(te,"finishEndo");class F{static{o(this,"Point")}constructor(L,U,M){this.X=k("x",L),this.Y=k("y",U,!0),this.Z=k("z",M),Object.freeze(this)}static CURVE(){return i}static fromAffine(L){let{x:U,y:M}=L||{};if(!L||!n.isValid(U)||!n.isValid(M))throw new Error("invalid affine point");if(L instanceof F)throw new Error("projective point not allowed");return n.is0(U)&&n.is0(M)?F.ZERO:new F(U,M,n.ONE)}static fromBytes(L){let U=F.fromAffine(y(ft(L,void 0,"point")));return U.assertValidity(),U}static fromHex(L){return F.fromBytes(Ne("pointHex",L))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(L=8,U=!0){return J.createCache(this,L),U||this.multiply(Ho),this}assertValidity(){ue(this)}hasEvenY(){let{y:L}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(L)}equals(L){B(L);let{X:U,Y:M,Z:P}=this,{X:O,Y:q,Z:Y}=L,j=n.eql(n.mul(U,Y),n.mul(O,P)),le=n.eql(n.mul(M,Y),n.mul(q,P));return j&&le}negate(){return new F(this.X,n.neg(this.Y),this.Z)}double(){let{a:L,b:U}=i,M=n.mul(U,Ho),{X:P,Y:O,Z:q}=this,Y=n.ZERO,j=n.ZERO,le=n.ZERO,Q=n.mul(P,P),fe=n.mul(O,O),se=n.mul(q,q),oe=n.mul(P,O);return oe=n.add(oe,oe),le=n.mul(P,q),le=n.add(le,le),Y=n.mul(L,le),j=n.mul(M,se),j=n.add(Y,j),Y=n.sub(fe,j),j=n.add(fe,j),j=n.mul(Y,j),Y=n.mul(oe,Y),le=n.mul(M,le),se=n.mul(L,se),oe=n.sub(Q,se),oe=n.mul(L,oe),oe=n.add(oe,le),le=n.add(Q,Q),Q=n.add(le,Q),Q=n.add(Q,se),Q=n.mul(Q,oe),j=n.add(j,Q),se=n.mul(O,q),se=n.add(se,se),Q=n.mul(se,oe),Y=n.sub(Y,Q),le=n.mul(se,fe),le=n.add(le,le),le=n.add(le,le),new F(Y,j,le)}add(L){B(L);let{X:U,Y:M,Z:P}=this,{X:O,Y:q,Z:Y}=L,j=n.ZERO,le=n.ZERO,Q=n.ZERO,fe=i.a,se=n.mul(i.b,Ho),oe=n.mul(U,O),me=n.mul(M,q),$=n.mul(P,Y),m=n.add(U,M),f=n.add(O,q);m=n.mul(m,f),f=n.add(oe,me),m=n.sub(m,f),f=n.add(U,P);let b=n.add(O,Y);return f=n.mul(f,b),b=n.add(oe,$),f=n.sub(f,b),b=n.add(M,P),j=n.add(q,Y),b=n.mul(b,j),j=n.add(me,$),b=n.sub(b,j),Q=n.mul(fe,f),j=n.mul(se,$),Q=n.add(j,Q),j=n.sub(me,Q),Q=n.add(me,Q),le=n.mul(j,Q),me=n.add(oe,oe),me=n.add(me,oe),$=n.mul(fe,$),f=n.mul(se,f),me=n.add(me,$),$=n.sub(oe,$),$=n.mul(fe,$),f=n.add(f,$),oe=n.mul(me,f),le=n.add(le,oe),oe=n.mul(b,f),j=n.mul(m,j),j=n.sub(j,oe),oe=n.mul(m,me),Q=n.mul(b,Q),Q=n.add(Q,oe),new F(j,le,Q)}subtract(L){return this.add(L.negate())}is0(){return this.equals(F.ZERO)}multiply(L){let{endo:U}=t;if(!s.isValidNot0(L))throw new Error("invalid scalar: out of range");let M,P,O=o(q=>J.cached(this,q,Y=>Vt(F,Y)),"mul");if(U){let{k1neg:q,k1:Y,k2neg:j,k2:le}=D(L),{p:Q,f:fe}=O(Y),{p:se,f:oe}=O(le);P=fe.add(oe),M=te(U.beta,Q,se,q,j)}else{let{p:q,f:Y}=O(L);M=q,P=Y}return Vt(F,[M,P])[0]}multiplyUnsafe(L){let{endo:U}=t,M=this;if(!s.isValid(L))throw new Error("invalid scalar: out of range");if(L===Wt||M.is0())return F.ZERO;if(L===on)return M;if(J.hasCache(this))return this.multiply(L);if(U){let{k1neg:P,k1:O,k2neg:q,k2:Y}=D(L),{p1:j,p2:le}=Yl(F,M,O,Y);return te(U.beta,j,le,P,q)}else return J.unsafe(M,L)}multiplyAndAddUnsafe(L,U,M){let P=this.multiplyUnsafe(U).add(L.multiplyUnsafe(M));return P.is0()?void 0:P}toAffine(L){return H(this,L)}isTorsionFree(){let{isTorsionFree:L}=t;return a===on?!0:L?L(F,this):J.unsafe(this,u).is0()}clearCofactor(){let{clearCofactor:L}=t;return a===on?this:L?L(F,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(L=!0){return Ft(L,"isCompressed"),this.assertValidity(),w(F,this,L)}toHex(L=!0){return tt(this.toBytes(L))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(L=!0){return this.toBytes(L)}_setWindowSize(L){this.precompute(L)}static normalizeZ(L){return Vt(F,L)}static msm(L,U){return tn(F,s,L,U)}static fromPrivateKey(L){return F.BASE.multiply(nn(s,L))}}F.BASE=new F(i.Gx,i.Gy,n.ONE),F.ZERO=new F(n.ZERO,n.ONE,n.ZERO),F.Fp=n,F.Fn=s;let ie=s.BITS,J=new en(F,t.endo?Math.ceil(ie/2):ie);return F.BASE.precompute(8),F}o(My,"weierstrassN");function iu(e){return Uint8Array.of(e?2:3)}o(iu,"pprefix");function au(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}o(au,"getWLengths");function Uy(e,t={}){let{Fn:r}=e,n=t.randomBytes||Gr,s=Object.assign(au(e.Fp,r),{seed:ai(r.ORDER)});function i(w){try{return!!nn(r,w)}catch{return!1}}o(i,"isValidSecretKey");function a(w,y){let{publicKey:S,publicKeyUncompressed:_}=s;try{let E=w.length;return y===!0&&E!==S||y===!1&&E!==_?!1:!!e.fromBytes(w)}catch{return!1}}o(a,"isValidPublicKey");function u(w=n(s.seed)){return jl(ft(w,s.seed,"seed"),r.ORDER)}o(u,"randomSecretKey");function l(w,y=!0){return e.BASE.multiply(nn(r,w)).toBytes(y)}o(l,"getPublicKey");function h(w){let y=u(w);return{secretKey:y,publicKey:l(y)}}o(h,"keygen");function A(w){if(typeof w=="bigint")return!1;if(w instanceof e)return!0;let{secretKey:y,publicKey:S,publicKeyUncompressed:_}=s;if(r.allowedLengths||y===S)return;let E=Ne("key",w).length;return E===S||E===_}o(A,"isProbPub");function x(w,y,S=!0){if(A(w)===!0)throw new Error("first arg must be private key");if(A(y)===!1)throw new Error("second arg must be public key");let _=nn(r,w);return e.fromHex(y).multiply(_).toBytes(S)}return o(x,"getSharedSecret"),Object.freeze({getPublicKey:l,getSharedSecret:x,keygen:h,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:a,randomSecretKey:u,isValidPrivateKey:i,randomPrivateKey:u,normPrivateKeyToScalar:o(w=>nn(r,w),"normPrivateKeyToScalar"),precompute(w=8,y=e.BASE){return y.precompute(w,!1)}},lengths:s})}o(Uy,"ecdh");function Ny(e,t,r={}){po(t),cr(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||Gr,s=r.hmac||((U,...M)=>gi(t,U,it(...M))),{Fp:i,Fn:a}=e,{ORDER:u,BITS:l}=a,{keygen:h,getPublicKey:A,getSharedSecret:x,utils:g,lengths:w}=Uy(e,r),y={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},S="compact";function _(U){let M=u>>on;return U>M}o(_,"isBiggerThanHalfOrder");function E(U,M){if(!a.isValidNot0(M))throw new Error(`invalid signature ${U}: out of range 1..Point.Fn.ORDER`);return M}o(E,"validateRS");function I(U,M){xi(M);let P=w.signature,O=M==="compact"?P:M==="recovered"?P+1:void 0;return ft(U,O,`${M} signature`)}o(I,"validateSigLength");class k{static{o(this,"Signature")}constructor(M,P,O){this.r=E("r",M),this.s=E("s",P),O!=null&&(this.recovery=O),Object.freeze(this)}static fromBytes(M,P=S){I(M,P);let O;if(P==="der"){let{r:le,s:Q}=Gt.toSig(ft(M));return new k(le,Q)}P==="recovered"&&(O=M[0],P="compact",M=M.subarray(1));let q=a.BYTES,Y=M.subarray(0,q),j=M.subarray(q,q*2);return new k(a.fromBytes(Y),a.fromBytes(j),O)}static fromHex(M,P){return this.fromBytes(Ot(M),P)}addRecoveryBit(M){return new k(this.r,this.s,M)}recoverPublicKey(M){let P=i.ORDER,{r:O,s:q,recovery:Y}=this;if(Y==null||![0,1,2,3].includes(Y))throw new Error("recovery id invalid");if(u*su<P&&Y>1)throw new Error("recovery id is ambiguous for h>1 curve");let le=Y===2||Y===3?O+u:O;if(!i.isValid(le))throw new Error("recovery id 2 or 3 invalid");let Q=i.toBytes(le),fe=e.fromBytes(it(iu((Y&1)===0),Q)),se=a.inv(le),oe=D(Ne("msgHash",M)),me=a.create(-oe*se),$=a.create(q*se),m=e.BASE.multiplyUnsafe(me).add(fe.multiplyUnsafe($));if(m.is0())throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return _(this.s)}toBytes(M=S){if(xi(M),M==="der")return Ot(Gt.hexFromSig(this));let P=a.toBytes(this.r),O=a.toBytes(this.s);if(M==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return it(Uint8Array.of(this.recovery),P,O)}return it(P,O)}toHex(M){return tt(this.toBytes(M))}assertValidity(){}static fromCompact(M){return k.fromBytes(Ne("sig",M),"compact")}static fromDER(M){return k.fromBytes(Ne("sig",M),"der")}normalizeS(){return this.hasHighS()?new k(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return tt(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return tt(this.toBytes("compact"))}}let B=r.bits2int||o(function(M){if(M.length>8192)throw new Error("input is too large");let P=Xr(M),O=M.length*8-l;return O>0?P>>BigInt(O):P},"bits2int_def"),D=r.bits2int_modN||o(function(M){return a.create(B(M))},"bits2int_modN_def"),H=ar(l);function ue(U){return Un("num < 2^"+l,U,Wt,H),a.toBytes(U)}o(ue,"int2octets");function te(U,M){return ft(U,void 0,"message"),M?ft(t(U),void 0,"prehashed message"):U}o(te,"validateMsgAndHash");function F(U,M,P){if(["recovered","canonical"].some(me=>me in P))throw new Error("sign() legacy options not supported");let{lowS:O,prehash:q,extraEntropy:Y}=yi(P,y);U=te(U,q);let j=D(U),le=nn(a,M),Q=[ue(le),ue(j)];if(Y!=null&&Y!==!1){let me=Y===!0?n(w.secretKey):Y;Q.push(Ne("extraEntropy",me))}let fe=it(...Q),se=j;function oe(me){let $=B(me);if(!a.isValidNot0($))return;let m=a.inv($),f=e.BASE.multiply($).toAffine(),b=a.create(f.x);if(b===Wt)return;let C=a.create(m*a.create(se+b*le));if(C===Wt)return;let N=(f.x===b?0:2)|Number(f.y&on),R=C;return O&&_(C)&&(R=a.neg(C),N^=1),new k(b,R,N)}return o(oe,"k2sig"),{seed:fe,k2sig:oe}}o(F,"prepSig");function ie(U,M,P={}){U=Ne("message",U);let{seed:O,k2sig:q}=F(U,M,P);return Ml(t.outputLen,a.BYTES,s)(O,q)}o(ie,"sign");function J(U){let M,P=typeof U=="string"||tr(U),O=!P&&U!==null&&typeof U=="object"&&typeof U.r=="bigint"&&typeof U.s=="bigint";if(!P&&!O)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(O)M=new k(U.r,U.s);else if(P){try{M=k.fromBytes(Ne("sig",U),"der")}catch(q){if(!(q instanceof Gt.Err))throw q}if(!M)try{M=k.fromBytes(Ne("sig",U),"compact")}catch{return!1}}return M||!1}o(J,"tryParsingSig");function Z(U,M,P,O={}){let{lowS:q,prehash:Y,format:j}=yi(O,y);if(P=Ne("publicKey",P),M=te(Ne("message",M),Y),"strict"in O)throw new Error("options.strict was renamed to lowS");let le=j===void 0?J(U):k.fromBytes(Ne("sig",U),j);if(le===!1)return!1;try{let Q=e.fromBytes(P);if(q&&le.hasHighS())return!1;let{r:fe,s:se}=le,oe=D(M),me=a.inv(se),$=a.create(oe*me),m=a.create(fe*me),f=e.BASE.multiplyUnsafe($).add(Q.multiplyUnsafe(m));return f.is0()?!1:a.create(f.x)===fe}catch{return!1}}o(Z,"verify");function L(U,M,P={}){let{prehash:O}=yi(P,y);return M=te(M,O),k.fromBytes(U,"recovered").recoverPublicKey(M).toBytes()}return o(L,"recoverPublicKey"),Object.freeze({keygen:h,getPublicKey:A,getSharedSecret:x,utils:g,lengths:w,Point:e,sign:ie,verify:Z,recoverPublicKey:L,Signature:k,hash:t})}o(Ny,"ecdsa");function Oy(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0,s=ct(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),i={Fp:r,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}o(Oy,"_weierstrass_legacy_opts_to_new");function Dy(e){let{CURVE:t,curveOpts:r}=Oy(e),n={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,hash:e.hash,ecdsaOpts:n}}o(Dy,"_ecdsa_legacy_opts_to_new");function Py(e,t){let r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,Oo(r.Fn.ORDER,r.Fn.BITS))})}o(Py,"_ecdsa_new_output_to_legacy");function cu(e){let{CURVE:t,curveOpts:r,hash:n,ecdsaOpts:s}=Dy(e),i=My(t,r),a=Ny(i,n,s);return Py(e,a)}o(cu,"weierstrass");function $o(e,t){let r=o(n=>cu({...e,hash:n}),"create");return{...r(t),create:r}}o($o,"createCurve");var du={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},pu={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},lu={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Fy=ct(du.p),Hy=ct(pu.p),$y=ct(lu.p);var uu=$o({...du,Fp:Fy,lowS:!1},Lo);var f5=$o({...pu,Fp:Hy,lowS:!1},Rl);var h5=$o({...lu,Fp:$y,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Mo);var mu=uu;d();p();var bi=Lo;d();p();function sn(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}o(sn,"bytesEqual");var lr=class{static{o(this,"PublicKey")}equals(t){return sn(this.toRawBytes(),t.toRawBytes())}toBase64(){return wt(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let t=this.toSuiBytes();return wt(t)}verifyWithIntent(t,r,n){let s=tu(n,t),i=In(s,{dkLen:32});return this.verify(i,r)}verifyPersonalMessage(t,r){return this.verifyWithIntent(Nt.vector(Nt.u8()).serialize(t).toBytes(),r,"PersonalMessage")}verifyTransaction(t,r){return this.verifyWithIntent(t,r,"TransactionData")}verifyAddress(t){return this.toSuiAddress()===t}toSuiBytes(){let t=this.toRawBytes(),r=new Uint8Array(t.length+1);return r.set([this.flag()]),r.set(t,1),r}toSuiAddress(){return co(tt(In(this.toSuiBytes(),{dkLen:32})).slice(0,ao*2))}};var Si=33;var Ai=64,G5=new Uint8Array([48,89,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,3,66,0]),_i=class extends lr{static{o(this,"PasskeyPublicKey")}constructor(t){if(super(),typeof t=="string"?this.data=mt(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==Si)throw new Error(`Invalid public key input. Expected ${Si} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return Kt.Passkey}async verify(t,r){let n=vi(r),s=JSON.parse(n.clientDataJson);if(s.type!=="webauthn.get")return!1;let i=mt(s.challenge.replace(/-/g,"+").replace(/_/g,"/"));if(!sn(t,i))return!1;let a=n.userSignature.slice(1+Ai);if(!sn(this.toRawBytes(),a))return!1;let u=new Uint8Array([...n.authenticatorData,...bi(n.clientDataJson)]),l=n.userSignature.slice(1,Ai+1);return mu.verify(l,bi(u),a)}};_i.SIZE=Si;function vi(e){let t=typeof e=="string"?mt(e):e;if(t[0]!==Kt.Passkey)throw new Error("Invalid signature scheme");let r=Qd.parse(t.slice(1));return{signatureScheme:"Passkey",serializedSignature:wt(t),signature:t,authenticatorData:r.authenticatorData,clientDataJson:r.clientDataJson,userSignature:new Uint8Array(r.userSignature),publicKey:new Uint8Array(r.userSignature.slice(1+Ai))}}o(vi,"parseSerializedPasskeySignature");d();p();d();p();var fu=o(e=>{throw TypeError(e)},"__typeError"),hu=o((e,t,r)=>t.has(e)||fu("Cannot "+r),"__accessCheck"),Vo=o((e,t,r)=>(hu(e,t,"read from private field"),r?r.call(e):t.get(e)),"__privateGet"),zo=o((e,t,r)=>t.has(e)?fu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),"__privateAdd"),jo=o((e,t,r,n)=>(hu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),"__privateSet"),qo,Ko,Go,Wo,Ei=class extends Error{static{o(this,"SuiGraphQLRequestError")}},Zo=class{static{o(this,"SuiGraphQLClient")}constructor({url:t,fetch:r=fetch,headers:n={},queries:s={}}){zo(this,qo),zo(this,Ko),zo(this,Go),zo(this,Wo),jo(this,qo,t),jo(this,Ko,s),jo(this,Go,n),jo(this,Wo,(...i)=>r(...i))}async query(t){let r=await Vo(this,Wo).call(this,Vo(this,qo),{method:"POST",headers:{"Content-Type":"application/json",...Vo(this,Go)},body:JSON.stringify({query:typeof t.query=="string"?String(t.query):id(t.query),variables:t.variables,extensions:t.extensions,operationName:t.operationName})});if(!r.ok)throw new Ei(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(t,r){return this.query({...r,query:Vo(this,Ko)[t]})}};qo=new WeakMap;Ko=new WeakMap;Go=new WeakMap;Wo=new WeakMap;d();p();var gu=ad();d();p();function Vy(e){if(e.length!==1)throw new Error("Invalid base64Url character: "+e);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(r===-1)throw new Error("Invalid base64Url character: "+e);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}o(Vy,"base64UrlCharTo6Bits");function zy(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charAt(r),s=Vy(n);t=t.concat(s)}return t}o(zy,"base64UrlStringToBitVector");function jy(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=zy(e),n=t%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);let s=(t+e.length-1)%4;if(s!==3)if(s===2)r=r.slice(0,r.length-2);else if(s===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let i=new Uint8Array(Math.floor(r.length/8)),a=0;for(let u=0;u<r.length;u+=8){let l=r.slice(u,u+8),h=parseInt(l.join(""),2);i[a++]=h}return new TextDecoder().decode(i)}o(jy,"decodeBase64URL");function qy(e){if(!(e.slice(-1)==="}"||e.slice(-1)===","))throw new Error("Invalid claim");let t=JSON.parse("{"+e.slice(0,-1)+"}");if(Object.keys(t).length!==1)throw new Error("Invalid claim");let r=Object.keys(t)[0];return[r,t[r]]}o(qy,"verifyExtendedClaim");function yu(e,t){let r=jy(e.value,e.indexMod4),[n,s]=qy(r);if(n!==t)throw new Error(`Invalid field name: found ${n} expected ${t}`);return s}o(yu,"extractClaimValue");d();p();d();p();var xu=Ge.struct("ZkLoginSignature",{inputs:Ge.struct("ZkLoginSignatureInputs",{proofPoints:Ge.struct("ZkLoginSignatureInputsProofPoints",{a:Ge.vector(Ge.string()),b:Ge.vector(Ge.vector(Ge.string())),c:Ge.vector(Ge.string())}),issBase64Details:Ge.struct("ZkLoginSignatureInputsClaim",{value:Ge.string(),indexMod4:Ge.u8()}),headerBase64:Ge.string(),addressSeed:Ge.string()}),maxEpoch:Ge.u64(),userSignature:Ge.vector(Ge.u8())});function wu(e){return xu.parse(typeof e=="string"?mt(e):e)}o(wu,"parseZkLoginSignature");d();p();function Ky(e){for(let t=0;t<e.length;t++)if(e[t]!==0)return t;return-1}o(Ky,"findFirstNonZeroIndex");function Yo(e,t){let r=e.toString(16);return Ot(r.padStart(t*2,"0").slice(-t*2))}o(Yo,"toPaddedBigEndianBytes");function Ti(e,t){let r=Yo(e,t),n=Ky(r);return n===-1?new Uint8Array([0]):r.slice(n)}o(Ti,"toBigEndianBytes");var Au=o(e=>{throw TypeError(e)},"__typeError"),Ri=o((e,t,r)=>t.has(e)||Au("Cannot "+r),"__accessCheck"),Zt=o((e,t,r)=>(Ri(e,t,"read from private field"),r?r.call(e):t.get(e)),"__privateGet"),Xo=o((e,t,r)=>t.has(e)?Au("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),"__privateAdd"),an=o((e,t,r,n)=>(Ri(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),"__privateSet"),bu=o((e,t,r)=>(Ri(e,t,"access private method"),r),"__privateMethod"),_t,Pn,Fn,Jo,ki,Gy=class Ii extends lr{static{o(this,"_ZkLoginPublicIdentifier")}constructor(t,{client:r}={}){super(),Xo(this,Jo),Xo(this,_t),Xo(this,Pn),Xo(this,Fn),an(this,Pn,r),typeof t=="string"?an(this,_t,mt(t)):t instanceof Uint8Array?an(this,_t,t):an(this,_t,Uint8Array.from(t)),an(this,Fn,Zt(this,_t).length!==Zt(this,_t)[0]+1+32),Zt(this,Fn)&&an(this,_t,_u(Zt(this,_t)))}equals(t){return super.equals(t)}toSuiAddress(){return Zt(this,Fn)?bu(this,Jo,ki).call(this):super.toSuiAddress()}toRawBytes(){return Zt(this,_t)}flag(){return Kt.ZkLogin}async verify(t,r){throw Error("does not support")}verifyPersonalMessage(t,r){let n=Qo(r),s=new Ii(n.publicKey).toSuiAddress();return Su({address:s,bytes:wt(t),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Zt(this,Pn)})}verifyTransaction(t,r){let n=Qo(r),s=new Ii(n.publicKey).toSuiAddress();return Su({address:s,bytes:wt(t),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:Zt(this,Pn)})}verifyAddress(t){return t===super.toSuiAddress()||t===bu(this,Jo,ki).call(this)}};_t=new WeakMap;Pn=new WeakMap;Fn=new WeakMap;Jo=new WeakSet;ki=o(function(){let e=_u(Zt(this,_t),!0),t=new Uint8Array(e.length+1);return t[0]=this.flag(),t.set(e,1),co(tt(In(t,{dkLen:32})).slice(0,ao*2))},"toLegacyAddress_fn");var Wy=Gy;function Zy(e,t,r){let n=r?.legacyAddress?Ti(e,32):Yo(e,32),s=new TextEncoder().encode(t),i=new Uint8Array(1+s.length+n.length);return i.set([s.length],0),i.set(s,1),i.set(n,1+s.length),new Wy(i,r)}o(Zy,"toZkLoginPublicIdentifier");var Yy=gu(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function _u(e,t=!1){let r=e[0]+1,n=BigInt(`0x${Jd(e.slice(r))}`),s=t?Ti(n,32):Yo(n,32),i=new Uint8Array(r+s.length);return i.set(e.slice(0,r),0),i.set(s,r),i}o(_u,"normalizeZkLoginPublicKeyBytes");async function Su({address:e,bytes:t,signature:r,intentScope:n,client:s=new Zo({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let i=await s.query({query:Yy,variables:{bytes:t,signature:r,intentScope:n,author:e}});return i.data?.verifyZkloginSignature.success===!0&&i.data?.verifyZkloginSignature.errors.length===0}o(Su,"graphqlVerifyZkLoginSignature");function Qo(e){let t=typeof e=="string"?mt(e):e;if(t[0]!==Kt.ZkLogin)throw new Error("Invalid signature scheme");let r=t.slice(1),{inputs:n,maxEpoch:s,userSignature:i}=wu(r),{issBase64Details:a,addressSeed:u}=n,l=yu(a,"iss"),h=Zy(BigInt(u),l);return{serializedSignature:wt(t),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:s,userSignature:i,iss:l,addressSeed:BigInt(u)},signature:t,publicKey:h.toRawBytes()}}o(Qo,"parseSerializedZkLoginSignature");function vu(e){let t=mt(e),r=nu[t[0]];switch(r){case"Passkey":return vi(e);case"MultiSig":let n=Nt.MultiSig.parse(t.slice(1));return{serializedSignature:e,signatureScheme:r,multisig:n,bytes:t};case"ZkLogin":return Qo(e);case"ED25519":case"Secp256k1":case"Secp256r1":let s=ru[r],i=t.slice(1,t.length-s),a=t.slice(1+i.length);return{serializedSignature:e,signatureScheme:r,signature:i,publicKey:a,bytes:t};default:throw new Error("Unsupported signature scheme")}}o(vu,"parseSerializedSignature");d();p();var Ci=32,cn=class extends lr{static{o(this,"Ed25519PublicKey")}constructor(t){if(super(),typeof t=="string"?this.data=mt(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==Ci)throw new Error(`Invalid public key input. Expected ${Ci} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return Kt.ED25519}async verify(t,r){let n;if(typeof r=="string"){let s=vu(r);if(s.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!sn(this.toRawBytes(),s.publicKey))throw new Error("Signature does not match public key");n=s.signature}else n=r;return jt.verify(n,t,this.toRawBytes())}};cn.SIZE=Ci;var es=o(async()=>{let e=await ge();return Hn(e)},"getSelectedAccount"),Hn=o(e=>{let t=e.addresses.filter(r=>r.networkID===hs.Mainnet||r.networkID===hs.Testnet);if(t.length===0)throw xd;if(t.length===1){let[r]=t;if(!r?.publicKey)throw new Error("[sui provider] selected account account does not have a public key");let{publicKey:n,address:s}=r;return{address:s,publicKey:new cn(n).toSuiBytes().toString()}}throw new Error("[sui provider] multiple accounts provided")},"getSuiAddressWithPubkey");d();p();var Ct=class{static{o(this,"TrustedAppsStore")}storage;target;numListeners;unsubscribeFromStorageChanges;constructor(t){this.storage=t,this.target=new EventTarget,this.numListeners={revoked:0},this.unsubscribeFromStorageChanges=null}async get(t){return(await qr(this.storage)).apps[t]??{}}async add(t,r,n){let s=await qr(this.storage),i=s?.apps?.[t]?.[r]??{},a={...s?.apps[t]??{},[r]:{...i,...n}},u={...s.apps,[t]:a},l={...s,apps:u};return await bs(this.storage,l)}async delete(t,r){let n=await qr(this.storage),s={...n?.apps[t]??{}};delete s[r];let i={...n.apps,[t]:s},a={...n,apps:i};return await bs(this.storage,a)}dispatchEvent({type:t,data:r}){let n=new Event(t);n.data=r,this.target.dispatchEvent(n)}removeEventListener(t,r){this.target.removeEventListener(t,r),this.numListeners[t]--,Object.values(this.numListeners).reduce((s,i)=>s+i,0)===0&&(this.unsubscribeFromStorageChanges?.(),this.unsubscribeFromStorageChanges=null)}addEventListener(t,r){this.target.addEventListener(t,r),this.numListeners[t]++,Object.values(this.numListeners).reduce((s,i)=>s+i,0)===1&&(this.unsubscribeFromStorageChanges=this.subscribeToStorageChanges())}subscribeToStorageChanges(){let t=null,r=qr(this.storage);return this.storage.subscribe(async n=>{if(n!==Pd)return;let s=await qr(this.storage);if(t??await r){let i=this.getRevokedApps(t??await r,s);for(let a of i)try{this.dispatchEvent({type:"revoked",data:a})}catch(u){ee.captureError(u,re.TrustedApps)}}t=s})}getRevokedApps(t,r){let n=[],s=Object.entries(t.apps);for(let[i,a]of s){let u=Object.entries(a);for(let[l,h]of u)r.apps[i]?.[l]||n.push({origin:l,accountId:i})}return n}};d();p();var $n=o(async({enabledChains:e,metamaskOverrideSetting:t})=>{let r=["solana.js","phantom.js"];if(e.includes(Se.EVM))switch(t){case"ALWAYS_ASK":{r.push("evmAsk.js");break}case"USE_PHANTOM":{r.push("evmPhantom.js");break}case"USE_METAMASK":{r.push("evmMetamask.js");break}default:nd(t)}e.some(n=>n===Se.BitcoinTaproot||n===Se.BitcoinNativeSegwit)&&r.push("btc.js"),e.some(n=>n===Se.Sui)&&r.push("sui.js");try{await chrome.scripting.registerContentScripts([{id:"inpageScripts",matches:["file://*/*","http://*/*","https://*/*"],js:r,runAt:"document_start",allFrames:!0,world:"MAIN"},{id:"contentScript",matches:["file://*/*","http://*/*","https://*/*"],js:["contentScript.js","solanaActionsContentScript.js"],runAt:"document_start",allFrames:!0,world:"ISOLATED"}])}catch{}},"registerContentScripts");async function Vn(){try{let t=(await chrome.scripting.getRegisteredContentScripts()).map(r=>r.id);return chrome.scripting.unregisterContentScripts({ids:t})}catch(e){throw console.error("ERROR REGISTERING",e),new Error("An unexpected error occurred while unregistering dynamic content scripts: "+e.message,{cause:e})}}o(Vn,"unregisterAllDynamicContentScripts");var dn=new ke,Bi=new Ct(dn);async function Xy(){let{isOnboarded:e}=await xe.checkVaultIntegrity();e&&Ru()}o(Xy,"identifyOnboardedSelectedAccount");var Jy=(0,ku.default)(Ru,500);async function Ru(){let e=await ge(),t=await Er(),r=await ws();await Pp.identifyAccount(r,e,t)}o(Ru,"identifySelectedAccount");var Qy=zr(()=>io(Ut.SelectedAccount)),e1=zr(()=>io(Ut.DeveloperMode)),t1=zr(()=>io(Ut.NetworkSetting)),r1=zr(()=>vd(_d)),n1=zr(()=>Cd(Ut.AccountsMetadata)),o1=jr(()=>Qy()),s1=jr(()=>e1()),i1=jr(()=>t1()),a1=jr(()=>r1()),c1=jr(()=>n1());async function Cu(){Xy(),o1.addListener(()=>{d1()}),s1.addListener(()=>{Tu()}),i1.addListener(()=>{Tu()}),a1.addListener(()=>{Eu()}),c1.addListener(()=>{Eu()}),dn.subscribe(e=>{switch(e){case"metaMaskOverride":{l1();return}case md:{u1();return}}}),Bi.addEventListener("revoked",e=>{p1(e.data)})}o(Cu,"registerStorageListeners");async function Eu(){ee.addBreadcrumb(re.Account,"Vault accounts changed, notifying UI processes",_e.Info);let e="INVALIDATE_ACCOUNTS_MESSAGE",t=await dn.get(e);await dn.set(e,!t)}o(Eu,"onVaultAccountsChanged");async function Tu(){try{let e=await ge(),t=await Bi.get(e.identifier);for(let r of Zr()){let n=r.origin.toLowerCase();if(n in t){let a={jsonrpc:"2.0",method:"phantom_chainChanged",params:{evm:await Yr(n)}};r.send(a)}}}catch(e){ee.captureError(e,re.Provider)}}o(Tu,"onNetworkSettingChange");async function d1(){try{await Jy()}catch(i){ee.captureError(i,re.Provider)}let e=await ge(),t;try{t=Le(e,Se.EVM)}catch{}let r;try{r=Le(e,Se.Solana)}catch{}let n;try{n=await ko()}catch{}let s;try{s=await es()}catch{}if(t||r||n||s){let i=await Bi.get(e.identifier);for(let a of Zr()){let u={btc:[]};t&&(u.evm=t),r&&(u.sol=r),n&&(u.btc=n),s&&(u.sui=s),a.send({jsonrpc:"2.0",method:"phantom_accountChanged",params:a.origin in i?u:null})}}else for(let i of Zr())i.send({jsonrpc:"2.0",method:"phantom_accountChanged",params:null})}o(d1,"onAccountChange");async function p1(e){let r=(await ws()).find(l=>l.identifier===e.accountId),n=r?.addresses?.find(l=>l.addressType===Se.EVM)?.address,s=r?.addresses?.find(l=>l.addressType===Se.Solana)?.address,i;try{i=r?Ws(r):void 0}catch{}let a;try{a=r?Hn(r):void 0}catch{}if(!n&&!s&&!i&&!a)return;let u={};n&&(u.evm=n),s&&(u.sol=s),i&&(u.btc=i),a&&(u.sui=a);for(let l of Zr())l.origin.toLowerCase()===e.origin.toLowerCase()&&l.send({jsonrpc:"2.0",method:"phantom_trustRevoked",params:u})}o(p1,"onTrustRevoked");function l1(){for(let e of Zr())(async()=>{try{await Iu.default.tabs.sendMessage(e.tabId,{jsonrpc:"2.0",method:"phantom_metaMaskOverrideSettingsChanged",params:null})}catch{}})();(async()=>{try{let e=await Er(),t=await Sr(dn);await Vn(),await $n({enabledChains:e.enabledAddressTypes,metamaskOverrideSetting:t})}catch(e){console.error("Could not re-register content scripts",e)}})()}o(l1,"onMetaMaskOverrideSettingsChanged");function u1(){(async()=>{try{let e=await Er(),t=await Sr(dn);await Vn(),await $n({enabledChains:e.enabledAddressTypes,metamaskOverrideSetting:t})}catch(e){console.error("Could not re-register content scripts",e)}})()}o(u1,"onChainAvailabilityChanged");d();p();var ts=ce(gr(),1);async function Bu(e){try{let t=e.params;if(!Array.isArray(t))return c.invalidInput(e.id);let r=t[0];if(!Object.values(Se).includes(r))return c.invalidInput(e.id,"Invalid or missing chain.");let n=t[1];if(typeof n!="string")return c.invalidInput(e.id,"Missing private key.");let s=t[2];if(typeof n!="string")return c.invalidInput(e.id,"Missing account name.");if(!Pe())return c.result(e.id,null);let a=await xe.addPrivateKeyAccount(r,ot.from(Buffer.from(n,"base64")),s);return c.result(e.id,JSON.stringify(a))}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Bu,"_importPrivateKeyAccount");async function Lu(e){try{let t=e.params;if(Object.values(t).length===0)return c.invalidInput(e.id);let r=Object.keys(t);if(!Object.values(Se).includes(...r))return c.invalidInput(e.id);if(Object.values(t).map(i=>typeof i!="string").reduce((i,a)=>i||a,!1))return c.invalidInput(e.id);let s=await xe.addReadonlyAccount(t);return c.result(e.id,JSON.stringify(s))}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Lu,"_importReadOnlyAccount");async function Mu(e){try{let t=e.params;if(!Array.isArray(t))return c.invalidInput(e.id);let r=t[0];if(typeof r!="string")return c.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.length===0)return c.invalidInput(e.id);let s=t[2];if(typeof s!="string")return c.invalidInput(e.id,"Missing account name.");if(!Pe())return c.result(e.id,null);let u=(await go()).fromEntropy(ts.default.decode(r)),l=await xe.addSeedWithMultipleAccounts(ot.from(u.getEntropy()),s,n);return c.result(e.id,JSON.stringify(l))}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Mu,"_importSeedAccount");async function Uu(e){try{let t=e.params;if(!Array.isArray(t))return c.invalidInput(e.id);let r=t[0];if(typeof r!="string")return c.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.length===0)return c.invalidInput(e.id);let s=t[2];if(typeof s!="string")return c.invalidInput(e.id,"Missing account name.");if(!Pe())return c.result(e.id,null);let u=(await go()).fromEntropy(ts.default.decode(r)),l=await xe.addSeedlessWithMultipleAccounts(ot.from(u.getEntropy()),s,n);return c.result(e.id,JSON.stringify(l))}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Uu,"_importSocialSeedAccount");async function Nu(e){try{let t=e.params;if(typeof t!="string")return c.invalidInput(e.id);if(!Pe())return c.result(e.id,null);let s=(await go()).fromEntropy(ts.default.decode(t)),i=await xe.isExistingSeed(ot.from(s.getEntropy()));return c.result(e.id,i)}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Nu,"_isExistingSeed");async function Ou(e){try{let r=e.params[0];if(!r)return c.invalidInput(e.id,"Missing se*d identifier.");if(!Pe())return c.result(e.id,null);let s=await xe.fetchAllSeedMetas();if(!s||s.length===0)return c.invalidInput(e.id,"No available se*d.");if(!s.find(u=>u.identifier===r))return c.invalidInput(e.id,"Invalid se*d identifier.");let a=await xe.addAccountForExistingSeed(r);return c.result(e.id,JSON.stringify(a))}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Ou,"_addAccountForSeed");async function Du(e){try{let r=e.params[0];if(!r)return c.invalidInput(e.id,"Missing se*d identifier.");if(!Pe())return c.result(e.id,null);let s=await xe.fetchAllSeedlessMetas();if(!s||s.length===0)return c.invalidInput(e.id,"No available se*d.");if(!s.find(u=>u.identifier===r))return c.invalidInput(e.id,"Invalid se*d identifier.");let a=await xe.addAccountForExistingSeedless(r);return c.result(e.id,JSON.stringify(a))}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Du,"_addSocialAccountForSocialSeed");async function Pu(e){try{let t=e.params;if(!Array.isArray(t))return c.invalidInput(e.id);let r=t[0];if(typeof r!="string")return c.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.some(a=>!gd.safeParse(a).success))return c.invalidInput(e.id);if(!Pe())return c.result(e.id,null);let i=await xe.addLedgerAccounts(r,n);return c.result(e.id,JSON.stringify(i))}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Pu,"_addLedgerAccounts");async function Fu(e){try{let t=e.params;if(!Array.isArray(t))return c.invalidInput(e.id);let r=t[0];if(typeof r!="string")return c.invalidInput(e.id);let n=t[1];if(typeof n!="string")return c.invalidInput(e.id,"Missing account identifier.");let s=t[2];if(!Object.values(Se).includes(s))return c.invalidInput(e.id,"Invalid or missing chain.");if(!await kr(ot.from(Buffer.from(r))))return c.invalidInput(e.id,"Invalid passw*rd.");let a=await xe.exportPrivateKey(n,s);if(!a)return c.result(e.id,null);let u=a.fold(l=>Buffer.from(l.buffer).toString("hex"));return c.result(e.id,u)}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Fu,"_exportPrivateKey");async function Hu(e){try{let t=e.params,r=t[0];if(typeof r!="string")return c.invalidInput(e.id);if(!await kr(ot.from(Buffer.from(r))))return c.invalidInput(e.id,"Invalid passw*rd.");let s=t[1];if(!s)return c.invalidInput(e.id,"Missing se*d identifier.");let i=await xe.fetchAllSeedMetas(),a=await xe.fetchAllSeedlessMetas(),u=i.concat(...a);if(!u||u.length===0)return c.result(e.id,null);let l=u.find(x=>x.identifier===s);if(!l)return c.result(e.id,null);let h=await xe.exportEntropy(l.identifier);if(!h)return c.result(e.id,null);let A=h.fold(x=>Buffer.from(x.buffer).toString("hex"));return c.result(e.id,A)}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Hu,"_exportEntropy");async function $u(e){try{let t=e.params;return Array.isArray(t)?typeof t[0]!="string"?c.invalidInput(e.id):typeof t[1]!="string"?c.invalidInput(e.id):Pe()?c.result(e.id,!0):c.result(e.id,null):c.invalidInput(e.id)}catch(t){return c.internalError(e.id,t.message)}}o($u,"_setAccountIcon");async function Vu(e){try{if(!Pe())return c.result(e.id,null);let r=await xe.deriveAddresses();return c.result(e.id,r)}catch(t){return ee.captureError(Error(`Failed to derive addresses for enabled chains in account.ts due to ${t.message}`),re.Account),c.internalError(e.id,t.message)}}o(Vu,"_deriveAddresses");async function zu(e){try{let t=e.params;return typeof t!="string"?c.invalidInput(e.id):Pe()?(await xe.removeAccount(t),c.result(e.id,!0)):c.result(e.id,null)}catch(t){return ee.captureError(Error(`Failed to remove account in account.ts due to ${t.message}`),re.Account),c.internalError(e.id,t.message)}}o(zu,"_removeAccount");async function ju(e){try{let{identifier:t,toIndex:r}=e.params;return typeof t!="string"||typeof r!="number"?c.invalidInput(e.id):Pe()?(await xe.reorderAccount(t,r),c.result(e.id,!0)):c.result(e.id,null)}catch(t){return ee.captureMessage("Failed to reorder account in account.ts",re.Account),c.internalError(e.id,t.message)}}o(ju,"_reorderAccount");async function qu(e){try{if(!Pe())return c.result(e.id,null);let r=await xe.fetchAllAccounts();if(!r)return c.result(e.id,null);let n=Ad({accounts:r}).accounts;return c.result(e.id,JSON.stringify(n))}catch(t){return c.internalError(e.id,t.message)}}o(qu,"_getAllAccounts");async function Ku(e){try{if(!Pe())return c.result(e.id,null);let r=await xe.fetchAllSeedMetas();return r?(Ue.capture("walletSeeds",{data:{numOfSeeds:r.length}}),c.result(e.id,JSON.stringify(r))):c.result(e.id,null)}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Ku,"_getAllSeeds");async function Gu(e){try{if(!Pe())return c.result(e.id,null);let r=await xe.fetchAllSeedlessMetas();return r?c.result(e.id,JSON.stringify(r)):c.result(e.id,null)}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Gu,"_getAllSocialSeeds");async function Wu(e){try{let t=e.params;if(typeof t.accountIdentifier!="string")return c.invalidInput(e.id,"Account Identifier needs to be of type string.");if(!kd(t.params))return c.invalidInput(e.id,"Invalid vault signer params.");if(!Pe())return c.result(e.id,null);let n=await xe.sign(t.accountIdentifier,t.params);return c.result(e.id,wr(n))}catch(t){return ee.captureError(t,re.Transaction),c.internalError(e.id,t.message)}}o(Wu,"_sign");async function Zu(e){try{let t=e.params;if("secretIdentifier"in t&&typeof t.secretIdentifier!="string")return c.invalidInput(e.id,"Secret Identifier needs to be present and of type string.");if(!Pe())return c.result(e.id,null);let n=await xe.getAuthenticationPublicKey(t.secretIdentifier);return c.result(e.id,wr(n))}catch(t){return ee.captureError(t,re.Transaction),c.internalError(e.id,t.message)}}o(Zu,"_getAuthenticationPublicKey");async function Yu(e){try{if(!Pe())return c.result(e.id,null);let r=await xe.checkVaultIntegrity();return c.result(e.id,r)}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Yu,"_checkVaultIntegrity");async function Xu(e){try{if(!Pe())return c.result(e.id,null);let r=await xe.DO_NOT_USE_diagnoseSeedCacheDigests();return c.result(e.id,JSON.stringify(r))}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(Xu,"_DO_NOT_USE_diagnoseSeedCacheDigests");d();p();var Ju=1e4,Mi=class{static{o(this,"MutexQueue")}queue=[];isLocked=!1;currentTag=null;timeoutId=null;currentReject=null;constructor(){eo()&&(globalThis.__PHANTOM_TEST_MUTEX__={cancelAllRequests:o(()=>this.cancelAllRequests(),"cancelAllRequests")})}_processNextRequest(){if(this.queue.length===0){this.isLocked=!1;return}let t=this.queue.shift();t&&(this.isLocked=!0,this.currentTag=t.tag,this.currentReject=t.reject,t.resolve())}async acquire(t){return this.isLocked?new Promise((r,n)=>{this.queue.push({tag:t,resolve:r,reject:n})}):(this.isLocked=!0,this.currentTag=t,this.timeoutId=setTimeout(()=>{this.currentTag===t&&this.currentReject&&(this.currentReject(new Error(`Mutex request timed out after ${Ju}ms for tag: ${t}`)),this.currentTag=null,this.isLocked=!1,this.currentReject=null,this._processNextRequest())},Ju),new Promise((r,n)=>{this.currentReject=n,r()}))}release(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentTag=null,this.currentReject=null,this._processNextRequest()}cancelTaggedRequests(t){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentTag===t&&(this.currentTag=null,this.isLocked=!1);let r=this.queue.filter(n=>n.tag===t);if(this.queue=this.queue.filter(n=>n.tag!==t),r.forEach(n=>{n.reject(new Error(`Mutex request cancelled for tag: ${t}`))}),!this.isLocked&&this.queue.length>0){let n=this.queue.shift();n&&(this.isLocked=!0,this.currentTag=n.tag,n.resolve())}}async runExclusive(t,r){await this.acquire(t);try{return await r()}finally{this.release()}}cancelAllRequests(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentReject&&this.currentReject(new Error("Mutex request cancelled")),this.queue.forEach(t=>{t.reject(new Error("Mutex request cancelled"))}),this.currentTag=null,this.currentReject=null,this.isLocked=!1,this.queue=[]}},rs=new Mi;async function Qu(e,t){return await rs.acquire(t),c.result(e.id,!0)}o(Qu,"_serviceWorkerMutexAcquire");async function em(e){return rs.release(),c.result(e.id,!0)}o(em,"_serviceWorkerMutexRelease");async function tm(e){return rs.runExclusive("default",e)}o(tm,"runExclusiveAsServiceWorker");function Ui(e){rs.cancelTaggedRequests(e)}o(Ui,"_cancelTaggedMutexRequests");d();p();async function Yt(){if(!Pe())throw new Error("Wallet is locked - password not available");try{return xe.getKMSInstance()}catch(t){throw t instanceof Error&&t.message.includes("Failed to get the encryption password")?new Error("KMS not ready - JWT keypair cannot be derived. Please try again."):t}}o(Yt,"getKMSInstance");async function rm(e){try{let r=await(await Yt()).getPhantomOrganization({});return c.result(e.id,r)}catch(t){return c.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get Phantom organization"})}}o(rm,"_getPhantomOrganization");async function nm(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n]=t;if(!r||!n)throw new Error("organizationId and username are required");let i=await(await Yt()).deleteUserFromOrganization({organizationId:r,username:n});return c.result(e.id,i)}catch(t){return c.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to delete user from organization"})}}o(nm,"_deleteUserFromOrganization");async function om(e){try{let r=await(await Yt()).getOrCreatePhantomOrganization();return c.result(e.id,r)}catch(t){return c.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get or create Phantom organization"})}}o(om,"_getOrCreatePhantomOrganization");async function sm(e){try{let t=await Yt(),r=await qd(t,xe);return so("enable-kms-vault-account-ext")?await Ld(r,xe):ee.addBreadcrumb(re.Account,"KMS vault account storage skipped: feature flag disabled",_e.Info),c.result(e.id,{...r,isNewAccount:r.isNewlyCreated})}catch(t){return c.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to retrieve KMS wallet"})}}o(sm,"_retrieveKMSWallet");async function im(e){try{let t=await Yt(),r=await jd(t,xe);return c.result(e.id,r)}catch(t){return c.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get KMS wallet status"})}}o(im,"_getKMSWalletStatus");async function am(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n,s,i,a,u]=t;if(!r||!n||!i||!a)throw new Error("userOrganizationId, publicKey, appId, and walletId are required");let l=await Yt(),h=await zd({kms:l,userOrganizationId:r,publicKey:n,expiresInMs:s,appId:i,walletId:a,usdCentsLimitPerDay:u});return c.result(e.id,h)}catch(t){return c.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to add user to current user organization"})}}o(am,"_addUserToCurrentUserOrganization");async function cm(e){try{if(!Pe())throw new Error("Wallet is locked - password not available");let r=await ge(),n=await(async()=>xe.getKMSInstance())(),s=null,i=null,a;try{let y=await n.getPhantomOrganization({});if(!y.result)return c.result(e.id,{orgFound:!1});s=y.result.organizationId,i=y.result.organizationName,a=Object.fromEntries((y.result.users??[]).map(S=>[S.username,S.authenticators]))}catch{return c.result(e.id,{orgFound:!1})}let l=(await n.getOrganizationWallets({organizationId:s,limit:50,offset:0})).result.wallets,h=new ke,x=await Rd(),g={};for(let y of l)try{let S=await n.getAccounts({organizationId:s,walletId:y.walletId,accounts:x});g[y.walletId]=S.result}catch{ee.addBreadcrumb(re.Account,`Failed to fetch KMS accounts for wallet ${y.walletId}`,_e.Debug),g[y.walletId]=[]}let w=await n.getAuthenticatorPublicKey();return c.result(e.id,{orgFound:!0,organizationId:s,organizationName:i??void 0,wallets:l,accountsByWalletId:g,selectedAccountIdentifier:r.identifier,selectedAccountAddresses:r.addresses?.map(y=>y.address),authenticatorsByUser:a,kmsAuthenticatorPublicKey:w})}catch(t){let r=t instanceof Error?t.message:"Failed to get KMS accounts";return c.error(e.id,{code:-1,message:r})}}o(cm,"_getKmsAccounts");async function dm(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n]=t,i=await(await Yt()).getWalletWithTag({organizationId:r,tag:n});return c.result(e.id,i)}catch(t){return c.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get wallet with tag"})}}o(dm,"_getWalletWithTag");async function pm(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n,s,i,a]=t,l=await(await Yt()).updateUserInOrganization({organizationId:r,username:n,removeTraits:s,addTraits:i,newPolicy:a});return c.result(e.id,l)}catch(t){return c.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to update user in organization"})}}o(pm,"_updateUserInOrganization");async function lm(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n,s]=t,a=await(await Yt()).getAccounts({organizationId:r,walletId:n,accounts:s});return c.result(e.id,a)}catch(t){return c.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get accounts"})}}o(lm,"_getAccounts");d();p();d();p();async function um(){if(!so("enable-kms-vault-account-ext")){ee.addBreadcrumb(re.Account,"KMS vault sync skipped: feature flag disabled",_e.Info);return}await Bd(xe)}o(um,"syncKMSVaultAccount");async function mm(e){try{let t=await Tr.hasPersistedDeviceEncryptionKey();return c.result(e.id,t)}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(mm,"_hasOnboarded");async function fm(e){try{return await Tr.deletePersistedDeviceEncryptionKey(),c.result(e.id,!0)}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(fm,"_resetHasOnboarded");var Ni=!1;function hm(e){Ni=e}o(hm,"setShouldLockOnPopupOpen");function Oi(){return Ni}o(Oi,"shouldLockOnPopupOpen");async function gm(e){try{let t=e.params;if(typeof t!="string")return c.invalidInput(e.id);let r=ot.from(Buffer.from(t));return await kr(r)?(Ni=!1,await Mp(),await Lp(),um().catch(s=>{ee.captureError(s,re.Account)}),c.result(e.id,{isUnlocked:!0,migrationResult:"no-migration"})):c.result(e.id,{isUnlocked:!1,migrationResult:"no-migration"})}catch(t){return c.internalError(e.id,t.message)}}o(gm,"_unlockExtension");function ym(e){try{let t=!!Pe();return c.result(e.id,t)}catch(t){return ee.captureError(t,re.Account),c.internalError(e.id,t.message)}}o(ym,"_isExtensionUnlocked");function xm(e){try{return Cn(),c.result(e.id,!0)}catch(t){return ee.captureError(Error(`Failed to lock extension due to ${t.message}`),re.Account),c.internalError(e.id,t.message)}}o(xm,"_lockExtension");async function wm(e){try{let t=e.params;return typeof t!="string"?c.invalidInput(e.id):(await xe.clearVault(),await Tr.deletePersistedDeviceEncryptionKey(),Bs(ot.from(Buffer.from(t))),await Tr.persistDeviceEncryptionKey(),c.result(e.id,!0))}catch(t){return ee.captureMessage(`\u{1F6AB} Failed to Set Passw*rd in BackgroundScript: ${t.message}`,re.Account),c.internalError(e.id,t.message)}}o(wm,"_setPassword");async function bm(e){try{let t=e.params;if(typeof t!="string")return c.invalidInput(e.id);let r=await kr(ot.from(Buffer.from(t)));return c.result(e.id,r)}catch(t){return ee.captureMessage(`\u{1F6AB} Failed to Verify Passw*rd in BackgroundScript: ${t.message}`,re.Account),c.internalError(e.id,t.message)}}o(bm,"_verifyPassword");async function Sm(e){try{let t=e.params;if(!Array.isArray(t))return c.invalidInput(e.id);let r=t[0];if(typeof r!="string")return c.invalidInput(e.id,"Missing current password.");let n=t[1];if(typeof n!="string")return c.invalidInput(e.id,"Missing new password.");if(!await kr(ot.from(Buffer.from(r))))return c.result(e.id,null);if(!Pe())return c.result(e.id,null);let a=ot.from(Buffer.from(n)),u=await Bp.rotateEncryptionKey(a);return u&&(ee.addBreadcrumb(re.Account,"new passw*rd set in memory!",_e.Info),Bs(a)),ee.addBreadcrumb(re.Account,`storage key rotation success: ${u}`,_e.Info),c.result(e.id,u)}catch(t){return ee.captureMessage(`\u{1F6AB} Failed to Update Passw*rd in BackgroundScript: ${t.message}`,re.Account),c.internalError(e.id,t.message)}}o(Sm,"_updatePassword");d();p();async function Am(e){try{let t=e.params;if(!Array.isArray(t))return c.invalidInput(e.id);let r=t[0];if(typeof r!="string")return c.invalidInput(e.id);let n=t[1];return n.featureTag?(An.write(r,n.featureTag,n.severity,n.data),c.result(e.id,!0)):c.invalidInput(e.id)}catch(t){return ee.captureError(t,re.BugReporter),c.internalError(e.id,t.message)}}o(Am,"_logMessage");function _m(e){try{return An.downloadLog({noop:!0}),c.result(e.id,!0)}catch(t){return ee.captureError(t,re.BugReporter),c.internalError(e.id,t.message)}}o(_m,"_downloadLogs");d();p();d();p();d();p();d();p();d();p();d();p();var vm=o(e=>{try{return new URL(e)}catch{return}},"parseURL");function V(e){let t=he(e);if(t)return t.protocol!=="http:"&&t.protocol!=="https:"?`${t.protocol}//${t.hostname}`:t.origin}o(V,"getSourceOrigin");var m1="8bfda36a-d292-4aa3-b30f-53ef91ab6380",f1="b4285baa-c852-490f-9af2-8459680b1264";function he(e){if(e.type==="BrowserTabRpcRequestSource"||e.type==="InternalRpcRequestSource")return e.url;if(e.type==="DeepLinkRpcRequestSource"){if(e.sdkKey===m1)return new URL("https://app.drift.trade");if(e.sdkKey===f1)return new URL("https://app.lulo.fi");let t=vm(e.deepLinkUrl)?.searchParams?.get("redirect_uri");if(t){let r=vm(t);if(r)return r.protocol!=="http:"&&r.protocol!=="https:"?new URL(`${r.protocol}//${r.hostname}`):r}return}}o(he,"getSourceURL");function Ae(e){if(e.type==="BrowserTabRpcRequestSource"||e.type==="InternalRpcRequestSource")return e.icon?.href||null;if(e.type==="DeepLinkRpcRequestSource"){let t=he(e);return t?yo(t.hostname):null}return null}o(Ae,"getSourceIcon");var h1=new Set(ed),pe=o(async({source:e,request:t})=>{if(!e)return c.unauthorized(t.id);if(e.type!=="BrowserTabRpcRequestSource"&&e.type!=="InternalRpcRequestSource"&&e.type!=="DeepLinkRpcRequestSource")return c.unauthorized(t.id);let r=he(e);if(!r)return c.unauthorized(t.id);if(e.type!=="DeepLinkRpcRequestSource"&&r.protocol!=="https:")return h1.has(r.hostname)?void 0:c.unauthorized(t.id)},"requireSecureSource");d();p();var ae=o(e=>async({source:t,request:r},{i18n:n})=>{if(!t)return c.unauthorized(r.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!==e)return c.unauthorized(r.id,n.t("rpcErrorUnauthorizedUnknownSource"))},"requireValidSourceType");d();p();var ur=o(async(e,{wallet:t})=>{let{request:r}=e,n="transactions"in r.params?r.params.transactions:[r.params.transaction],s=await Promise.all(n.map(i=>t.sol.addPriorityFee(i)));"transactions"in r.params?r.params.transactions=s:r.params.transaction=s[0]},"addPriorityFeeToSolanaTransaction");d();p();d();p();function mr(e){return/\blocalhost\b|(\d{1,3}\.){3}\d{1,3}/.test(e)}o(mr,"shouldSkipAnalytics");var zn=o(async({request:e,source:t},{analytics:r})=>t?t.type!=="BrowserTabRpcRequestSource"?c.internalError(e.id,"missing source"):async n=>{let{method:s}=e,i=t.url.hostname;if(mr(i))return;let a={method:s,chainType:"bip122",chainId:"000000000019d6689c085ae165831e93",origin:i};if(s==="btc_requestAccounts"){let u={...a};"error"in n?r.declineConnection({...u,errorCode:n.error.code}):r.approveConnection({...u,eager:!1})}if(s==="btc_signPSBT"){let u={...a};"error"in n?r.declineTransaction({...u,errorCode:n.error.code}):r.approveTransaction(u)}if(s==="btc_signMessage"){let u={...a};"error"in n?r.declineSignMessage({...u,errorCode:n.error.code}):r.approveSignMessage(u)}}:c.internalError(e.id,"missing source"),"btcAnalytics");d();p();var Ke=o(async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return c.internalError(e.id,"missing source");let i=he(t);return i?async a=>{if("error"in a)return;let u=i.toString();switch(e.method){case"eth_blink_sendTransaction":{let l=a.result,h=s.getOrigin(e.params[1].context.blinkUrl);return h?r.eth.submittedTransaction({origin:h,request:{...e,method:"eth_sendTransaction",params:[e.params[0]]},signatures:[l]}):void 0}case"eth_sendTransaction":{let l=a.result,h=await n.eth.getSelectedAccount();return r.eth.submittedTransaction({origin:u,request:e,signatures:[l],walletAddress:h})}case"eth_blink_sign":{let l=s.getOrigin(e.params[2].context.blinkUrl);return l?r.eth.signedMessage({origin:l,request:{...e,method:"eth_sign",params:[e.params[0],e.params[1]]},chainId:await n.eth.getNetworkId(l)}):void 0}case"eth_sign":case"personal_sign":case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":{let l=await n.eth.getSelectedAccount();return r.eth.signedMessage({origin:u,request:e,chainId:await n.eth.getNetworkId(u),walletAddress:l})}case"sol_signAllTransactions":{let l=a.result.map(({signature:A})=>A),h=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:u,request:e,chainId:await n.sol.getNetworkId(),signatures:l,walletAddress:h})}case"sol_signAndSendTransaction":{let l=a.result.signature,h=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:u,request:e,chainId:await n.sol.getNetworkId(),signatures:[l],walletAddress:h})}case"sol_blink_signAndSendAllTransactions":{let l=a.result.signatures.filter(Boolean),h=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:u,request:{...e,method:"sol_signAllTransactions",params:{transactions:e.params.transactions}},chainId:await n.sol.getNetworkId(),signatures:l,walletAddress:h})}case"sol_signAndSendAllTransactions":{let l=a.result.signatures.filter(Boolean),h=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:u,request:e,chainId:await n.sol.getNetworkId(),signatures:l,walletAddress:h})}case"sol_signTransaction":{let l=a.result.signature,h=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:u,request:e,chainId:await n.sol.getNetworkId(),signatures:[l],walletAddress:h})}case"sol_signIn":case"sol_signMessage":{let l=await n.sol.getSelectedAccount();return r.sol.signedMessage({origin:u,request:e,chainId:await n.sol.getNetworkId(),walletAddress:l})}case"sol_blink_signMessage":{let l=s.getOrigin(e.params.context.blinkUrl);if(!l)return;let h=await n.sol.getSelectedAccount();return r.sol.signedMessage({origin:l,request:{...e,method:"sol_signMessage",params:{message:e.params.message,display:e.params.display}},chainId:await n.sol.getNetworkId(),walletAddress:h})}}}:c.internalError(e.id,"missing source")},"captureSignatureEventAnalytics");d();p();var jn=o(async(e,{wallet:t,rpc:r,utils:n})=>{let{request:s,source:i}=e;if(!i)return c.internalError(s.id,"missing source");let a=V(i);if(!a)return c.unauthorized(s.id);let u=await t.eth.getSelectedAccount(),[l]=s.params,h=l.chainId?l.chainId:await t.eth.getNetworkId(a),A=await t.eth.getRpcURL(h);if(l.type=Ur.eip1559,l.chainId||(l.chainId=h),l.nonce||(l.nonce=await t.eth.getAccountNonce(h,u)),!l.gas){let x=await r.eth.eth_estimateGas(A,[l]);if("error"in x)return c.error(s.id,x.error);l.gas=n.eth.getBufferedGasLimit(x.result)}delete l.gasPrice},"convertToEIP1559");d();p();var K=o(async(e,{config:t,logger:r})=>{if(t.env==="production")return;let n=Date.now();return s=>{if(e.source?.type!=="BrowserTabRpcRequestSource"&&e.source?.type!=="InternalRpcRequestSource"&&e.source?.type!=="DeepLinkRpcRequestSource"||!("error"in s&&t.logRequestsOnError||(typeof t.logRequestMethods=="boolean"?t.logRequestMethods:t.logRequestMethods.has(e.request.method))))return;let u=Date.now(),l=he(e.source),h=Ae(e.source);r.debug(`
*-------------------------------------------------------------------------------
| method   | ${e.request.method}
| id       | ${e.request.id}
| params   | ${JSON.stringify(e.request.params).substring(0,67)}
*----------+--------------------------------------------------------------------
| result   | ${JSON.stringify(s.result)}
| error    | ${JSON.stringify(s.error)}
*----------+--------------------------------------------------------------------
| url      | ${JSON.stringify(l)}
| icon     | ${JSON.stringify(h)}
*----------+--------------------------------------------------------------------
| duration | ${u-n}ms
*-------------------------------------------------------------------------------
`)}},"debugLog");d();p();var we=o(async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return c.internalError(e.id,"missing source");let i=he(t),a=V(t);return!i||!a?c.internalError(e.id):async u=>{let{method:l}=e;if(mr(i.hostname))return;let h=await n.eth.getNetworkId(a),A=s.eth.hexToCAIP2(h),g={method:l,chainType:"eip155",chainId:A,origin:i.hostname};if(l==="eth_requestAccounts"){let w={...g};"error"in u?r.declineConnection({...w,errorCode:u.error.code}):r.approveConnection({...w,eager:!1})}if(l==="eth_sendTransaction"){let[w]=e.params,y={...g,gas:w.gas,maxFeePerGas:w.maxFeePerGas,maxPriorityFeePerGas:w.maxPriorityFeePerGas};"error"in u?r.declineTransaction({...y,errorCode:u.error.code}):r.approveTransaction(y)}if(l==="eth_sign"||l==="personal_sign"||l==="eth_signTypedData"||l==="eth_signTypedData_v3"||l==="eth_signTypedData_v4"){let w={...g};"error"in u?r.declineSignMessage({...w,errorCode:u.error.code}):r.approveSignMessage(w)}if(l==="wallet_selectEthereumProvider"&&!("error"in u)){let w=u.result,y={...g,selection:w};r.metamaskOverrideSelection(y)}}},"ethAnalytics");d();p();var He=o(e=>async({source:t,request:r},{wallet:n,logger:s})=>{if(!t)return c.unauthorized(r.id);if(t.type==="InternalRpcRequestSource")return;if(t.type!==e)return c.unauthorized(r.id);let i=V(t);if(!i)return c.unauthorized(r.id);if(!await n.isTrustedApp(i))return s.debug("> Dapp not trusted",i),c.unauthorized(r.id)},"requireAuthorizedSource");d();p();var fr=o(async({source:e,request:t},{wallet:r,analytics:n})=>{if(!e)return c.unauthorized(t.id);let s=he(e),i=V(e),a=Ae(e);if(!s||!i)return c.unauthorized(t.id);let u;switch(t.method){case"eth_sendTransaction":{let[w]=t.params;if(!w.chainId)return c.transactionRejected(t.id);u=w.chainId;break}case"eth_signTypedData":{let[w]=t.params,y="";for(let S of w)if(S.name==="chainId"){y=S.value;break}if(!y)return;u="0x"+parseInt(y,10).toString(16);break}case"eth_signTypedData_v3":{let[w,y]=t.params;if(!y.domain.chainId)return;u="0x"+y.domain.chainId.toString(16);break}case"eth_signTypedData_v4":{let[w,y]=t.params;if(typeof y.domain.chainId=="number")u="0x"+y.domain.chainId.toString(16);else return;break}case"wallet_switchEthereumChain":case"wallet_addEthereumChain":{let[w]=t.params;u=w.chainId;break}}let l={url:s.toString(),icon:a};if(!new Set(r.eth.getSupportedNetworks()).has(u))return n.eth.unsupportedChain({origin:i,data:{method:t.method,hexChainId:u}}),await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedNetwork",id:0,params:[l,u]}),c.chainDisconnected(t.id);let A=new Set(await r.eth.getEnabledChains(!0)),x=new Set(await r.eth.getEnabledChains());if(!A.has(u))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmDisabledNetwork",id:0,params:[l,u]}),c.chainDisconnected(t.id);if(!x.has(u))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:0,params:[l,x.has("0x1")?"mainnet":"testnet"]}),c.chainDisconnected(t.id);if(["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t.method)){let w=await r.eth.getNetworkId(i);if(w!==u)return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmEIP712IncorrectChainId",id:0,params:[l,{connectedChainId:w,messageChainId:u}]}),c.chainDisconnected(t.id)}},"requireConnectedChain");d();p();var Di=o(async({source:e,request:t},{wallet:r,analytics:n,utils:s})=>{if(!e)return c.unauthorized(t.id);if(e.type!=="BrowserTabRpcRequestSource")return c.unauthorized(t.id);let i="";if(t.method==="eth_blink_sendTransaction"){let[S]=t.params;if(!S.chainId)return c.transactionRejected(t.id);i=S.chainId}let[a,{context:u}]=t.params,l=s.getOrigin(u.blinkUrl);if(!u.blinkUrl||!l)return c.userRejectedRequest(t.id);let h=s.getHostname(u.blinkUrl),A={url:u.blinkUrl,icon:h?s.getFaviconURL(h):null};if(!new Set(r.eth.getSupportedNetworks()).has(i))return n.eth.unsupportedChain({origin:e.url.origin,data:{method:t.method,hexChainId:i}}),await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedNetwork",id:0,params:[A,i]}),c.chainDisconnected(t.id);let g=new Set(await r.eth.getEnabledChains(!0)),w=new Set(await r.eth.getEnabledChains());if(!g.has(i))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmDisabledNetwork",id:0,params:[A,i]}),c.chainDisconnected(t.id);if(!w.has(i))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:0,params:[A,w.has("0x1")?"mainnet":"testnet"]}),c.chainDisconnected(t.id);if(["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t.method)){let S=await r.eth.getNetworkId(e.url.origin);if(S!==i)return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmEIP712IncorrectChainId",id:0,params:[A,{connectedChainId:S,messageChainId:i}]}),c.chainDisconnected(t.id)}},"requireBlinksConnectedChain");d();p();var Pi=o(async(e,{wallet:t,i18n:r})=>{let{request:n,source:s}=e;try{if(!s)return ee.addBreadcrumb(re.Provider,"eth_requestAccounts: requireEthereumAccount middleware started - missing source",_e.Error,{requestId:n.id}),c.unauthorized(n.id,r.t("rpcErrorUnauthorizedUnknownSource"));if(s.type!=="BrowserTabRpcRequestSource")return ee.addBreadcrumb(re.Provider,"eth_requestAccounts: requireEthereumAccount middleware started - invalid source type",_e.Error,{sourceType:s.type,requestId:n.id}),c.unauthorized(n.id,r.t("rpcErrorUnauthorizedUnknownSource"));ee.addBreadcrumb(re.Provider,"eth_requestAccounts: requireEthereumAccount middleware started",_e.Info,{origin:s.url.origin,requestId:n.id});let i={url:s.url.toString(),icon:s.icon?.href??null};if(ee.addBreadcrumb(re.Provider,"eth_requestAccounts: checking if account supports ETH",_e.Info,{origin:s.url.origin,requestId:n.id}),await t.eth.doesSupportEth()){ee.addBreadcrumb(re.Provider,"eth_requestAccounts: account supports ETH, continuing",_e.Info,{origin:s.url.origin,requestId:n.id});return}return ee.addBreadcrumb(re.Provider,"eth_requestAccounts: account does not support ETH, requesting user confirmation",_e.Info,{origin:s.url.origin,requestId:n.id}),await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedAccount",params:[i,"ethereum"],id:de()}),c.resourceUnavailable(n.id)}catch(i){let a=s&&s.type==="BrowserTabRpcRequestSource"?s.url.origin:"unknown";throw ee.captureError(i instanceof Error?i:new Error(String(i)),re.Provider),ee.addBreadcrumb(re.Provider,"eth_requestAccounts: requireEthereumAccount middleware error",_e.Error,{origin:a,requestId:n.id,error:i instanceof Error?i.message:String(i)}),i}},"requireEthereumAccount");d();p();var Fi=o(async(e,{wallet:t,i18n:r,utils:n})=>{let{request:s,source:i}=e;if(!i)return c.unauthorized(s.id,r.t("rpcErrorUnauthorizedUnknownSource"));if(i.type!=="BrowserTabRpcRequestSource")return c.unauthorized(s.id,r.t("rpcErrorUnauthorizedUnknownSource"));let a=s.params.context,u=n.getOrigin(a.blinkUrl);if(!a.blinkUrl||!u)return c.userRejectedRequest(s.id);let l=n.getHostname(a.blinkUrl),h={url:a.blinkUrl,icon:l?n.getFaviconURL(l):null};if(!await t.eth.doesSupportEth())return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedAccount",params:[h,"ethereum"],id:de()}),c.resourceUnavailable(s.id)},"requireEthereumBlinkAccount");d();p();var Im=ce(pn(),1);var Hi=o(async({request:e})=>{let t=Im.default.decode(e.params.message);if(!Yc(t))return c.invalidInput(e.id,"You cannot sign solana transactions using sign message")},"requireSafeSolanaMessage");d();p();var $i=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return c.userRejectedRequest(r.id);if(n.type!=="BrowserTabRpcRequestSource")return c.userRejectedRequest(r.id);if(await t.isTrustedApp(n.url.origin))return;let i=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcRequestAccounts",id:de(),params:[{url:n.url.toString(),icon:n.icon?.href??null}]});if("error"in i)return c.error(r.id,i.error)},"requireUserApprovalBtcRequestAccounts");d();p();var Vi=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcSignMessage",id:de(),params:[{url:t.url.toString(),icon:t.icon?.href??null},{message:e.params.message}]});if("error"in s)return c.error(e.id,s.error);switch(s.result.type){case"send":return c.result(e.id,{signature:s.result.signature,signedMessage:s.result.signedMessage});case"signAndSend":return}},"requireUserApprovalBtcSignMessage");d();p();var zi=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcSignPSBT",id:de(),params:[{url:t.url.toString(),icon:t.icon?.href??null},{psbt:e.params[0],inputsToSign:e.params[1].inputsToSign,finalize:e.params[1].finalize}]});if("error"in s)return c.error(e.id,s.error);switch(s.result.type){case"send":return c.result(e.id,s.result.signature);case"signAndSend":return}},"requireUserApprovalBtcSignPSBT");d();p();var ji=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;try{if(!n)return ee.addBreadcrumb(re.Provider,"eth_requestAccounts: requireUserApprovalEthRequestAccounts middleware started - missing source",_e.Error,{requestId:r.id}),c.userRejectedRequest(r.id);if(n.type!=="BrowserTabRpcRequestSource")return ee.addBreadcrumb(re.Provider,"eth_requestAccounts: requireUserApprovalEthRequestAccounts middleware started - invalid source type",_e.Error,{sourceType:n.type,requestId:r.id}),c.userRejectedRequest(r.id);if(ee.addBreadcrumb(re.Provider,"eth_requestAccounts: requireUserApprovalEthRequestAccounts middleware started",_e.Info,{origin:n.url.origin,requestId:r.id}),ee.addBreadcrumb(re.Provider,"eth_requestAccounts: checking if app is trusted",_e.Info,{origin:n.url.origin,requestId:r.id}),await t.isTrustedApp(n.url.origin)){ee.addBreadcrumb(re.Provider,"eth_requestAccounts: app is trusted, skipping approval",_e.Info,{origin:n.url.origin,requestId:r.id});return}ee.addBreadcrumb(re.Provider,"eth_requestAccounts: app not trusted, requesting user approval",_e.Info,{origin:n.url.origin,requestId:r.id});let i=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthRequestAccounts",id:de(),params:[{url:n.url.toString(),icon:n.icon?.href??null}]});if("error"in i)return ee.addBreadcrumb(re.Provider,"eth_requestAccounts: user approval rejected or error",_e.Info,{origin:n.url.origin,requestId:r.id,errorCode:i.error.code,errorMessage:i.error.message}),c.error(r.id,i.error);ee.addBreadcrumb(re.Provider,"eth_requestAccounts: user approval granted",_e.Info,{origin:n.url.origin,requestId:r.id})}catch(s){let i=n&&n.type==="BrowserTabRpcRequestSource"?n.url.origin:"unknown";throw ee.captureError(s instanceof Error?s:new Error(String(s)),re.Provider),ee.addBreadcrumb(re.Provider,"eth_requestAccounts: requireUserApprovalEthRequestAccounts middleware error",_e.Error,{origin:i,requestId:r.id,error:s instanceof Error?s.message:String(s)}),s}},"requireUserApprovalEthRequestAccounts");d();p();var qi=o(async(e,{wallet:t,utils:r})=>{let{request:n,source:s}=e;if(!s)return c.userRejectedRequest(n.id);if(s.type!=="BrowserTabRpcRequestSource")return c.userRejectedRequest(n.id);let i=n.params.context,a=r.getOrigin(i.blinkUrl);if(!i.blinkUrl||!a)return c.userRejectedRequest(n.id);if(await t.isTrustedApp(a))return;let l=r.getHostname(i.blinkUrl),h=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthRequestAccounts",id:de(),params:[{url:i.blinkUrl,icon:l?r.getFaviconURL(l):null}]});if("error"in h)return c.error(n.id,h.error)},"requireUserApprovalEthBlinkRequestAccounts");d();p();var Ki=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return c.userRejectedRequest(r.id);let s=V(n),i=he(n),a=Ae(n);if(!s||!i)return c.unauthorized(r.id);if(await t.isTrustedApp(s))return;let l=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveWalletRequestPermissions",id:de(),params:[{url:i.toString(),icon:a}]});if("error"in l)return c.error(r.id,l.error)},"requireUserApprovalWalletRequestPermissions");d();p();d();p();var nt=o(e=>[ye.OK,ye.RateLimitExceeded,ye.SessionExpired,ye.SimulationFailed,ye.Unknown,ye.UnsupportedNetworkId,ye.UnsupportedMethod].includes(e),"isAutoConfirmStatusCodeLoggable");var Gi=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=V(t),a=he(t),u=Ae(t);if(!i||!a)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let[l]=e.params;if(await r.eth.getSelectedAccount()!==l.from.toLowerCase())return c.transactionRejected(e.id);let A=await r.eth.autoConfirmValidateTransaction(a,[l]),x=A.status===ye.OK;if(nt(A.status)){let y=await r.eth.getSelectedAccount();await s.eth.autoConfirmedTransaction({request:e,chainId:await r.eth.getNetworkId(i),origin:i,data:{sessionStartTime:A.sessionStartTime,sessionMaxDuration:A.sessionMaxDuration,lastStatusCode:A.status,dollarValue:A.dollarValue,auditTrail:A.auditTrail},walletAddress:y})}if(x)return;let g={url:a.toString(),icon:u},w=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSendTransaction",id:de(),params:[g,{transaction:l,autoConfirmStatusCode:A.status}]});if("error"in w)return c.error(e.id,w.error);switch(w.result.maxFeePerGas&&(l.maxFeePerGas=w.result.maxFeePerGas),w.result.maxPriorityFeePerGas&&(l.maxPriorityFeePerGas=w.result.maxPriorityFeePerGas),w.result.type){case"send":{let y=await r.eth.sendTransaction(l,w.result.signature);return c.any(e.id,{result:y})}case"signAndSend":return}},"requireUserApprovalEthSendTransaction");d();p();var Wi=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let[i,{context:a}]=e.params;if(await r.eth.getSelectedAccount()!==i.from.toLowerCase())return c.transactionRejected(e.id);let l=s.getOrigin(a.blinkUrl);if(!a.blinkUrl||!l)return c.userRejectedRequest(e.id);let h=s.getHostname(a.blinkUrl),A={url:a.blinkUrl,icon:h?s.getFaviconURL(h):null},x=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSendTransaction",id:de(),params:[A,{transaction:i,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in x)return c.error(e.id,x.error);switch(x.result.maxFeePerGas&&(i.maxFeePerGas=x.result.maxFeePerGas),x.result.maxPriorityFeePerGas&&(i.maxPriorityFeePerGas=x.result.maxPriorityFeePerGas),x.result.type){case"send":{let g=await r.eth.sendTransaction(i,x.result.signature);return c.any(e.id,{result:g})}case"signAndSend":return}},"requireUserApprovalEthBlinkSendTransaction");d();p();var Zi=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=V(t),i=he(t),a=Ae(t);if(!s||!i)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.eth.getSelectedAccount(),l=await r.eth.getNetworkId(s),[h,A]=e.params;if(u!==h.toLowerCase())return c.unauthorized(e.id);let x={url:i.toString(),icon:a},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[x,{signer:h,message:A,originalMethod:"eth_sign",chainId:l,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in g)return c.error(e.id,g.error);switch(g.result.approvalType){case"hardware":return c.result(e.id,g.result.signature);case"user":return}},"requireUserApprovalEthSign");d();p();var Yi=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=await r.eth.getSelectedAccount(),a=await r.eth.getNetworkId(t.url.origin),[u,l,{context:h}]=e.params;if(i!==u.toLowerCase())return c.unauthorized(e.id);let A=s.getOrigin(h.blinkUrl);if(!h.blinkUrl||!A)return c.userRejectedRequest(e.id);let x=s.getHostname(h.blinkUrl),g={url:h.blinkUrl,icon:x?s.getFaviconURL(x):null},w=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[g,{signer:u,message:l,originalMethod:"eth_sign",chainId:a,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in w)return c.error(e.id,w.error);switch(w.result.approvalType){case"hardware":return c.result(e.id,w.result.signature);case"user":return}},"requireUserApprovalEthBlinkSign");d();p();var Xi=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=V(t),i=he(t),a=Ae(t);if(!s||!i)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.eth.getSelectedAccount(),l=await r.eth.getNetworkId(s),[h,A]=e.params;if(u!==A.toLowerCase())return c.unauthorized(e.id);let x="0x"+Buffer.from(JSON.stringify(h)).toString("hex"),g={url:i.toString(),icon:a},w=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[g,{signer:A,message:x,originalMethod:"eth_signTypedData",chainId:l,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in w)return c.error(e.id,w.error)},"requireUserApprovalEthSignTypedData");d();p();var Ji=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=V(t),a=he(t),u=Ae(t);if(!i||!a)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),h=await r.eth.getNetworkId(i),[A,x]=e.params;if(l!==A.toLowerCase())return c.unauthorized(e.id);let g=await r.eth.autoConfirmValidateMessage(a,x),w=g.status===ye.OK;if(nt(g.status)){let _=await r.eth.getSelectedAccount();await s.eth.autoConfirmedMessage({request:e,chainId:await r.eth.getNetworkId(i),origin:i,data:{sessionStartTime:g.sessionStartTime,sessionMaxDuration:g.sessionMaxDuration,lastStatusCode:g.status,auditTrail:g.auditTrail},walletAddress:_})}if(w)return;let y={url:a.toString(),icon:u},S=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[y,{signer:A,message:"0x"+Buffer.from(JSON.stringify(x)).toString("hex"),originalMethod:"eth_signTypedData_v3",chainId:h,autoConfirmStatusCode:g.status}]});if("error"in S)return c.error(e.id,S.error)},"requireUserApprovalEthSignTypedDataV3");d();p();var Qi=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=V(t),a=he(t),u=Ae(t);if(!i||!a)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),h=await r.eth.getNetworkId(i),[A,x]=e.params;if(l!==A.toLowerCase())return c.unauthorized(e.id);let g=await r.eth.autoConfirmValidateMessage(a,x),w=g.status===ye.OK;if(nt(g.status)){let _=await r.eth.getSelectedAccount();await s.eth.autoConfirmedMessage({request:e,chainId:await r.eth.getNetworkId(i),origin:i,data:{sessionStartTime:g.sessionStartTime,sessionMaxDuration:g.sessionMaxDuration,lastStatusCode:g.status,auditTrail:g.auditTrail},walletAddress:_})}if(w)return;let y={url:a.toString(),icon:u},S=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[y,{signer:A,message:"0x"+Buffer.from(JSON.stringify(x)).toString("hex"),originalMethod:"eth_signTypedData_v4",chainId:h,autoConfirmStatusCode:g.status}]});if("error"in S)return c.error(e.id,S.error)},"requireUserApprovalEthSignTypedDataV4");d();p();var ea=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=V(t),i=he(t),a=Ae(t);if(!s||!i)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.eth.getSelectedAccount(),l=await r.eth.getNetworkId(s),[h,A]=e.params;if(u!==A.toLowerCase())return c.unauthorized(e.id);let x={url:i.toString(),icon:a},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:de(),params:[x,{signer:A,message:h,originalMethod:"personal_sign",chainId:l,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in g)return c.error(e.id,g.error);switch(g.result.approvalType){case"hardware":return c.result(e.id,g.result.signature);case"user":return}},"requireUserApprovalPersonalSign");d();p();var ta=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return c.userRejectedRequest(r.id);let s=V(n),i=he(n),a=Ae(n);if(!s||!i)return c.unauthorized(r.id);if(await t.isTrustedApp(s))return;if(r.params?.onlyIfTrusted===!0)return c.userRejectedRequest(r.id);let l=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:de(),params:[{url:i.toString(),icon:a}]});if("error"in l)return c.error(r.id,l.error)},"requireUserApprovalSolConnect");d();p();var ra=o(async({request:e,source:t},{wallet:r,utils:n})=>{if(!t)return c.unauthorized(e.id);if(t.type!=="BrowserTabRpcRequestSource")return c.unauthorized(e.id);let s=e.params.context,i=n.getOrigin(s.blinkUrl);if(!s.blinkUrl||!i)return c.userRejectedRequest(e.id);if(await r.isTrustedApp(i))return;let u=n.getHostname(s.blinkUrl),l=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:de(),params:[{url:s.blinkUrl,icon:u?n.getFaviconURL(u):null}]});if("error"in l)return c.error(e.id,l.error)},"requireUserApprovalSolBlinkConnect");d();p();var na=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=V(t),a=he(t),u=Ae(t);if(!i||!a)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.sol.autoConfirmValidateTransaction(a,e.params.transactions),h=l.status===ye.OK;if(nt(l.status)){let g=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:l.sessionStartTime,sessionMaxDuration:l.sessionMaxDuration,lastStatusCode:l.status,dollarValue:l.dollarValue,auditTrail:l.auditTrail},walletAddress:g})}if(h)return;let A={url:a.toString(),icon:u},x=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:de(),params:[A,{transactions:e.params.transactions,autoConfirmStatusCode:l.status}]});if("error"in x)return c.error(e.id,x.error);switch(x.result.type){case"send":return c.result(e.id,x.result.result.map(g=>({transaction:g.signedTransaction,signature:g.signature,version:g.version})));case"signAndSend":{let g=x.result.overwriteTransactions;g&&(e.params.transactions=g);return}}},"requireUserApprovalSolSignAllTransactions");d();p();var oa=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=V(t),a=he(t),u=Ae(t);if(!i||!a)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.sol.autoConfirmValidateTransaction(a,e.params.transactions),h=l.status===ye.OK;if(nt(l.status)){let g=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:l.sessionStartTime,sessionMaxDuration:l.sessionMaxDuration,lastStatusCode:l.status,dollarValue:l.dollarValue,auditTrail:l.auditTrail},walletAddress:g})}if(h)return;let A={url:a.toString(),icon:u},x=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:de(),params:[A,{transactions:e.params.transactions,autoConfirmStatusCode:l.status}]});if("error"in x)return c.error(e.id,x.error);switch(x.result.type){case"send":{let g=await r.sol.getSelectedAccount();for(let[y,S]of x.result.result.entries())e.params.transactions[y]=S.signedTransaction;let w=await r.sol.sendAllTransactions(e.params.transactions);return c.result(e.id,{publicKey:g,signatures:w})}case"signAndSend":{let g=x.result.overwriteTransactions;g&&(e.params.transactions=g);return}}},"requireUserApprovalSolSignAndSendAllTransactions");d();p();var sa=o(async({request:e,source:t,id:r},{wallet:n,utils:s})=>{if(!t)return c.unauthorized(e.id);if(t.type!=="BrowserTabRpcRequestSource")return c.unauthorized(e.id);let i=s.getHostname(e.params.context.blinkUrl),a={url:e.params.context.blinkUrl,icon:i?s.getFaviconURL(i):null},u=await n.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:de(),params:[a,{transactions:e.params.transactions,autoConfirmStatusCode:ye.UnsupportedMethod,sequenceId:r}]});if("error"in u)return c.error(e.id,u.error);switch(u.result.type){case"send":{let l=await n.sol.getSelectedAccount();for(let[A,x]of u.result.result.entries())e.params.transactions[A]=x.signedTransaction;let h=await n.sol.sendAllTransactions(e.params.transactions);return c.result(e.id,{publicKey:l,signatures:h})}case"signAndSend":return}},"requireUserApprovalSolBlinkSignAndSendAllTransactions");d();p();var ia=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=V(t),a=he(t),u=Ae(t);if(!i||!a)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.sol.autoConfirmValidateTransaction(a,[e.params.transaction]),h=l.status===ye.OK;if(nt(l.status)){let g=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:l.sessionStartTime,sessionMaxDuration:l.sessionMaxDuration,lastStatusCode:l.status,dollarValue:l.dollarValue,auditTrail:l.auditTrail},walletAddress:g})}if(h)return;let A={url:a.toString(),icon:u},x=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendTransaction",id:de(),params:[A,{transaction:e.params.transaction,autoConfirmStatusCode:l.status}]});if("error"in x)return c.error(e.id,x.error);switch(x.result.type){case"send":{let g=await r.sol.getSelectedAccount();return await r.sol.sendTransaction(x.result.signedTransaction,e.params.options),c.result(e.id,{publicKey:g,signature:x.result.signature})}case"signAndSend":{let g=x.result.overwriteTransactions;g&&(e.params.transaction=g[0]),x.result.isSharingEligible&&(e.params.isSharingEligible=!0);return}}},"requireUserApprovalSolSignAndSendTransaction");d();p();var aa=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=V(t),a=he(t);if(!i||!a)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.sol.autoConfirmValidateMessage(a,e.params.message),l=u.status===ye.OK;if(nt(u.status)){let x=await r.sol.getSelectedAccount();await s.sol.autoConfirmedMessage({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:u.sessionStartTime,sessionMaxDuration:u.sessionMaxDuration,lastStatusCode:u.status,auditTrail:u.auditTrail},walletAddress:x})}if(l)return;let h=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:de(),params:[{url:a.toString(),icon:Ae(t)},{...e.params,autoConfirmStatusCode:u.status}]});if("error"in h)return c.error(e.id,h.error);let A=await r.sol.getSelectedAccount();switch(h.result.type){case"send":return c.result(e.id,{signature:h.result.signature,publicKey:A});case"signAndSend":return}},"requireUserApprovalSolSignMessage");d();p();var ca=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=s.getHostname(e.params.context.blinkUrl),a={url:e.params.context.blinkUrl,icon:i?s.getFaviconURL(i):null},u=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:de(),params:[a,{...e.params,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in u)return c.error(e.id,u.error)},"requireUserApprovalSolBlinkSolSignMessage");d();p();var da=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=V(t),a=he(t),u=Ae(t);if(!i||!a)return c.unauthorized(e.id);let l=await r.sol.autoConfirmValidateTransaction(a,[e.params.transaction]),h=l.status===ye.OK;if(nt(l.status)){let g=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:l.sessionStartTime,sessionMaxDuration:l.sessionMaxDuration,lastStatusCode:l.status,dollarValue:l.dollarValue,auditTrail:l.auditTrail},walletAddress:g})}if(h)return;let A={url:a.toString(),icon:u},x=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignTransaction",id:de(),params:[A,{transaction:e.params.transaction,autoConfirmStatusCode:l.status}]});if("error"in x)return c.error(e.id,x.error);switch(x.result.type){case"send":return c.result(e.id,{transaction:x.result.signedTransaction,signature:x.result.signature,version:x.result.version});case"signAndSend":{let g=x.result.overwriteTransactions;g&&(e.params.transaction=g[0]),x.result.isSharingEligible&&(e.params.isSharingEligible=!0),x.result.transactionSharingDelayMs&&(e.params.transactionSharingDelayMs=x.result.transactionSharingDelayMs);return}}},"requireUserApprovalSolSignTransaction");d();p();var pt=o(async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return c.internalError(e.id,"missing source");let i=he(t);if(!i)return c.internalError(e.id,"missing source");let a=i.hostname;return async u=>{let{method:l}=e;if(mr(a))return;let h=await n.sol.getNetworkId();if(h==="localnet")return;let A=s.sol.chainIdToCAIP2(h),g={method:l,chainType:"solana",chainId:A,origin:a};if("error"in u&&(g.errorCode=u.error.code),l==="sol_connect"){if(e.params?.eager){"errorCode"in g||r.approveConnection({...g,eager:!0});return}w1(g,r)}(l==="sol_signTransaction"||l==="sol_signAndSendTransaction"||l==="sol_signAndSendAllTransactions"||l==="sol_signAllTransactions")&&b1(g,r),(l==="sol_signMessage"||l==="sol_signIn")&&S1(g,r)}},"solAnalytics"),w1=o((e,t)=>{"errorCode"in e?t.declineConnection(e):t.approveConnection({...e,eager:!1})},"emitSolConnectAnalytics"),b1=o((e,t)=>{"errorCode"in e?t.declineTransaction(e):t.approveTransaction(e)},"emitSolTransactionAnalytics"),S1=o((e,t)=>{"errorCode"in e?t.declineSignMessage(e):t.approveSignMessage(e)},"emitSolMessageAnalytics");d();p();var lt=o(async({request:e},{analytics:t,wallet:r,utils:n})=>async s=>{let{method:i}=e,a=e.params&&typeof e.params=="object"&&"redirect_link"in e.params&&typeof e.params.redirect_link=="string"?e.params.redirect_link:"missing redirect_link from deep link";t.deepLinkDetected({method:i,params:JSON.stringify(e.params)});let u=await r.sol.getNetworkId();if(u==="localnet")return;let l=n.sol.chainIdToCAIP2(u),A={method:i,chainType:"solana",chainId:l,origin:a};if(i==="phantom_deep_link_connect"){let x={...A};"error"in s?t.declineConnection({...x,errorCode:s.error.code}):t.approveConnection({...x,eager:!1})}if(i==="phantom_deep_link_signTransaction"||i==="phantom_deep_link_signAllTransactions"||i==="phantom_deep_link_signAndSendTransaction"){let x={...A};"error"in s?t.declineTransaction({...x,errorCode:s.error.code}):t.approveTransaction(x)}if(i==="phantom_deep_link_signMessage"){let x={...A};"error"in s?t.declineSignMessage({...x,errorCode:s.error.code}):t.approveSignMessage(x)}},"phantomDeepLinkAnalytics");d();p();function pa(e){return!!("result"in e&&typeof e.result=="object"&&e.result&&"type"in e.result&&e.result?.type&&typeof e.result.type=="string"&&e.result.type.toUpperCase().endsWith("_DECLINE"))}o(pa,"isDeclineResponse");var ln=o(async({request:e},{analytics:t,wallet:r,utils:n})=>async s=>{let{method:i}=e,a="no identity or verifiable identity found on solana mobile wallet adapter request";if(e.params&&typeof e.params=="object"&&"identity"in e.params){let x=Gc.safeParse(e.params.identity);x.success&&(a=x.data.identityUri??a)}else if(e.params&&typeof e.params=="object"&&"signPayloads"in e.params){let x=Wc.safeParse(e.params.signPayloads);x.success&&(a=x.data.verifiableIdentity.identity.identityUri??a)}let u=await r.sol.getNetworkId();if(u==="localnet")return;let l=n.sol.chainIdToCAIP2(u),A={method:i,chainType:"solana",chainId:l,origin:a};if(i==="sol_mwa_authorize"){let x={...A};"error"in s?t.declineConnection({...x,errorCode:s.error.code}):pa(s)?t.declineConnection({...x,errorCode:s.result.type}):t.approveConnection({...x,eager:!1})}if(i==="sol_mwa_sign_transactions"||i==="sol_mwa_sign_and_send_transactions"){let x={...A};"error"in s?t.declineTransaction({...x,errorCode:s.error.code}):pa(s)?t.declineTransaction({...x,errorCode:s.result.type}):t.approveTransaction(x)}if(i==="sol_mwa_sign_messages"){let x={...A};"error"in s?t.declineSignMessage({...x,errorCode:s.error.code}):pa(s)?t.declineSignMessage({...x,errorCode:s.result.type}):t.approveSignMessage(x)}},"solMwaAnalytics");d();p();var Xt=o(async({source:e,request:t},r)=>{if(!e||e.type!=="BrowserTabRpcRequestSource"||!["x.com","twitter.com","pro.x.com","sandbox.phantom.dev","localhost","phantom.com"].includes(e.url.hostname))return c.unauthorized(t.id)},"requireWhitelistedBlinkSource");d();p();var Cr=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let s=null;switch(e.method){case"sol_blink_signAndSendAllTransactions":case"sol_blink_signMessage":s=e.params.context;break;case"eth_blink_sendTransaction":s=e.params[1].context;break;case"eth_blink_sign":s=e.params[2].context;break}if(!s)return c.unauthorized(e.id);let i=n.getOrigin(s.blinkUrl);if(!i)return c.unauthorized(e.id);if(!await t.isTrustedApp(i))return r.debug("> Dapp not trusted",i),c.unauthorized(e.id)},"requireAuthorizedBlinkSource");d();p();var ns=[],Oe=o(e=>async({source:t,request:r})=>{let n=Date.now(),i=`${t?.type==="DeepLinkRpcRequestSource"?t.deepLinkUrl:t?.url.href}:${r.method}:${JSON.stringify(r.params)}`;if(ns=ns.filter(u=>u.timestamp>n-1e3),ns.filter(u=>u.key===i).length>=e)return c.rateLimited(r.id);ns.push({timestamp:n,key:i})},"rateLimit");d();p();var $e=o(async({request:e},{wallet:t})=>{if(!await t.isUserOnboarded()){if(e.method==="sol_connect"&&e.params.onlyIfTrusted)return c.userRejectedRequest(e.id);try{await t.requestUserOnboard()}catch{return c.userRejectedRequest(e.id)}}},"requireUserOnboarded");d();p();function A1({params:e,response:t,analytics:r,data:n}){if(e?.eager){"error"in t||r.approveConnection({...n,eager:!0});return}"error"in t?r.declineConnection({...n,errorCode:t.error.code}):r.approveConnection({...n,eager:!1})}o(A1,"handleConnectionAnalytics");function _1({response:e,analytics:t,data:r}){"error"in e?t.declineTransaction({...r,errorCode:e.error.code}):t.approveTransaction(r)}o(_1,"handleTransactionAnalytics");function v1({response:e,analytics:t,data:r}){"error"in e?t.declineSignMessage({...r,errorCode:e.error.code}):t.approveSignMessage(r)}o(v1,"handleSignMessageAnalytics");var un=o(async({request:e,source:t},{analytics:r})=>{if(!t)return c.internalError(e.id,"missing source");let n=he(t);if(!n)return c.internalError(e.id);let s=n.hostname;return mr(s)?async()=>{}:async i=>{let{method:a,params:u}=e,l={method:a,chainType:"sui",chainId:"mainnet",origin:s};switch(a){case"sui_requestAccounts":A1({params:u,response:i,analytics:r,data:l});break;case"sui_signTransaction":case"sui_signAndExecuteTransaction":_1({response:i,analytics:r,data:l});break;case"sui_signMessage":v1({response:i,analytics:r,data:l});break;default:break}}},"suiAnalytics");d();p();var la=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return c.userRejectedRequest(r.id);let s=V(n),i=he(n),a=Ae(n);if(!s||!i)return c.unauthorized(r.id);if(await t.isTrustedApp(s))return;if(r.params?.onlyIfTrusted===!0)return c.userRejectedRequest(r.id);let l=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiRequestAccounts",id:de(),params:[{url:i.toString(),icon:a}]});if("error"in l)return c.error(r.id,l.error)},"requireUserApprovalSuiRequestAccounts");d();p();var os=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=he(t),i=Ae(t);if(!s)return c.unauthorized(e.id);let a=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiSignTransaction",id:de(),params:[{url:s.toString(),icon:i},{transaction:e.params.transaction}]});if("error"in a)return c.error(e.id,a.error)},"requireUserApprovalSuiSignTransaction");d();p();var ua=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=he(t),i=Ae(t);if(!s)return c.unauthorized(e.id);let a=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiSignMessage",id:de(),params:[{url:s.toString(),icon:i},{message:e.params.message}]});if("error"in a)return c.error(e.id,a.error)},"requireUserApprovalSuiSignMessage");d();p();d();p();d();p();var ma=o(async({request:e,source:t},{wallet:r})=>{if(!t)return c.result(e.id,[]);let n=V(t);if(!n)return c.internalError(e.id,"missing source");if(!await r.isTrustedApp(n))return c.result(e.id,[]);let i=await r.eth.getAccounts();return c.result(e.id,i)},"handler");d();p();var fa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_blockNumber(a,e.params);return c.any(e.id,u)},"handler");d();p();var ha=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_call(a,e.params);return c.any(e.id,u)},"handler");d();p();var ga=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_cancelPrivateTransaction(a,e.params);return c.any(e.id,u)},"handler");d();p();var ya=o(async({request:e,source:t},{wallet:r})=>{if(!t)return c.internalError(e.id,"missing source");let n=V(t);if(!n)return c.internalError(e.id,"missing source");let s=await r.eth.getNetworkId(n);return c.result(e.id,s)},"handler");d();p();var xa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_estimateGas(a,e.params);return c.any(e.id,u)},"handler");d();p();var wa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_feeHistory(a,e.params);return c.any(e.id,u)},"handler");d();p();var ba=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_gasPrice(a,e.params);return c.any(e.id,u)},"handler");d();p();var Sa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getBalance(a,e.params);return c.any(e.id,u)},"handler");d();p();var Aa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getBlockByHash(a,e.params);return c.any(e.id,u)},"handler");d();p();var _a=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getBlockByNumber(a,e.params);return c.any(e.id,u)},"handler");d();p();var va=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getBlockReceipts(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ea=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getBlockTransactionCountByHash(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ta=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getBlockTransactionCountByNumber(a,e.params);return c.any(e.id,u)},"handler");d();p();var ka=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getCode(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ia=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getFilterChanges(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ra=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getFilterLogs(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ca=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getLogs(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ba=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getProof(a,e.params);return c.any(e.id,u)},"handler");d();p();var La=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getStorageAt(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ma=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getTransactionByBlockHashAndIndex(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ua=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getTransactionByBlockNumberAndIndex(a,e.params);return c.any(e.id,u)},"handler");d();p();var Na=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getTransactionByHash(a,e.params);return c.any(e.id,u)},"handler");d();p();var Oa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getTransactionCount(a,e.params);return c.any(e.id,u)},"handler");d();p();var Da=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getTransactionReceipt(a,e.params);return c.any(e.id,u)},"handler");d();p();var Pa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getUncleByBlockHashAndIndex(a,e.params);return c.any(e.id,u)},"handler");d();p();var Fa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getUncleByBlockNumberAndIndex(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ha=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getUncleCountByBlockHash(a,e.params);return c.any(e.id,u)},"handler");d();p();var $a=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_getUncleCountByBlockNumber(a,e.params);return c.any(e.id,u)},"handler");d();p();var Va=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_maxPriorityFeePerGas(a,e.params);return c.any(e.id,u)},"handler");d();p();var za=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_newBlockFilter(a,e.params);return c.any(e.id,u)},"handler");d();p();var ja=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_newFilter(a,e.params);return c.any(e.id,u)},"handler");d();p();var qa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_newPendingTransactionFilter(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ka=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_protocolVersion(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ga=o(async({request:e,source:t},{wallet:r})=>{try{if(!t)return ee.addBreadcrumb(re.Provider,"eth_requestAccounts: handler started - missing source",_e.Error,{requestId:e.id}),c.unauthorized(e.id);let n=V(t),s=he(t);ee.addBreadcrumb(re.Provider,"eth_requestAccounts: handler started",_e.Info,{origin:n??"unknown",url:s?.toString()??"unknown",requestId:e.id});let i=Ae(t);if(!n||!s)return ee.addBreadcrumb(re.Provider,"eth_requestAccounts: missing origin or url",_e.Error,{requestId:e.id}),c.unauthorized(e.id);let a={url:s,icon:i?new URL(i):void 0};ee.addBreadcrumb(re.Provider,"eth_requestAccounts: adding trusted app",_e.Info,{origin:n,requestId:e.id}),await r.addTrustedApp(n,a),ee.addBreadcrumb(re.Provider,"eth_requestAccounts: getting selected account",_e.Info,{origin:n,requestId:e.id});let u=await r.eth.getSelectedAccount();return ee.addBreadcrumb(re.Provider,"eth_requestAccounts: handler completed successfully",_e.Info,{origin:n,address:u,requestId:e.id}),c.result(e.id,[u])}catch(n){let s=t?V(t)??"unknown":"unknown",i=t?he(t):void 0;throw ee.captureError(n instanceof Error?n:new Error(String(n)),re.Provider),ee.addBreadcrumb(re.Provider,"eth_requestAccounts: handler error",_e.Error,{origin:s,url:i?.toString()??"unknown",requestId:e.id,error:n instanceof Error?n.message:String(n)}),n}},"handler");d();p();var Wa=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_sendRawTransaction(a,e.params);return c.any(e.id,u)},"handler");d();p();var Za=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_sendPrivateTransaction(a,e.params);return c.any(e.id,u)},"handler");d();p();var Ya=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=V(t);if(!s)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(!await r.isTrustedApp(s))return c.unauthorized(e.id);let[a]=e.params,u=await r.eth.getSelectedAccount();if(a.from.toLowerCase()!==u.toLowerCase())return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedWrongAccount"));if(a.type!==Ur.eip1559)return c.transactionRejected(e.id);if(!a.chainId)return c.transactionRejected(e.id);if(!a.nonce)return c.transactionRejected(e.id);let l=await r.eth.signAndSendTransaction(a);return c.any(e.id,{result:l})},"handler");d();p();var Xa=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return c.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signMessage(s);return c.result(e.id,a)},"handler");d();p();var Ja=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(s.toLowerCase()!==i)return c.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signTypedData({version:1,data:n});return c.result(e.id,a)},"handler");d();p();var Qa=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return c.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signTypedData({version:3,data:s});return c.result(e.id,a)},"handler");d();p();var ec=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return c.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signTypedData({version:4,data:s});return c.result(e.id,a)},"handler");d();p();var tc=o(async({request:e},t)=>c.unsupportedMethod(e.id),"handler");d();p();var rc=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id);let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_syncing(a,e.params);return c.any(e.id,u)},"handler");d();p();var nc=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.eth_uninstallFilter(a,e.params);return c.any(e.id,u)},"handler");d();p();var oc=o(async({request:e},t)=>c.unsupportedMethod(e.id),"handler");d();p();var sc=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.net_listening(a,e.params);return c.any(e.id,u)},"handler");d();p();var ic=o(async({request:e,source:t},{wallet:r})=>{if(!t)return c.internalError(e.id,"missing source");let n=V(t);if(!n)return c.internalError(e.id,"missing source");let s=await r.eth.getNetworkId(n);return c.result(e.id,parseInt(s,16).toString())},"handler");d();p();var ac=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(s.toLowerCase()!==i)return c.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signMessage(n);return c.result(e.id,a)},"handler");d();p();var cc=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{let[i]=e.params;if(!await r.eth.addChain(i))return c.userRejectedRequest(e.id,n.t("Could not add the requested chain. It is not yet supported."));if(!t)return c.internalError(e.id,"missing source");let u=V(t);return u?await r.eth.switchChain(i.chainId,u)?c.result(e.id,null):(s.eth.unsupportedChain({origin:u,data:{method:e.method,hexChainId:i.chainId,chainName:i.chainName}}),c.internalError(e.id,n.t("Could not switch to the requested chain."))):c.internalError(e.id,"missing source")},"handler");d();p();var dc=o(async({request:e,source:t},{wallet:r})=>{if(!t)return c.unauthorized(e.id);let n=V(t),s=he(t),i=Ae(t);if(!n||!s)return c.unauthorized(e.id);if(await r.isTrustedApp(n))return c.result(e.id,qc.enum.CONTINUE_WITH_PHANTOM);let u=await r.requestUserApproval({jsonrpc:"2.0",method:"user_selectEthWallet",id:0,params:[{url:s.toString(),icon:i}]});if("error"in u)return c.error(e.id,u.error);switch(u.result){case xr.user_selectEthWallet.result.enum.CONTINUE_WITH_METAMASK:return c.result(e.id,u.result);case xr.user_selectEthWallet.result.enum.CONTINUE_WITH_PHANTOM:return c.result(e.id,u.result);case xr.user_selectEthWallet.result.enum.ALWAYS_USE_PHANTOM:return await r.setMetaMaskOverrideSetting("USE_PHANTOM"),c.result(e.id,u.result);case xr.user_selectEthWallet.result.enum.ALWAYS_USE_METAMASK:return await r.setMetaMaskOverrideSetting("USE_METAMASK"),c.result(e.id,u.result)}},"handler");d();p();var pc=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return c.internalError(e.id,"missing source");let i=V(t);if(!i)return c.internalError(e.id,"missing source");let[{chainId:a}]=e.params;return await r.eth.switchChain(a,i)?c.result(e.id,null):(s.eth.unsupportedChain({origin:i,data:{method:e.method,hexChainId:a}}),c.chainDisconnected(e.id,n.t("Could not switch to the requested chain. It is not yet supported.")))},"handler");d();p();var lc=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.web3_clientVersion(a,e.params);return c.any(e.id,u)},"handler");d();p();var uc=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return c.internalError(e.id,"missing source");let s=V(t);if(!s)return c.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(i),u=await n.eth.web3_sha3(a,e.params);return c.any(e.id,u)},"handler");d();p();var mc=o(async({request:e,source:t},{wallet:r})=>{if(!t)return c.unauthorized(e.id);let n=V(t),s=he(t),i=Ae(t);if(!n||!s)return c.unauthorized(e.id);let a=e.params[0];if(!Object.keys(a).includes("eth_accounts"))return c.result(e.id,[]);let l={url:s,icon:i?new URL(i):void 0};return await r.addTrustedApp(n,l),c.result(e.id,[{parentCapability:"eth_accounts",date:Date.now()}])},"handler");d();p();var fc=o(async({request:e,source:t},{wallet:r})=>{if(!t)return c.result(e.id,[]);let n=V(t);return n?await r.isTrustedApp(n)?c.result(e.id,[{invoker:n,parentCapability:"eth_accounts",caveats:[]}]):c.result(e.id,[]):c.result(e.id,[])},"handler");var vt={};De(vt,{sol_connect:()=>Cm,sol_disconnect:()=>Bm,sol_signAllTransactions:()=>Lm,sol_signAndSendAllTransactions:()=>Um,sol_signAndSendTransaction:()=>Mm,sol_signIn:()=>Om,sol_signMessage:()=>Nm,sol_signTransaction:()=>Dm});d();p();d();p();var Cm=o(async({request:e,source:t},{wallet:r})=>{if(!t)return c.unauthorized(e.id);let n=V(t),s=he(t),i=Ae(t);if(!n||!s)return c.unauthorized(e.id);let a={url:s,icon:i?new URL(i):void 0};await r.addTrustedApp(n,a);let u=await r.sol.getSelectedAccount();return c.result(e.id,{publicKey:u})},"handler");d();p();var Bm=o(async({request:e,source:t})=>t?c.result(e.id,null):c.unauthorized(e.id),"handler");d();p();var Lm=o(async({request:e},{wallet:t})=>{let r=await t.sol.signAllTransactions(e.params.transactions);return c.result(e.id,r)},"handler");d();p();var Mm=o(async({source:e,request:t},{wallet:r,i18n:n})=>{if(!e)return c.unauthorized(t.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=Ae(e),i=he(e);if(!i)return c.unauthorized(t.id);let a=await r.sol.getSelectedAccount(),u=await r.sol.signTransaction(t.params.transaction);t.params.showConfirmation&&r.requestUserApproval({jsonrpc:"2.0",method:"user_solTransactionConfirmation",id:de(),params:[{url:i.toString(),icon:s},{signature:u.signature,postAction:t.params.postAction}]});let l=t.params.isSharingEligible?"signAndSendTransaction":void 0;return await r.sol.sendTransaction(u.transaction,{...t.params.options,method:l}),c.result(t.id,{publicKey:a,signature:u.signature})},"handler");d();p();var Um=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await Promise.all(e.params.transactions.map(i=>t.sol.signTransaction(i))),s=await t.sol.sendAllTransactions(n.map(i=>i.transaction));return c.result(e.id,{publicKey:r,signatures:s})},"handler");d();p();var Nm=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await t.sol.signMessage(e.params.message);return c.result(e.id,{publicKey:r,signature:n})},"handler");d();p();var Om=o(async({request:e,source:t},{wallet:r,utils:n,i18n:s})=>{if(!t)return c.userRejectedRequest(e.id);let i=V(t),a=he(t),u=Ae(t);if(!i||!a)return c.userRejectedRequest(e.id);let l=await r.isTrustedApp(i),h=await r.sol.getNetworkId(),A=await r.sol.getSelectedAccount(),x=new URL(a.toString()),g=n.sol.serializeSolanaSignInMessage(e.params.signInData,{expectedChainId:h,expectedAddress:A,expectedURL:x});if(g.type==="fail"){if(g.error[0].label==="PARSE_ERROR")return c.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting."));if(g.error.some(S=>S.label==="chain"))return c.invalidInput(e.id,s.t("The app's signature request cannot be shown as the chain ID does not match the provided chain ID for verification."));if(g.error.some(S=>S.label==="address"))return c.invalidInput(e.id,s.t("The app's signature request cannot be shown as the address does not match the provided address for verification."))}if(e.params.signInData.domain||(e.params.signInData.domain=x.host),e.params.signInData.address||(e.params.signInData.address=A),"error"in await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignIn",params:[{url:a.toString(),icon:u},{connect:!l,signInData:e.params.signInData,message:g.data,errorDetails:g.type==="fail"?g.error:void 0}],id:de()}))return g.type==="fail"?c.invalidInput(e.id,s.t("This sign-in request is invalid. This either means the site is unsafe, or its developer made an error when sending the request.")):c.userRejectedRequest(e.id);l||await r.isTrustedApp(i)||await r.addTrustedApp(i,{url:a,icon:u?new URL(u):void 0});let y=await r.sol.signMessage(g.data);return c.result(e.id,{address:A,signedMessage:g.data,signature:y})},"handler");d();p();var E1=500,Dm=o(async({request:e},{wallet:t})=>{let r=await t.sol.signTransaction(e.params.transaction);if(e.params.isSharingEligible){let n=Date.now(),s=e.params.transactionSharingDelayMs??E1;try{await Promise.race([t.sol.sendTransaction(r.transaction,{method:"signTransaction"}),xs(s)]);let i=Date.now()-n,a=Math.max(0,s-i);a>0&&await xs(a)}catch{}}return c.result(e.id,r)},"handler");var mn={};De(mn,{btc_requestAccounts:()=>Pm,btc_signMessage:()=>Fm,btc_signPSBT:()=>Hm});d();p();d();p();var Pm=o(async({request:e,source:t},{wallet:r})=>{if(!t)return c.unauthorized(e.id);let n=V(t),s=he(t),i=Ae(t);if(!n||!s)return c.unauthorized(e.id);let a={url:s,icon:i?new URL(i):void 0};await r.addTrustedApp(n,a);let u=await r.btc.getSelectedAccount();return c.result(e.id,u)},"handler");d();p();var Fm=o(async({request:e},{wallet:t})=>{let r=await t.btc.signMessage(e.params.address,e.params.message);return c.result(e.id,{...r})},"handler");d();p();var Hm=o(async({request:e,source:t},{wallet:r})=>{if(!t)return c.unauthorized(e.id);let n=await r.btc.signPSBT(...e.params);return c.result(e.id,n)},"handler");var Ie={};De(Ie,{phantom_deep_link_browse:()=>$m,phantom_deep_link_cash:()=>lf,phantom_deep_link_chat:()=>uf,phantom_deep_link_connect:()=>Zm,phantom_deep_link_convert_stake_account:()=>hf,phantom_deep_link_disconnect:()=>Ym,phantom_deep_link_explore:()=>qm,phantom_deep_link_feature_flags:()=>Km,phantom_deep_link_feedback_perps:()=>ff,phantom_deep_link_fungible:()=>zm,phantom_deep_link_mint_psol_marketing:()=>Wm,phantom_deep_link_navigate:()=>cf,phantom_deep_link_notification_center:()=>Gm,phantom_deep_link_onboard:()=>sf,phantom_deep_link_onramp:()=>af,phantom_deep_link_perps:()=>pf,phantom_deep_link_perps_leaderboard:()=>gf,phantom_deep_link_predictions:()=>yf,phantom_deep_link_signAllTransactions:()=>tf,phantom_deep_link_signAndSendAllTransactions:()=>nf,phantom_deep_link_signAndSendTransaction:()=>rf,phantom_deep_link_signIn:()=>Qm,phantom_deep_link_signMessage:()=>Xm,phantom_deep_link_signTransaction:()=>ef,phantom_deep_link_social:()=>df,phantom_deep_link_swap:()=>Vm,phantom_deep_link_terminal:()=>xf,phantom_deep_link_token_chat:()=>mf,phantom_deep_link_tokens:()=>of,phantom_deep_link_user:()=>jm});d();p();d();p();var $m=o(async({request:e},{wallet:t})=>{let{url:r,ref:n}=e.params;return t.navigate("DetachedBrowser",{url:r,ref:n}),c.result(e.id,null)},"handler");d();p();var Vm=o(async({request:e},{wallet:t})=>{let{buy:r,sell:n,amount:s}=e.params,i=r&&r.trim().length>0,a=n&&n.trim().length>0,u,l;return a&&!i?(u={type:"sell",sellCaip19:n,takerCaip19:void 0,takerDestinationCaip19:void 0},l="sell"):(u={type:"buy",buyCaip19:r,...a&&{sellCaip19:n},takerCaip19:void 0,takerDestinationCaip19:void 0},l="buy"),t.navigate("SwapTokenStack",{screen:"SwapToken",params:{swapMode:u,initialSwapAmount:s?{denomination:"fiat",perspective:l,fiatAmount:s}:void 0,comingFrom:"deepLink"}}),c.result(e.id,null)},"handler");d();p();var zm=o(async({request:e},{wallet:t})=>(ro(e.params.token),t.navigate("FungibleStack",{screen:"FungibleDetail",params:{caip19:e.params.token,entryPoint:"deepLink"}}),c.result(e.id,null)),"handler");d();p();var jm=o(async({request:e},{wallet:t,analytics:r})=>{let{username:n,action:s}=e.params;return r.userDeepLink({username:n,action:s}),t.openUserProfile(n,s),c.result(e.id,null)},"handler");d();p();var qm=o(async({request:e},{wallet:t})=>(t.navigate("ExploreTab",{screen:"Explore"}),e.params.route&&(e.params.route==="ExplorePerps"?t.navigate("ExploreTab",{screen:"PerpsStack",params:{screen:"ExplorePerps"}}):e.params.route==="ExplorePerpsTrending"?t.navigate("ExploreTab",{screen:"PerpsStack",params:{screen:"ExplorePerpsTrending"}}):t.navigate("ExploreTab",{screen:e.params.route})),c.result(e.id,null)),"handler");d();p();var Km=o(async({request:e},{wallet:t})=>{let{action:r,key:n,type:s,value:i}=e.params;return t.navigate("SettingsStack",{screen:"MockFeatureFlags",params:{action:r,key:n,type:s,value:i}}),c.result(e.id,null)},"handler");d();p();var Gm=o(async({request:e},{wallet:t})=>(await t.openNotificationCenter({action:e.params.action,id:e.params.id}),c.result(e.id,null)),"handler");d();p();var Wm=o(async({request:e},{wallet:t,remoteConfig:r})=>{let n=await r.getValue("psol-popup-copy-test");return!n||n==="control"?t.navigate("MintLiquidStake",{screen:"MintPSOLInfoPage",params:{entryPoint:"deepLink",presentNext:!0}}):t.navigate("MintLiquidStake",{screen:"MintPSOLMarketingPage",params:{entryPoint:"deepLink",copyVariant:n}}),c.result(e.id,null)},"handler");d();p();var Zm=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=xo(e.params.redirect_link,{restrictProtocols:!1}),i=s?.href;if(!i)return c.error(e.id,{code:400,message:"Invalid redirect URL provided."});try{s.username="",s.password="";let a=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:de(),params:[{url:`phantom.app.deep-link-${i}`,icon:n.getFaviconURL(s.href)}]});if("error"in a)return c.error(e.id,a.error);let u=Wr(i)?.origin??"";await t.isTrustedApp(u)&&await t.deleteTrustedApp(u),await t.addTrustedApp(u,{url:new URL(u),icon:new URL(n.getFaviconURL(i))});let l=await t.sol.getSelectedAccount(),{sharedSecret:h,phantomKeySecret:A,phantomKeyPublicKey:x}=r.generateSharedSecret(e.params.dapp_encryption_public_key);await r.setSharedSecret(new Ce.PublicKey(l).toBase58(),e.params.dapp_encryption_public_key,h,A,x);let g=await r.generateSession(new Ce.PublicKey(l).toBase58(),e.params?.cluster??"mainnet-beta",e.params.app_url),{nonce:w,encryptedPayload:y}=await r.encryptDeepLinkDappPayload(g,new Ce.PublicKey(l).toBase58(),e.params.dapp_encryption_public_key);return c.result(e.id,{phantom_encryption_public_key:x,nonce:w,data:y})}catch(a){return c.error(e.id,{code:500,message:a?.message||"An unexpected error occurred during connect."})}},"handler");d();p();var Ym=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=Wr(e.params.redirect_link).origin??"";await t.isTrustedApp(s)&&await t.deleteTrustedApp(s);let i=await t.sol.getSelectedAccount(),a=n.sol.chainIdToCluster(await t.sol.getNetworkId());return typeof(await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new Ce.PublicKey(i),a)).session!="string"?c.error(e.id,{code:Be.InvalidInput,message:"Missing or invalid parameters."}):(r.deleteSharedSecret(i,e.params.dapp_encryption_public_key),c.result(e.id,null))},"handler");d();p();var Xm=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId()),a=e.params,u=await r.decryptDeepLinkDappPayload(a,e.params.dapp_encryption_public_key,new Ce.PublicKey(s),i);if(typeof u.session!="string"||typeof u.message!="string"||!(!u.display||["utf8","hex"].includes(u.display)))return c.error(e.id,{code:Be.InvalidInput,message:"Missing or invalid parameters."});let l={message:u.message,display:u.display??"utf8"},h=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:de(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{...l,autoConfirmStatusCode:ye.Disabled}]});if("error"in h)return c.error(e.id,h.error);let x={signature:await t.sol.signMessage(u.message),publicKey:s},{nonce:g,encryptedPayload:w}=await r.encryptDeepLinkDappPayload(x,new Ce.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return c.result(e.id,{nonce:g,data:w})},"handler");d();p();var Jm=ce(pn(),1);var Qm=o(async({request:e},{wallet:t,secrets:r,utils:n,i18n:s})=>{let i;try{i=JSON.parse(Buffer.from(Jm.default.decode(e.params.payload)).toString())}catch{return c.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting. Please contact the app developer for assistance."))}let a=new URL(e.params.app_url).origin??"",u=new URL(e.params.redirect_link).origin;u=u==="null"?a:u;let l=await t.isTrustedApp(u),h=await t.sol.getNetworkId(),A=await t.sol.getSelectedAccount(),x=new URL(e.params.redirect_link),g=n.sol.serializeSolanaSignInMessage(i,{expectedChainId:h,expectedAddress:A,expectedURL:x});if(g.type==="fail"){if(g.error[0].label==="PARSE_ERROR")return c.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting."));if(g.error.some(H=>H.label==="chain"))return c.invalidInput(e.id,s.t("The app's signature request cannot be shown as the chain ID does not match the provided chain ID for verification."));if(g.error.some(H=>H.label==="address"))return c.invalidInput(e.id,s.t("The app's signature request cannot be shown as the address does not match the provided address for verification."))}if(i.domain||(i.domain=x.host),i.address||(i.address=A),"error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignIn",params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{connect:!l,signInData:i,message:g.data,errorDetails:g.type==="fail"?g.error:void 0}],id:de()}))return g.type==="fail"?c.invalidInput(e.id,s.t("This sign-in request is invalid. This either means the site is unsafe, or its developer made an error when sending the request.")):c.userRejectedRequest(e.id);l||await t.isTrustedApp(u)||await t.addTrustedApp(u,{url:new URL(u),icon:new URL(n.getFaviconURL(u))});let{sharedSecret:y,phantomKeySecret:S,phantomKeyPublicKey:_}=r.generateSharedSecret(e.params.dapp_encryption_public_key);await r.setSharedSecret(new Ce.PublicKey(A).toBase58(),e.params.dapp_encryption_public_key,y,S,_);let E=await r.generateSession(new Ce.PublicKey(A).toBase58(),e.params?.cluster??"mainnet-beta",e.params.app_url),I=await t.sol.signMessage(g.data),k={address:E.public_key,signature:I,signedMessage:g.data,session:E.session},{nonce:B,encryptedPayload:D}=await r.encryptDeepLinkDappPayload(k,new Ce.PublicKey(A).toBase58(),e.params.dapp_encryption_public_key);return c.result(e.id,{phantom_encryption_public_key:_,nonce:B,data:D})},"handler");d();p();var ef=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId()),a=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new Ce.PublicKey(s),i);if(typeof a.session!="string"||typeof a.transaction!="string")return c.error(e.id,{code:Be.InvalidInput,message:"Missing or invalid parameters."});let u=await t.sol.addPriorityFee(a.transaction),l=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignTransaction",id:de(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{transaction:u,autoConfirmStatusCode:ye.Disabled}]});if("error"in l)return c.error(e.id,l.error);let{transaction:h}=await t.sol.signTransaction(u),A={transaction:h},{nonce:x,encryptedPayload:g}=await r.encryptDeepLinkDappPayload(A,new Ce.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return c.result(e.id,{nonce:x,data:g})},"handler");d();p();var tf=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId()),a=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new Ce.PublicKey(s),i);if(typeof a.session!="string"||!Array.isArray(a.transactions)||!a.transactions.every(w=>typeof w=="string"))return c.error(e.id,{code:Be.InvalidInput,message:"Missing or invalid parameters."});let u=await Promise.all(a.transactions.map(w=>t.sol.addPriorityFee(w))),l=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:de(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{transactions:u,autoConfirmStatusCode:ye.Disabled}]});if("error"in l)return c.error(e.id,l.error);let A={transactions:(await t.sol.signAllTransactions(u)).map(w=>w.transaction)},{nonce:x,encryptedPayload:g}=await r.encryptDeepLinkDappPayload(A,new Ce.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return c.result(e.id,{nonce:x,data:g})},"handler");d();p();var rf=o(async({request:e})=>c.error(e.id,{code:Be.MethodNotFound,message:"This method is not supported"}),"handler");d();p();var nf=o(async({request:e})=>c.error(e.id,{code:Be.MethodNotFound,message:"This method is not supported"}),"handler");d();p();var T1=Xe.getAllChainIDs(),k1=o((e,t)=>{let r=e?T1.find(i=>e===i):void 0;if(!r)throw new Error(`Chain ${e} not supported`);let n=Xe[r],s=n.mainnetID;return typeof t!="string"?ys({chainId:s,resourceType:gs.nativeToken,slip44:n.slip44}):ys({chainId:s,address:t,resourceType:gs.address})},"getCaip19FromUrlPath"),of=o(async({request:e},{wallet:t,analytics:r})=>{let{chain:n,address:s}=e.params,i=k1(n,s);return r.tokenDeepLink({caip19:i,...e.params}),t.navigate("FungibleStack",{screen:"FungibleDetail",params:{caip19:i,entryPoint:"deepLink"}}),c.result(e.id,null)},"handler");d();p();var sf=o(async({request:e},{wallet:t})=>{if(!(eo()||Jc()))return c.methodNotFound(e.id);let r=null,n=null,{value:s,accounts:i}=e.params;s&&(r=new Uint8Array(Buffer.from(s,"utf-8")),n=ot.from(r),r.fill(0));let a=i?parseInt(i):1;if(a<1)throw new Error("accounts must be greater than 0");return await t.onboardQuickly(n,a),c.result(e.id,null)},"handler");d();p();var af=o(async({request:e},{wallet:t})=>{let r=e.params.buy,n=e.params.amount,s=e.params.redirectURL,i=r?"FiatRampAmount":"FiatRampSelectFungible";return t.navigate("FiatRampStack",{screen:i,params:{buy:r,amount:n,redirectURL:s}}),c.result(e.id,null)},"handler");d();p();var cf=o(async({request:e},{wallet:t})=>(t.navigate(e.params.route,e.params.params),c.result(e.id,null)),"handler");d();p();var df=o(async({request:e},{wallet:t})=>(t.navigate("SocialFeedTab",{screen:"SocialFeed"}),c.result(e.id,null)),"handler");d();p();var pf=o(async({request:e,source:t},{wallet:r})=>{let{marketId:n}=e.params;r.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"Perps"}});let s=n,i=n?.startsWith("hypercore:mainnet/address:")?n.split("hypercore:mainnet/address:")[1]:void 0;if(!s&&t?.type==="DeepLinkRpcRequestSource")try{let u=new URL(t.deepLinkUrl).pathname.split("/").filter(Boolean),l=u.indexOf("perps");l!==-1&&u[l+1]&&(i=u[l+1].split("-")[0]?.toUpperCase(),i&&(s=`hypercore:mainnet/address:${i}`))}catch(a){console.error("Failed to parse deeplink URL:",a)}try{let a=s?ro(s):void 0;a&&r.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"PerpMarketDetails",params:{data:i?{token:a,name:i}:{token:a}}}})}catch(a){console.error("Failed to decode caip19:",a)}return c.result(e.id,null)},"handler");d();p();var lf=o(async({request:e},{wallet:t})=>(t.openCashTab&&await t.openCashTab(e.params),c.result(e.id,null)),"handler");d();p();var uf=o(async({request:e},{wallet:t})=>(await t.openChat({chatId:e.params.chatId,chatType:e.params.chatType}),c.result(e.id,null)),"handler");d();p();var mf=o(async({request:e},{wallet:t})=>(await t.openChat({chatId:e.params.caip19,chatType:"token"}),c.result(e.id,null)),"handler");d();p();var ff=o(async({request:e},{wallet:t})=>(t.navigate("Tab",{screen:"HomeTab",params:{screen:"Home",params:{showPerpsFeedbackInterstitial:Date.now()}}}),c.result(e.id,null)),"handler");d();p();var hf=o(async({request:e},{wallet:t})=>(t.navigate("ConvertToLiquidStake",{screen:"ConvertStakeAccountDeepLinkPage",params:{stakeAddress:e.params.stakeAddress}}),c.result(e.id,null)),"handler");d();p();var gf=o(async({request:e},{wallet:t})=>{let{period:r}=e.params;return t.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"TopPerpsTradersPage",params:r?{period:r}:void 0}}),c.result(e.id,null)},"handler");d();p();var Bt={Feed:"PredictionFeed",Detail:"PredictionDetail",Positions:"Positions",RecentActivity:"PredictionRecentActivity",Categories:"PredictionCategories",CategoryList:"PredictionCategoryList",TagList:"PredictionTagList",ScopeList:"PredictionScopeList",Search:"PredictionSearch"},I1="deeplink";function R1(e){if(!e)return[];try{let t=new URL(e),r=t.pathname.split("/").filter(Boolean),n=r.indexOf("predictions");return n!==-1?r.slice(n+1):(t.hostname==="predictions",r)}catch{return[]}}o(R1,"parsePathSegments");var yf=o(async({request:e,source:t},{wallet:r})=>{let n=e.params,s=t?.type==="DeepLinkRpcRequestSource"?t.deepLinkUrl:void 0,i=R1(s),a=o(()=>{r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Bt.Feed}})},"navigateToPredictionsFeed"),u=o(h=>{a(),r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Bt.Detail,params:{ticker:h,entryPointButton:I1}}})},"navigateToEventDetail");switch(i[0]?.toLowerCase()){case"feed":{a();break}case"positions":{r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Bt.Positions}});break}case"activity":{r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Bt.RecentActivity}});break}case"search":{r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Bt.Search}});break}case"categories":{r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Bt.Categories}});break}case"event":case"market":{let h=i[1]||n.ticker;h?u(h):a();break}case"category":{let h=i[1]||n.categoryId,A=n.categoryLabel||h||"Category";h?(a(),r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Bt.CategoryList,params:{categoryId:h,categoryLabel:A}}})):r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Bt.Categories}});break}case"tag":{let h=i[1]||n.categoryId,A=i[2]||n.tagId,x=n.tagLabel||A||"Tag",g=n.competitionType;h&&A?(a(),r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Bt.TagList,params:{categoryId:h,tagId:A,tagLabel:x,competitionType:g}}})):a();break}case"scope":{let h=i[1]||n.categoryId,A=i[2]||n.tagId,x=i[3]||n.scopeId,g=n.scopeLabel||x||"Scope",w=n.competitionType;h&&A&&x?(a(),r.navigate("HomeTab",{screen:"PredictionStack",params:{screen:Bt.ScopeList,params:{categoryId:h,tagId:A,scopeId:x,scopeLabel:g,competitionType:w}}})):a();break}default:{a();break}}return c.result(e.id,null)},"handler");d();p();var xf=o(async({request:e},{wallet:t})=>(t.navigate("TerminalInterstitialPage"),c.result(e.id,null)),"handler");var fn={};De(fn,{sol_blink_connect:()=>wf,sol_blink_signAndSendAllTransactions:()=>bf,sol_blink_signMessage:()=>Sf});d();p();d();p();var wf=o(async({request:e,source:t},{wallet:r,utils:n})=>{let s=e.params.context,{origin:i,hostname:a}=n.getOriginAndHostname(s.blinkUrl);if(!t||!i||!a)return c.unauthorized(e.id);await r.addTrustedApp(i,{icon:new URL(n.getFaviconURL(a)),url:new URL(i)});let u=await r.sol.getSelectedAccount();return c.result(e.id,{publicKey:u})},"handler");d();p();var bf=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await Promise.all(e.params.transactions.map(i=>t.sol.signTransaction(i))),s=await t.sol.sendAllTransactions(n.map(i=>i.transaction));return c.result(e.id,{publicKey:r,signatures:s})},"handler");d();p();var Sf=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await t.sol.signMessage(e.params.message);return c.result(e.id,{publicKey:r,signature:n})},"handler");var hn={};De(hn,{eth_blink_requestAccounts:()=>vf,eth_blink_sendTransaction:()=>Af,eth_blink_sign:()=>_f});d();p();d();p();var Af=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{let[i,{context:a}]=e.params,u=s.getOrigin(a.blinkUrl);if(!a.blinkUrl||!u)return c.userRejectedRequest(e.id);if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(!await r.isTrustedApp(u))return c.unauthorized(e.id);let h=await r.eth.getSelectedAccount();if(i.from.toLowerCase()!==h.toLowerCase())return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedWrongAccount"));if(i.type!==Ur.eip1559)return c.transactionRejected(e.id);if(!i.chainId)return c.transactionRejected(e.id);if(!i.nonce)return c.transactionRejected(e.id);let A=await r.eth.signAndSendTransaction(i);return c.any(e.id,{result:A})},"handler");d();p();var _f=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return c.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signMessage(s);return c.result(e.id,a)},"handler");d();p();var vf=o(async({request:e,source:t},{wallet:r,utils:n})=>{if(!t)return c.unauthorized(e.id);let{context:s}=e.params,{origin:i,hostname:a}=n.getOriginAndHostname(s.blinkUrl);if(!t||!i||!a)return c.unauthorized(e.id);await r.addTrustedApp(i,{icon:new URL(n.getFaviconURL(a)),url:new URL(i)});let u=await r.eth.getSelectedAccount();return c.result(e.id,[u])},"handler");var hr={};De(hr,{sol_mwa_authorize:()=>Tf,sol_mwa_reauthorize:()=>Ef,sol_mwa_sign_and_send_transactions:()=>kf,sol_mwa_sign_messages:()=>Rf,sol_mwa_sign_transactions:()=>If});d();p();d();p();var Ef=o(async({request:e},t)=>c.result(e.id,{type:"REAUTHORIZE_SUCCESS"}),"handler");d();p();var Tf=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{cluster:s="mainnet-beta",identity:i}=e.params,{identityUri:a,iconRelativeUri:u}=i;if(!a)return r.error("identityUri is not defined in sol_mwa_authorize rpc request payload"),c.result(e.id,{type:"AUTHORIZE_DECLINE"});let l=s==="mainnet-beta"?"mainnet":"testnet",h=await t.sol.getNetworkId()===Kc.value?"mainnet":"testnet";if(l!==h)return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:de(),params:[{url:`phantom.app.mwa-${a}`,icon:u?`${a}/${u}`:n.getFaviconURL(a)},h]}),c.result(e.id,{type:"AUTHORIZE_DECLINE"});if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:de(),params:[{url:a,icon:u?`${a}/${u}`:n.getFaviconURL(a)}]}))return c.result(e.id,{type:"AUTHORIZE_DECLINE"});let x=await t.sol.getSelectedAccount();return c.result(e.id,{type:"AUTHORIZE_SUCCESS",publicKey:x,accountLabel:"phantom-wallet"})},"handler");d();p();var hc=ce(pn(),1);var kf=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:i,verifiableIdentity:a}=e.params.signPayloads,{identityUri:u,iconRelativeUri:l}=a.identity,h=await t.sol.getSelectedAccount();if(s!==h)return c.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_ERROR_AUTHORIZATION_NOT_VALID"});if(!u)return r.error("identityUri is not defined in sol_mwa_sign_and_send_transactions rpc request payload"),c.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_DECLINE"});let A=i.map(w=>hc.default.encode(Buffer.from(w,"base64"))),x=await Promise.all(A.map(w=>t.sol.addPriorityFee(w)));if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:de(),params:[{url:`phantom.app.mwa-${u}`,icon:l?`${u}/${l}`:n.getFaviconURL(u)},{transactions:x,autoConfirmStatusCode:ye.Disabled}]}))return c.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_DECLINE"});try{let w=await t.sol.signAllTransactions(x);await t.sol.sendAllTransactions(w.map(S=>S.transaction));let y=w.map(S=>Buffer.from(hc.default.decode(S.signature)).toString("base64"));return c.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_SUCCESS",signedPayloads:y})}catch{return c.error(e.id,{code:Be.InternalError,message:"Internal error"})}},"handler");d();p();var gc=ce(pn(),1);var If=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:i,verifiableIdentity:a}=e.params.signPayloads,{identityUri:u,iconRelativeUri:l}=a.identity,h=await t.sol.getSelectedAccount();if(s!==h)return c.result(e.id,{type:"SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID"});if(!u)return r.error("identityUri is not defined in sol_mwa_sign_transactions rpc request payload"),c.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});let A=i.map(w=>gc.default.encode(Buffer.from(w,"base64"))),x=await Promise.all(A.map(w=>t.sol.addPriorityFee(w)));if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:de(),params:[{url:`phantom.app.mwa-${u}`,icon:l?`${u}/${l}`:n.getFaviconURL(u)},{transactions:x,autoConfirmStatusCode:ye.Disabled}]}))return c.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});try{let y=(await t.sol.signAllTransactions(x)).map(S=>Buffer.from(gc.default.decode(S.transaction)).toString("base64"));return c.result(e.id,{type:"SIGN_PAYLOADS_SUCCESS",signedPayloads:y})}catch{return c.error(e.id,{code:Be.InternalError,message:"Internal error"})}},"handler");d();p();var yc=ce(pn(),1);var Rf=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:i,verifiableIdentity:a}=e.params.signPayloads,{identityUri:u,iconRelativeUri:l}=a.identity,h=await t.sol.getSelectedAccount();if(s!==h)return c.result(e.id,{type:"SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID"});if(!u)return r.error("identityUri is not defined in sol_mwa_sign_messages rpc request payload"),c.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});let A=yc.default.encode(Buffer.from(i[0],"base64")),x={message:A,display:"utf8"};if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:de(),params:[{url:`phantom.app.mwa-${u}`,icon:l?`${u}/${l}`:n.getFaviconURL(u)},{...x,autoConfirmStatusCode:ye.Disabled}]}))return c.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});try{let w=await t.sol.signMessage(A),y=Buffer.from(yc.default.decode(w)).toString("base64");return c.result(e.id,{type:"SIGN_PAYLOADS_SUCCESS",signedPayloads:[y]})}catch{return c.error(e.id,{code:Be.InternalError,message:"Internal error"})}},"handler");var qn={};De(qn,{sol_pay_transaction:()=>Bf,sol_pay_transfer:()=>Cf});d();p();d();p();var Cf=o(async({request:e},{wallet:t})=>await t.sol.handleSolanaPayTransfer(e.params)?c.result(e.id,null):c.error(e.id,{code:Be.InvalidInput,message:"Missing or invalid parameters."}),"handler");d();p();var Bf=o(async({request:e},{wallet:t})=>{let r=await t.sol.handleSolanaPayTransaction(e.params);if(!r){let u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmSolPayError",id:de(),params:[{url:e.params.link,icon:null}]});return"error"in u?c.error(e.id,u.error):c.invalidInput(e.id)}let{icon:n,label:s,transaction:i}=r,a=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolPayTransaction",id:de(),params:[{url:e.params.link,icon:n},{label:s,transaction:i}]});if("error"in a)return c.error(e.id,a.error);if(!i)return c.error(e.id,{code:Be.InvalidInput,message:"Missing or invalid parameters."});switch(a.result.type){case"send":{await t.sol.sendTransaction(i);break}case"signAndSend":{let u=await t.sol.signTransaction(i);await t.sol.sendTransaction(u.transaction);break}}return c.result(e.id,null)},"handler");var Br={};De(Br,{sui_requestAccounts:()=>Lf,sui_signAndExecuteTransaction:()=>Nf,sui_signMessage:()=>Uf,sui_signTransaction:()=>Mf});d();p();d();p();var Lf=o(async({request:e,source:t},{wallet:r})=>{if(!t)return c.unauthorized(e.id);let n=V(t),s=Ae(t),i=he(t);if(!n||!i)return c.unauthorized(e.id);let a={url:i,icon:s?new URL(s):void 0};await r.addTrustedApp(n,a);let u=await r.sui.getSelectedAccount();return c.result(e.id,u)},"handler");d();p();var Mf=o(async({request:e},{wallet:t})=>{let r=await t.sui.signTransaction(e.params.address,e.params.transaction,e.params.networkID);return c.result(e.id,r)},"handler");d();p();var Uf=o(async({request:e},{wallet:t})=>{let r=await t.sui.signMessage(e.params.address,e.params.message);return c.result(e.id,r)},"handler");d();p();var Nf=o(async({request:e},{wallet:t})=>{let r=await t.sui.signAndExecuteTransaction(e.params.address,e.params.transaction,e.params.networkID);return c.result(e.id,r)},"handler");var Lr={};De(Lr,{phantom_getFeatures:()=>Of,phantom_getUser:()=>Df,phantom_login:()=>Pf,phantom_logout:()=>Ff});d();p();d();p();var Of=o(async({request:e},{featureFlags:t})=>{let r=[];return await t.isEnabled("enable-phantom-login")&&r.push("phantom_login"),c.result(e.id,{features:r})},"handler");d();p();var Df=o(async({request:e},{wallet:t})=>{let r=await t.getUser();return c.result(e.id,r)},"handler");d();p();var Pf=o(async({request:e,source:t},{wallet:r,featureFlags:n})=>{if(!t)return c.userRejectedRequest(e.id);if(!await n.isEnabled("enable-phantom-login"))return c.error(e.id,{code:-32601,message:"phantom_login is currently disabled"});let i=V(t),a=he(t),u=Ae(t);if(!i||!a)return c.unauthorized(e.id);let l=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveKmsLogin",params:[{url:a.toString(),icon:u},{appId:e.params.appId,publicKey:e.params.publicKey}],id:de()});return"error"in l?c.userRejectedRequest(e.id):c.result(e.id,l.result)},"handler");d();p();var Ff=o(async({request:e})=>{try{return c.result(e.id,null)}catch{return c.internalError(e.id)}},"handler");var Mr={};De(Mr,{phantom_auto_confirm_disable:()=>Vf,phantom_auto_confirm_enable:()=>Hf,phantom_auto_confirm_status:()=>$f,phantom_auto_confirm_supported_chains:()=>zf});d();p();d();p();var Hf=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=V(t),i=he(t);if(!s||!i)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let{enabled:a,networks:u}=await r.getAutoConfirmStatus(s);if(a)return c.result(e.id,{enabled:!0,chains:u});let l=await r.fetchAutoConfirmSupportedNetworks(s);if(!l||l.length===0)return c.unsupportedMethod(e.id,"No supported networks found for this domain.");let h=e.params.chains||[],A=Ae(t);if("error"in await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEnableAutoconfirm",id:de(),params:[{url:i.toString(),icon:A},{origin:s,requestedChains:h}]}))return c.userRejectedRequest(e.id,"User rejected auto confirm");try{await r.enableAutoConfirm(s,h);let{enabled:g,networks:w}=await r.getAutoConfirmStatus(s);return c.result(e.id,{enabled:g,chains:w})}catch{return c.error(e.id,{code:Be.InternalError,message:"Failed to enable auto confirm"})}},"handler");d();p();var $f=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=V(t);if(!s)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{let{enabled:i,networks:a}=await r.getAutoConfirmStatus(s);return c.result(e.id,{enabled:i,chains:a})}catch{return c.error(e.id,{code:Be.InternalError,message:"Failed to get auto confirm status"})}},"handler");d();p();var Vf=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=V(t);if(!s)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{await r.disableAutoConfirm(s);let{enabled:i,networks:a}=await r.getAutoConfirmStatus(s);return c.result(e.id,{enabled:i,chains:a})}catch{return c.error(e.id,{code:Be.InternalError,message:"Failed to disable auto confirm"})}},"handler");d();p();var zf=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=V(t);if(!s)return c.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{let i=await r.fetchAutoConfirmSupportedNetworks(s);return c.result(e.id,{chains:i})}catch{return c.error(e.id,{code:Be.InternalError,message:"Failed to get supported chains for auto confirm"})}},"handler");var Tt={};De(Tt,{btc:()=>bc,eth:()=>xc,eth_blink:()=>_c,phantom_auto_confirm:()=>Ic,phantom_deep_link:()=>Sc,phantom_embedded:()=>kc,sol:()=>wc,sol_blink:()=>Ac,sol_mwa:()=>vc,sol_pay:()=>Ec,sui:()=>Tc});d();p();var xc={};De(xc,{initialize:()=>C1});d();p();var C1=o((e,t="BrowserTabRpcRequestSource")=>({eth_accounts:G().parse(be.eth_accounts).context(e).use([Oe(100),ae(t),K,we,pe],ma),eth_blockNumber:G().parse(be.eth_blockNumber).context(e).use([K,ae(t),we,pe],fa),eth_call:G().parse(be.eth_call).context(e).use([K,ae(t),we,pe],ha),eth_cancelPrivateTransaction:G().parse(be.eth_cancelPrivateTransaction).context(e).use([K,ae(t),we,pe],ga),eth_chainId:G().parse(be.eth_chainId).context(e).use([K,ae(t),we,pe],ya),eth_estimateGas:G().parse(be.eth_estimateGas).context(e).use([K,ae(t),we,pe],xa),eth_feeHistory:G().parse(be.eth_feeHistory).context(e).use([K,ae(t),we,pe],wa),eth_gasPrice:G().parse(be.eth_gasPrice).context(e).use([K,ae(t),we,pe],ba),eth_getBalance:G().parse(be.eth_getBalance).context(e).use([K,ae(t),we,pe],Sa),eth_getBlockByHash:G().parse(be.eth_getBlockByHash).context(e).use([K,ae(t),we,pe],Aa),eth_getBlockByNumber:G().parse(be.eth_getBlockByNumber).context(e).use([K,ae(t),we,pe],_a),eth_getBlockReceipts:G().parse(be.eth_getBlockReceipts).context(e).use([K,ae(t),we,pe],va),eth_getBlockTransactionCountByHash:G().parse(be.eth_getBlockTransactionCountByHash).context(e).use([K,ae(t),we,pe],Ea),eth_getBlockTransactionCountByNumber:G().parse(be.eth_getBlockTransactionCountByNumber).context(e).use([K,ae(t),we,pe],Ta),eth_getCode:G().parse(be.eth_getCode).context(e).use([K,ae(t),we,pe],ka),eth_getFilterChanges:G().parse(be.eth_getFilterChanges).context(e).use([K,ae(t),we,pe],Ia),eth_getFilterLogs:G().parse(be.eth_getFilterLogs).context(e).use([K,ae(t),we,pe],Ra),eth_getLogs:G().parse(be.eth_getLogs).context(e).use([K,ae(t),we,pe],Ca),eth_getProof:G().parse(be.eth_getProof).context(e).use([K,ae(t),we,pe],Ba),eth_getStorageAt:G().parse(be.eth_getStorageAt).context(e).use([K,ae(t),we,pe],La),eth_getTransactionByBlockHashAndIndex:G().parse(be.eth_getTransactionByBlockHashAndIndex).context(e).use([K,ae(t),we,pe],Ma),eth_getTransactionByBlockNumberAndIndex:G().parse(be.eth_getTransactionByBlockNumberAndIndex).context(e).use([K,ae(t),we,pe],Ua),eth_getTransactionByHash:G().parse(be.eth_getTransactionByHash).context(e).use([K,ae(t),we,pe],Na),eth_getTransactionCount:G().parse(be.eth_getTransactionCount).context(e).use([K,ae(t),we,pe],Oa),eth_getTransactionReceipt:G().parse(be.eth_getTransactionReceipt).context(e).use([K,ae(t),we,pe],Da),eth_getUncleByBlockHashAndIndex:G().parse(be.eth_getUncleByBlockHashAndIndex).context(e).use([K,ae(t),we,pe],Pa),eth_getUncleByBlockNumberAndIndex:G().parse(be.eth_getUncleByBlockNumberAndIndex).context(e).use([K,ae(t),we,pe],Fa),eth_getUncleCountByBlockHash:G().parse(be.eth_getUncleCountByBlockHash).context(e).use([K,ae(t),we,pe],Ha),eth_getUncleCountByBlockNumber:G().parse(be.eth_getUncleCountByBlockNumber).context(e).use([K,ae(t),we,pe],$a),eth_maxPriorityFeePerGas:G().parse(be.eth_maxPriorityFeePerGas).context(e).use([K,ae(t),we,pe],Va),eth_newBlockFilter:G().parse(be.eth_newBlockFilter).context(e).use([K,ae(t),we,pe],za),eth_newFilter:G().parse(be.eth_newFilter).context(e).use([K,ae(t),we,pe],ja),eth_newPendingTransactionFilter:G().parse(be.eth_newPendingTransactionFilter).context(e).use([K,ae(t),we,pe],qa),eth_protocolVersion:G().parse(be.eth_protocolVersion).context(e).use([K,ae(t),we,pe],Ka),eth_requestAccounts:G().parse(be.eth_requestAccounts).context(e).use([Oe(100),ae(t),K,we,pe,Pi,ji],Ga),eth_sendRawTransaction:G().parse(be.eth_sendRawTransaction).context(e).use([K,ae(t),we,pe],Wa),eth_sendPrivateTransaction:G().parse(be.eth_sendPrivateTransaction).context(e).use([K,ae(t),we,pe],Za),eth_sendTransaction:G().parse(be.eth_sendTransaction).context(e).use([K,ae(t),Ke,we,pe,He(t),jn,fr,Gi],Ya),eth_sign:G().parse(be.eth_sign).context(e).use([K,ae(t),Ke,we,pe,He(t),Zi],Xa),eth_signTypedData:G().parse(be.eth_signTypedData).context(e).use([K,ae(t),Ke,we,pe,He(t),fr,Xi],Ja),eth_signTypedData_v3:G().parse(be.eth_signTypedData_v3).context(e).use([K,ae(t),Ke,we,pe,He(t),fr,Ji],Qa),eth_signTypedData_v4:G().parse(be.eth_signTypedData_v4).context(e).use([K,ae(t),Ke,we,pe,He(t),fr,Qi],ec),eth_subscribe:G().parse(be.eth_subscribe).context(e).use([K,ae(t),we,pe],tc),eth_syncing:G().parse(be.eth_syncing).context(e).use([K,ae(t),we,pe],rc),eth_uninstallFilter:G().parse(be.eth_uninstallFilter).context(e).use([K,ae(t),we,pe],nc),eth_unsubscribe:G().parse(be.eth_unsubscribe).context(e).use([K,ae(t),we,pe],oc),net_listening:G().parse(be.net_listening).context(e).use([K,ae(t),we,pe],sc),net_version:G().parse(be.net_version).context(e).use([K,ae(t),we,pe],ic),personal_sign:G().parse(be.personal_sign).context(e).use([K,ae(t),Ke,we,pe,He(t),ea],ac),wallet_addEthereumChain:G().parse(be.wallet_addEthereumChain).context(e).use([K,ae(t),we,pe,fr],cc),wallet_selectEthereumProvider:G().parse(be.wallet_selectEthereumProvider).context(e).use([K,ae(t),we,pe],dc),wallet_switchEthereumChain:G().parse(be.wallet_switchEthereumChain).context(e).use([K,ae(t),we,pe,He(t),fr],pc),wallet_requestPermissions:G().parse(be.wallet_requestPermissions).context(e).use([K,ae(t),we,pe,Ki],mc),wallet_getPermissions:G().parse(be.wallet_getPermissions).context(e).use([K,ae(t),we,pe],fc),web3_clientVersion:G().parse(be.web3_clientVersion).context(e).use([K,ae(t),we,pe],lc),web3_sha3:G().parse(be.web3_sha3).context(e).use([K,ae(t),we,pe],uc)}),"initialize");var wc={};De(wc,{initialize:()=>B1});d();p();var B1=o((e,t="BrowserTabRpcRequestSource")=>({sol_connect:G().parse(Mt.sol_connect).context(e).use([Oe(10),ae(t),K,$e,pt,pe,ta],vt.sol_connect),sol_disconnect:G().parse(Mt.sol_disconnect).context(e).use([K,ae(t),pt,pe],vt.sol_disconnect),sol_signAllTransactions:G().parse(Mt.sol_signAllTransactions).context(e).use([K,ae(t),Ke,pt,pe,He(t),ur,na],vt.sol_signAllTransactions),sol_signAndSendTransaction:G().parse(Mt.sol_signAndSendTransaction).context(e).use([K,ae(t),Ke,pt,pe,He(t),ur,ia],vt.sol_signAndSendTransaction),sol_signAndSendAllTransactions:G().parse(Mt.sol_signAndSendAllTransactions).context(e).use([K,ae(t),Ke,pt,pe,He(t),ur,oa],vt.sol_signAndSendAllTransactions),sol_signMessage:G().parse(Mt.sol_signMessage).context(e).use([K,ae(t),Ke,pt,pe,He(t),Hi,aa],vt.sol_signMessage),sol_signTransaction:G().parse(Mt.sol_signTransaction).context(e).use([K,ae(t),Ke,pt,pe,He(t),ur,da],vt.sol_signTransaction),sol_signIn:G().parse(Mt.sol_signIn).context(e).use([K,ae(t),$e,pt,pe],vt.sol_signIn)}),"initialize");var bc={};De(bc,{initialize:()=>L1});d();p();var L1=o((e,t="BrowserTabRpcRequestSource")=>({btc_requestAccounts:G().parse(Xn.btc_requestAccounts).context(e).use([Oe(10),ae(t),K,zn,$i],mn.btc_requestAccounts),btc_signPSBT:G().parse(Xn.btc_signPSBT).context(e).use([K,ae(t),zn,zi],mn.btc_signPSBT),btc_signMessage:G().parse(Xn.btc_signMessage).context(e).use([K,ae(t),zn,Vi],mn.btc_signMessage)}),"initialize");var Sc={};De(Sc,{initialize:()=>M1});d();p();var M1=o(e=>({phantom_deep_link_browse:G().parse(Re.phantom_deep_link_browse).context(e).use([Oe(10),K,lt],Ie.phantom_deep_link_browse),phantom_deep_link_tokens:G().parse(Re.phantom_deep_link_tokens).context(e).use([K,lt],Ie.phantom_deep_link_tokens),phantom_deep_link_swap:G().parse(Re.phantom_deep_link_swap).context(e).use([K,$e],Ie.phantom_deep_link_swap),phantom_deep_link_navigate:G().parse(Re.phantom_deep_link_navigate).context(e).use([K,$e],Ie.phantom_deep_link_navigate),phantom_deep_link_explore:G().parse(Re.phantom_deep_link_explore).context(e).use([K],Ie.phantom_deep_link_explore),phantom_deep_link_terminal:G().parse(Re.phantom_deep_link_terminal).context(e).use([K,$e],Ie.phantom_deep_link_terminal),phantom_deep_link_feature_flags:G().parse(Re.phantom_deep_link_feature_flags).context(e).use([K,$e],Ie.phantom_deep_link_feature_flags),phantom_deep_link_onramp:G().parse(Re.phantom_deep_link_onramp).context(e).use([K,$e],Ie.phantom_deep_link_onramp),phantom_deep_link_fungible:G().parse(Re.phantom_deep_link_fungible).context(e).use([K],Ie.phantom_deep_link_fungible),phantom_deep_link_user:G().parse(Re.phantom_deep_link_user).context(e).use([K,lt],Ie.phantom_deep_link_user),phantom_deep_link_social:G().parse(Re.phantom_deep_link_social).context(e).use([K,$e],Ie.phantom_deep_link_social),phantom_deep_link_notification_center:G().parse(Re.phantom_deep_link_notification_center).context(e).use([K,$e],Ie.phantom_deep_link_notification_center),phantom_deep_link_chat:G().parse(Re.phantom_deep_link_chat).context(e).use([K,$e],Ie.phantom_deep_link_chat),phantom_deep_link_token_chat:G().parse(Re.phantom_deep_link_token_chat).context(e).use([K,$e],Ie.phantom_deep_link_token_chat),phantom_deep_link_mint_psol_marketing:G().parse(Re.phantom_deep_link_mint_psol_marketing).context(e).use([K,$e],Ie.phantom_deep_link_mint_psol_marketing),phantom_deep_link_onboard:G().parse(Re.phantom_deep_link_onboard).context(e).use([K],Ie.phantom_deep_link_onboard),phantom_deep_link_connect:G().parse(Re.phantom_deep_link_connect).context(e).use([K,lt],Ie.phantom_deep_link_connect),phantom_deep_link_disconnect:G().parse(Re.phantom_deep_link_disconnect).context(e).use([K,lt],Ie.phantom_deep_link_disconnect),phantom_deep_link_signMessage:G().parse(Re.phantom_deep_link_signMessage).context(e).use([K,lt],Ie.phantom_deep_link_signMessage),phantom_deep_link_signIn:G().parse(Re.phantom_deep_link_signIn).context(e).use([K,lt],Ie.phantom_deep_link_signIn),phantom_deep_link_signTransaction:G().parse(Re.phantom_deep_link_signTransaction).context(e).use([K,lt],Ie.phantom_deep_link_signTransaction),phantom_deep_link_signAllTransactions:G().parse(Re.phantom_deep_link_signAllTransactions).context(e).use([K,lt],Ie.phantom_deep_link_signAllTransactions),phantom_deep_link_signAndSendTransaction:G().parse(Re.phantom_deep_link_signAndSendTransaction).context(e).use([K,lt],Ie.phantom_deep_link_signAndSendTransaction),phantom_deep_link_signAndSendAllTransactions:G().parse(Re.phantom_deep_link_signAndSendAllTransactions).context(e).use([K,lt],Ie.phantom_deep_link_signAndSendAllTransactions),phantom_deep_link_perps:G().parse(Re.phantom_deep_link_perps).context(e).use([K,$e],Ie.phantom_deep_link_perps),phantom_deep_link_perps_leaderboard:G().parse(Re.phantom_deep_link_perps_leaderboard).context(e).use([K,$e],Ie.phantom_deep_link_perps_leaderboard),phantom_deep_link_cash:G().parse(Re.phantom_deep_link_cash).context(e).use([K,lt],Ie.phantom_deep_link_cash),phantom_deep_link_feedback_perps:G().parse(Re.phantom_deep_link_feedback_perps).context(e).use([K,$e],Ie.phantom_deep_link_feedback_perps),phantom_deep_link_convert_stake_account:G().parse(Re.phantom_deep_link_convert_stake_account).context(e).use([K,$e],Ie.phantom_deep_link_convert_stake_account),phantom_deep_link_predictions:G().parse(Re.phantom_deep_link_predictions).context(e).use([K,$e],Ie.phantom_deep_link_predictions)}),"initialize");var Ac={};De(Ac,{initialize:()=>U1});d();p();var U1=o((e,t="BrowserTabRpcRequestSource")=>({sol_blink_connect:G().parse(Yn.sol_blink_connect).context(e).use([Oe(10),ae(t),K,pt,pe,Xt,ra],fn.sol_blink_connect),sol_blink_signMessage:G().parse(Yn.sol_blink_signMessage).context(e).use([K,ae(t),Ke,pt,pe,Xt,Cr,ca],fn.sol_blink_signMessage),sol_blink_signAndSendAllTransactions:G().parse(Yn.sol_blink_signAndSendAllTransactions).context(e).use([K,ae(t),Ke,pt,pe,Xt,Cr,ur,sa],fn.sol_blink_signAndSendAllTransactions)}),"initialize");var _c={};De(_c,{initialize:()=>N1});d();p();var N1=o((e,t="BrowserTabRpcRequestSource")=>({eth_blink_requestAccounts:G().parse(Zn.eth_blink_requestAccounts).context(e).use([Oe(100),ae(t),K,we,pe,Xt,Fi,qi],hn.eth_blink_requestAccounts),eth_blink_sendTransaction:G().parse(Zn.eth_blink_sendTransaction).context(e).use([ae(t),K,Ke,pe,Xt,Cr,jn,Di,Wi],hn.eth_blink_sendTransaction),eth_blink_sign:G().parse(Zn.eth_blink_sign).context(e).use([ae(t),K,Ke,pe,Xt,Cr,Yi],hn.eth_blink_sign)}),"initialize");var vc={};De(vc,{initialize:()=>O1});d();p();var O1=o(e=>({sol_mwa_authorize:G().parse(Nr.sol_mwa_authorize).context(e).use([Oe(10),K,ln],hr.sol_mwa_authorize),sol_mwa_reauthorize:G().parse(Nr.sol_mwa_reauthorize).context(e).use([K],hr.sol_mwa_reauthorize),sol_mwa_sign_messages:G().parse(Nr.sol_mwa_sign_messages).context(e).use([K,ln],hr.sol_mwa_sign_messages),sol_mwa_sign_transactions:G().parse(Nr.sol_mwa_sign_transactions).context(e).use([K,ln],hr.sol_mwa_sign_transactions),sol_mwa_sign_and_send_transactions:G().parse(Nr.sol_mwa_sign_and_send_transactions).context(e).use([K,ln],hr.sol_mwa_sign_and_send_transactions)}),"initialize");var Ec={};De(Ec,{initialize:()=>D1});d();p();var D1=o(e=>({sol_pay_transfer:G().parse(ms.sol_pay_transfer).context(e).use([K],qn.sol_pay_transfer),sol_pay_transaction:G().parse(ms.sol_pay_transaction).context(e).use([K],qn.sol_pay_transaction)}),"initialize");var Tc={};De(Tc,{initialize:()=>P1});d();p();var P1=o((e,t="BrowserTabRpcRequestSource")=>({sui_requestAccounts:G().parse(wn.sui_requestAccounts).context(e).use([Oe(100),ae(t),K,$e,un,pe,la],Br.sui_requestAccounts),sui_signMessage:G().parse(wn.sui_signMessage).context(e).use([K,ae(t),un,pe,He(t),ua],Br.sui_signMessage),sui_signTransaction:G().parse(wn.sui_signTransaction).context(e).use([K,ae(t),un,pe,He(t),os],Br.sui_signTransaction),sui_signAndExecuteTransaction:G().parse(wn.sui_signAndExecuteTransaction).context(e).use([K,ae(t),un,pe,He(t),os],Br.sui_signAndExecuteTransaction)}),"initialize");var kc={};De(kc,{initialize:()=>F1});d();p();var F1=o(e=>({phantom_getFeatures:G().parse(xn.phantom_getFeatures).context(e).use([Oe(10),K],Lr.phantom_getFeatures),phantom_getUser:G().parse(xn.phantom_getUser).context(e).use([Oe(10),K],Lr.phantom_getUser),phantom_login:G().parse(xn.phantom_login).context(e).use([Oe(10),K,$e],Lr.phantom_login),phantom_logout:G().parse(xn.phantom_logout).context(e).use([Oe(10),K],Lr.phantom_logout)}),"initialize");var Ic={};De(Ic,{initialize:()=>H1});d();p();var H1=o((e,t="BrowserTabRpcRequestSource")=>({phantom_auto_confirm_enable:G().parse(yn.phantom_auto_confirm_enable).context(e).use([Oe(10),K,ae(t),pe,He(t)],Mr.phantom_auto_confirm_enable),phantom_auto_confirm_status:G().parse(yn.phantom_auto_confirm_status).context(e).use([Oe(10),K,ae(t),pe,He(t)],Mr.phantom_auto_confirm_status),phantom_auto_confirm_disable:G().parse(yn.phantom_auto_confirm_disable).context(e).use([Oe(10),K,ae(t),pe,He(t)],Mr.phantom_auto_confirm_disable),phantom_auto_confirm_supported_chains:G().parse(yn.phantom_auto_confirm_supported_chains).context(e).use([Oe(10),K,ae(t),pe,He(t)],Mr.phantom_auto_confirm_supported_chains)}),"initialize");d();p();d();p();var jf={isEnabled:o(async e=>br.isFeatureEnabledAsync(e),"isEnabled")};d();p();var qf={getValue:o(async e=>fd(e),"getValue")};d();p();var Lt=o(e=>t=>{Ue.capture(e,{data:t})},"captureEventData"),Kf={deepLinkDetected:Lt("deepLinkDetected"),tokenDeepLink:Lt("deepLinkTokens"),userDeepLink:Lt("deepLinkUser"),metamaskOverrideSelection:Lt("notificationMetamaskOverrideSelection"),approveConnection:Lt("connectionConfirm"),declineConnection:Lt("connectionDeny"),approveSignMessage:Lt("signMessageConfirm"),declineSignMessage:Lt("signMessageDeny"),approveTransaction:Lt("transactionConfirm"),declineTransaction:Lt("transactionDeny"),eth:{submittedTransaction:o(async({origin:e,request:t,signatures:r,walletAddress:n})=>{try{let s=await vn(t,{origin:e},r);if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await Ss(Ue,{data:{...s.data,ids:s.data.ids??r,walletAddress:n},action:"dapp"})}catch(s){ee.captureError(s,re.Provider)}},"submittedTransaction"),signedMessage:o(async({origin:e,request:t,chainId:r,walletAddress:n})=>{try{let s=await En(t,{origin:e,chainId:ls(r)});if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await As(Ue,{...s.data,walletAddress:n})}catch(s){ee.captureError(s,re.Provider)}},"signedMessage"),autoConfirmedTransaction:o(async({origin:e,request:t,data:r,walletAddress:n})=>{try{let s=new Rn(Ue),i=await vn(t,{origin:e});if(!i.success)throw new Error(`Failed to capture signature event analytics: ${i.error}`);await s.transactionAutoConfirmed({...i.data,autoConfirm:r,walletAddress:n})}catch(s){ee.captureError(s,re.Provider)}},"autoConfirmedTransaction"),autoConfirmedMessage:o(async({origin:e,request:t,chainId:r,data:n,walletAddress:s})=>{try{let i=new Rn(Ue),a=await En(t,{origin:e,chainId:ls(r)});if(!a.success)throw new Error(`Failed to capture signature event analytics: ${a.error}`);await i.messageAutoConfirmed({...a.data,autoConfirm:n,walletAddress:s})}catch(i){ee.captureError(i,re.Provider)}},"autoConfirmedMessage"),unsupportedChain:o(async({origin:e,data:t})=>{try{await Ue.capture("unsupportedChainId",{data:{origin:e,chainType:"eip155",chainId:$r(t.hexChainId),chainName:t.chainName,method:t.method}})}catch(r){ee.captureError(r,re.Provider)}},"unsupportedChain")},sol:{submittedTransaction:o(async({origin:e,request:t,chainId:r,signatures:n,walletAddress:s})=>{try{let i=await vn(t,{origin:e,chainId:r},n);if(!i.success)throw new Error(`Failed to capture signature event analytics: ${i.error}`);await Ss(Ue,{data:{...i.data,ids:i.data.ids??n,walletAddress:s},action:"dapp"})}catch(i){ee.captureError(i,re.Provider)}},"submittedTransaction"),signedMessage:o(async({origin:e,request:t,chainId:r,walletAddress:n})=>{try{let s=await En(t,{origin:e,chainId:r});if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await As(Ue,{...s.data,walletAddress:n})}catch(s){ee.captureError(s,re.Provider)}},"signedMessage"),autoConfirmedTransaction:o(async({origin:e,request:t,data:r,chainId:n,walletAddress:s})=>{try{let i=new Rn(Ue),a=await vn(t,{origin:e,chainId:n});if(!a.success)throw new Error(`Failed to capture signature event analytics: ${a.error}`);await i.transactionAutoConfirmed({...a.data,autoConfirm:r,walletAddress:s})}catch(i){ee.captureError(i,re.Provider)}},"autoConfirmedTransaction"),autoConfirmedMessage:o(async({origin:e,request:t,chainId:r,data:n,walletAddress:s})=>{try{let i=new Rn(Ue),a=await En(t,{origin:e,chainId:r});if(!a.success)throw new Error(`Failed to capture signature event analytics: ${a.error}`);await i.messageAutoConfirmed({...a.data,autoConfirm:n,walletAddress:s})}catch(i){ee.captureError(i,re.Provider)}},"autoConfirmedMessage")}};d();p();var Gf={env:Qn()?"production":"development",logRequestMethods:new Set(["eth_requestAccounts","eth_accounts","eth_sendTransaction","eth_sign","personal_sign"]),logRequestsOnError:!0};d();p();var Wf={t(e){return e}};d();p();var Zf={debug(...e){console.debug(...e)},warn(...e){console.warn(...e)},error(...e){ee.addBreadcrumb(re.Provider,e.join(", "),_e.Error)}};d();p();var Yf={eth:Wd};d();p();d();p();d();p();d();p();d();p();var Kn;(function(e){e[e.ALT=1]="ALT",e[e.CAT=2]="CAT",e[e.REP=3]="REP",e[e.RNM=4]="RNM",e[e.TRG=5]="TRG",e[e.TBS=6]="TBS",e[e.TLS=7]="TLS",e[e.UDT=11]="UDT",e[e.AND=12]="AND",e[e.NOT=13]="NOT",e[e.BKR=14]="BKR",e[e.BKA=15]="BKA",e[e.BKN=16]="BKN",e[e.ABG=17]="ABG",e[e.AEN=18]="AEN",e[e.ACTIVE=100]="ACTIVE",e[e.MATCH=101]="MATCH",e[e.EMPTY=102]="EMPTY",e[e.NOMATCH=103]="NOMATCH",e[e.SEM_PRE=200]="SEM_PRE",e[e.SEM_POST=201]="SEM_POST",e[e.SEM_OK=300]="SEM_OK",e[e.SEM_SKIP=301]="SEM_SKIP",e[e.ATTR_N=400]="ATTR_N",e[e.ATTR_R=401]="ATTR_R",e[e.ATTR_MR=402]="ATTR_MR",e[e.LOOKAROUND_NONE=500]="LOOKAROUND_NONE",e[e.LOOKAROUND_AHEAD=501]="LOOKAROUND_AHEAD",e[e.LOOKAROUND_BEHIND=502]="LOOKAROUND_BEHIND",e[e.BKR_MODE_UM=601]="BKR_MODE_UM",e[e.BKR_MODE_PM=602]="BKR_MODE_PM",e[e.BKR_MODE_CS=603]="BKR_MODE_CS",e[e.BKR_MODE_CI=604]="BKR_MODE_CI"})(Kn||(Kn={}));var ht;(function(e){e.Ethereum="sign-in-with-ethereum",e.Solana="sign-in-with-solana",e.X="sign-in-with-x"})(ht||(ht={}));var Ve;(function(e){e.ADDRESS_MISMATCH="ADDRESS_MISMATCH",e.DOMAIN_MISMATCH="DOMAIN_MISMATCH",e.URI_MISMATCH="URI_MISMATCH",e.CHAIN_ID_MISMATCH="CHAIN_ID_MISMATCH",e.ISSUED_TOO_FAR_IN_THE_PAST="ISSUED_TOO_FAR_IN_THE_PAST",e.ISSUED_TOO_FAR_IN_THE_FUTURE="ISSUED_TOO_FAR_IN_THE_FUTURE",e.EXPIRED="EXPIRED",e.EXPIRES_BEFORE_ISSUANCE="EXPIRES_BEFORE_ISSUANCE",e.VALID_AFTER_EXPIRATION="VALID_AFTER_EXPIRATION"})(Ve||(Ve={}));function ss(e,t){let{expectedAddress:r,expectedURL:n,expectedChainId:s,issuedAtThreshold:i}=t,a=[],u=Date.now();if(e.address!==r&&a.push(Ve.ADDRESS_MISMATCH),e.domain!==n.host&&a.push(Ve.DOMAIN_MISMATCH),e.uri&&e.uri.origin!==n.origin&&a.push(Ve.URI_MISMATCH),e.chainId&&(e.type!==ht.Solana&&e.chainId!==s||e.type===ht.Solana&&e.chainId.replace(/solana:/g,"")!==s)&&a.push(Ve.CHAIN_ID_MISMATCH),e.issuedAt){let l=e.issuedAt.getTime();Math.abs(l-u)>i&&(l<u?a.push(Ve.ISSUED_TOO_FAR_IN_THE_PAST):a.push(Ve.ISSUED_TOO_FAR_IN_THE_FUTURE))}if(e.expirationTime){let l=e.expirationTime.getTime();l<=u&&a.push(Ve.EXPIRED),e.issuedAt&&l<e.issuedAt.getTime()&&a.push(Ve.EXPIRES_BEFORE_ISSUANCE),e.notBefore&&e.notBefore.getTime()>l&&a.push(Ve.VALID_AFTER_EXPIRATION)}return a}o(ss,"verify");d();p();d();p();o(function e(t,r,n){function s(u,l){if(!r[u]){if(!t[u]){var h=typeof gn=="function"&&gn;if(!l&&h)return h(u,!0);if(i)return i(u,!0);var A=new Error("Cannot find module '"+u+"'");throw A.code="MODULE_NOT_FOUND",A}var x=r[u]={exports:{}};t[u][0].call(x.exports,function(g){return s(t[u][1][g]||g)},x,x.exports,e,t,r,n)}return r[u].exports}o(s,"o");for(var i=typeof gn=="function"&&gn,a=0;a<n.length;a++)s(n[a]);return s},"e")({1:[function(e,t,r){"use strict";r.byteLength=function(x){var g=h(x),w=g[0],y=g[1];return 3*(w+y)/4-y},r.toByteArray=function(x){var g,w,y=h(x),S=y[0],_=y[1],E=new i(function(B,D,H){return 3*(D+H)/4-H}(0,S,_)),I=0,k=_>0?S-4:S;for(w=0;w<k;w+=4)g=s[x.charCodeAt(w)]<<18|s[x.charCodeAt(w+1)]<<12|s[x.charCodeAt(w+2)]<<6|s[x.charCodeAt(w+3)],E[I++]=g>>16&255,E[I++]=g>>8&255,E[I++]=255&g;return _===2&&(g=s[x.charCodeAt(w)]<<2|s[x.charCodeAt(w+1)]>>4,E[I++]=255&g),_===1&&(g=s[x.charCodeAt(w)]<<10|s[x.charCodeAt(w+1)]<<4|s[x.charCodeAt(w+2)]>>2,E[I++]=g>>8&255,E[I++]=255&g),E},r.fromByteArray=function(x){for(var g,w=x.length,y=w%3,S=[],_=16383,E=0,I=w-y;E<I;E+=_)S.push(A(x,E,E+_>I?I:E+_));return y===1?(g=x[w-1],S.push(n[g>>2]+n[g<<4&63]+"==")):y===2&&(g=(x[w-2]<<8)+x[w-1],S.push(n[g>>10]+n[g>>4&63]+n[g<<2&63]+"=")),S.join("")};for(var n=[],s=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=a.length;u<l;++u)n[u]=a[u],s[a.charCodeAt(u)]=u;function h(x){var g=x.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=x.indexOf("=");return w===-1&&(w=g),[w,w===g?0:4-w%4]}o(h,"c");function A(x,g,w){for(var y,S,_=[],E=g;E<w;E+=3)y=(x[E]<<16&16711680)+(x[E+1]<<8&65280)+(255&x[E+2]),_.push(n[(S=y)>>18&63]+n[S>>12&63]+n[S>>6&63]+n[63&S]);return _.join("")}o(A,"l"),s[45]=62,s[95]=63},{}],2:[function(e,t,r){(function(n){(function(){"use strict";var s=e("base64-js"),i=e("ieee754");r.Buffer=l,r.SlowBuffer=function(m){return+m!=m&&(m=0),l.alloc(+m)},r.INSPECT_MAX_BYTES=50;var a=2147483647;function u(m){if(m>a)throw new RangeError('The value "'+m+'" is invalid for option "size"');var f=new Uint8Array(m);return f.__proto__=l.prototype,f}o(u,"a");function l(m,f,b){if(typeof m=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(m)}return h(m,f,b)}o(l,"s");function h(m,f,b){if(typeof m=="string")return function(R,T){if(typeof T=="string"&&T!==""||(T="utf8"),!l.isEncoding(T))throw new TypeError("Unknown encoding: "+T);var z=0|y(R,T),X=u(z),W=X.write(R,T);return W!==z&&(X=X.slice(0,W)),X}(m,f);if(ArrayBuffer.isView(m))return g(m);if(m==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(me(m,ArrayBuffer)||m&&me(m.buffer,ArrayBuffer))return function(R,T,z){if(T<0||R.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<T+(z||0))throw new RangeError('"length" is outside of buffer bounds');var X;return X=T===void 0&&z===void 0?new Uint8Array(R):z===void 0?new Uint8Array(R,T):new Uint8Array(R,T,z),X.__proto__=l.prototype,X}(m,f,b);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var C=m.valueOf&&m.valueOf();if(C!=null&&C!==m)return l.from(C,f,b);var N=function(R){if(l.isBuffer(R)){var T=0|w(R.length),z=u(T);return z.length===0||R.copy(z,0,0,T),z}if(R.length!==void 0)return typeof R.length!="number"||$(R.length)?u(0):g(R);if(R.type==="Buffer"&&Array.isArray(R.data))return g(R.data)}(m);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return l.from(m[Symbol.toPrimitive]("string"),f,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}o(h,"i");function A(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}o(A,"h");function x(m){return A(m),u(m<0?0:0|w(m))}o(x,"c");function g(m){for(var f=m.length<0?0:0|w(m.length),b=u(f),C=0;C<f;C+=1)b[C]=255&m[C];return b}o(g,"l");function w(m){if(m>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|m}o(w,"f");function y(m,f){if(l.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||me(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var b=m.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&b===0)return 0;for(var N=!1;;)switch(f){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return fe(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return se(m).length;default:if(N)return C?-1:fe(m).length;f=(""+f).toLowerCase(),N=!0}}o(y,"u");function S(m,f,b){var C=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0)<=(f>>>=0))return"";for(m||(m="utf8");;)switch(m){case"hex":return U(this,f,b);case"utf8":case"utf-8":return ie(this,f,b);case"ascii":return Z(this,f,b);case"latin1":case"binary":return L(this,f,b);case"base64":return F(this,f,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,f,b);default:if(C)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),C=!0}}o(S,"p");function _(m,f,b){var C=m[f];m[f]=m[b],m[b]=C}o(_,"d");function E(m,f,b,C,N){if(m.length===0)return-1;if(typeof b=="string"?(C=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),$(b=+b)&&(b=N?0:m.length-1),b<0&&(b=m.length+b),b>=m.length){if(N)return-1;b=m.length-1}else if(b<0){if(!N)return-1;b=0}if(typeof f=="string"&&(f=l.from(f,C)),l.isBuffer(f))return f.length===0?-1:I(m,f,b,C,N);if(typeof f=="number")return f&=255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(m,f,b):Uint8Array.prototype.lastIndexOf.call(m,f,b):I(m,[f],b,C,N);throw new TypeError("val must be string, number or Buffer")}o(E,"g");function I(m,f,b,C,N){var R,T=1,z=m.length,X=f.length;if(C!==void 0&&((C=String(C).toLowerCase())==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(m.length<2||f.length<2)return-1;T=2,z/=2,X/=2,b/=2}function W(Fe,ze){return T===1?Fe[ze]:Fe.readUInt16BE(ze*T)}if(o(W,"c"),N){var ne=-1;for(R=b;R<z;R++)if(W(m,R)===W(f,ne===-1?0:R-ne)){if(ne===-1&&(ne=R),R-ne+1===X)return ne*T}else ne!==-1&&(R-=R-ne),ne=-1}else for(b+X>z&&(b=z-X),R=b;R>=0;R--){for(var ve=!0,Te=0;Te<X;Te++)if(W(m,R+Te)!==W(f,Te)){ve=!1;break}if(ve)return R}return-1}o(I,"b");function k(m,f,b,C){b=Number(b)||0;var N=m.length-b;C?(C=Number(C))>N&&(C=N):C=N;var R=f.length;C>R/2&&(C=R/2);for(var T=0;T<C;++T){var z=parseInt(f.substr(2*T,2),16);if($(z))return T;m[b+T]=z}return T}o(k,"A");function B(m,f,b,C){return oe(fe(f,m.length-b),m,b,C)}o(B,"T");function D(m,f,b,C){return oe(function(N){for(var R=[],T=0;T<N.length;++T)R.push(255&N.charCodeAt(T));return R}(f),m,b,C)}o(D,"m");function H(m,f,b,C){return D(m,f,b,C)}o(H,"w");function ue(m,f,b,C){return oe(se(f),m,b,C)}o(ue,"E");function te(m,f,b,C){return oe(function(N,R){for(var T,z,X,W=[],ne=0;ne<N.length&&!((R-=2)<0);++ne)z=(T=N.charCodeAt(ne))>>8,X=T%256,W.push(X),W.push(z);return W}(f,m.length-b),m,b,C)}o(te,"y");function F(m,f,b){return f===0&&b===m.length?s.fromByteArray(m):s.fromByteArray(m.slice(f,b))}o(F,"C");function ie(m,f,b){b=Math.min(m.length,b);for(var C=[],N=f;N<b;){var R,T,z,X,W=m[N],ne=null,ve=W>239?4:W>223?3:W>191?2:1;if(N+ve<=b)switch(ve){case 1:W<128&&(ne=W);break;case 2:(192&(R=m[N+1]))==128&&(X=(31&W)<<6|63&R)>127&&(ne=X);break;case 3:R=m[N+1],T=m[N+2],(192&R)==128&&(192&T)==128&&(X=(15&W)<<12|(63&R)<<6|63&T)>2047&&(X<55296||X>57343)&&(ne=X);break;case 4:R=m[N+1],T=m[N+2],z=m[N+3],(192&R)==128&&(192&T)==128&&(192&z)==128&&(X=(15&W)<<18|(63&R)<<12|(63&T)<<6|63&z)>65535&&X<1114112&&(ne=X)}ne===null?(ne=65533,ve=1):ne>65535&&(ne-=65536,C.push(ne>>>10&1023|55296),ne=56320|1023&ne),C.push(ne),N+=ve}return function(Te){var Fe=Te.length;if(Fe<=J)return String.fromCharCode.apply(String,Te);for(var ze="",je=0;je<Fe;)ze+=String.fromCharCode.apply(String,Te.slice(je,je+=J));return ze}(C)}o(ie,"S"),r.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{var m=new Uint8Array(1);return m.__proto__={__proto__:Uint8Array.prototype,foo:o(function(){return 42},"foo")},m.foo()===42}catch{return!1}}(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:o(function(){if(l.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:o(function(){if(l.isBuffer(this))return this.byteOffset},"get")}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(m,f,b){return h(m,f,b)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(m,f,b){return function(C,N,R){return A(C),C<=0?u(C):N!==void 0?typeof R=="string"?u(C).fill(N,R):u(C).fill(N):u(C)}(m,f,b)},l.allocUnsafe=function(m){return x(m)},l.allocUnsafeSlow=function(m){return x(m)},l.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==l.prototype},l.compare=function(m,f){if(me(m,Uint8Array)&&(m=l.from(m,m.offset,m.byteLength)),me(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),!l.isBuffer(m)||!l.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===f)return 0;for(var b=m.length,C=f.length,N=0,R=Math.min(b,C);N<R;++N)if(m[N]!==f[N]){b=m[N],C=f[N];break}return b<C?-1:C<b?1:0},l.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(m,f){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return l.alloc(0);var b;if(f===void 0)for(f=0,b=0;b<m.length;++b)f+=m[b].length;var C=l.allocUnsafe(f),N=0;for(b=0;b<m.length;++b){var R=m[b];if(me(R,Uint8Array)&&(R=l.from(R)),!l.isBuffer(R))throw new TypeError('"list" argument must be an Array of Buffers');R.copy(C,N),N+=R.length}return C},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<m;f+=2)_(this,f,f+1);return this},l.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<m;f+=4)_(this,f,f+3),_(this,f+1,f+2);return this},l.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<m;f+=8)_(this,f,f+7),_(this,f+1,f+6),_(this,f+2,f+5),_(this,f+3,f+4);return this},l.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?ie(this,0,m):S.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(m){if(!l.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||l.compare(this,m)===0},l.prototype.inspect=function(){var m="",f=r.INSPECT_MAX_BYTES;return m=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(m+=" ... "),"<Buffer "+m+">"},l.prototype.compare=function(m,f,b,C,N){if(me(m,Uint8Array)&&(m=l.from(m,m.offset,m.byteLength)),!l.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(f===void 0&&(f=0),b===void 0&&(b=m?m.length:0),C===void 0&&(C=0),N===void 0&&(N=this.length),f<0||b>m.length||C<0||N>this.length)throw new RangeError("out of range index");if(C>=N&&f>=b)return 0;if(C>=N)return-1;if(f>=b)return 1;if(this===m)return 0;for(var R=(N>>>=0)-(C>>>=0),T=(b>>>=0)-(f>>>=0),z=Math.min(R,T),X=this.slice(C,N),W=m.slice(f,b),ne=0;ne<z;++ne)if(X[ne]!==W[ne]){R=X[ne],T=W[ne];break}return R<T?-1:T<R?1:0},l.prototype.includes=function(m,f,b){return this.indexOf(m,f,b)!==-1},l.prototype.indexOf=function(m,f,b){return E(this,m,f,b,!0)},l.prototype.lastIndexOf=function(m,f,b){return E(this,m,f,b,!1)},l.prototype.write=function(m,f,b,C){if(f===void 0)C="utf8",b=this.length,f=0;else if(b===void 0&&typeof f=="string")C=f,b=this.length,f=0;else{if(!isFinite(f))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");f>>>=0,isFinite(b)?(b>>>=0,C===void 0&&(C="utf8")):(C=b,b=void 0)}var N=this.length-f;if((b===void 0||b>N)&&(b=N),m.length>0&&(b<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");for(var R=!1;;)switch(C){case"hex":return k(this,m,f,b);case"utf8":case"utf-8":return B(this,m,f,b);case"ascii":return D(this,m,f,b);case"latin1":case"binary":return H(this,m,f,b);case"base64":return ue(this,m,f,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,m,f,b);default:if(R)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),R=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;function Z(m,f,b){var C="";b=Math.min(m.length,b);for(var N=f;N<b;++N)C+=String.fromCharCode(127&m[N]);return C}o(Z,"M");function L(m,f,b){var C="";b=Math.min(m.length,b);for(var N=f;N<b;++N)C+=String.fromCharCode(m[N]);return C}o(L,"$");function U(m,f,b){var C=m.length;(!f||f<0)&&(f=0),(!b||b<0||b>C)&&(b=C);for(var N="",R=f;R<b;++R)N+=Q(m[R]);return N}o(U,"k");function M(m,f,b){for(var C=m.slice(f,b),N="",R=0;R<C.length;R+=2)N+=String.fromCharCode(C[R]+256*C[R+1]);return N}o(M,"x");function P(m,f,b){if(m%1!=0||m<0)throw new RangeError("offset is not uint");if(m+f>b)throw new RangeError("Trying to access beyond buffer length")}o(P,"B");function O(m,f,b,C,N,R){if(!l.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>N||f<R)throw new RangeError('"value" argument is out of bounds');if(b+C>m.length)throw new RangeError("Index out of range")}o(O,"N");function q(m,f,b,C,N,R){if(b+C>m.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}o(q,"R");function Y(m,f,b,C,N){return f=+f,b>>>=0,N||q(m,0,b,4),i.write(m,f,b,C,23,4),b+4}o(Y,"v");function j(m,f,b,C,N){return f=+f,b>>>=0,N||q(m,0,b,8),i.write(m,f,b,C,52,8),b+8}o(j,"O"),l.prototype.slice=function(m,f){var b=this.length;(m=~~m)<0?(m+=b)<0&&(m=0):m>b&&(m=b),(f=f===void 0?b:~~f)<0?(f+=b)<0&&(f=0):f>b&&(f=b),f<m&&(f=m);var C=this.subarray(m,f);return C.__proto__=l.prototype,C},l.prototype.readUIntLE=function(m,f,b){m>>>=0,f>>>=0,b||P(m,f,this.length);for(var C=this[m],N=1,R=0;++R<f&&(N*=256);)C+=this[m+R]*N;return C},l.prototype.readUIntBE=function(m,f,b){m>>>=0,f>>>=0,b||P(m,f,this.length);for(var C=this[m+--f],N=1;f>0&&(N*=256);)C+=this[m+--f]*N;return C},l.prototype.readUInt8=function(m,f){return m>>>=0,f||P(m,1,this.length),this[m]},l.prototype.readUInt16LE=function(m,f){return m>>>=0,f||P(m,2,this.length),this[m]|this[m+1]<<8},l.prototype.readUInt16BE=function(m,f){return m>>>=0,f||P(m,2,this.length),this[m]<<8|this[m+1]},l.prototype.readUInt32LE=function(m,f){return m>>>=0,f||P(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},l.prototype.readUInt32BE=function(m,f){return m>>>=0,f||P(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},l.prototype.readIntLE=function(m,f,b){m>>>=0,f>>>=0,b||P(m,f,this.length);for(var C=this[m],N=1,R=0;++R<f&&(N*=256);)C+=this[m+R]*N;return C>=(N*=128)&&(C-=Math.pow(2,8*f)),C},l.prototype.readIntBE=function(m,f,b){m>>>=0,f>>>=0,b||P(m,f,this.length);for(var C=f,N=1,R=this[m+--C];C>0&&(N*=256);)R+=this[m+--C]*N;return R>=(N*=128)&&(R-=Math.pow(2,8*f)),R},l.prototype.readInt8=function(m,f){return m>>>=0,f||P(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},l.prototype.readInt16LE=function(m,f){m>>>=0,f||P(m,2,this.length);var b=this[m]|this[m+1]<<8;return 32768&b?4294901760|b:b},l.prototype.readInt16BE=function(m,f){m>>>=0,f||P(m,2,this.length);var b=this[m+1]|this[m]<<8;return 32768&b?4294901760|b:b},l.prototype.readInt32LE=function(m,f){return m>>>=0,f||P(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},l.prototype.readInt32BE=function(m,f){return m>>>=0,f||P(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},l.prototype.readFloatLE=function(m,f){return m>>>=0,f||P(m,4,this.length),i.read(this,m,!0,23,4)},l.prototype.readFloatBE=function(m,f){return m>>>=0,f||P(m,4,this.length),i.read(this,m,!1,23,4)},l.prototype.readDoubleLE=function(m,f){return m>>>=0,f||P(m,8,this.length),i.read(this,m,!0,52,8)},l.prototype.readDoubleBE=function(m,f){return m>>>=0,f||P(m,8,this.length),i.read(this,m,!1,52,8)},l.prototype.writeUIntLE=function(m,f,b,C){m=+m,f>>>=0,b>>>=0,C||O(this,m,f,b,Math.pow(2,8*b)-1,0);var N=1,R=0;for(this[f]=255&m;++R<b&&(N*=256);)this[f+R]=m/N&255;return f+b},l.prototype.writeUIntBE=function(m,f,b,C){m=+m,f>>>=0,b>>>=0,C||O(this,m,f,b,Math.pow(2,8*b)-1,0);var N=b-1,R=1;for(this[f+N]=255&m;--N>=0&&(R*=256);)this[f+N]=m/R&255;return f+b},l.prototype.writeUInt8=function(m,f,b){return m=+m,f>>>=0,b||O(this,m,f,1,255,0),this[f]=255&m,f+1},l.prototype.writeUInt16LE=function(m,f,b){return m=+m,f>>>=0,b||O(this,m,f,2,65535,0),this[f]=255&m,this[f+1]=m>>>8,f+2},l.prototype.writeUInt16BE=function(m,f,b){return m=+m,f>>>=0,b||O(this,m,f,2,65535,0),this[f]=m>>>8,this[f+1]=255&m,f+2},l.prototype.writeUInt32LE=function(m,f,b){return m=+m,f>>>=0,b||O(this,m,f,4,4294967295,0),this[f+3]=m>>>24,this[f+2]=m>>>16,this[f+1]=m>>>8,this[f]=255&m,f+4},l.prototype.writeUInt32BE=function(m,f,b){return m=+m,f>>>=0,b||O(this,m,f,4,4294967295,0),this[f]=m>>>24,this[f+1]=m>>>16,this[f+2]=m>>>8,this[f+3]=255&m,f+4},l.prototype.writeIntLE=function(m,f,b,C){if(m=+m,f>>>=0,!C){var N=Math.pow(2,8*b-1);O(this,m,f,b,N-1,-N)}var R=0,T=1,z=0;for(this[f]=255&m;++R<b&&(T*=256);)m<0&&z===0&&this[f+R-1]!==0&&(z=1),this[f+R]=(m/T>>0)-z&255;return f+b},l.prototype.writeIntBE=function(m,f,b,C){if(m=+m,f>>>=0,!C){var N=Math.pow(2,8*b-1);O(this,m,f,b,N-1,-N)}var R=b-1,T=1,z=0;for(this[f+R]=255&m;--R>=0&&(T*=256);)m<0&&z===0&&this[f+R+1]!==0&&(z=1),this[f+R]=(m/T>>0)-z&255;return f+b},l.prototype.writeInt8=function(m,f,b){return m=+m,f>>>=0,b||O(this,m,f,1,127,-128),m<0&&(m=255+m+1),this[f]=255&m,f+1},l.prototype.writeInt16LE=function(m,f,b){return m=+m,f>>>=0,b||O(this,m,f,2,32767,-32768),this[f]=255&m,this[f+1]=m>>>8,f+2},l.prototype.writeInt16BE=function(m,f,b){return m=+m,f>>>=0,b||O(this,m,f,2,32767,-32768),this[f]=m>>>8,this[f+1]=255&m,f+2},l.prototype.writeInt32LE=function(m,f,b){return m=+m,f>>>=0,b||O(this,m,f,4,2147483647,-2147483648),this[f]=255&m,this[f+1]=m>>>8,this[f+2]=m>>>16,this[f+3]=m>>>24,f+4},l.prototype.writeInt32BE=function(m,f,b){return m=+m,f>>>=0,b||O(this,m,f,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[f]=m>>>24,this[f+1]=m>>>16,this[f+2]=m>>>8,this[f+3]=255&m,f+4},l.prototype.writeFloatLE=function(m,f,b){return Y(this,m,f,!0,b)},l.prototype.writeFloatBE=function(m,f,b){return Y(this,m,f,!1,b)},l.prototype.writeDoubleLE=function(m,f,b){return j(this,m,f,!0,b)},l.prototype.writeDoubleBE=function(m,f,b){return j(this,m,f,!1,b)},l.prototype.copy=function(m,f,b,C){if(!l.isBuffer(m))throw new TypeError("argument should be a Buffer");if(b||(b=0),C||C===0||(C=this.length),f>=m.length&&(f=m.length),f||(f=0),C>0&&C<b&&(C=b),C===b||m.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),m.length-f<C-b&&(C=m.length-f+b);var N=C-b;if(this===m&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(f,b,C);else if(this===m&&b<f&&f<C)for(var R=N-1;R>=0;--R)m[R+f]=this[R+b];else Uint8Array.prototype.set.call(m,this.subarray(b,C),f);return N},l.prototype.fill=function(m,f,b,C){if(typeof m=="string"){if(typeof f=="string"?(C=f,f=0,b=this.length):typeof b=="string"&&(C=b,b=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!l.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(m.length===1){var N=m.charCodeAt(0);(C==="utf8"&&N<128||C==="latin1")&&(m=N)}}else typeof m=="number"&&(m&=255);if(f<0||this.length<f||this.length<b)throw new RangeError("Out of range index");if(b<=f)return this;var R;if(f>>>=0,b=b===void 0?this.length:b>>>0,m||(m=0),typeof m=="number")for(R=f;R<b;++R)this[R]=m;else{var T=l.isBuffer(m)?m:l.from(m,C),z=T.length;if(z===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(R=0;R<b-f;++R)this[R+f]=T[R%z]}return this};var le=/[^+/0-9A-Za-z-_]/g;function Q(m){return m<16?"0"+m.toString(16):m.toString(16)}o(Q,"U");function fe(m,f){var b;f=f||1/0;for(var C=m.length,N=null,R=[],T=0;T<C;++T){if((b=m.charCodeAt(T))>55295&&b<57344){if(!N){if(b>56319){(f-=3)>-1&&R.push(239,191,189);continue}if(T+1===C){(f-=3)>-1&&R.push(239,191,189);continue}N=b;continue}if(b<56320){(f-=3)>-1&&R.push(239,191,189),N=b;continue}b=65536+(N-55296<<10|b-56320)}else N&&(f-=3)>-1&&R.push(239,191,189);if(N=null,b<128){if((f-=1)<0)break;R.push(b)}else if(b<2048){if((f-=2)<0)break;R.push(b>>6|192,63&b|128)}else if(b<65536){if((f-=3)<0)break;R.push(b>>12|224,b>>6&63|128,63&b|128)}else{if(!(b<1114112))throw new Error("Invalid code point");if((f-=4)<0)break;R.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}}return R}o(fe,"_");function se(m){return s.toByteArray(function(f){if((f=(f=f.split("=")[0]).trim().replace(le,"")).length<2)return"";for(;f.length%4!=0;)f+="=";return f}(m))}o(se,"I");function oe(m,f,b,C){for(var N=0;N<C&&!(N+b>=f.length||N>=m.length);++N)f[N+b]=m[N];return N}o(oe,"H");function me(m,f){return m instanceof f||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===f.name}o(me,"F");function $(m){return m!=m}o($,"P")}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(e,t,r){r.read=function(n,s,i,a,u){var l,h,A=8*u-a-1,x=(1<<A)-1,g=x>>1,w=-7,y=i?u-1:0,S=i?-1:1,_=n[s+y];for(y+=S,l=_&(1<<-w)-1,_>>=-w,w+=A;w>0;l=256*l+n[s+y],y+=S,w-=8);for(h=l&(1<<-w)-1,l>>=-w,w+=a;w>0;h=256*h+n[s+y],y+=S,w-=8);if(l===0)l=1-g;else{if(l===x)return h?NaN:1/0*(_?-1:1);h+=Math.pow(2,a),l-=g}return(_?-1:1)*h*Math.pow(2,l-a)},r.write=function(n,s,i,a,u,l){var h,A,x,g=8*l-u-1,w=(1<<g)-1,y=w>>1,S=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=a?0:l-1,E=a?1:-1,I=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(A=isNaN(s)?1:0,h=w):(h=Math.floor(Math.log(s)/Math.LN2),s*(x=Math.pow(2,-h))<1&&(h--,x*=2),(s+=h+y>=1?S/x:S*Math.pow(2,1-y))*x>=2&&(h++,x/=2),h+y>=w?(A=0,h=w):h+y>=1?(A=(s*x-1)*Math.pow(2,u),h+=y):(A=s*Math.pow(2,y-1)*Math.pow(2,u),h=0));u>=8;n[i+_]=255&A,_+=E,A/=256,u-=8);for(h=h<<u|A,g+=u;g>0;n[i+_]=255&h,_+=E,h/=256,g-=8);n[i+_-E]|=128*I}},{}],4:[function(e,t,r){(function(n){(function(){let s=this,i=e("./transformers"),a="UTF8",u="UTF16",l="UTF16BE",h="UTF16LE",A="UTF32",x="UTF32BE",g="UTF32LE",w="UINT7",y="ASCII",S="BINARY",_="UINT8",E="UINT16",I="UINT16LE",k="UINT16BE",B="UINT32",D="UINT32LE",H="UINT32BE",ue="ESCAPED",te="STRING",F=o(function(J,Z){if(typeof J!="string"||J==="")throw new TypeError(`type: "${J}" not recognized`);let L=function(U){let M={type:"",base64:!1},P=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(U);return P&&(P[2]&&(M.type=P[2].toUpperCase()),P[1]&&(M.base64=!0)),M}(J.toUpperCase());if(L.base64){if(L.type===te)throw new TypeError(`type: "${J} "BASE64:" prefix not allowed with type STRING`);if(n.isBuffer(Z))L.data=i.base64.decode(Z);else{if(typeof Z!="string")throw new TypeError(`type: "${J} unrecognized data type: typeof(data): ${typeof Z}`);{let U=n.from(Z,"ascii");L.data=i.base64.decode(U)}}}else L.data=Z;switch(L.type){case a:(function(U){U.type=a;let M=U.data;U.bom=0,M.length>=3&&M[0]===239&&M[1]===187&&M[2]===191&&(U.bom=3)})(L);break;case u:case l:case h:(function(U){let M=U.data;switch(U.bom=0,U.type){case u:U.type=l,M.length>=2&&(M[0]===254&&M[1]===255?U.bom=2:M[0]===255&&M[1]===254&&(U.type=h,U.bom=2));break;case l:if(U.type=l,M.length>=2){if(M[0]===254&&M[1]===255)U.bom=2;else if(M[0]===255&&M[1]===254)throw new TypeError('src type: "UTF16BE" specified but BOM is for "UTF16LE"')}break;case h:if(U.type=h,M.length>=0){if(M[0]===254&&M[1]===255)throw new TypeError('src type: "UTF16LE" specified but BOM is for "UTF16BE"');M[0]===255&&M[1]===254&&(U.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${U.type}" unrecognized`)}})(L);break;case A:case x:case g:(function(U){let M=U.data;switch(U.bom=0,U.type){case A:U.type=x,M.length>=4&&(M[0]===0&&M[1]===0&&M[2]===254&&M[3]===255&&(U.bom=4),M[0]===255&&M[1]===254&&M[2]===0&&M[3]===0&&(U.type=g,U.bom=4));break;case x:if(U.type=x,M.length>=4&&(M[0]===0&&M[1]===0&&M[2]===254&&M[3]===255&&(U.bom=4),M[0]===255&&M[1]===254&&M[2]===0&&M[3]===0))throw new TypeError('src type: UTF32BE specified but BOM is for UTF32LE"');break;case g:if(U.type=g,M.length>=4){if(M[0]===0&&M[1]===0&&M[2]===254&&M[3]===255)throw new TypeError('src type: "UTF32LE" specified but BOM is for "UTF32BE"');M[0]===255&&M[1]===254&&M[2]===0&&M[3]===0&&(U.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${U.type}" unrecognized`)}})(L);break;case E:L.type=k;break;case B:L.type=H;break;case y:L.type=w;break;case S:L.type=_;break;case w:case _:case I:case k:case D:case H:case te:case ue:break;default:throw new TypeError(`type: "${J}" not recognized`)}if(L.type===te){if(typeof L.data!="string")throw new TypeError(`type: "${J}" but data is not a string`)}else if(!n.isBuffer(L.data))throw new TypeError(`type: "${J}" but data is not a Buffer`);return L},"S"),ie=o(function(J,Z){switch(J){case a:return i.utf8.encode(Z);case l:return i.utf16be.encode(Z);case h:return i.utf16le.encode(Z);case x:return i.utf32be.encode(Z);case g:return i.utf32le.encode(Z);case w:return i.uint7.encode(Z);case _:return i.uint8.encode(Z);case k:return i.uint16be.encode(Z);case I:return i.uint16le.encode(Z);case H:return i.uint32be.encode(Z);case D:return i.uint32le.encode(Z);case te:return i.string.encode(Z);case ue:return i.escaped.encode(Z);default:throw new TypeError(`encode type "${J}" not recognized`)}},"L");r.decode=function(J,Z){return function(L){switch(L.type){case a:return i.utf8.decode(L.data,L.bom);case h:return i.utf16le.decode(L.data,L.bom);case l:return i.utf16be.decode(L.data,L.bom);case x:return i.utf32be.decode(L.data,L.bom);case g:return i.utf32le.decode(L.data,L.bom);case w:return i.uint7.decode(L.data);case _:return i.uint8.decode(L.data);case k:return i.uint16be.decode(L.data);case I:return i.uint16le.decode(L.data);case H:return i.uint32be.decode(L.data);case D:return i.uint32le.decode(L.data);case te:return i.string.decode(L.data);case ue:return i.escaped.decode(L.data);default:throw new TypeError(`decode type "${L.type}" not recognized`)}}(F(J,Z))},r.encode=function(J,Z){let L,U,M=function(P,O){if(!Array.isArray(O))throw new TypeError('dst chars: not array: "'+typeof O);if(typeof P!="string")throw new TypeError('dst type: not string: "'+typeof P);let q=function(Y){let j,le,Q={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(le=Y,j=Y.slice(0,5),j==="CRLF:"){Q.crlf=!0,le=Y.slice(5);break}if(j=Y.slice(0,3),j==="LF:"){Q.lf=!0,le=Y.slice(3);break}break}return j=le.split(":"),j.length===1?Q.type=j[0]:j.length===2&&j[1]==="BASE64"&&(Q.base64=!0,Q.type=j[0]),Q}(P.toUpperCase());switch(q.type){case a:case l:case h:case x:case g:case w:case _:case I:case k:case D:case H:case ue:break;case te:if(q.base64)throw new TypeError('":BASE64" suffix not allowed with type STRING');break;case y:q.type=w;break;case S:q.type=_;break;case u:q.type=l;break;case A:q.type=x;break;case E:q.type=k;break;case B:q.type=H;break;default:throw new TypeError(`dst type unrecognized: "${P}" : must have form [crlf:|lf:]type[:base64]`)}return q}(J,Z);return M.crlf?(L=i.lineEnds.crlf(Z),U=ie(M.type,L)):M.lf?(L=i.lineEnds.lf(Z),U=ie(M.type,L)):U=ie(M.type,Z),M.base64&&(U=i.base64.encode(U)),U},r.convert=function(J,Z,L){return s.encode(L,s.decode(J,Z))}}).call(this)}).call(this,e("buffer").Buffer)},{"./transformers":6,buffer:2}],5:[function(e,t,r){t.exports={converter:e("./converter"),transformers:e("./transformers")}},{"./converter":4,"./transformers":6}],6:[function(e,t,r){(function(n){(function(){let s=this,i=4294967292,a=4294967293,u=4294967294,l=4294967295,h=[0,1,3,7,15,31,63,127,255,511,1023],A=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),g=[];x.forEach(y=>{g.push(y.charCodeAt(0))}),r.utf8={encode(y){let S=[];return y.forEach(_=>{if(_>=0&&_<=127)S.push(_);else if(_<=2047)S.push(192+(_>>6&h[5])),S.push(128+(_&h[6]));else if(_<55296||_>57343&&_<=65535)S.push(224+(_>>12&h[4])),S.push(128+(_>>6&h[6])),S.push(128+(_&h[6]));else{if(!(_>=65536&&_<=1114111))throw new RangeError(`utf8.encode: character out of range: char: ${_}`);{let E=_>>16&h[5];S.push(240+(E>>2)),S.push(128+((E&h[2])<<4)+(_>>12&h[4])),S.push(128+(_>>6&h[6])),S.push(128+(_&h[6]))}}}),n.from(S)},decode(y,S){function _(Z,L){if((192&L)!=128)return a;let U=((Z&h[5])<<6)+(L&h[6]);return U<128?i:U}o(_,"n");function E(Z,L,U){if((192&U)!=128||(192&L)!=128)return a;let M=((Z&h[4])<<12)+((L&h[6])<<6)+(U&h[6]);return M<2048?i:M>=55296&&M<=57343?u:M}o(E,"h");function I(Z,L,U,M){if((192&M)!=128||(192&U)!=128||(192&L)!=128)return a;let P=(((Z&h[3])<<2)+(L>>4&h[2])<<16)+((L&h[4])<<12)+((U&h[6])<<6)+(M&h[6]);return P<65536?i:P>1114111?u:P}o(I,"c");let k,B,D,H,ue,te,F=y.length,ie=S?3:0,J=[];for(;ie<F;){B=y[ie],k=l;let Z=!0;for(;Z;){if(B>=0&&B<=127){k=B,te=1;break}if(D=ie+1,D<F&&B>=194&&B<=223){k=_(B,y[D]),te=2;break}if(H=ie+2,H<F&&B>=224&&B<=239){k=E(B,y[D],y[H]),te=3;break}if(ue=ie+3,ue<F&&B>=240&&B<=244){k=I(B,y[D],y[H],y[ue]),te=4;break}break}if(k>1114111){let L=`byte[${ie}]`;throw k===l?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${L}`):k===a?new RangeError(`utf8.decode: illegal trailing byte found at: ${L}`):k===u?new RangeError(`utf8.decode: code point out of range found at: ${L}`):k===i?new RangeError(`utf8.decode: non-shortest form found at: ${L}`):new RangeError(`utf8.decode: unrecognized error found at: ${L}`)}J.push(k),ie+=te}return J}},r.utf16be={encode(y){let S=[],_,E,I;for(let k=0;k<y.length;k+=1)if(_=y[k],_>=0&&_<=55295||_>=57344&&_<=65535)S.push(_>>8&h[8]),S.push(_&h[8]);else{if(!(_>=65536&&_<=1114111))throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${k}]: ${_}`);I=_-65536,E=55296+(I>>10),I=56320+(I&h[10]),S.push(E>>8&h[8]),S.push(E&h[8]),S.push(I>>8&h[8]),S.push(I&h[8])}return n.from(S)},decode(y,S){if(y.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${y.length}`);let _=[],E=y.length,I,k,B,D,H,ue,te=S?2:0,F=0;for(;te<E;){for(;;){if(B=te+1,B<E){if(H=(y[te]<<8)+y[B],H<55296||H>57343){I=H,k=2;break}if(D=te+3,D<E&&(ue=(y[te+2]<<8)+y[D],H<=56319&&ue>=56320&&ue<=57343)){I=65536+(H-55296<<10)+(ue-56320),k=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${te}]`)}_[F++]=I,te+=k}return _}},r.utf16le={encode(y){let S=[],_,E,I;for(let k=0;k<y.length;k+=1)if(_=y[k],_>=0&&_<=55295||_>=57344&&_<=65535)S.push(_&h[8]),S.push(_>>8&h[8]);else{if(!(_>=65536&&_<=1114111))throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${k}]: ${_}`);I=_-65536,E=55296+(I>>10),I=56320+(I&h[10]),S.push(E&h[8]),S.push(E>>8&h[8]),S.push(I&h[8]),S.push(I>>8&h[8])}return n.from(S)},decode(y,S){if(y.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${y.length}`);let _=[],E=y.length,I,k,B,D,H,ue,te=S?2:0,F=0;for(;te<E;){for(;;){if(B=te+1,B<E){if(H=(y[B]<<8)+y[te],H<55296||H>57343){I=H,k=2;break}if(D=te+3,D<E&&(ue=(y[D]<<8)+y[te+2],H<=56319&&ue>=56320&&ue<=57343)){I=65536+(H-55296<<10)+(ue-56320),k=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${te}]`)}_[F++]=I,te+=k}return _}},r.utf32be={encode(y){let S=n.alloc(4*y.length),_=0;return y.forEach(E=>{if(E>=55296&&E<=57343||E>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${_/4}]: ${E}`);S[_++]=E>>24&h[8],S[_++]=E>>16&h[8],S[_++]=E>>8&h[8],S[_++]=E&h[8]}),S},decode(y,S){if(y.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${y.length}`);let _=[],E=S?4:0;for(;E<y.length;E+=4){let I=(y[E]<<24)+(y[E+1]<<16)+(y[E+2]<<8)+y[E+3];if(I>=55296&&I<=57343||I>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${E/4}]: ${I}`);_.push(I)}return _}},r.utf32le={encode(y){let S=n.alloc(4*y.length),_=0;return y.forEach(E=>{if(E>=55296&&E<=57343||E>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${_/4}]: ${E}`);S[_++]=E&h[8],S[_++]=E>>8&h[8],S[_++]=E>>16&h[8],S[_++]=E>>24&h[8]}),S},decode(y,S){if(y.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${y.length}`);let _=[],E=S?4:0;for(;E<y.length;E+=4){let I=(y[E+3]<<24)+(y[E+2]<<16)+(y[E+1]<<8)+y[E];if(I>=55296&&I<=57343||I>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${E/4}]: ${I}`);_.push(I)}return _}},r.uint7={encode(y){let S=n.alloc(y.length);for(let _=0;_<y.length;_+=1){if(y[_]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${_}]: ${y[_]}`);S[_]=y[_]}return S},decode(y){let S=[];for(let _=0;_<y.length;_+=1){if(y[_]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${_}]: ${y[_]}`);S[_]=y[_]}return S}},r.uint8={encode(y){let S=n.alloc(y.length);for(let _=0;_<y.length;_+=1){if(y[_]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${_}]: ${y[_]}`);S[_]=y[_]}return S},decode(y){let S=[];for(let _=0;_<y.length;_+=1)S[_]=y[_];return S}},r.uint16be={encode(y){let S=n.alloc(2*y.length),_=0;return y.forEach(E=>{if(E>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${_/2}]: ${E}`);S[_++]=E>>8&h[8],S[_++]=E&h[8]}),S},decode(y){if(y.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${y.length}`);let S=[];for(let _=0;_<y.length;_+=2)S.push((y[_]<<8)+y[_+1]);return S}},r.uint16le={encode(y){let S=n.alloc(2*y.length),_=0;return y.forEach(E=>{if(E>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${_/2}]: ${E}`);S[_++]=E&h[8],S[_++]=E>>8&h[8]}),S},decode(y){if(y.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${y.length}`);let S=[];for(let _=0;_<y.length;_+=2)S.push((y[_+1]<<8)+y[_]);return S}},r.uint32be={encode(y){let S=n.alloc(4*y.length),_=0;return y.forEach(E=>{S[_++]=E>>24&h[8],S[_++]=E>>16&h[8],S[_++]=E>>8&h[8],S[_++]=E&h[8]}),S},decode(y){if(y.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${y.length}`);let S=[];for(let _=0;_<y.length;_+=4)S.push((y[_]<<24)+(y[_+1]<<16)+(y[_+2]<<8)+y[_+3]);return S}},r.uint32le={encode(y){let S=n.alloc(4*y.length),_=0;return y.forEach(E=>{S[_++]=E&h[8],S[_++]=E>>8&h[8],S[_++]=E>>16&h[8],S[_++]=E>>24&h[8]}),S},decode(y){if(y.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${y.length}`);let S=[];for(let _=0;_<y.length;_+=4)S.push((y[_+3]<<24)+(y[_+2]<<16)+(y[_+1]<<8)+y[_]);return S}},r.string={encode:o(y=>s.utf16le.encode(y).toString("utf16le"),"encode"),decode:o(y=>s.utf16le.decode(n.from(y,"utf16le"),0),"decode")},r.escaped={encode(y){let S=[];for(let _=0;_<y.length;_+=1){let E=y[_];if(E===96)S.push(E),S.push(E);else if(E===10)S.push(E);else if(E>=32&&E<=126)S.push(E);else{let I="";if(E>=0&&E<=31)I+=`\`x${A[E]}`;else if(E>=127&&E<=255)I+=`\`x${A[E]}`;else if(E>=256&&E<=65535)I+=`\`u${A[E>>8&h[8]]}${A[E&h[8]]}`;else{if(!(E>=65536&&E<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");{I+="`u{";let k=E>>24&h[8];k>0&&(I+=A[k]),I+=`${A[E>>16&h[8]]+A[E>>8&h[8]]+A[E&h[8]]}}`}}n.from(I).forEach(k=>{S.push(k)})}}return n.from(S)},decode(y){function S(F){return F>=48&&F<=57||F>=65&&F<=70||F>=97&&F<=102}o(S,"t");function _(F,ie,J){let Z={char:null,nexti:F+2,error:!0};if(F+1<ie&&S(J[F])&&S(J[F+1])){let L=String.fromCodePoint(J[F],J[F+1]);Z.char=parseInt(L,16),Number.isNaN(Z.char)||(Z.error=!1)}return Z}o(_,"n");function E(F,ie,J){let Z={char:null,nexti:F+4,error:!0};if(F+3<ie&&S(J[F])&&S(J[F+1])&&S(J[F+2])&&S(J[F+3])){let L=String.fromCodePoint(J[F],J[F+1],J[F+2],J[F+3]);Z.char=parseInt(L,16),Number.isNaN(Z.char)||(Z.error=!1)}return Z}o(E,"r");function I(F,ie,J){let Z={char:null,nexti:F+4,error:!0},L="";for(;F<ie&&S(J[F]);)L+=String.fromCodePoint(J[F]),F+=1;return Z.char=parseInt(L,16),J[F]!==125||Number.isNaN(Z.char)||(Z.error=!1),Z.nexti=F+1,Z}o(I,"o");let k=[],B=y.length,D,H,ue,te=0;for(;te<B;){for(;;){if(ue=!0,y[te]!==96){k.push(y[te]),te+=1,ue=!1;break}if(D=te+1,D>=B)break;if(y[D]===96){k.push(96),te+=2,ue=!1;break}if(y[D]===120){if(H=_(D+1,B,y),H.error)break;k.push(H.char),te=H.nexti,ue=!1;break}if(y[D]===117){if(y[D+1]===123){if(H=I(D+2,B,y),H.error)break;k.push(H.char),te=H.nexti,ue=!1;break}if(H=E(D+1,B,y),H.error)break;k.push(H.char),te=H.nexti,ue=!1;break}break}if(ue)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${te}]`)}return k}};let w=10;r.lineEnds={crlf(y){let S=[],_=0;for(;_<y.length;)switch(y[_]){case 13:_+1<y.length&&y[_+1]===w?_+=2:_+=1,S.push(13),S.push(w);break;case w:S.push(13),S.push(w),_+=1;break;default:S.push(y[_]),_+=1}return S.length>0&&S[S.length-1]!==w&&(S.push(13),S.push(w)),S},lf(y){let S=[],_=0;for(;_<y.length;)switch(y[_]){case 13:_+1<y.length&&y[_+1]===w?_+=2:_+=1,S.push(w);break;case w:S.push(w),_+=1;break;default:S.push(y[_]),_+=1}return S.length>0&&S[S.length-1]!==w&&S.push(w),S}},r.base64={encode(y){if(y.length===0)return n.alloc(0);let S,_,E,I=y.length%3;I=I>0?3-I:0;let k=(y.length+I)/3,B=n.alloc(4*k);I>0&&(k-=1),S=0,_=0;for(let D=0;D<k;D+=1)E=y[S++]<<16,E+=y[S++]<<8,E+=y[S++],B[_++]=g[E>>18&h[6]],B[_++]=g[E>>12&h[6]],B[_++]=g[E>>6&h[6]],B[_++]=g[E&h[6]];return I===0?B:I===1?(E=y[S++]<<16,E+=y[S]<<8,B[_++]=g[E>>18&h[6]],B[_++]=g[E>>12&h[6]],B[_++]=g[E>>6&h[6]],B[_]=g[64],B):I===2?(E=y[S]<<16,B[_++]=g[E>>18&h[6]],B[_++]=g[E>>12&h[6]],B[_++]=g[64],B[_]=g[64],B):void 0},decode(y){if(y.length===0)return n.alloc(0);let S=function(ue){let te=[],F=0;for(let ie=0;ie<ue.length;ie+=1){let J=ue[ie],Z=!0;for(;Z&&J!==32&&J!==9&&J!==10&&J!==13;){if(J>=65&&J<=90){te.push(J-65);break}if(J>=97&&J<=122){te.push(J-71);break}if(J>=48&&J<=57){te.push(J+4);break}if(J===43){te.push(62);break}if(J===47){te.push(63);break}if(J===61){te.push(64),F+=1;break}throw new RangeError(`base64.decode: invalid character buf[${ie}]: ${J}`)}}if(te.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${te.length}`);switch(F){case 0:break;case 1:if(te[te.length-1]!==64)throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(te[te.length-1]!==64||te[te.length-2]!==64)throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${F}`)}return{tail:F,buf:n.from(te)}}(y),{tail:_}=S,E=S.buf,I,k,B,D=E.length/4,H=n.alloc(3*D-_);_>0&&(D-=1),k=0,I=0;for(let ue=0;ue<D;ue+=1)B=E[I++]<<18,B+=E[I++]<<12,B+=E[I++]<<6,B+=E[I++],H[k++]=B>>16&h[8],H[k++]=B>>8&h[8],H[k++]=B&h[8];return _===1&&(B=E[I++]<<18,B+=E[I++]<<12,B+=E[I]<<6,H[k++]=B>>16&h[8],H[k]=B>>8&h[8]),_===2&&(B=E[I++]<<18,B+=E[I++]<<12,H[k]=B>>16&h[8]),H},toString(y){if(y.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${y.length}`);let S="",_=0;function E(k,B,D,H){switch(_){case 76:S+=`\r
${k}${B}${D}${H}`,_=4;break;case 75:S+=`${k}\r
${B}${D}${H}`,_=3;break;case 74:S+=`${k+B}\r
${D}${H}`,_=2;break;case 73:S+=`${k+B+D}\r
${H}`,_=1;break;default:S+=k+B+D+H,_+=4}}o(E,"r");for(let k=0;k<y.length;k+=4){for(let B=k;B<k+4;B+=1)if(!((I=y[B])>=65&&I<=90||I>=97&&I<=122||I>=48&&I<=57||I===43||I===47||I===61))throw new RangeError(`base64.toString: buf[${B}]: ${y[B]} : not valid base64 character code`);E(String.fromCharCode(y[k]),String.fromCharCode(y[k+1]),String.fromCharCode(y[k+2]),String.fromCharCode(y[k+3]))}var I;return S}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:2}],7:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),i=this,a=null,u=null,l=null,h=0,A=[],x=[],g=[],w=[];function y(S){let _="";for(let E=0;E<S;E+=1)_+=" ";return _}o(y,"u"),this.callbacks=[],this.astObject="astObject",this.init=function(S,_,E){let I;g.length=0,w.length=0,A.length=0,h=0,a=S,u=_,l=E;let k=[];for(I=0;I<a.length;I+=1)k.push(a[I].lower);for(I=0;I<u.length;I+=1)k.push(u[I].lower);for(h=a.length+u.length,I=0;I<h;I+=1)A[I]=!1,x[I]=null;for(let B in i.callbacks){let D=B.toLowerCase();if(I=k.indexOf(D),I<0)throw new Error(`ast.js: init: node '${B}' not a rule or udt name`);typeof i.callbacks[B]=="function"&&(A[I]=!0,x[I]=i.callbacks[B]),i.callbacks[B]===!0&&(A[I]=!0)}},this.ruleDefined=function(S){return A[S]!==!1},this.udtDefined=function(S){return A[a.length+S]!==!1},this.down=function(S,_){let E=w.length;return g.push(E),w.push({name:_,thisIndex:E,thatIndex:null,state:n.SEM_PRE,callbackIndex:S,phraseIndex:null,phraseLength:null,stack:g.length}),E},this.up=function(S,_,E,I){let k=w.length,B=g.pop();return w.push({name:_,thisIndex:k,thatIndex:B,state:n.SEM_POST,callbackIndex:S,phraseIndex:E,phraseLength:I,stack:g.length}),w[B].thatIndex=k,w[B].phraseIndex=E,w[B].phraseLength=I,k},this.translate=function(S){let _,E,I;for(let k=0;k<w.length;k+=1)I=w[k],E=x[I.callbackIndex],I.state===n.SEM_PRE?E!==null&&(_=E(n.SEM_PRE,l,I.phraseIndex,I.phraseLength,S),_===n.SEM_SKIP&&(k=I.thatIndex)):E!==null&&E(n.SEM_POST,l,I.phraseIndex,I.phraseLength,S)},this.setLength=function(S){w.length=S,g.length=S>0?w[S-1].stack:0},this.getLength=function(){return w.length},this.toXml=function(S){let _=s.charsToDec,E="decimal integer character codes";if(typeof S=="string"&&S.length>=3){let B=S.slice(0,3).toLowerCase();B==="asc"?(_=s.charsToAscii,E="ASCII for printing characters, hex for non-printing"):B==="hex"?(_=s.charsToHex,E="hexadecimal integer character codes"):B==="uni"&&(_=s.charsToUnicode,E="Unicode UTF-32 integer character codes")}let I="",k=0;return I+=`<?xml version="1.0" encoding="utf-8"?>
`,I+=`<root nodes="${w.length/2}" characters="${l.length}">
`,I+=`<!-- input string, ${E} -->
`,I+=y(k+2),I+=_(l),I+=`
`,w.forEach(B=>{B.state===n.SEM_PRE?(k+=1,I+=y(k),I+=`<node name="${B.name}" index="${B.phraseIndex}" length="${B.phraseLength}">
`,I+=y(k+2),I+=_(l,B.phraseIndex,B.phraseLength),I+=`
`):(I+=y(k),I+=`</node><!-- name="${B.name}" -->
`,k-=1)}),I+=`</root>
`,I},this.phrases=function(){let S={},_,E;for(_=0;_<w.length;_+=1)E=w[_],E.state===n.SEM_PRE&&(Array.isArray(S[E.name])||(S[E.name]=[]),S[E.name].push({index:E.phraseIndex,length:E.phraseLength}));return S}}},{"./identifiers":10,"./utilities":16}],8:[function(e,t,r){t.exports=function(){let n=-1,s=0;this.init=function(i){if(typeof i!="number"||i<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");s=Math.ceil(i),n=-1},this.increment=function(){return n+=1,(n+s)%s},this.maxSize=function(){return s},this.items=function(){return n+1},this.getListIndex=function(i){return n===-1||i<0||i>n||n-i>=s?-1:(i+s)%s},this.forEach=function(i){if(n!==-1)if(n<s)for(let a=0;a<=n;a+=1)i(a,a);else for(let a=n-s+1;a<=n;a+=1)i((a+s)%s,a)}}},{}],9:[function(e,t,r){t.exports=function(){return`/* This file automatically generated by jsonToless() and LESS. */
.apg-mono {
  font-family: monospace;
}
.apg-active {
  font-weight: bold;
  color: #000000;
}
.apg-match {
  font-weight: bold;
  color: #264BFF;
}
.apg-empty {
  font-weight: bold;
  color: #0fbd0f;
}
.apg-nomatch {
  font-weight: bold;
  color: #FF4000;
}
.apg-lh-match {
  font-weight: bold;
  color: #1A97BA;
}
.apg-lb-match {
  font-weight: bold;
  color: #5F1687;
}
.apg-remainder {
  font-weight: bold;
  color: #999999;
}
.apg-ctrl-char {
  font-weight: bolder;
  font-style: italic;
  font-size: 0.6em;
}
.apg-line-end {
  font-weight: bold;
  color: #000000;
}
.apg-error {
  font-weight: bold;
  color: #FF4000;
}
.apg-phrase {
  color: #000000;
  background-color: #8caae6;
}
.apg-empty-phrase {
  color: #0fbd0f;
}
table.apg-state {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th,
table.apg-state td {
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th:nth-last-child(2),
table.apg-state td:nth-last-child(2) {
  text-align: right;
}
table.apg-state caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-stats {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats th,
table.apg-stats td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace th,
table.apg-trace td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace th:last-child,
table.apg-trace th:nth-last-child(2),
table.apg-trace td:last-child,
table.apg-trace td:nth-last-child(2) {
  text-align: left;
}
table.apg-grammar {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-grammar th,
table.apg-grammar td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar th:last-child,
table.apg-grammar td:last-child {
  text-align: left;
}
table.apg-rules {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-rules th,
table.apg-rules td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules a {
  color: #003399 !important;
}
table.apg-rules a:hover {
  color: #8caae6 !important;
}
table.apg-attrs {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-attrs th,
table.apg-attrs td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs th:nth-child(1),
table.apg-attrs th:nth-child(2),
table.apg-attrs th:nth-child(3) {
  text-align: right;
}
table.apg-attrs td:nth-child(1),
table.apg-attrs td:nth-child(2),
table.apg-attrs td:nth-child(3) {
  text-align: right;
}
table.apg-attrs a {
  color: #003399 !important;
}
table.apg-attrs a:hover {
  color: #8caae6 !important;
}
`}},{}],10:[function(e,t,r){t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],11:[function(e,t,r){t.exports={ast:e("./ast"),circular:e("./circular-buffer"),ids:e("./identifiers"),parser:e("./parser"),stats:e("./stats"),trace:e("./trace"),utils:e("./utilities"),emitcss:e("./emitcss"),style:e("./style")}},{"./ast":7,"./circular-buffer":8,"./emitcss":9,"./identifiers":10,"./parser":12,"./stats":13,"./style":14,"./trace":15,"./utilities":16}],12:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),i=this,a;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let u,l,h,A,x=null,g=null,w=0,y=0,S=0,_=null,E=null,I=null,k=null,B=null,D=0,H=1/0,ue=1/0,te=o(function($,m,f){let b="parser.js: evaluateRule(): ";if($>=I.length)throw new Error(`${b}rule index: ${$} out of range`);if(m>=h)throw new Error(`${b}phrase index: ${m} out of range`);let{length:C}=x;x.push({type:n.RNM,index:$}),a(C,m,f),x.pop()},"y"),F=o(function($,m,f){let b="parser.js: evaluateUdt(): ";if($>=k.length)throw new Error(`${b}udt index: ${$} out of range`);if(m>=h)throw new Error(`${b}phrase index: ${m} out of range`);let{length:C}=x;x.push({type:n.UDT,empty:k[$].empty,index:$}),a(C,m,f),x.pop()},"C"),ie=o(function(){w=0,y=0,S=0,D=0,A=[{lookAround:n.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],I=null,k=null,g=null,u=0,l=0,h=0,_=null,E=null,B=null,x=null},"S"),J=o(function(){let $=[];this.push=function(){$.push(function(){let m=$[$.length-1],f={};for(let b in m)f[b]=m[b];return f}())},this.pop=function(m){let f=m;if(f||(f=$.length-1),f<1||f>$.length)throw new Error(`parser.js: backRef.pop(): bad length: ${f}`);return $.length=f,$[$.length-1]},this.length=function(){return $.length},this.savePhrase=function(m,f,b){$[$.length-1][m]={phraseIndex:f,phraseLength:b}},this.getPhrase=function(m){return $[$.length-1][m]},function(){let m={};I.forEach(f=>{f.isBkr&&(m[f.lower]=null)}),k.length>0&&k.forEach(f=>{f.isBkr&&(m[f.lower]=null)}),$.push(m)}()},"L"),Z=o(function(){let $=this;this.state=n.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=A[A.length-1],this.uFrame=new J,this.pFrame=new J,this.evaluateRule=te,this.evaluateUdt=F,this.refresh=function(){$.state=n.ACTIVE,$.phraseLength=0,$.lookAround=A[A.length-1]}},"M"),L=o(function(){return A[A.length-1]},"$"),U=o(function(){return A.length>1},"k"),M=o(function($,m,f){let b="parser.js: initializeInputChars(): ",C=$,N=m,R=f;if(C===void 0)throw new Error(`${b}input string is undefined`);if(C===null)throw new Error(`${b}input string is null`);if(typeof C=="string")C=s.stringToChars(C);else if(!Array.isArray(C))throw new Error(`${b}input string is not a string or array`);if(C.length>0&&typeof C[0]!="number")throw new Error(`${b}input string not an array of integers`);if(typeof N!="number")N=0;else if(N=Math.floor(N),N<0||N>C.length)throw new Error(`${b}input beginning index out of range: ${N}`);if(typeof R!="number")R=C.length-N;else if(R=Math.floor(R),R<0||R>C.length-N)throw new Error(`${b}input length out of range: ${R}`);g=C,u=N,l=R,h=u+l},"x");this.setMaxTreeDepth=function($){if(typeof $!="number")throw new Error(`parser: max tree depth must be integer > 0: ${$}`);if(H=Math.floor($),H<=0)throw new Error(`parser: max tree depth must be integer > 0: ${$}`)},this.setMaxNodeHits=function($){if(typeof $!="number")throw new Error(`parser: max node hits must be integer > 0: ${$}`);if(ue=Math.floor($),ue<=0)throw new Error(`parser: max node hits must be integer > 0: ${$}`)};let P=o(function($,m,f){let b;(function(R){let T="parser.js: initializeGrammar(): ";if(!R)throw new Error(`${T}grammar object undefined`);if(R.grammarObject!=="grammarObject")throw new Error(`${T}bad grammar object`);I=R.rules,k=R.udts})($);let C=function(R){let T="parser.js: initializeStartRule(): ",z=null;if(typeof R=="number"){if(R>=I.length)throw new Error(`${T}start rule index too large: max: ${I.length}: index: ${R}`);z=R}else{if(typeof R!="string")throw new Error(`${T}type of start rule '${typeof R}' not recognized`);{let X=R.toLowerCase();for(let W=0;W<I.length;W+=1)if(X===I[W].lower){z=I[W].index;break}if(z===null)throw new Error(`${T}start rule name '${R}' not recognized`)}}return z}(m);(function(){let R="parser.js: initializeCallbacks(): ",T,z;for(_=[],E=[],T=0;T<I.length;T+=1)_[T]=null;for(T=0;T<k.length;T+=1)E[T]=null;let X=[];for(T=0;T<I.length;T+=1)X.push(I[T].lower);for(T=0;T<k.length;T+=1)X.push(k[T].lower);for(let W in i.callbacks){if(T=X.indexOf(W.toLowerCase()),T<0)throw new Error(`${R}syntax callback '${W}' not a rule or udt name`);if(z=i.callbacks[W],z||(z=null),typeof z!="function"&&z!==null)throw new Error(`${R}syntax callback[${W}] must be function reference or 'false' (false/null/undefined/etc.)`);T<I.length?_[T]=z:E[T-I.length]=z}for(T=0;T<k.length;T+=1)if(E[T]===null)throw new Error(`${R}all UDT callbacks must be defined. UDT callback[${k[T].lower}] not a function reference`)})(),function(){for(;;){if(i.trace===void 0){i.trace=null;break}if(i.trace===null)break;if(i.trace.traceObject!=="traceObject")throw new Error("parser.js: initializeTrace(): trace object not recognized");break}i.trace!==null&&i.trace.init(I,k,g)}(),function(){for(;;){if(i.stats===void 0){i.stats=null;break}if(i.stats===null)break;if(i.stats.statsObject!=="statsObject")throw new Error("parser.js: initializeStats(): stats object not recognized");break}i.stats!==null&&i.stats.init(I,k)}(),function(){for(;;){if(i.ast===void 0){i.ast=null;break}if(i.ast===null)break;if(i.ast.astObject!=="astObject")throw new Error("parser.js: initializeAst(): ast object not recognized");break}i.ast!==null&&i.ast.init(I,k,g)}();let N=new Z;switch(f!=null&&(B=f),x=[{type:n.RNM,index:C}],a(0,u,N),x=null,N.state){case n.ACTIVE:throw new Error("parser.js: parse(): final state should never be 'ACTIVE'");case n.NOMATCH:b=!1;break;case n.EMPTY:case n.MATCH:b=N.phraseLength===l;break;default:throw new Error("unrecognized state")}return{success:b,state:N.state,length:l,matched:N.phraseLength,maxMatched:D,maxTreeDepth:y,nodeHits:S,inputLength:g.length,subBegin:u,subEnd:h,subLength:l}},"B");this.parseSubstring=function($,m,f,b,C,N){return ie(),M(f,b,C),P($,m,N)},this.parse=function($,m,f,b){return ie(),M(f,0,f.length),P($,m,b)};let O=o(function($,m,f){let b=x[$];for(let C=0;C<b.children.length&&(a(b.children[C],m,f),f.state===n.NOMATCH);C+=1);},"N"),q=o(function($,m,f,b){if(m.phraseLength>f){let C=`parser.js: opRNM(${$.name}): callback function error: `;throw C+=`sysData.phraseLength: ${m.phraseLength}`,C+=` must be <= remaining chars: ${f}`,new Error(C)}switch(m.state){case n.ACTIVE:if(b!==!0)throw new Error(`parser.js: opRNM(${$.name}): callback function return error. ACTIVE state not allowed.`);break;case n.EMPTY:m.phraseLength=0;break;case n.MATCH:m.phraseLength===0&&(m.state=n.EMPTY);break;case n.NOMATCH:m.phraseLength=0;break;default:throw new Error(`parser.js: opRNM(${$.name}): callback function return error. Unrecognized return state: ${m.state}`)}},"R"),Y=o(function($,m,f){let b,C,N,R,T,z,X=x[$],W=I[X.index],ne=_[W.index],ve=!U();if(ve&&(C=i.ast&&i.ast.ruleDefined(X.index),C&&(b=i.ast.getLength(),i.ast.down(X.index,I[X.index].name)),R=f.uFrame.length(),T=f.pFrame.length(),f.uFrame.push(),f.pFrame.push(),z=f.pFrame,f.pFrame=new J),ne===null)N=x,x=W.opcodes,a(0,m,f),x=N;else{let Te=h-m;f.ruleIndex=W.index,ne(f,g,m,B),q(W,f,Te,!0),f.state===n.ACTIVE&&(N=x,x=W.opcodes,a(0,m,f),x=N,f.ruleIndex=W.index,ne(f,g,m,B),q(W,f,Te,!1))}ve&&(C&&(f.state===n.NOMATCH?i.ast.setLength(b):i.ast.up(X.index,W.name,m,f.phraseLength)),f.pFrame=z,f.state===n.NOMATCH?(f.uFrame.pop(R),f.pFrame.pop(T)):W.isBkr&&(f.pFrame.savePhrase(W.lower,m,f.phraseLength),f.uFrame.savePhrase(W.lower,m,f.phraseLength)))},"v"),j=o(function($,m,f){let b,C,N,R,T,z,X=x[$],W=k[X.index];f.UdtIndex=W.index;let ne=!U();ne&&(N=i.ast&&i.ast.udtDefined(X.index),N&&(C=I.length+X.index,b=i.ast.getLength(),i.ast.down(C,W.name)),R=f.uFrame.length(),T=f.pFrame.length(),f.uFrame.push(),f.pFrame.push(),z=f.pFrame,f.pFrame=new J);let ve=h-m;E[X.index](f,g,m,B),function(Te,Fe,ze){if(Fe.phraseLength>ze){let je=`parser.js: opUDT(${Te.name}): callback function error: `;throw je+=`sysData.phraseLength: ${Fe.phraseLength}`,je+=` must be <= remaining chars: ${ze}`,new Error(je)}switch(Fe.state){case n.ACTIVE:throw new Error(`parser.js: opUDT(${Te.name}): callback function return error. ACTIVE state not allowed.`);case n.EMPTY:if(Te.empty===!1)throw new Error(`parser.js: opUDT(${Te.name}): callback function return error. May not return EMPTY.`);Fe.phraseLength=0;break;case n.MATCH:if(Fe.phraseLength===0){if(Te.empty===!1)throw new Error(`parser.js: opUDT(${Te.name}): callback function return error. May not return EMPTY.`);Fe.state=n.EMPTY}break;case n.NOMATCH:Fe.phraseLength=0;break;default:throw new Error(`parser.js: opUDT(${Te.name}): callback function return error. Unrecognized return state: ${Fe.state}`)}}(W,f,ve),ne&&(N&&(f.state===n.NOMATCH?i.ast.setLength(b):i.ast.up(C,W.name,m,f.phraseLength)),f.pFrame=z,f.state===n.NOMATCH?(f.uFrame.pop(R),f.pFrame.pop(T)):W.isBkr&&(f.pFrame.savePhrase(W.lower,m,f.phraseLength),f.uFrame.savePhrase(W.lower,m,f.phraseLength)))},"O"),le=o(function($,m,f){A.push({lookAround:n.LOOKAROUND_AHEAD,anchor:m,charsEnd:h,charsLength:l}),h=g.length,l=g.length-u,a($+1,m,f);let b=A.pop();switch(h=b.charsEnd,l=b.charsLength,f.phraseLength=0,f.state){case n.EMPTY:case n.MATCH:f.state=n.EMPTY;break;case n.NOMATCH:f.state=n.NOMATCH;break;default:throw new Error(`opAND: invalid state ${f.state}`)}},"D"),Q=o(function($,m,f){A.push({lookAround:n.LOOKAROUND_AHEAD,anchor:m,charsEnd:h,charsLength:l}),h=g.length,l=g.length-u,a($+1,m,f);let b=A.pop();switch(h=b.charsEnd,l=b.charsLength,f.phraseLength=0,f.state){case n.EMPTY:case n.MATCH:f.state=n.NOMATCH;break;case n.NOMATCH:f.state=n.EMPTY;break;default:throw new Error(`opNOT: invalid state ${f.state}`)}},"U"),fe=o(function($,m,f){f.state=n.NOMATCH,f.phraseLength=0,f.state=m===0?n.EMPTY:n.NOMATCH},"_"),se=o(function($,m,f){f.state=n.NOMATCH,f.phraseLength=0,f.state=m===g.length?n.EMPTY:n.NOMATCH},"I"),oe=o(function($,m,f){switch(A.push({lookAround:n.LOOKAROUND_BEHIND,anchor:m}),a($+1,m,f),A.pop(),f.phraseLength=0,f.state){case n.EMPTY:case n.MATCH:f.state=n.EMPTY;break;case n.NOMATCH:f.state=n.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${f.state}`)}},"H"),me=o(function($,m,f){switch(A.push({lookAround:n.LOOKAROUND_BEHIND,anchor:m}),a($+1,m,f),A.pop(),f.phraseLength=0,f.state){case n.EMPTY:case n.MATCH:f.state=n.NOMATCH;break;case n.NOMATCH:f.state=n.EMPTY;break;default:throw new Error(`opBKN: invalid state ${f.state}`)}},"F");a=o(function($,m,f){let b=!0,C=x[$];if(S+=1,S>ue)throw new Error(`parser: maximum number of node hits exceeded: ${ue}`);if(w+=1,w>y&&(y=w,y>H))throw new Error(`parser: maximum parse tree depth exceeded: ${H}`);if(f.refresh(),i.trace!==null){let N=L();i.trace.down(C,f.state,m,f.phraseLength,N.anchor,N.lookAround)}if(A[A.length-1].lookAround===n.LOOKAROUND_BEHIND)switch(C.type){case n.ALT:O($,m,f);break;case n.CAT:(function(N,R,T){let z,X,W,ne,ve=x[N],Te=T.uFrame.length(),Fe=T.pFrame.length();i.ast&&(X=i.ast.getLength()),z=!0,W=R,ne=0;for(let ze=ve.children.length-1;ze>=0;ze-=1)if(a(ve.children[ze],W,T),W-=T.phraseLength,ne+=T.phraseLength,T.state===n.NOMATCH){z=!1;break}z?(T.state=ne===0?n.EMPTY:n.MATCH,T.phraseLength=ne):(T.state=n.NOMATCH,T.phraseLength=0,T.uFrame.pop(Te),T.pFrame.pop(Fe),i.ast&&i.ast.setLength(X))})($,m,f);break;case n.REP:(function(N,R,T){let z,X,W,ne,ve=x[N];X=R,W=0,ne=0;let Te=T.uFrame.length(),Fe=T.pFrame.length();for(i.ast&&(z=i.ast.getLength());!(X<=0)&&(a(N+1,X,T),T.state!==n.NOMATCH)&&T.state!==n.EMPTY&&(ne+=1,W+=T.phraseLength,X-=T.phraseLength,ne!==ve.max););T.state===n.EMPTY||ne>=ve.min?(T.state=W===0?n.EMPTY:n.MATCH,T.phraseLength=W):(T.state=n.NOMATCH,T.phraseLength=0,T.uFrame.pop(Te),T.pFrame.pop(Fe),i.ast&&i.ast.setLength(z))})($,m,f);break;case n.RNM:Y($,m,f);break;case n.UDT:j($,m,f);break;case n.AND:le($,m,f);break;case n.NOT:Q($,m,f);break;case n.TRG:(function(N,R,T){let z=x[N];if(T.state=n.NOMATCH,T.phraseLength=0,R>0){let X=g[R-1];z.min<=X&&X<=z.max&&(T.state=n.MATCH,T.phraseLength=1)}})($,m,f);break;case n.TBS:(function(N,R,T){let z,X=x[N];T.state=n.NOMATCH;let W=X.string.length,ne=R-W;if(ne>=0){for(z=0;z<W;z+=1)if(g[ne+z]!==X.string[z])return;T.state=n.MATCH,T.phraseLength=W}})($,m,f);break;case n.TLS:(function(N,R,T){let z,X=x[N];T.state=n.NOMATCH;let W=X.string.length;if(W===0)return void(T.state=n.EMPTY);let ne=R-W;if(ne>=0){for(let ve=0;ve<W;ve+=1)if(z=g[ne+ve],z>=65&&z<=90&&(z+=32),z!==X.string[ve])return;T.state=n.MATCH,T.phraseLength=W}})($,m,f);break;case n.BKR:(function(N,R,T){let z,X,W,ne,ve=x[N];T.state=n.NOMATCH,T.phraseLength=0,ne=ve.index<I.length?I[ve.index].lower:k[ve.index-I.length].lower;let Te=ve.bkrMode===n.BKR_MODE_PM?T.pFrame.getPhrase(ne):T.uFrame.getPhrase(ne),Fe=ve.bkrCase===n.BKR_MODE_CI;if(Te===null)return;let ze=Te.phraseIndex,je=Te.phraseLength;if(je===0)return T.state=n.EMPTY,void(T.phraseLength=0);let ds=R-je;if(ds>=0){if(Fe){for(z=0;z<je;z+=1)if(X=g[ds+z],W=g[ze+z],X>=65&&X<=90&&(X+=32),W>=65&&W<=90&&(W+=32),X!==W)return;T.state=n.MATCH,T.phraseLength=je}else for(z=0;z<je;z+=1)if(X=g[ds+z],W=g[ze+z],X!==W)return;T.state=n.MATCH,T.phraseLength=je}})($,m,f);break;case n.BKA:oe($,m,f);break;case n.BKN:me($,m,f);break;case n.ABG:fe(0,m,f);break;case n.AEN:se(0,m,f);break;default:b=!1}else switch(C.type){case n.ALT:O($,m,f);break;case n.CAT:(function(N,R,T){let z,X,W,ne,ve=x[N],Te=T.uFrame.length(),Fe=T.pFrame.length();i.ast&&(X=i.ast.getLength()),z=!0,W=R,ne=0;for(let ze=0;ze<ve.children.length;ze+=1){if(a(ve.children[ze],W,T),T.state===n.NOMATCH){z=!1;break}W+=T.phraseLength,ne+=T.phraseLength}z?(T.state=ne===0?n.EMPTY:n.MATCH,T.phraseLength=ne):(T.state=n.NOMATCH,T.phraseLength=0,T.uFrame.pop(Te),T.pFrame.pop(Fe),i.ast&&i.ast.setLength(X))})($,m,f);break;case n.REP:(function(N,R,T){let z,X,W,ne,ve=x[N];X=R,W=0,ne=0;let Te=T.uFrame.length(),Fe=T.pFrame.length();for(i.ast&&(z=i.ast.getLength());!(X>=h)&&(a(N+1,X,T),T.state!==n.NOMATCH)&&T.state!==n.EMPTY&&(ne+=1,W+=T.phraseLength,X+=T.phraseLength,ne!==ve.max););T.state===n.EMPTY||ne>=ve.min?(T.state=W===0?n.EMPTY:n.MATCH,T.phraseLength=W):(T.state=n.NOMATCH,T.phraseLength=0,T.uFrame.pop(Te),T.pFrame.pop(Fe),i.ast&&i.ast.setLength(z))})($,m,f);break;case n.RNM:Y($,m,f);break;case n.UDT:j($,m,f);break;case n.AND:le($,m,f);break;case n.NOT:Q($,m,f);break;case n.TRG:(function(N,R,T){let z=x[N];T.state=n.NOMATCH,R<h&&z.min<=g[R]&&g[R]<=z.max&&(T.state=n.MATCH,T.phraseLength=1)})($,m,f);break;case n.TBS:(function(N,R,T){let z,X=x[N],W=X.string.length;if(T.state=n.NOMATCH,R+W<=h){for(z=0;z<W;z+=1)if(g[R+z]!==X.string[z])return;T.state=n.MATCH,T.phraseLength=W}})($,m,f);break;case n.TLS:(function(N,R,T){let z,X,W=x[N];T.state=n.NOMATCH;let ne=W.string.length;if(ne!==0){if(R+ne<=h){for(z=0;z<ne;z+=1)if(X=g[R+z],X>=65&&X<=90&&(X+=32),X!==W.string[z])return;T.state=n.MATCH,T.phraseLength=ne}}else T.state=n.EMPTY})($,m,f);break;case n.BKR:(function(N,R,T){let z,X,W,ne,ve=x[N];T.state=n.NOMATCH,ne=ve.index<I.length?I[ve.index].lower:k[ve.index-I.length].lower;let Te=ve.bkrMode===n.BKR_MODE_PM?T.pFrame.getPhrase(ne):T.uFrame.getPhrase(ne),Fe=ve.bkrCase===n.BKR_MODE_CI;if(Te===null)return;let ze=Te.phraseIndex,je=Te.phraseLength;if(je!==0){if(R+je<=h){if(Fe){for(z=0;z<je;z+=1)if(X=g[R+z],W=g[ze+z],X>=65&&X<=90&&(X+=32),W>=65&&W<=90&&(W+=32),X!==W)return;T.state=n.MATCH,T.phraseLength=je}else for(z=0;z<je;z+=1)if(X=g[R+z],W=g[ze+z],X!==W)return;T.state=n.MATCH,T.phraseLength=je}}else T.state=n.EMPTY})($,m,f);break;case n.BKA:oe($,m,f);break;case n.BKN:me($,m,f);break;case n.ABG:fe(0,m,f);break;case n.AEN:se(0,m,f);break;default:b=!1}if(!U()&&m+f.phraseLength>D&&(D=m+f.phraseLength),i.stats!==null&&i.stats.collect(C,f),i.trace!==null){let N=L();i.trace.up(C,f.state,m,f.phraseLength,N.anchor,N.lookAround)}return w-=1,b},"o")}},{"./identifiers":10,"./utilities":16}],13:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),i=e("./style"),a=[],u=[],l=[],h,A=[],x=[];this.statsObject="statsObject";let g=o(function(B,D){return B.lower<D.lower?-1:B.lower>D.lower?1:0},"l"),w=o(function(B,D){return B.total<D.total?1:B.total>D.total?-1:g(B,D)},"f"),y=o(function(B,D){return B.index<D.index?-1:B.index>D.index?1:0},"u"),S=o(function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},"p"),_=o(function(B,D){switch(B.total+=1,D){case n.EMPTY:B.empty+=1;break;case n.MATCH:B.match+=1;break;case n.NOMATCH:B.nomatch+=1;break;default:throw new Error(`stats.js: collect(): incStat(): unrecognized state: ${D}`)}},"d"),E=o(function(B,D){let H="";return H+="<tr>",H+=`<td class="${i.CLASS_ACTIVE}">${B}</td>`,H+=`<td class="${i.CLASS_EMPTY}">${D.empty}</td>`,H+=`<td class="${i.CLASS_MATCH}">${D.match}</td>`,H+=`<td class="${i.CLASS_NOMATCH}">${D.nomatch}</td>`,H+=`<td class="${i.CLASS_ACTIVE}">${D.total}</td>`,H+=`</tr>
`,H},"g"),I=o(function(){let B="";return B+=E("ALT",l[n.ALT]),B+=E("CAT",l[n.CAT]),B+=E("REP",l[n.REP]),B+=E("RNM",l[n.RNM]),B+=E("TRG",l[n.TRG]),B+=E("TBS",l[n.TBS]),B+=E("TLS",l[n.TLS]),B+=E("UDT",l[n.UDT]),B+=E("AND",l[n.AND]),B+=E("NOT",l[n.NOT]),B+=E("BKR",l[n.BKR]),B+=E("BKA",l[n.BKA]),B+=E("BKN",l[n.BKN]),B+=E("ABG",l[n.ABG]),B+=E("AEN",l[n.AEN]),B+=E("totals",h),B},"b"),k=o(function(){let B="";B+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,B+=`<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>
`;for(let D=0;D<a.length;D+=1)A[D].total>0&&(B+="<tr>",B+=`<td class="${i.CLASS_ACTIVE}">${A[D].name}</td>`,B+=`<td class="${i.CLASS_EMPTY}">${A[D].empty}</td>`,B+=`<td class="${i.CLASS_MATCH}">${A[D].match}</td>`,B+=`<td class="${i.CLASS_NOMATCH}">${A[D].nomatch}</td>`,B+=`<td class="${i.CLASS_ACTIVE}">${A[D].total}</td>`,B+=`</tr>
`);if(u.length>0){B+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,B+=`<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>
`;for(let D=0;D<u.length;D+=1)x[D].total>0&&(B+="<tr>",B+=`<td class="${i.CLASS_ACTIVE}">${x[D].name}</td>`,B+=`<td class="${i.CLASS_EMPTY}">${x[D].empty}</td>`,B+=`<td class="${i.CLASS_MATCH}">${x[D].match}</td>`,B+=`<td class="${i.CLASS_NOMATCH}">${x[D].nomatch}</td>`,B+=`<td class="${i.CLASS_ACTIVE}">${x[D].total}</td>`,B+=`</tr>
`)}return B},"A");this.validate=function(B){let D=!1;return typeof B=="string"&&B==="stats"&&(D=!0),D},this.init=function(B,D){a=B,u=D,function(){l.length=0,h=new S,l[n.ALT]=new S,l[n.CAT]=new S,l[n.REP]=new S,l[n.RNM]=new S,l[n.TRG]=new S,l[n.TBS]=new S,l[n.TLS]=new S,l[n.UDT]=new S,l[n.AND]=new S,l[n.NOT]=new S,l[n.BKR]=new S,l[n.BKA]=new S,l[n.BKN]=new S,l[n.ABG]=new S,l[n.AEN]=new S,A.length=0;for(let H=0;H<a.length;H+=1)A.push({empty:0,match:0,nomatch:0,total:0,name:a[H].name,lower:a[H].lower,index:a[H].index});if(u.length>0){x.length=0;for(let H=0;H<u.length;H+=1)x.push({empty:0,match:0,nomatch:0,total:0,name:u[H].name,lower:u[H].lower,index:u[H].index})}}()},this.collect=function(B,D){_(h,D.state,D.phraseLength),_(l[B.type],D.state,D.phraseLength),B.type===n.RNM&&_(A[B.index],D.state,D.phraseLength),B.type===n.UDT&&_(x[B.index],D.state,D.phraseLength)},this.toHtml=function(B,D){let H="";for(H+=`<table class="${i.CLASS_STATS}">
`,typeof D=="string"&&(H+=`<caption>${D}</caption>
`),H+=`<tr><th class="${i.CLASS_ACTIVE}">ops</th>
`,H+=`<th class="${i.CLASS_EMPTY}">EMPTY</th>
`,H+=`<th class="${i.CLASS_MATCH}">MATCH</th>
`,H+=`<th class="${i.CLASS_NOMATCH}">NOMATCH</th>
`,H+=`<th class="${i.CLASS_ACTIVE}">totals</th></tr>
`;;){if(B===void 0){H+=I();break}if(B===null){H+=I();break}if(B==="ops"){H+=I();break}if(B==="index"){A.sort(y),x.length>0&&x.sort(y),H+=I(),H+=k();break}if(B==="hits"){A.sort(w),x.length>0&&x.sort(y),H+=I(),H+=k();break}if(B==="alpha"){A.sort(g),x.length>0&&x.sort(g),H+=I(),H+=k();break}break}return H+=`</table>
`,H},this.toHtmlPage=function(B,D,H){return s.htmlToPage(this.toHtml(B,D),H)}}},{"./identifiers":10,"./style":14,"./utilities":16}],14:[function(e,t,r){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},{}],15:[function(e,t,r){t.exports=function(){let n=e("./utilities"),s=e("./style"),i=new(e("./circular-buffer")),a=e("./identifiers"),u=this,l=16,h=80,A=[],x=5e3,g=-1,w=0,y=0,S=[],_=null,E=null,I=null,k=[],B=[],D=`<span class="${s.CLASS_LINEEND}">&bull;</span>`,H=`<span class="${s.CLASS_LINEEND}">&hellip;</span>`,ue=`<span class="${s.CLASS_EMPTY}">&#120634;</span>`;this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(L,U){g=-1,typeof L=="number"&&L>0?(x=Math.ceil(L),typeof U=="number"&&(g=Math.floor(U),g<0&&(g=-1))):x=0},this.getMaxRecords=function(){return x},this.getLastRecord=function(){return g},this.init=function(L,U,M){A.length=0,S.length=0,w=0,y=0,_=M,E=L,I=U,function(){let P=o(function(q){k[a.ALT]=q,k[a.CAT]=q,k[a.REP]=q,k[a.TLS]=q,k[a.TBS]=q,k[a.TRG]=q,k[a.AND]=q,k[a.NOT]=q,k[a.BKR]=q,k[a.BKA]=q,k[a.BKN]=q,k[a.ABG]=q,k[a.AEN]=q},"e"),O=0;for(let q in u.filter.operators)O+=1;if(O!==0){for(let q in u.filter.operators){let Y=q.toUpperCase();if(Y==="<ALL>")return void P(!0);if(Y==="<NONE>")return void P(!1)}P(!1);for(let q in u.filter.operators){let Y=q.toUpperCase();if(Y==="ALT")k[a.ALT]=u.filter.operators[q]===!0;else if(Y==="CAT")k[a.CAT]=u.filter.operators[q]===!0;else if(Y==="REP")k[a.REP]=u.filter.operators[q]===!0;else if(Y==="AND")k[a.AND]=u.filter.operators[q]===!0;else if(Y==="NOT")k[a.NOT]=u.filter.operators[q]===!0;else if(Y==="TLS")k[a.TLS]=u.filter.operators[q]===!0;else if(Y==="TBS")k[a.TBS]=u.filter.operators[q]===!0;else if(Y==="TRG")k[a.TRG]=u.filter.operators[q]===!0;else if(Y==="BKR")k[a.BKR]=u.filter.operators[q]===!0;else if(Y==="BKA")k[a.BKA]=u.filter.operators[q]===!0;else if(Y==="BKN")k[a.BKN]=u.filter.operators[q]===!0;else if(Y==="ABG")k[a.ABG]=u.filter.operators[q]===!0;else{if(Y!=="AEN")throw new Error(`trace.js: initOpratorFilter: '${q}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`);k[a.AEN]=u.filter.operators[q]===!0}}}else P(!1)}(),function(){let P=o(function(j){k[a.RNM]=j,k[a.UDT]=j;let le=E.length+I.length;B.length=0;for(let Q=0;Q<le;Q+=1)B.push(j)},"e"),O,q,Y=[];for(q=0;q<E.length;q+=1)Y.push(E[q].lower);for(q=0;q<I.length;q+=1)Y.push(I[q].lower);B.length=0,O=0;for(let j in u.filter.rules)O+=1;if(O!==0){for(let j in u.filter.rules){let le=j.toLowerCase();if(le==="<all>")return void P(!0);if(le==="<none>")return void P(!1)}P(!1),k[a.RNM]=!0,k[a.UDT]=!0;for(let j in u.filter.rules){let le=j.toLowerCase();if(q=Y.indexOf(le),q<0)throw new Error(`trace.js: initRuleFilter: '${j}' not a valid rule or udt name`);B[q]=u.filter.rules[j]===!0}}else P(!0)}(),i.init(x)};let te=o(function(L){let U=!1;return U=L.type===a.RNM?!(!k[L.type]||!B[L.index]):L.type===a.UDT?!(!k[L.type]||!B[E.length+L.index]):k[L.type],U},"y"),F=o(function(L){return g===-1||L<=g},"C");this.down=function(L,U,M,P,O,q){F(w)&&te(L)&&(S.push(w),A[i.increment()]={dirUp:!1,depth:y,thisLine:w,thatLine:void 0,opcode:L,state:U,phraseIndex:M,phraseLength:P,lookAnchor:O,lookAround:q},w+=1,y+=1)},this.up=function(L,U,M,P,O,q){if(F(w)&&te(L)){let Y=w,j=S.pop(),le=i.getListIndex(j);le!==-1&&(A[le].thatLine=Y),y-=1,A[i.increment()]={dirUp:!0,depth:y,thisLine:Y,thatLine:j,opcode:L,state:U,phraseIndex:M,phraseLength:P,lookAnchor:O,lookAround:q},w+=1}},this.toTree=function(L){let U=function(){function M(R,T){let z,X,W;if(T)switch(R.op={id:T.type,name:n.opcodeToString(T.type)},R.opData=void 0,T.type){case a.RNM:R.opData=E[T.index].name;break;case a.UDT:R.opData=I[T.index].name;break;case a.BKR:z=T.index<E.length?E[T.index].name:I[T.index-E.length].name,X=T.bkrCase===a.BKR_MODE_CI?"%i":"%s",W=T.bkrMode===a.BKR_MODE_UM?"%u":"%p",R.opData=`\\\\${X}${W}${z}`;break;case a.TLS:R.opData=[];for(let ne=0;ne<T.string.length;ne+=1)R.opData.push(T.string[ne]);break;case a.TBS:R.opData=[];for(let ne=0;ne<T.string.length;ne+=1)R.opData.push(T.string[ne]);break;case a.TRG:case a.REP:R.opData=[T.min,T.max];break;default:throw new Error("unrecognized opcode")}else R.op={id:void 0,name:void 0},R.opData=void 0}o(M,"e");function P(R,T,z){return R===a.MATCH?{index:T,length:z}:R===a.NOMATCH||R===a.EMPTY?{index:T,length:0}:null}o(P,"n");let O=-1;function q(R,T,z){let X={id:O++,branch:-1,parent:R,up:!1,down:!1,depth:z,children:[]};return T?(X.down=!0,X.state={id:T.state,name:n.stateToString(T.state)},X.phrase=null,M(X,T.opcode)):(X.state={id:void 0,name:void 0},X.phrase=P(),M(X,void 0)),X}o(q,"s");function Y(R,T){T&&(R.up=!0,R.state={id:T.state,name:n.stateToString(T.state)},R.phrase=P(T.state,T.phraseIndex,T.phraseLength),R.down||M(R,T.opcode))}o(Y,"i");let j=0,le=-1,Q=1,fe=[],se,oe,me,$,m=!0,f=q(null,null,-1);for(fe.push(f),oe=f,i.forEach(R=>{if($=A[R],m&&(m=!1,$.depth>0)){let T=$.dirUp?$.depth+1:$.depth;for(let z=0;z<T;z+=1)me=oe,oe=q(oe,null,z),fe.push(oe),me.children.push(oe)}$.dirUp?(oe=fe.pop(),Y(oe,$),oe=fe[fe.length-1]):(me=oe,oe=q(oe,$,$.depth),fe.push(oe),me.children.push(oe))});fe.length>1;)oe=fe.pop(),Y(oe,null);if(f.children.length===0)throw new Error("trace.toTree(): parse tree has no nodes");if(fe.length===0)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");se=f.children[0];let b=se;for(;se&&!se.down&&!se.up;)b=se,se=se.children[0];se=b,se.leftMost=!0,se.rightMost=!0,o(function R(T){if(le+=1,T.branch=Q,le>y&&(y=le),T.children.length===0)j+=1;else for(let z=0;z<T.children.length;z+=1)z>0&&(Q+=1),T.children[z].leftMost=!1,T.children[z].rightMost=!1,T.leftMost&&(T.children[z].leftMost=z===0),T.rightMost&&(T.children[z].rightMost=z===T.children.length-1),R(T.children[z]);le-=1},"e")(se),se.branch=0;let C={string:[]};for(let R=0;R<_.length;R+=1)C.string[R]=_[R];C.rules=[];for(let R=0;R<E.length;R+=1)C.rules[R]=E[R].name;C.udts=[];for(let R=0;R<I.length;R+=1)C.udts[R]=I[R].name;let N;return C.id={},C.id.ALT={id:a.ALT,name:"ALT"},C.id.CAT={id:a.CAT,name:"CAT"},C.id.REP={id:a.REP,name:"REP"},C.id.RNM={id:a.RNM,name:"RNM"},C.id.TLS={id:a.TLS,name:"TLS"},C.id.TBS={id:a.TBS,name:"TBS"},C.id.TRG={id:a.TRG,name:"TRG"},C.id.UDT={id:a.UDT,name:"UDT"},C.id.AND={id:a.AND,name:"AND"},C.id.NOT={id:a.NOT,name:"NOT"},C.id.BKR={id:a.BKR,name:"BKR"},C.id.BKA={id:a.BKA,name:"BKA"},C.id.BKN={id:a.BKN,name:"BKN"},C.id.ABG={id:a.ABG,name:"ABG"},C.id.AEN={id:a.AEN,name:"AEN"},C.id.ACTIVE={id:a.ACTIVE,name:"ACTIVE"},C.id.MATCH={id:a.MATCH,name:"MATCH"},C.id.EMPTY={id:a.EMPTY,name:"EMPTY"},C.id.NOMATCH={id:a.NOMATCH,name:"NOMATCH"},C.treeDepth=y,C.leafNodes=j,N=se.down?se.up?"none":"right":se.up?"left":"both",C.branchesIncomplete=N,C.tree=o(function R(T,z){let X,W={};if(W.id=T.id,W.branch=T.branch,W.leftMost=T.leftMost,W.rightMost=T.rightMost,X=T.state.name?T.state.name:"ACTIVE",W.state={id:T.state.id,name:X},X=T.op.name?T.op.name:"?",W.op={id:T.op.id,name:X},typeof T.opData=="string")W.opData=T.opData;else if(Array.isArray(T.opData)){W.opData=[];for(let ne=0;ne<T.opData.length;ne+=1)W.opData[ne]=T.opData[ne]}else W.opData=void 0;T.phrase?W.phrase={index:T.phrase.index,length:T.phrase.length}:W.phrase=null,W.depth=T.depth,W.children=[];for(let ne=0;ne<T.children.length;ne+=1)T.children.length,W.children[ne]=R(T.children[ne],z);return W},"e")(se,se.depth),C}();return L?JSON.stringify(U):U},this.toHtmlPage=function(L,U,M){return n.htmlToPage(this.toHtml(L,U),M)},this.indent=function(L){let U="";for(let M=0;M<L;M+=1)U+=".";return U};let ie=o(function(L,U,M,P,O){if(P===0)return"";let q="",Y=O?",":"";switch(L){case l:q=Y+n.charsToHex(U,M,P);break;case 10:if(O)return`,${n.charsToDec(U,M,P)}`;q=Y+n.charsToDec(U,M,P);break;case 32:q=n.charsToUnicode(U,M,P);break;case 8:default:q=n.charsToAsciiHtml(U,M,P)}return q},"S"),J=o(function(L,U,M,P,O,q){let Y,j,le,Q,fe="",se=D,oe=`<span class="${s.CLASS_REMAINDER}">`,me="</span>",$=!1;switch(M){case a.EMPTY:fe+=ue;case a.NOMATCH:case a.ACTIVE:Y=P,j=0,le=P,Q=U.length-le;break;case a.MATCH:Y=P,j=O,le=P+j,Q=U.length-le;break;default:throw new Error("unrecognized state")}return se=D,j>h?(j=h,se=H,Q=0):j+Q>h&&(se=H,Q=h-j),j>0&&(fe+=q,fe+=ie(L,U,Y,j,$),fe+=me,$=!0),Q>0&&(fe+=oe,fe+=ie(L,U,le,Q,$),fe+=me),fe+se},"L"),Z=o(function(L){if(E===null)return"";let U,M,P,O,q,Y,j="";return j+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",j+=`<th>operator</th><th>phrase</th></tr>
`,i.forEach(le=>{let Q=A[le];switch(U=Q.thisLine,M=Q.thatLine!==void 0?Q.thatLine:"--",P=!1,O=!1,q=!1,Q.lookAround===a.LOOKAROUND_AHEAD&&(P=!0,q=!0,Y=Q.lookAnchor),Q.opcode.type!==a.AND&&Q.opcode.type!==a.NOT||(P=!0,q=!0,Y=Q.phraseIndex),Q.lookAround===a.LOOKAROUND_BEHIND&&(O=!0,q=!0,Y=Q.lookAnchor),Q.opcode.type!==a.BKA&&Q.opcode.type!==a.BKN||(O=!0,q=!0,Y=Q.phraseIndex),j+="<tr>",j+=`<td>${U}</td><td>${M}</td>`,j+=`<td>${Q.phraseIndex}</td>`,j+=`<td>${Q.phraseLength}</td>`,j+=`<td>${Q.depth}</td>`,j+="<td>",Q.state){case a.ACTIVE:j+=`<span class="${s.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case a.MATCH:j+=`<span class="${s.CLASS_MATCH}">&uarr;M</span>`;break;case a.NOMATCH:j+=`<span class="${s.CLASS_NOMATCH}">&uarr;N</span>`;break;case a.EMPTY:j+=`<span class="${s.CLASS_EMPTY}">&uarr;E</span>`;break;default:j+=`<span class="${s.CLASS_ACTIVE}">--</span>`}if(j+="</td>",j+="<td>",j+=u.indent(Q.depth),P?j+=`<span class="${s.CLASS_LOOKAHEAD}">`:O&&(j+=`<span class="${s.CLASS_LOOKBEHIND}">`),j+=n.opcodeToString(Q.opcode.type),Q.opcode.type===a.RNM&&(j+=`(${E[Q.opcode.index].name}) `),Q.opcode.type===a.BKR){let fe=Q.opcode.bkrCase===a.BKR_MODE_CI?"%i":"%s",se=Q.opcode.bkrMode===a.BKR_MODE_UM?"%u":"%p";j+=`(\\${fe}${se}${E[Q.opcode.index].name}) `}Q.opcode.type===a.UDT&&(j+=`(${I[Q.opcode.index].name}) `),Q.opcode.type===a.TRG&&(j+=`(${function(fe,se){let oe="";if(se.type===a.TRG)if(fe===l||fe===32){let me=se.min.toString(16).toUpperCase();me.length%2!=0&&(me=`0${me}`),oe+=fe===l?"%x":"U+",oe+=me,me=se.max.toString(16).toUpperCase(),me.length%2!=0&&(me=`0${me}`),oe+=`&ndash;${me}`}else oe=`%d${se.min.toString(10)}&ndash;${se.max.toString(10)}`;return oe}(L,Q.opcode)}) `),Q.opcode.type===a.TBS&&(j+=`(${function(fe,se){let oe="";if(se.type===a.TBS){let me=Math.min(se.string.length,10);if(fe===l||fe===32){oe+=fe===l?"%x":"U+";for(let $=0;$<me;$+=1){let m;$>0&&(oe+="."),m=se.string[$].toString(16).toUpperCase(),m.length%2!=0&&(m=`0${m}`),oe+=m}}else{oe="%d";for(let $=0;$<me;$+=1)$>0&&(oe+="."),oe+=se.string[$].toString(10)}me<se.string.length&&(oe+=H)}return oe}(L,Q.opcode)}) `),Q.opcode.type===a.TLS&&(j+=`(${function(fe,se){let oe="";if(se.type===a.TLS){let me=Math.min(se.string.length,5);if(fe===l||fe===10){let $,m,f;fe===l?(oe="%x",f=16):(oe="%d",f=10);for(let b=0;b<me;b+=1)b>0&&(oe+="."),m=se.string[b],m>=97&&m<=122?($=m-32,oe+=`${$.toString(f)}/${m.toString(f)}`.toUpperCase()):m>=65&&m<=90?($=m,m+=32,oe+=`${$.toString(f)}/${m.toString(f)}`.toUpperCase()):oe+=m.toString(f).toUpperCase();me<se.string.length&&(oe+=H)}else{oe='"';for(let $=0;$<me;$+=1)oe+=n.asciiChars[se.string[$]];me<se.string.length&&(oe+=H),oe+='"'}}return oe}(L,Q.opcode)}) `),Q.opcode.type===a.REP&&(j+=`(${function(fe,se){let oe="";if(se.type===a.REP)if(fe===l){let me=se.min.toString(16).toUpperCase();me.length%2!=0&&(me=`0${me}`),oe=`x${me}`,se.max<1/0?(me=se.max.toString(16).toUpperCase(),me.length%2!=0&&(me=`0${me}`)):me="inf",oe+=`&ndash;${me}`}else oe=se.max<1/0?`${se.min.toString(10)}&ndash;${se.max.toString(10)}`:`${se.min.toString(10)}&ndash;inf`;return oe}(L,Q.opcode)}) `),q&&(j+="</span>"),j+="</td>",j+="<td>",j+=O?function(fe,se,oe,me,$,m){let f,b,C,N,R="",T=D,z=`<span class="${s.CLASS_LOOKBEHIND}">`,X=`<span class="${s.CLASS_REMAINDER}">`,W="</span>",ne=!1;switch(oe){case a.EMPTY:R+=ue;case a.NOMATCH:case a.MATCH:case a.ACTIVE:f=me-$,b=m-f,C=m,N=se.length-C;break;default:throw new Error("unrecognized state")}return T=D,b>h?(b=h,T=H,N=0):b+N>h&&(T=H,N=h-b),b>0&&(R+=z,R+=ie(fe,se,f,b,ne),R+=W,ne=!0),N>0&&(R+=X,R+=ie(fe,se,C,N,ne),R+=W),R+T}(L,_,Q.state,Q.phraseIndex,Q.phraseLength,Y):P?function(fe,se,oe,me,$){let m=`<span class="${s.CLASS_LOOKAHEAD}">`;return J(fe,se,oe,me,$,m)}(L,_,Q.state,Q.phraseIndex,Q.phraseLength):function(fe,se,oe,me,$){let m=`<span class="${s.CLASS_MATCH}">`;return J(fe,se,oe,me,$,m)}(L,_,Q.state,Q.phraseIndex,Q.phraseLength),j+=`</td></tr>
`}),j+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",j+=`<th>operator</th><th>phrase</th></tr>
`,j+=`</table>
`,j},"M");this.toHtml=function(L,U){let M=8;if(typeof L=="string"&&L.length>=3){let O=L.toLowerCase().slice(0,3);O==="hex"?M=l:O==="dec"?M=10:O==="uni"&&(M=32)}let P="";return P+=function(O,q){let Y;switch(O){case l:Y="hexadecimal";break;case 10:Y="decimal";break;case 8:Y="ASCII";break;case 32:Y="UNICODE";break;default:throw new Error(`trace.js: htmlHeader: unrecognized mode: ${O}`)}let j="";return j+=`<p>display mode: ${Y}</p>
`,j+=`<table class="${s.CLASS_TRACE}">
`,typeof q=="string"&&(j+=`<caption>${q}</caption>`),j}(M,U),P+=Z(M),P+=function(){let O="";return O+=`</table>
`,O+=`<p class="${s.CLASS_MONOSPACE}">legend:<br>
`,O+=`(a)&nbsp;-&nbsp;line number<br>
`,O+=`(b)&nbsp;-&nbsp;matching line number<br>
`,O+=`(c)&nbsp;-&nbsp;phrase offset<br>
`,O+=`(d)&nbsp;-&nbsp;phrase length<br>
`,O+=`(e)&nbsp;-&nbsp;tree depth<br>
`,O+=`(f)&nbsp;-&nbsp;operator state<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
`,O+=`operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
`,O+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_MATCH}">matched characters</span><br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${ue} empty string<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${D} end of input string<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${H} input string display truncated<br>
`,O+=`</p>
`,O+=`<p class="${s.CLASS_MONOSPACE}">
`,O+=`<sup>&dagger;</sup>original ABNF operators:<br>
`,O+=`ALT - alternation<br>
`,O+=`CAT - concatenation<br>
`,O+=`REP - repetition<br>
`,O+=`RNM - rule name<br>
`,O+=`TRG - terminal range<br>
`,O+=`TLS - terminal literal string (case insensitive)<br>
`,O+=`TBS - terminal binary string (case sensitive)<br>
`,O+=`<br>
`,O+=`<sup>&Dagger;</sup>super set SABNF operators:<br>
`,O+=`UDT - user-defined terminal<br>
`,O+=`AND - positive look ahead<br>
`,O+=`NOT - negative look ahead<br>
`,O+=`BKA - positive look behind<br>
`,O+=`BKN - negative look behind<br>
`,O+=`BKR - back reference<br>
`,O+=`ABG - anchor - begin of input string<br>
`,O+=`AEN - anchor - end of input string<br>
`,O+=`</p>
`,O}(),P}}},{"./circular-buffer":8,"./identifiers":10,"./style":14,"./utilities":16}],16:[function(e,t,r){let n=e("./style"),s=e("../apg-conv-api/converter"),i=e("./emitcss"),a=e("./identifiers"),u=this,l=o(function(h,A,x){let g,w=A;for(;;){if(h<=0){w=0,g=0;break}if(typeof w!="number"){w=0,g=h;break}if(w>=h){w=h,g=h;break}if(typeof x!="number"){g=h;break}if(g=w+x,g>h){g=h;break}break}return{beg:w,end:g}},"h");r.htmlToPage=function(h,A){let x;if(typeof h!="string")throw new Error("utilities.js: htmlToPage: input HTML is not a string");x=typeof A!="string"?"htmlToPage":A;let g="";return g+=`<!DOCTYPE html>
`,g+=`<html lang="en">
`,g+=`<head>
`,g+=`<meta charset="utf-8">
`,g+=`<title>${x}</title>
`,g+=`<style>
`,g+=i(),g+=`</style>
`,g+=`</head>
<body>
`,g+=`<p>${new Date}</p>
`,g+=h,g+=`</body>
</html>
`,g},r.parserResultToHtml=function(h,A){let x,g,w=null;typeof A=="string"&&A!==""&&(w=A),x=h.success===!0?`<span class="${n.CLASS_MATCH}">true</span>`:`<span class="${n.CLASS_NOMATCH}">false</span>`,g=h.state===a.EMPTY?`<span class="${n.CLASS_EMPTY}">EMPTY</span>`:h.state===a.MATCH?`<span class="${n.CLASS_MATCH}">MATCH</span>`:h.state===a.NOMATCH?`<span class="${n.CLASS_NOMATCH}">NOMATCH</span>`:`<span class="${n.CLASS_NOMATCH}">unrecognized</span>`;let y="";return y+=`<table class="${n.CLASS_STATE}">
`,w&&(y+=`<caption>${w}</caption>
`),y+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
`,y+=`<tr><td>parser success</td><td>${x}</td>
`,y+=`<td><span class="${n.CLASS_MATCH}">true</span> if the parse succeeded,
`,y+=` <span class="${n.CLASS_NOMATCH}">false</span> otherwise`,y+=`<br><i>NOTE: for success, entire string must be matched</i></td></tr>
`,y+=`<tr><td>parser state</td><td>${g}</td>
`,y+=`<td><span class="${n.CLASS_EMPTY}">EMPTY</span>, `,y+=`<span class="${n.CLASS_MATCH}">MATCH</span> or 
`,y+=`<span class="${n.CLASS_NOMATCH}">NOMATCH</span></td></tr>
`,y+=`<tr><td>string length</td><td>${h.length}</td><td>length of the input (sub)string</td></tr>
`,y+=`<tr><td>matched length</td><td>${h.matched}</td><td>number of input string characters matched</td></tr>
`,y+=`<tr><td>max matched</td><td>${h.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
`,y+=`<tr><td>max tree depth</td><td>${h.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
`,y+=`<tr><td>node hits</td><td>${h.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
`,y+=`<tr><td>input length</td><td>${h.inputLength}</td><td>length of full input string</td></tr>
`,y+=`<tr><td>sub-string begin</td><td>${h.subBegin}</td><td>sub-string first character index</td></tr>
`,y+=`<tr><td>sub-string end</td><td>${h.subEnd}</td><td>sub-string end-of-string index</td></tr>
`,y+=`<tr><td>sub-string length</td><td>${h.subLength}</td><td>sub-string length</td></tr>
`,y+=`</table>
`,y},r.charsToString=function(h,A,x){let g,w;if(typeof A=="number"){if(A>=h.length)return"";g=A<0?0:A}else g=0;if(typeof x=="number"){if(x<=0)return"";w=x>h.length-g?h.length:g+x}else w=h.length;return g<w?s.encode("UTF16LE",h.slice(g,w)).toString("utf16le"):""},r.stringToChars=function(h){return s.decode("STRING",h)},r.opcodeToString=function(h){let A="unknown";switch(h){case a.ALT:A="ALT";break;case a.CAT:A="CAT";break;case a.RNM:A="RNM";break;case a.UDT:A="UDT";break;case a.AND:A="AND";break;case a.NOT:A="NOT";break;case a.REP:A="REP";break;case a.TRG:A="TRG";break;case a.TBS:A="TBS";break;case a.TLS:A="TLS";break;case a.BKR:A="BKR";break;case a.BKA:A="BKA";break;case a.BKN:A="BKN";break;case a.ABG:A="ABG";break;case a.AEN:A="AEN";break;default:throw new Error("unrecognized opcode")}return A},r.stateToString=function(h){let A="unknown";switch(h){case a.ACTIVE:A="ACTIVE";break;case a.MATCH:A="MATCH";break;case a.EMPTY:A="EMPTY";break;case a.NOMATCH:A="NOMATCH";break;default:throw new Error("unrecognized state")}return A},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(h){let A=h.toString(16).toUpperCase();switch(A.length){case 1:case 3:case 7:A=`0${A}`;break;case 2:case 6:A=`00${A}`;break;case 4:break;case 5:A=`000${A}`;break;default:throw new Error("unrecognized option")}return A},r.charsToDec=function(h,A,x){let g="";if(!Array.isArray(h))throw new Error("utilities.js: charsToDec: input must be an array of integers");let w=l(h.length,A,x);if(w.end>w.beg){g+=h[w.beg];for(let y=w.beg+1;y<w.end;y+=1)g+=`,${h[y]}`}return g},r.charsToHex=function(h,A,x){let g="";if(!Array.isArray(h))throw new Error("utilities.js: charsToHex: input must be an array of integers");let w=l(h.length,A,x);if(w.end>w.beg){g+=`\\x${u.charToHex(h[w.beg])}`;for(let y=w.beg+1;y<w.end;y+=1)g+=`,\\x${u.charToHex(h[y])}`}return g},r.charsToHtmlEntities=function(h,A,x){let g="";if(!Array.isArray(h))throw new Error("utilities.js: charsToHex: input must be an array of integers");let w=l(h.length,A,x);if(w.end>w.beg)for(let y=w.beg;y<w.end;y+=1)g+=`&#x${h[y].toString(16)};`;return g},r.charsToUnicode=function(h,A,x){let g="";if(!Array.isArray(h))throw new Error("utilities.js: charsToUnicode: input must be an array of integers");let w=l(h.length,A,x);if(w.end>w.beg)for(let S=w.beg;S<w.end;S+=1)g+=(y=h[S])>=55296&&y<=57343||y>1114111?` U+${u.charToHex(h[S])}`:`&#${h[S]};`;var y;return g},r.charsToJsUnicode=function(h,A,x){let g="";if(!Array.isArray(h))throw new Error("utilities.js: charsToJsUnicode: input must be an array of integers");let w=l(h.length,A,x);if(w.end>w.beg){g+=`\\u${u.charToHex(h[w.beg])}`;for(let y=w.beg+1;y<w.end;y+=1)g+=`,\\u${u.charToHex(h[y])}`}return g},r.charsToAscii=function(h,A,x){let g="";if(!Array.isArray(h))throw new Error("utilities.js: charsToAscii: input must be an array of integers");let w=l(h.length,A,x);for(let y=w.beg;y<w.end;y+=1){let S=h[y];g+=S>=32&&S<=126?String.fromCharCode(S):`\\x${u.charToHex(S)}`}return g},r.charsToAsciiHtml=function(h,A,x){if(!Array.isArray(h))throw new Error("utilities.js: charsToAsciiHtml: input must be an array of integers");let g,w="",y=l(h.length,A,x);for(let S=y.beg;S<y.end;S+=1)g=h[S],w+=g<32||g===127?`<span class="${n.CLASS_CTRLCHAR}">${u.asciiChars[g]}</span>`:g>127?`<span class="${n.CLASS_CTRLCHAR}">U+${u.charToHex(g)}</span>`:u.asciiChars[g];return w},r.stringToAsciiHtml=function(h){let A=s.decode("STRING",h);return this.charsToAsciiHtml(A)}},{"../apg-conv-api/converter":4,"./emitcss":9,"./identifiers":10,"./style":14}],17:[function(e,t,r){globalThis.apgLib=e("./node-exports"),globalThis.apgConvApi=e("../apg-conv-api/node-exports")},{"../apg-conv-api/node-exports":5,"./node-exports":11}]},{},[17]);d();p();function Rc(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"sign-in-with-ethereum",lower:"sign-in-with-ethereum",index:65,isBkr:!1},e.rules[66]={name:"message-domain",lower:"message-domain",index:66,isBkr:!1},e.rules[67]={name:"message-address",lower:"message-address",index:67,isBkr:!1},e.rules[68]={name:"message-statement",lower:"message-statement",index:68,isBkr:!1},e.rules[69]={name:"message-uri",lower:"message-uri",index:69,isBkr:!1},e.rules[70]={name:"message-version",lower:"message-version",index:70,isBkr:!1},e.rules[71]={name:"message-chain-id",lower:"message-chain-id",index:71,isBkr:!1},e.rules[72]={name:"message-nonce",lower:"message-nonce",index:72,isBkr:!1},e.rules[73]={name:"message-issued-at",lower:"message-issued-at",index:73,isBkr:!1},e.rules[74]={name:"message-expiration-time",lower:"message-expiration-time",index:74,isBkr:!1},e.rules[75]={name:"message-not-before",lower:"message-not-before",index:75,isBkr:!1},e.rules[76]={name:"message-request-id",lower:"message-request-id",index:76,isBkr:!1},e.rules[77]={name:"message-resources",lower:"message-resources",index:77,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[65].opcodes[1]={type:4,index:66},e.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},e.rules[65].opcodes[3]={type:4,index:10},e.rules[65].opcodes[4]={type:4,index:67},e.rules[65].opcodes[5]={type:4,index:10},e.rules[65].opcodes[6]={type:4,index:10},e.rules[65].opcodes[7]={type:3,min:0,max:1},e.rules[65].opcodes[8]={type:2,children:[9,10]},e.rules[65].opcodes[9]={type:4,index:68},e.rules[65].opcodes[10]={type:4,index:10},e.rules[65].opcodes[11]={type:4,index:10},e.rules[65].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[65].opcodes[13]={type:4,index:69},e.rules[65].opcodes[14]={type:4,index:10},e.rules[65].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[65].opcodes[16]={type:4,index:70},e.rules[65].opcodes[17]={type:4,index:10},e.rules[65].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[65].opcodes[19]={type:4,index:71},e.rules[65].opcodes[20]={type:4,index:10},e.rules[65].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[65].opcodes[22]={type:4,index:72},e.rules[65].opcodes[23]={type:4,index:10},e.rules[65].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[65].opcodes[25]={type:4,index:73},e.rules[65].opcodes[26]={type:3,min:0,max:1},e.rules[65].opcodes[27]={type:2,children:[28,29,30]},e.rules[65].opcodes[28]={type:4,index:10},e.rules[65].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[65].opcodes[30]={type:4,index:74},e.rules[65].opcodes[31]={type:3,min:0,max:1},e.rules[65].opcodes[32]={type:2,children:[33,34,35]},e.rules[65].opcodes[33]={type:4,index:10},e.rules[65].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[65].opcodes[35]={type:4,index:75},e.rules[65].opcodes[36]={type:3,min:0,max:1},e.rules[65].opcodes[37]={type:2,children:[38,39,40]},e.rules[65].opcodes[38]={type:4,index:10},e.rules[65].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[65].opcodes[40]={type:4,index:76},e.rules[65].opcodes[41]={type:3,min:0,max:1},e.rules[65].opcodes[42]={type:2,children:[43,44,45]},e.rules[65].opcodes[43]={type:4,index:10},e.rules[65].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[65].opcodes[45]={type:4,index:77},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:4,index:36},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:2,children:[1,2]},e.rules[67].opcodes[1]={type:7,string:[48,120]},e.rules[67].opcodes[2]={type:3,min:40,max:40},e.rules[67].opcodes[3]={type:4,index:8},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:3,min:1,max:1/0},e.rules[68].opcodes[1]={type:1,children:[2,3,4]},e.rules[68].opcodes[2]={type:4,index:62},e.rules[68].opcodes[3]={type:4,index:61},e.rules[68].opcodes[4]={type:7,string:[32]},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:4,index:29},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:7,string:[49]},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:3,min:1,max:1/0},e.rules[71].opcodes[1]={type:4,index:6},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:3,min:8,max:1/0},e.rules[72].opcodes[1]={type:1,children:[2,3]},e.rules[72].opcodes[2]={type:4,index:0},e.rules[72].opcodes[3]={type:4,index:6},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:4,index:28},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:4,index:28},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:4,index:28},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:3,min:0,max:1/0},e.rules[76].opcodes[1]={type:4,index:57},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:3,min:0,max:1/0},e.rules[77].opcodes[1]={type:2,children:[2,3,4]},e.rules[77].opcodes[2]={type:4,index:10},e.rules[77].opcodes[3]={type:7,string:[45,32]},e.rules[77].opcodes[4]={type:4,index:29},e.toString=o(function(){let r="";return r+=`; ==============================================================================
`,r+=`; Core rules for ABNF (RFC 5234)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,r+=`
`,r+=`ALPHA          =  %x41-5A / %x61-7A
`,r+=`               ; A-Z / a-z
`,r+=`
`,r+=`BIT            =  "0" / "1"
`,r+=`
`,r+=`CHAR           =  %x01-7F
`,r+=`               ; any 7-bit US-ASCII character,
`,r+=`               ;  excluding NUL
`,r+=`
`,r+=`CR             =  %x0D
`,r+=`               ; carriage return
`,r+=`
`,r+=`CRLF           =  CR LF
`,r+=`               ; Internet standard newline
`,r+=`
`,r+=`CTL            =  %x00-1F / %x7F
`,r+=`               ; controls
`,r+=`
`,r+=`DIGIT          =  %x30-39
`,r+=`               ; 0-9
`,r+=`
`,r+=`DQUOTE         =  %x22
`,r+=`               ; " (Double Quote)
`,r+=`
`,r+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,r+=`
`,r+=`HTAB           =  %x09
`,r+=`               ; horizontal tab
`,r+=`
`,r+=`LF             =  %x0A
`,r+=`               ; linefeed
`,r+=`
`,r+=`LWSP           =  *(WSP / CRLF WSP)
`,r+=`               ; Use of this linear-white-space rule
`,r+=`               ;  permits lines containing only white
`,r+=`               ;  space that are no longer legal in
`,r+=`               ;  mail headers and have caused
`,r+=`               ;  interoperability problems in other
`,r+=`               ;  contexts.
`,r+=`               ; Do not use when defining mail
`,r+=`               ;  headers and use with caution in
`,r+=`               ;  other contexts.
`,r+=`
`,r+=`OCTET          =  %x00-FF
`,r+=`               ; 8 bits of data
`,r+=`
`,r+=`SP             =  %x20
`,r+=`
`,r+=`VCHAR          =  %x21-7E
`,r+=`               ; visible (printing) characters
`,r+=`
`,r+=`WSP            =  SP / HTAB
`,r+=`               ; white space
`,r+=`; ==============================================================================
`,r+=`; Internet Date/Time Format (RFC 3339)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,r+=`
`,r+=`date-fullyear   = 4DIGIT
`,r+=`
`,r+=`date-month      = 2DIGIT  ; 01-12
`,r+=`
`,r+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,r+=`                          ; month/year
`,r+=`
`,r+=`time-hour       = 2DIGIT  ; 00-23
`,r+=`
`,r+=`time-minute     = 2DIGIT  ; 00-59
`,r+=`
`,r+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,r+=`                          ; rules
`,r+=`
`,r+=`time-secfrac    = "." 1*DIGIT
`,r+=`
`,r+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,r+=`
`,r+=`time-offset     = "Z" / time-numoffset
`,r+=`
`,r+=`partial-time    = time-hour ":" time-minute ":" time-second
`,r+=`                  [time-secfrac]
`,r+=`
`,r+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,r+=`
`,r+=`full-time       = partial-time time-offset
`,r+=`
`,r+=`date-time       = full-date "T" full-time
`,r+=`; ==============================================================================
`,r+=`; Uniform Resource Identifier (RFC 3986)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,r+=`
`,r+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`hier-part     = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-rootless
`,r+=`              / path-empty
`,r+=`
`,r+=`URI-reference = URI / relative-ref
`,r+=`
`,r+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,r+=`
`,r+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`relative-part = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-noscheme
`,r+=`              / path-empty
`,r+=`
`,r+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,r+=`
`,r+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,r+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,r+=`host          = IP-literal / IPv4address / reg-name
`,r+=`port          = *DIGIT
`,r+=`
`,r+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,r+=`
`,r+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,r+=`
`,r+=`IPv6address   =                            6( h16 ":" ) ls32
`,r+=`              /                       "::" 5( h16 ":" ) ls32
`,r+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,r+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,r+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,r+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,r+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,r+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,r+=`              / [ *6( h16 ":" ) h16 ] "::"
`,r+=`
`,r+=`h16           = 1*4HEXDIG
`,r+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,r+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,r+=`dec-octet     = DIGIT                 ; 0-9
`,r+=`              / %x31-39 DIGIT         ; 10-99
`,r+=`              / "1" 2DIGIT            ; 100-199
`,r+=`              / "2" %x30-34 DIGIT     ; 200-249
`,r+=`              / "25" %x30-35          ; 250-255
`,r+=`
`,r+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,r+=`
`,r+=`path          = path-abempty    ; begins with "/" or is empty
`,r+=`              / path-absolute   ; begins with "/" but not "//"
`,r+=`              / path-noscheme   ; begins with a non-colon segment
`,r+=`              / path-rootless   ; begins with a segment
`,r+=`              / path-empty      ; zero characters
`,r+=`
`,r+=`path-abempty  = *( "/" segment )
`,r+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,r+=`path-noscheme = segment-nz-nc *( "/" segment )
`,r+=`path-rootless = segment-nz *( "/" segment )
`,r+=`path-empty    = 0pchar
`,r+=`
`,r+=`segment       = *pchar
`,r+=`segment-nz    = 1*pchar
`,r+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,r+=`; non-zero-length segment without any colon ":"
`,r+=`
`,r+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,r+=`
`,r+=`query         = *( pchar / "/" / "?" )
`,r+=`
`,r+=`fragment      = *( pchar / "/" / "?" )
`,r+=`
`,r+=`pct-encoded   = "%" HEXDIG HEXDIG
`,r+=`
`,r+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,r+=`reserved      = gen-delims / sub-delims
`,r+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,r+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,r+=`              / "*" / "+" / "," / ";" / "="
`,r+=`; ==============================================================================
`,r+=`; Sign in with Ethereum (EIP-4361)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`; - datetime.bnf
`,r+=`; - uri.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://eips.ethereum.org/EIPS/eip-4361
`,r+=`
`,r+=`sign-in-with-ethereum =
`,r+=`  message-domain %s" wants you to sign in with your Ethereum account:" LF
`,r+=`  message-address LF
`,r+=`  LF
`,r+=`  [ message-statement LF ]
`,r+=`  LF
`,r+=`  %s"URI: " message-uri LF
`,r+=`  %s"Version: " message-version LF
`,r+=`  %s"Chain ID: " message-chain-id LF
`,r+=`  %s"Nonce: " message-nonce LF
`,r+=`  %s"Issued At: " message-issued-at
`,r+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,r+=`  [ LF %s"Not Before: " message-not-before ]
`,r+=`  [ LF %s"Request ID: " message-request-id ]
`,r+=`  [ LF %s"Resources:" message-resources ]
`,r+=`
`,r+=`message-domain          = authority
`,r+=`message-address         = "0x" 40*40HEXDIG
`,r+=`message-statement       = 1*( reserved / unreserved / " " )
`,r+=`message-uri             = URI
`,r+=`message-version         = "1"
`,r+=`message-chain-id        = 1*DIGIT
`,r+=`message-nonce           = 8*( ALPHA / DIGIT )
`,r+=`message-issued-at       = date-time
`,r+=`message-expiration-time = date-time
`,r+=`message-not-before      = date-time
`,r+=`message-request-id      = *pchar
`,r+=`message-resources       = *( LF "- " URI )
`,r},"toString"),e}o(Rc,"grammar");d();p();function Cc(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"sign-in-with-solana",lower:"sign-in-with-solana",index:65,isBkr:!1},e.rules[66]={name:"advanced-fields",lower:"advanced-fields",index:66,isBkr:!1},e.rules[67]={name:"message-domain",lower:"message-domain",index:67,isBkr:!1},e.rules[68]={name:"message-address",lower:"message-address",index:68,isBkr:!1},e.rules[69]={name:"message-statement",lower:"message-statement",index:69,isBkr:!1},e.rules[70]={name:"message-uri",lower:"message-uri",index:70,isBkr:!1},e.rules[71]={name:"message-version",lower:"message-version",index:71,isBkr:!1},e.rules[72]={name:"message-chain-id",lower:"message-chain-id",index:72,isBkr:!1},e.rules[73]={name:"message-nonce",lower:"message-nonce",index:73,isBkr:!1},e.rules[74]={name:"message-issued-at",lower:"message-issued-at",index:74,isBkr:!1},e.rules[75]={name:"message-expiration-time",lower:"message-expiration-time",index:75,isBkr:!1},e.rules[76]={name:"message-not-before",lower:"message-not-before",index:76,isBkr:!1},e.rules[77]={name:"message-request-id",lower:"message-request-id",index:77,isBkr:!1},e.rules[78]={name:"message-resources",lower:"message-resources",index:78,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,10]},e.rules[65].opcodes[1]={type:4,index:67},e.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},e.rules[65].opcodes[3]={type:4,index:10},e.rules[65].opcodes[4]={type:4,index:68},e.rules[65].opcodes[5]={type:3,min:0,max:1},e.rules[65].opcodes[6]={type:2,children:[7,8,9]},e.rules[65].opcodes[7]={type:4,index:10},e.rules[65].opcodes[8]={type:4,index:10},e.rules[65].opcodes[9]={type:4,index:69},e.rules[65].opcodes[10]={type:3,min:0,max:1},e.rules[65].opcodes[11]={type:2,children:[12,13]},e.rules[65].opcodes[12]={type:4,index:10},e.rules[65].opcodes[13]={type:4,index:66},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:2,children:[1,6,11,16,21,26,31,36,41]},e.rules[66].opcodes[1]={type:3,min:0,max:1},e.rules[66].opcodes[2]={type:2,children:[3,4,5]},e.rules[66].opcodes[3]={type:4,index:10},e.rules[66].opcodes[4]={type:6,string:[85,82,73,58,32]},e.rules[66].opcodes[5]={type:4,index:70},e.rules[66].opcodes[6]={type:3,min:0,max:1},e.rules[66].opcodes[7]={type:2,children:[8,9,10]},e.rules[66].opcodes[8]={type:4,index:10},e.rules[66].opcodes[9]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[66].opcodes[10]={type:4,index:71},e.rules[66].opcodes[11]={type:3,min:0,max:1},e.rules[66].opcodes[12]={type:2,children:[13,14,15]},e.rules[66].opcodes[13]={type:4,index:10},e.rules[66].opcodes[14]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[66].opcodes[15]={type:4,index:72},e.rules[66].opcodes[16]={type:3,min:0,max:1},e.rules[66].opcodes[17]={type:2,children:[18,19,20]},e.rules[66].opcodes[18]={type:4,index:10},e.rules[66].opcodes[19]={type:6,string:[78,111,110,99,101,58,32]},e.rules[66].opcodes[20]={type:4,index:73},e.rules[66].opcodes[21]={type:3,min:0,max:1},e.rules[66].opcodes[22]={type:2,children:[23,24,25]},e.rules[66].opcodes[23]={type:4,index:10},e.rules[66].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[66].opcodes[25]={type:4,index:74},e.rules[66].opcodes[26]={type:3,min:0,max:1},e.rules[66].opcodes[27]={type:2,children:[28,29,30]},e.rules[66].opcodes[28]={type:4,index:10},e.rules[66].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[66].opcodes[30]={type:4,index:75},e.rules[66].opcodes[31]={type:3,min:0,max:1},e.rules[66].opcodes[32]={type:2,children:[33,34,35]},e.rules[66].opcodes[33]={type:4,index:10},e.rules[66].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[66].opcodes[35]={type:4,index:76},e.rules[66].opcodes[36]={type:3,min:0,max:1},e.rules[66].opcodes[37]={type:2,children:[38,39,40]},e.rules[66].opcodes[38]={type:4,index:10},e.rules[66].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[66].opcodes[40]={type:4,index:77},e.rules[66].opcodes[41]={type:3,min:0,max:1},e.rules[66].opcodes[42]={type:2,children:[43,44,45]},e.rules[66].opcodes[43]={type:4,index:10},e.rules[66].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[66].opcodes[45]={type:4,index:78},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:4,index:36},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:3,min:32,max:44},e.rules[68].opcodes[1]={type:1,children:[2,3,4,5,6,7]},e.rules[68].opcodes[2]={type:5,min:49,max:57},e.rules[68].opcodes[3]={type:5,min:65,max:72},e.rules[68].opcodes[4]={type:5,min:74,max:78},e.rules[68].opcodes[5]={type:5,min:80,max:90},e.rules[68].opcodes[6]={type:5,min:97,max:107},e.rules[68].opcodes[7]={type:5,min:109,max:122},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:3,min:1,max:1/0},e.rules[69].opcodes[1]={type:1,children:[2,3,4]},e.rules[69].opcodes[2]={type:4,index:62},e.rules[69].opcodes[3]={type:4,index:61},e.rules[69].opcodes[4]={type:7,string:[32]},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:4,index:29},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:7,string:[49]},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[72].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},e.rules[72].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},e.rules[72].opcodes[3]={type:6,string:[100,101,118,110,101,116]},e.rules[72].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},e.rules[72].opcodes[5]={type:6,string:[115,111,108,97,110,97,58,109,97,105,110,110,101,116]},e.rules[72].opcodes[6]={type:6,string:[115,111,108,97,110,97,58,116,101,115,116,110,101,116]},e.rules[72].opcodes[7]={type:6,string:[115,111,108,97,110,97,58,100,101,118,110,101,116]},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:3,min:8,max:1/0},e.rules[73].opcodes[1]={type:1,children:[2,3]},e.rules[73].opcodes[2]={type:4,index:0},e.rules[73].opcodes[3]={type:4,index:6},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:4,index:28},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:4,index:28},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:4,index:28},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:3,min:0,max:1/0},e.rules[77].opcodes[1]={type:4,index:57},e.rules[78].opcodes=[],e.rules[78].opcodes[0]={type:3,min:0,max:1/0},e.rules[78].opcodes[1]={type:2,children:[2,3,4]},e.rules[78].opcodes[2]={type:4,index:10},e.rules[78].opcodes[3]={type:7,string:[45,32]},e.rules[78].opcodes[4]={type:4,index:29},e.toString=o(function(){let r="";return r+=`; ==============================================================================
`,r+=`; Core rules for ABNF (RFC 5234)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,r+=`
`,r+=`ALPHA          =  %x41-5A / %x61-7A
`,r+=`               ; A-Z / a-z
`,r+=`
`,r+=`BIT            =  "0" / "1"
`,r+=`
`,r+=`CHAR           =  %x01-7F
`,r+=`               ; any 7-bit US-ASCII character,
`,r+=`               ;  excluding NUL
`,r+=`
`,r+=`CR             =  %x0D
`,r+=`               ; carriage return
`,r+=`
`,r+=`CRLF           =  CR LF
`,r+=`               ; Internet standard newline
`,r+=`
`,r+=`CTL            =  %x00-1F / %x7F
`,r+=`               ; controls
`,r+=`
`,r+=`DIGIT          =  %x30-39
`,r+=`               ; 0-9
`,r+=`
`,r+=`DQUOTE         =  %x22
`,r+=`               ; " (Double Quote)
`,r+=`
`,r+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,r+=`
`,r+=`HTAB           =  %x09
`,r+=`               ; horizontal tab
`,r+=`
`,r+=`LF             =  %x0A
`,r+=`               ; linefeed
`,r+=`
`,r+=`LWSP           =  *(WSP / CRLF WSP)
`,r+=`               ; Use of this linear-white-space rule
`,r+=`               ;  permits lines containing only white
`,r+=`               ;  space that are no longer legal in
`,r+=`               ;  mail headers and have caused
`,r+=`               ;  interoperability problems in other
`,r+=`               ;  contexts.
`,r+=`               ; Do not use when defining mail
`,r+=`               ;  headers and use with caution in
`,r+=`               ;  other contexts.
`,r+=`
`,r+=`OCTET          =  %x00-FF
`,r+=`               ; 8 bits of data
`,r+=`
`,r+=`SP             =  %x20
`,r+=`
`,r+=`VCHAR          =  %x21-7E
`,r+=`               ; visible (printing) characters
`,r+=`
`,r+=`WSP            =  SP / HTAB
`,r+=`               ; white space
`,r+=`; ==============================================================================
`,r+=`; Internet Date/Time Format (RFC 3339)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,r+=`
`,r+=`date-fullyear   = 4DIGIT
`,r+=`
`,r+=`date-month      = 2DIGIT  ; 01-12
`,r+=`
`,r+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,r+=`                          ; month/year
`,r+=`
`,r+=`time-hour       = 2DIGIT  ; 00-23
`,r+=`
`,r+=`time-minute     = 2DIGIT  ; 00-59
`,r+=`
`,r+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,r+=`                          ; rules
`,r+=`
`,r+=`time-secfrac    = "." 1*DIGIT
`,r+=`
`,r+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,r+=`
`,r+=`time-offset     = "Z" / time-numoffset
`,r+=`
`,r+=`partial-time    = time-hour ":" time-minute ":" time-second
`,r+=`                  [time-secfrac]
`,r+=`
`,r+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,r+=`
`,r+=`full-time       = partial-time time-offset
`,r+=`
`,r+=`date-time       = full-date "T" full-time
`,r+=`; ==============================================================================
`,r+=`; Uniform Resource Identifier (RFC 3986)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,r+=`
`,r+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`hier-part     = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-rootless
`,r+=`              / path-empty
`,r+=`
`,r+=`URI-reference = URI / relative-ref
`,r+=`
`,r+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,r+=`
`,r+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`relative-part = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-noscheme
`,r+=`              / path-empty
`,r+=`
`,r+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,r+=`
`,r+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,r+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,r+=`host          = IP-literal / IPv4address / reg-name
`,r+=`port          = *DIGIT
`,r+=`
`,r+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,r+=`
`,r+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,r+=`
`,r+=`IPv6address   =                            6( h16 ":" ) ls32
`,r+=`              /                       "::" 5( h16 ":" ) ls32
`,r+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,r+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,r+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,r+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,r+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,r+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,r+=`              / [ *6( h16 ":" ) h16 ] "::"
`,r+=`
`,r+=`h16           = 1*4HEXDIG
`,r+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,r+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,r+=`dec-octet     = DIGIT                 ; 0-9
`,r+=`              / %x31-39 DIGIT         ; 10-99
`,r+=`              / "1" 2DIGIT            ; 100-199
`,r+=`              / "2" %x30-34 DIGIT     ; 200-249
`,r+=`              / "25" %x30-35          ; 250-255
`,r+=`
`,r+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,r+=`
`,r+=`path          = path-abempty    ; begins with "/" or is empty
`,r+=`              / path-absolute   ; begins with "/" but not "//"
`,r+=`              / path-noscheme   ; begins with a non-colon segment
`,r+=`              / path-rootless   ; begins with a segment
`,r+=`              / path-empty      ; zero characters
`,r+=`
`,r+=`path-abempty  = *( "/" segment )
`,r+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,r+=`path-noscheme = segment-nz-nc *( "/" segment )
`,r+=`path-rootless = segment-nz *( "/" segment )
`,r+=`path-empty    = 0pchar
`,r+=`
`,r+=`segment       = *pchar
`,r+=`segment-nz    = 1*pchar
`,r+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,r+=`; non-zero-length segment without any colon ":"
`,r+=`
`,r+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,r+=`
`,r+=`query         = *( pchar / "/" / "?" )
`,r+=`
`,r+=`fragment      = *( pchar / "/" / "?" )
`,r+=`
`,r+=`pct-encoded   = "%" HEXDIG HEXDIG
`,r+=`
`,r+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,r+=`reserved      = gen-delims / sub-delims
`,r+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,r+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,r+=`              / "*" / "+" / "," / ";" / "="
`,r+=`; ==============================================================================
`,r+=`; Sign in with Solana
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`; - datetime.bnf
`,r+=`; - uri.bnf
`,r+=`; - dns.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://eips.ethereum.org/EIPS/eip-4361
`,r+=` 
`,r+=`sign-in-with-solana =
`,r+=`  message-domain %s" wants you to sign in with your Solana account:" LF
`,r+=`  message-address
`,r+=`  [ LF LF message-statement ]
`,r+=`  [ LF advanced-fields ]
`,r+=`
`,r+=`advanced-fields =
`,r+=`  [ LF %s"URI: " message-uri ]
`,r+=`  [ LF %s"Version: " message-version ]
`,r+=`  [ LF %s"Chain ID: " message-chain-id ]
`,r+=`  [ LF %s"Nonce: " message-nonce ]
`,r+=`  [ LF %s"Issued At: " message-issued-at ]
`,r+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,r+=`  [ LF %s"Not Before: " message-not-before ]
`,r+=`  [ LF %s"Request ID: " message-request-id ]
`,r+=`  [ LF %s"Resources:" message-resources ]
`,r+=`
`,r+=`message-domain          = authority
`,r+=`message-address         = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )
`,r+=`message-statement       = 1*( reserved / unreserved / " " )
`,r+=`message-uri             = URI
`,r+=`message-version         = "1"
`,r+=`message-chain-id        = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet" / %s"solana:mainnet" / %s"solana:testnet" / %s"solana:devnet"
`,r+=`message-nonce           = 8*( ALPHA / DIGIT )
`,r+=`message-issued-at       = date-time
`,r+=`message-expiration-time = date-time
`,r+=`message-not-before      = date-time
`,r+=`message-request-id      = *pchar
`,r+=`message-resources       = *( LF "- " URI )
`,r},"toString"),e}o(Cc,"grammar");d();p();function Bc(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"dnsurl",lower:"dnsurl",index:65,isBkr:!1},e.rules[66]={name:"dnsauthority",lower:"dnsauthority",index:66,isBkr:!1},e.rules[67]={name:"dnsname",lower:"dnsname",index:67,isBkr:!1},e.rules[68]={name:"dnsquery",lower:"dnsquery",index:68,isBkr:!1},e.rules[69]={name:"dnsqueryelement",lower:"dnsqueryelement",index:69,isBkr:!1},e.rules[70]={name:"dnsclassval",lower:"dnsclassval",index:70,isBkr:!1},e.rules[71]={name:"dnstypeval",lower:"dnstypeval",index:71,isBkr:!1},e.rules[72]={name:"chain-id",lower:"chain-id",index:72,isBkr:!1},e.rules[73]={name:"eth-namespace",lower:"eth-namespace",index:73,isBkr:!1},e.rules[74]={name:"eth-network-id",lower:"eth-network-id",index:74,isBkr:!1},e.rules[75]={name:"eth-chain-id",lower:"eth-chain-id",index:75,isBkr:!1},e.rules[76]={name:"sol-namespace",lower:"sol-namespace",index:76,isBkr:!1},e.rules[77]={name:"sol-network-id",lower:"sol-network-id",index:77,isBkr:!1},e.rules[78]={name:"sol-chain-id",lower:"sol-chain-id",index:78,isBkr:!1},e.rules[79]={name:"account-id",lower:"account-id",index:79,isBkr:!1},e.rules[80]={name:"eth-address",lower:"eth-address",index:80,isBkr:!1},e.rules[81]={name:"eth-account-id",lower:"eth-account-id",index:81,isBkr:!1},e.rules[82]={name:"sol-address",lower:"sol-address",index:82,isBkr:!1},e.rules[83]={name:"sol-account-id",lower:"sol-account-id",index:83,isBkr:!1},e.rules[84]={name:"sign-in-with-x",lower:"sign-in-with-x",index:84,isBkr:!1},e.rules[85]={name:"sign-in-with-eth",lower:"sign-in-with-eth",index:85,isBkr:!1},e.rules[86]={name:"sign-in-with-sol",lower:"sign-in-with-sol",index:86,isBkr:!1},e.rules[87]={name:"message-domain",lower:"message-domain",index:87,isBkr:!1},e.rules[88]={name:"message-address",lower:"message-address",index:88,isBkr:!1},e.rules[89]={name:"message-statement",lower:"message-statement",index:89,isBkr:!1},e.rules[90]={name:"message-uri",lower:"message-uri",index:90,isBkr:!1},e.rules[91]={name:"message-version",lower:"message-version",index:91,isBkr:!1},e.rules[92]={name:"message-chain-id",lower:"message-chain-id",index:92,isBkr:!1},e.rules[93]={name:"message-nonce",lower:"message-nonce",index:93,isBkr:!1},e.rules[94]={name:"message-issued-at",lower:"message-issued-at",index:94,isBkr:!1},e.rules[95]={name:"message-expiration-time",lower:"message-expiration-time",index:95,isBkr:!1},e.rules[96]={name:"message-not-before",lower:"message-not-before",index:96,isBkr:!1},e.rules[97]={name:"message-request-id",lower:"message-request-id",index:97,isBkr:!1},e.rules[98]={name:"message-resources",lower:"message-resources",index:98,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,7,8]},e.rules[65].opcodes[1]={type:7,string:[100,110,115,58]},e.rules[65].opcodes[2]={type:3,min:0,max:1},e.rules[65].opcodes[3]={type:2,children:[4,5,6]},e.rules[65].opcodes[4]={type:7,string:[47,47]},e.rules[65].opcodes[5]={type:4,index:66},e.rules[65].opcodes[6]={type:7,string:[47]},e.rules[65].opcodes[7]={type:4,index:67},e.rules[65].opcodes[8]={type:3,min:0,max:1},e.rules[65].opcodes[9]={type:2,children:[10,11]},e.rules[65].opcodes[10]={type:7,string:[63]},e.rules[65].opcodes[11]={type:4,index:68},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:2,children:[1,2]},e.rules[66].opcodes[1]={type:4,index:38},e.rules[66].opcodes[2]={type:3,min:0,max:1},e.rules[66].opcodes[3]={type:2,children:[4,5]},e.rules[66].opcodes[4]={type:7,string:[58]},e.rules[66].opcodes[5]={type:4,index:39},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:3,min:0,max:1/0},e.rules[67].opcodes[1]={type:4,index:57},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:2,children:[1,2]},e.rules[68].opcodes[1]={type:4,index:69},e.rules[68].opcodes[2]={type:3,min:0,max:1},e.rules[68].opcodes[3]={type:2,children:[4,5]},e.rules[68].opcodes[4]={type:7,string:[59]},e.rules[68].opcodes[5]={type:4,index:68},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:1,children:[1,4]},e.rules[69].opcodes[1]={type:2,children:[2,3]},e.rules[69].opcodes[2]={type:7,string:[99,108,97,115,115,61]},e.rules[69].opcodes[3]={type:4,index:70},e.rules[69].opcodes[4]={type:2,children:[5,6]},e.rules[69].opcodes[5]={type:7,string:[116,121,112,101,61]},e.rules[69].opcodes[6]={type:4,index:71},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:1,children:[1,3,4]},e.rules[70].opcodes[1]={type:3,min:1,max:1/0},e.rules[70].opcodes[2]={type:4,index:6},e.rules[70].opcodes[3]={type:7,string:[105,110]},e.rules[70].opcodes[4]={type:7,string:[99,104]},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:1,children:[1,3,4,5]},e.rules[71].opcodes[1]={type:3,min:1,max:1/0},e.rules[71].opcodes[2]={type:4,index:6},e.rules[71].opcodes[3]={type:7,string:[97]},e.rules[71].opcodes[4]={type:7,string:[110,115]},e.rules[71].opcodes[5]={type:7,string:[109,100]},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:1,children:[1,2]},e.rules[72].opcodes[1]={type:4,index:75},e.rules[72].opcodes[2]={type:4,index:78},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:6,string:[101,105,112,49,53,53]},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:3,min:1,max:32},e.rules[74].opcodes[1]={type:4,index:6},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:2,children:[1,2,3]},e.rules[75].opcodes[1]={type:4,index:73},e.rules[75].opcodes[2]={type:7,string:[58]},e.rules[75].opcodes[3]={type:4,index:74},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:6,string:[115,111,108,97,110,97]},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:1,children:[1,2,3,4]},e.rules[77].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},e.rules[77].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},e.rules[77].opcodes[3]={type:6,string:[100,101,118,110,101,116]},e.rules[77].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},e.rules[78].opcodes=[],e.rules[78].opcodes[0]={type:2,children:[1,2,3]},e.rules[78].opcodes[1]={type:4,index:76},e.rules[78].opcodes[2]={type:7,string:[58]},e.rules[78].opcodes[3]={type:4,index:77},e.rules[79].opcodes=[],e.rules[79].opcodes[0]={type:1,children:[1,2]},e.rules[79].opcodes[1]={type:4,index:81},e.rules[79].opcodes[2]={type:4,index:83},e.rules[80].opcodes=[],e.rules[80].opcodes[0]={type:2,children:[1,2]},e.rules[80].opcodes[1]={type:7,string:[48,120]},e.rules[80].opcodes[2]={type:3,min:40,max:40},e.rules[80].opcodes[3]={type:4,index:8},e.rules[81].opcodes=[],e.rules[81].opcodes[0]={type:2,children:[1,2,3]},e.rules[81].opcodes[1]={type:4,index:75},e.rules[81].opcodes[2]={type:7,string:[58]},e.rules[81].opcodes[3]={type:4,index:80},e.rules[82].opcodes=[],e.rules[82].opcodes[0]={type:3,min:32,max:44},e.rules[82].opcodes[1]={type:1,children:[2,3,4,5,6,7]},e.rules[82].opcodes[2]={type:5,min:49,max:57},e.rules[82].opcodes[3]={type:5,min:65,max:72},e.rules[82].opcodes[4]={type:5,min:74,max:78},e.rules[82].opcodes[5]={type:5,min:80,max:90},e.rules[82].opcodes[6]={type:5,min:97,max:107},e.rules[82].opcodes[7]={type:5,min:109,max:122},e.rules[83].opcodes=[],e.rules[83].opcodes[0]={type:2,children:[1,2,3]},e.rules[83].opcodes[1]={type:4,index:78},e.rules[83].opcodes[2]={type:7,string:[58]},e.rules[83].opcodes[3]={type:4,index:82},e.rules[84].opcodes=[],e.rules[84].opcodes[0]={type:1,children:[1,2]},e.rules[84].opcodes[1]={type:4,index:85},e.rules[84].opcodes[2]={type:4,index:86},e.rules[85].opcodes=[],e.rules[85].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[85].opcodes[1]={type:4,index:87},e.rules[85].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},e.rules[85].opcodes[3]={type:4,index:10},e.rules[85].opcodes[4]={type:4,index:81},e.rules[85].opcodes[5]={type:4,index:10},e.rules[85].opcodes[6]={type:4,index:10},e.rules[85].opcodes[7]={type:3,min:0,max:1},e.rules[85].opcodes[8]={type:2,children:[9,10]},e.rules[85].opcodes[9]={type:4,index:89},e.rules[85].opcodes[10]={type:4,index:10},e.rules[85].opcodes[11]={type:4,index:10},e.rules[85].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[85].opcodes[13]={type:4,index:90},e.rules[85].opcodes[14]={type:4,index:10},e.rules[85].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[85].opcodes[16]={type:4,index:91},e.rules[85].opcodes[17]={type:4,index:10},e.rules[85].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[85].opcodes[19]={type:4,index:75},e.rules[85].opcodes[20]={type:4,index:10},e.rules[85].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[85].opcodes[22]={type:4,index:93},e.rules[85].opcodes[23]={type:4,index:10},e.rules[85].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[85].opcodes[25]={type:4,index:94},e.rules[85].opcodes[26]={type:3,min:0,max:1},e.rules[85].opcodes[27]={type:2,children:[28,29,30]},e.rules[85].opcodes[28]={type:4,index:10},e.rules[85].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[85].opcodes[30]={type:4,index:95},e.rules[85].opcodes[31]={type:3,min:0,max:1},e.rules[85].opcodes[32]={type:2,children:[33,34,35]},e.rules[85].opcodes[33]={type:4,index:10},e.rules[85].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[85].opcodes[35]={type:4,index:96},e.rules[85].opcodes[36]={type:3,min:0,max:1},e.rules[85].opcodes[37]={type:2,children:[38,39,40]},e.rules[85].opcodes[38]={type:4,index:10},e.rules[85].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[85].opcodes[40]={type:4,index:97},e.rules[85].opcodes[41]={type:3,min:0,max:1},e.rules[85].opcodes[42]={type:2,children:[43,44,45]},e.rules[85].opcodes[43]={type:4,index:10},e.rules[85].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[85].opcodes[45]={type:4,index:98},e.rules[86].opcodes=[],e.rules[86].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[86].opcodes[1]={type:4,index:87},e.rules[86].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},e.rules[86].opcodes[3]={type:4,index:10},e.rules[86].opcodes[4]={type:4,index:83},e.rules[86].opcodes[5]={type:4,index:10},e.rules[86].opcodes[6]={type:4,index:10},e.rules[86].opcodes[7]={type:3,min:0,max:1},e.rules[86].opcodes[8]={type:2,children:[9,10]},e.rules[86].opcodes[9]={type:4,index:89},e.rules[86].opcodes[10]={type:4,index:10},e.rules[86].opcodes[11]={type:4,index:10},e.rules[86].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[86].opcodes[13]={type:4,index:90},e.rules[86].opcodes[14]={type:4,index:10},e.rules[86].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[86].opcodes[16]={type:4,index:91},e.rules[86].opcodes[17]={type:4,index:10},e.rules[86].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[86].opcodes[19]={type:4,index:78},e.rules[86].opcodes[20]={type:4,index:10},e.rules[86].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[86].opcodes[22]={type:4,index:93},e.rules[86].opcodes[23]={type:4,index:10},e.rules[86].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[86].opcodes[25]={type:4,index:94},e.rules[86].opcodes[26]={type:3,min:0,max:1},e.rules[86].opcodes[27]={type:2,children:[28,29,30]},e.rules[86].opcodes[28]={type:4,index:10},e.rules[86].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[86].opcodes[30]={type:4,index:95},e.rules[86].opcodes[31]={type:3,min:0,max:1},e.rules[86].opcodes[32]={type:2,children:[33,34,35]},e.rules[86].opcodes[33]={type:4,index:10},e.rules[86].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[86].opcodes[35]={type:4,index:96},e.rules[86].opcodes[36]={type:3,min:0,max:1},e.rules[86].opcodes[37]={type:2,children:[38,39,40]},e.rules[86].opcodes[38]={type:4,index:10},e.rules[86].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[86].opcodes[40]={type:4,index:97},e.rules[86].opcodes[41]={type:3,min:0,max:1},e.rules[86].opcodes[42]={type:2,children:[43,44,45]},e.rules[86].opcodes[43]={type:4,index:10},e.rules[86].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[86].opcodes[45]={type:4,index:98},e.rules[87].opcodes=[],e.rules[87].opcodes[0]={type:4,index:66},e.rules[88].opcodes=[],e.rules[88].opcodes[0]={type:1,children:[1,2]},e.rules[88].opcodes[1]={type:4,index:81},e.rules[88].opcodes[2]={type:4,index:83},e.rules[89].opcodes=[],e.rules[89].opcodes[0]={type:3,min:1,max:1/0},e.rules[89].opcodes[1]={type:1,children:[2,3,4]},e.rules[89].opcodes[2]={type:4,index:62},e.rules[89].opcodes[3]={type:4,index:61},e.rules[89].opcodes[4]={type:7,string:[32]},e.rules[90].opcodes=[],e.rules[90].opcodes[0]={type:4,index:29},e.rules[91].opcodes=[],e.rules[91].opcodes[0]={type:7,string:[49]},e.rules[92].opcodes=[],e.rules[92].opcodes[0]={type:1,children:[1,2]},e.rules[92].opcodes[1]={type:4,index:75},e.rules[92].opcodes[2]={type:4,index:78},e.rules[93].opcodes=[],e.rules[93].opcodes[0]={type:3,min:8,max:1/0},e.rules[93].opcodes[1]={type:1,children:[2,3]},e.rules[93].opcodes[2]={type:4,index:0},e.rules[93].opcodes[3]={type:4,index:6},e.rules[94].opcodes=[],e.rules[94].opcodes[0]={type:4,index:28},e.rules[95].opcodes=[],e.rules[95].opcodes[0]={type:4,index:28},e.rules[96].opcodes=[],e.rules[96].opcodes[0]={type:4,index:28},e.rules[97].opcodes=[],e.rules[97].opcodes[0]={type:3,min:0,max:1/0},e.rules[97].opcodes[1]={type:4,index:57},e.rules[98].opcodes=[],e.rules[98].opcodes[0]={type:3,min:0,max:1/0},e.rules[98].opcodes[1]={type:2,children:[2,3,4]},e.rules[98].opcodes[2]={type:4,index:10},e.rules[98].opcodes[3]={type:7,string:[45,32]},e.rules[98].opcodes[4]={type:4,index:29},e.toString=()=>{let t="";return t+=`; ==============================================================================
`,t+=`; Core rules for ABNF (RFC 5234)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,t+=`
`,t+=`ALPHA          =  %x41-5A / %x61-7A
`,t+=`               ; A-Z / a-z
`,t+=`
`,t+=`BIT            =  "0" / "1"
`,t+=`
`,t+=`CHAR           =  %x01-7F
`,t+=`               ; any 7-bit US-ASCII character,
`,t+=`               ;  excluding NUL
`,t+=`
`,t+=`CR             =  %x0D
`,t+=`               ; carriage return
`,t+=`
`,t+=`CRLF           =  CR LF
`,t+=`               ; Internet standard newline
`,t+=`
`,t+=`CTL            =  %x00-1F / %x7F
`,t+=`               ; controls
`,t+=`
`,t+=`DIGIT          =  %x30-39
`,t+=`               ; 0-9
`,t+=`
`,t+=`DQUOTE         =  %x22
`,t+=`               ; " (Double Quote)
`,t+=`
`,t+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,t+=`
`,t+=`HTAB           =  %x09
`,t+=`               ; horizontal tab
`,t+=`
`,t+=`LF             =  %x0A
`,t+=`               ; linefeed
`,t+=`
`,t+=`LWSP           =  *(WSP / CRLF WSP)
`,t+=`               ; Use of this linear-white-space rule
`,t+=`               ;  permits lines containing only white
`,t+=`               ;  space that are no longer legal in
`,t+=`               ;  mail headers and have caused
`,t+=`               ;  interoperability problems in other
`,t+=`               ;  contexts.
`,t+=`               ; Do not use when defining mail
`,t+=`               ;  headers and use with caution in
`,t+=`               ;  other contexts.
`,t+=`
`,t+=`OCTET          =  %x00-FF
`,t+=`               ; 8 bits of data
`,t+=`
`,t+=`SP             =  %x20
`,t+=`
`,t+=`VCHAR          =  %x21-7E
`,t+=`               ; visible (printing) characters
`,t+=`
`,t+=`WSP            =  SP / HTAB
`,t+=`               ; white space
`,t+=`; ==============================================================================
`,t+=`; Internet Date/Time Format (RFC 3339)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,t+=`
`,t+=`date-fullyear   = 4DIGIT
`,t+=`
`,t+=`date-month      = 2DIGIT  ; 01-12
`,t+=`
`,t+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,t+=`                          ; month/year
`,t+=`
`,t+=`time-hour       = 2DIGIT  ; 00-23
`,t+=`
`,t+=`time-minute     = 2DIGIT  ; 00-59
`,t+=`
`,t+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,t+=`                          ; rules
`,t+=`
`,t+=`time-secfrac    = "." 1*DIGIT
`,t+=`
`,t+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,t+=`
`,t+=`time-offset     = "Z" / time-numoffset
`,t+=`
`,t+=`partial-time    = time-hour ":" time-minute ":" time-second
`,t+=`                  [time-secfrac]
`,t+=`
`,t+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,t+=`
`,t+=`full-time       = partial-time time-offset
`,t+=`
`,t+=`date-time       = full-date "T" full-time
`,t+=`; ==============================================================================
`,t+=`; Uniform Resource Identifier (RFC 3986)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,t+=`
`,t+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,t+=`
`,t+=`hier-part     = "//" authority path-abempty
`,t+=`              / path-absolute
`,t+=`              / path-rootless
`,t+=`              / path-empty
`,t+=`
`,t+=`URI-reference = URI / relative-ref
`,t+=`
`,t+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,t+=`
`,t+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,t+=`
`,t+=`relative-part = "//" authority path-abempty
`,t+=`              / path-absolute
`,t+=`              / path-noscheme
`,t+=`              / path-empty
`,t+=`
`,t+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,t+=`
`,t+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,t+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,t+=`host          = IP-literal / IPv4address / reg-name
`,t+=`port          = *DIGIT
`,t+=`
`,t+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,t+=`
`,t+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,t+=`
`,t+=`IPv6address   =                            6( h16 ":" ) ls32
`,t+=`              /                       "::" 5( h16 ":" ) ls32
`,t+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,t+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,t+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,t+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,t+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,t+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,t+=`              / [ *6( h16 ":" ) h16 ] "::"
`,t+=`
`,t+=`h16           = 1*4HEXDIG
`,t+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,t+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,t+=`dec-octet     = DIGIT                 ; 0-9
`,t+=`              / %x31-39 DIGIT         ; 10-99
`,t+=`              / "1" 2DIGIT            ; 100-199
`,t+=`              / "2" %x30-34 DIGIT     ; 200-249
`,t+=`              / "25" %x30-35          ; 250-255
`,t+=`
`,t+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,t+=`
`,t+=`path          = path-abempty    ; begins with "/" or is empty
`,t+=`              / path-absolute   ; begins with "/" but not "//"
`,t+=`              / path-noscheme   ; begins with a non-colon segment
`,t+=`              / path-rootless   ; begins with a segment
`,t+=`              / path-empty      ; zero characters
`,t+=`
`,t+=`path-abempty  = *( "/" segment )
`,t+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,t+=`path-noscheme = segment-nz-nc *( "/" segment )
`,t+=`path-rootless = segment-nz *( "/" segment )
`,t+=`path-empty    = 0pchar
`,t+=`
`,t+=`segment       = *pchar
`,t+=`segment-nz    = 1*pchar
`,t+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,t+=`; non-zero-length segment without any colon ":"
`,t+=`
`,t+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,t+=`
`,t+=`query         = *( pchar / "/" / "?" )
`,t+=`
`,t+=`fragment      = *( pchar / "/" / "?" )
`,t+=`
`,t+=`pct-encoded   = "%" HEXDIG HEXDIG
`,t+=`
`,t+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,t+=`reserved      = gen-delims / sub-delims
`,t+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,t+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,t+=`              / "*" / "+" / "," / ";" / "="
`,t+=`; ==============================================================================
`,t+=`; DNS URI (RFC 4501)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - uri.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc4501.html#section-3
`,t+=`;
`,t+=`; Note:
`,t+=`; dnsclassval and dnstypeval are not defined exhaustively
`,t+=`; but their definitions are unused in SIW grammars.
`,t+=`
`,t+=`
`,t+=`dnsurl          = "dns:" [ "//" dnsauthority "/" ]
`,t+=`                  dnsname ["?" dnsquery]
`,t+=`
`,t+=`dnsauthority    = host [ ":" port ]
`,t+=`                ; See RFC 3986 for the
`,t+=`                ; definition of "host" and "port".
`,t+=`
`,t+=`dnsname         = *pchar
`,t+=`                ; See RFC 3986 for the
`,t+=`                ; definition of "pchar".
`,t+=`
`,t+=`                ; The "dnsname" field may be a
`,t+=`                ; "relative" or "absolute" name,
`,t+=`                ; as per RFC 1034, section 3.1.
`,t+=`
`,t+=`                ; Note further that an empty
`,t+=`                ; "dnsname" value is to be
`,t+=`                ; interpreted as the root itself.
`,t+=`                ; See below on relative dnsnames.
`,t+=`
`,t+=`dnsquery        = dnsqueryelement [";" dnsquery]
`,t+=`
`,t+=`dnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )
`,t+=`                ; Each clause MUST NOT be used more
`,t+=`                ; than once.
`,t+=`
`,t+=`dnsclassval     = 1*digit / "IN" / "CH"
`,t+=`                ; omitted:
`,t+=`                ; / <Any IANA registered DNS class mnemonic>
`,t+=`
`,t+=`dnstypeval      = 1*digit / "A" / "NS" / "MD"
`,t+=`                ; omitted:
`,t+=`                ; / <Any IANA registered DNS type mnemonic>
`,t+=`; ==============================================================================
`,t+=`; Chain-agnostic IDs (CAIP-2)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`
`,t+=`chain-id        = eth-chain-id
`,t+=`                / sol-chain-id
`,t+=`                ; NOTE: Only Ethereum and Solana are supported at the moment
`,t+=`
`,t+=`
`,t+=`; Ethereum
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`eth-namespace   = %s"eip155"
`,t+=`                ; The chain-id namespace for evm chains
`,t+=`
`,t+=`eth-network-id  = 1*32DIGIT
`,t+=`                ; Accept up to 32 digits. Could probably be lowered
`,t+=`
`,t+=`eth-chain-id    = eth-namespace ":" eth-network-id
`,t+=`                ; Examples:
`,t+=`                ; - eip155:1   (eth mainnet)
`,t+=`                ; - eip155:137 (polygon mainnet)
`,t+=`
`,t+=`; Solana
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`sol-namespace   = %s"solana"
`,t+=`                ; The chain-id namespace for solana
`,t+=`
`,t+=`sol-network-id  = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet"
`,t+=`                ; This enumeration comes from https://github.com/solana-labs/wallet-standard/blob/master/packages/core/chains/src/index.ts
`,t+=`
`,t+=`sol-chain-id    = sol-namespace ":" sol-network-id
`,t+=`                ; Examples:
`,t+=`                ; - solana:mainnet (solana mainnet)
`,t+=`                ; - solana:testnet (solana testnet)
`,t+=`; ==============================================================================
`,t+=`; Chain-agnostic account identifiers (CAIP-10)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - chain-id.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`
`,t+=`account-id      = eth-account-id
`,t+=`                / sol-account-id
`,t+=`                ; NOTE: Only Ethereum and Solana are supported at the moment
`,t+=`
`,t+=`; Ethereum
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`eth-address     = "0x" 40HEXDIG
`,t+=`                ; Must also conform to captilization
`,t+=`                ; checksum encoding specified in EIP-55
`,t+=`                ; where applicable (EOAs).
`,t+=`
`,t+=`eth-account-id  = eth-chain-id ":" eth-address
`,t+=`                ; See CAIP-2 for definition of "eth-chain-id"
`,t+=`                ; Examples:
`,t+=`                ; - eip155:1:0xb9c5714089478a327f09197987f16f9e5d936e8a   (eth mainnet)
`,t+=`                ; - eip155:137:0xb9c5714089478a327f09197987f16f9e5d936e8a (polygon mainnet)
`,t+=`
`,t+=`; Solana
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`sol-address     = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )
`,t+=`                ; Valid Solana addresses are 32-44 base58-encoded chars: 1-9 / A-H / J-N / P-Z / a-k / m-z
`,t+=`                ; Note: this doesn't validate whether the address is "on the curve"
`,t+=`
`,t+=`sol-account-id  = sol-chain-id ":" sol-address
`,t+=`                ; See CAIP-2 for definition of "sol-chain-id"
`,t+=`                ; Examples:
`,t+=`                ; - solana:mainnet:FYpB58cLw5cwiN763ayB2sFT8HLF2MRUBbbyRgHYiRpK (solana mainnet)
`,t+=`                ; - solana:testnet:QhnBSSbjScn9VHBBqwosy99icpeJrW4iuEwkJ3d9Fn9  (solana testnet)
`,t+=`; ==============================================================================
`,t+=`; Sign in with X (CAIP-122)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - datetime.bnf
`,t+=`; - uri.bnf
`,t+=`; - dns.bnf
`,t+=`; - chain-id.bnf
`,t+=`; - account-id.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-122.md
`,t+=`;
`,t+=`; Note:
`,t+=`; Currently, this grammar file only supports the Ethereum and Solana blockchains
`,t+=`
`,t+=`sign-in-with-x = sign-in-with-eth
`,t+=`               / sign-in-with-sol
`,t+=`
`,t+=`; Ethereum
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`sign-in-with-eth =
`,t+=`  message-domain %s" wants you to sign in with your Ethereum account:" LF
`,t+=`  eth-account-id LF
`,t+=`  LF
`,t+=`  [ message-statement LF ]
`,t+=`  LF
`,t+=`  %s"URI: " message-uri LF
`,t+=`  %s"Version: " message-version LF
`,t+=`  %s"Chain ID: " eth-chain-id LF
`,t+=`  %s"Nonce: " message-nonce LF
`,t+=`  %s"Issued At: " message-issued-at
`,t+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,t+=`  [ LF %s"Not Before: " message-not-before ]
`,t+=`  [ LF %s"Request ID: " message-request-id ]
`,t+=`  [ LF %s"Resources:" message-resources ]
`,t+=`
`,t+=`; Solana
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`sign-in-with-sol =
`,t+=`  message-domain %s" wants you to sign in with your Solana account:" LF
`,t+=`  sol-account-id LF
`,t+=`  LF
`,t+=`  [ message-statement LF ]
`,t+=`  LF
`,t+=`  %s"URI: " message-uri LF
`,t+=`  %s"Version: " message-version LF
`,t+=`  %s"Chain ID: " sol-chain-id LF
`,t+=`  %s"Nonce: " message-nonce LF
`,t+=`  %s"Issued At: " message-issued-at
`,t+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,t+=`  [ LF %s"Not Before: " message-not-before ]
`,t+=`  [ LF %s"Request ID: " message-request-id ]
`,t+=`  [ LF %s"Resources:" message-resources ]
`,t+=`
`,t+=`; Common
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`message-domain          = dnsauthority ; CAIP-10 spec defines domain as dnsauthority unlike EIP-4361, which uses authority
`,t+=`message-address         = eth-account-id / sol-account-id ; See CAIP-10 for address identifier definition
`,t+=`message-statement       = 1*( reserved / unreserved / " " )
`,t+=`message-uri             = URI
`,t+=`message-version         = "1"
`,t+=`message-chain-id        = eth-chain-id / sol-chain-id
`,t+=`message-nonce           = 8*( ALPHA / DIGIT )
`,t+=`message-issued-at       = date-time
`,t+=`message-expiration-time = date-time
`,t+=`message-not-before      = date-time
`,t+=`message-request-id      = *pchar
`,t+=`message-resources       = *( LF "- " URI )
`,t},e}o(Bc,"grammar");d();p();var gt=o((e,t)=>(r,n,s,i,a)=>(r===Kn.SEM_PRE&&(a[e]=t(n,s,i,a)),Kn.SEM_OK),"assign");var{apgLib:Gn}=globalThis;function is(e,t){let r=new Gn.parser;r.stats=new Gn.stats,r.trace=new Gn.trace,r.ast=new Gn.ast;let n=Gn.utils.charsToString,s=o((A,x,g)=>new Date(n(A,x,g)),"charsToDate"),i=o((A,x,g)=>new URL(n(A,x,g)),"charsToURL");r.ast.callbacks["message-domain"]=gt("domain",n),r.ast.callbacks["message-address"]=gt("address",n),r.ast.callbacks["message-statement"]=gt("statement",n),r.ast.callbacks["message-uri"]=gt("uri",i),r.ast.callbacks["message-version"]=gt("version",n),r.ast.callbacks["message-chain-id"]=gt("chainId",n),r.ast.callbacks["message-nonce"]=gt("nonce",n),r.ast.callbacks["message-issued-at"]=gt("issuedAt",s),r.ast.callbacks["message-expiration-time"]=gt("expirationTime",s),r.ast.callbacks["message-not-before"]=gt("notBefore",s),r.ast.callbacks["message-request-id"]=gt("requestId",n),r.ast.callbacks["message-resources"]=gt("resources",(A,x,g)=>g?n(A,x,g).slice(3).split(`
- `).map(w=>new URL(w)):[]),e===ht.X&&(r.ast.callbacks["eth-account-id"]=r.ast.callbacks["message-address"],r.ast.callbacks["eth-chain-id"]=r.ast.callbacks["message-chain-id"],r.ast.callbacks["sol-account-id"]=r.ast.callbacks["message-address"],r.ast.callbacks["sol-chain-id"]=r.ast.callbacks["message-chain-id"]);let a=null;switch(e){case ht.Ethereum:a=Rc;break;case ht.Solana:a=Cc;break;case ht.X:a=Bc;break}if(!a)throw new Error(`Could not find grammar for ${e}`);let u=a(),l=r.parse(u,e,t);if(!l.success){let x=l.maxMatched+1,g=t.slice(0,x),w=g.split(`
`),y=w[w.length-1].length-1,S=[g,y>-1?" ".repeat(y)+"^":"^"].join(`
`);return{success:!1,error:new Error(S)}}let h={type:e};return r.ast.translate(h),{success:!0,data:h}}o(is,"parse");d();p();var Lc={[Ve.ADDRESS_MISMATCH]:"address",[Ve.DOMAIN_MISMATCH]:"domain",[Ve.URI_MISMATCH]:"uri",[Ve.CHAIN_ID_MISMATCH]:"chainId",[Ve.ISSUED_TOO_FAR_IN_THE_PAST]:"issuedAt",[Ve.ISSUED_TOO_FAR_IN_THE_FUTURE]:"issuedAt",[Ve.EXPIRED]:"expirationTime",[Ve.EXPIRES_BEFORE_ISSUANCE]:"expirationTime",[Ve.VALID_AFTER_EXPIRATION]:"notBefore"};var Wn=ce(gr(),1);var Xf={eth:{hexToCAIP2:o(e=>`eip155:${parseInt(e,16)}`,"hexToCAIP2"),getBufferedGasLimit(e){return"0x"+new Or(Yd(new Or(e))).toString(16)}},sol:{chainIdToCAIP2:st,chainIdToCluster:cd,serializeSolanaSignInMessage(e,{expectedChainId:t,expectedAddress:r,expectedURL:n}){let s=e.domain||n.host,i=e.address||r,a=`${s} wants you to sign in with your Solana account:
`;a+=`${i}`,e.statement&&(a+=`

${e.statement}`);let u=[];if(e.uri&&u.push(`URI: ${e.uri}`),e.version&&u.push(`Version: ${e.version}`),e.chainId&&u.push(`Chain ID: ${e.chainId}`),e.nonce&&u.push(`Nonce: ${e.nonce}`),e.issuedAt&&u.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&u.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&u.push(`Not Before: ${e.notBefore}`),e.requestId&&u.push(`Request ID: ${e.requestId}`),e.resources){u.push("Resources:");for(let x of e.resources)u.push(`- ${x}`)}u.length&&(a+=`

${u.join(`
`)}`);let l=is(ht.Solana,a);if(!l.success)return{type:"fail",data:Wn.default.encode(Buffer.from(a)),error:[{label:"PARSE_ERROR",message:l.error.message}]};let h=1e3*60*10,A=ss(l.data,{expectedAddress:r,expectedURL:n,expectedChainId:t,issuedAtThreshold:h});return A.length?{type:"fail",data:Wn.default.encode(Buffer.from(a)),error:A.map(x=>({label:Lc[x],message:`siwsErrorMessage_${x}`}))}:{type:"success",data:Wn.default.encode(Buffer.from(a))}},base58Encode:o(e=>Wn.default.encode(e),"base58Encode")},getFaviconURL:yo,parseURL:xo,getOrigin:fo,getHostname:Cp,getOriginAndHostname:Wr};var Fc={};De(Fc,{addTrustedApp:()=>Jf,btc:()=>Dc,deleteTrustedApp:()=>Qf,disableAutoConfirm:()=>yh,enableAutoConfirm:()=>gh,eth:()=>Xs,fetchAutoConfirmSupportedNetworks:()=>wh,getAutoConfirmStatus:()=>xh,getMetaMaskOverrideSetting:()=>eh,getUser:()=>hh,isTrustedApp:()=>th,isUserOnboarded:()=>mh,navigate:()=>ch,onboardQuickly:()=>dh,openChat:()=>lh,openNotificationCenter:()=>ph,openUserProfile:()=>uh,requestUserApproval:()=>ih,requestUserOnboard:()=>fh,setMetaMaskOverrideSetting:()=>ah,sol:()=>Oc,sui:()=>Pc});d();p();d();p();var $1=new ke,V1=new Ct($1),Jf=o(async(e,t)=>{let r=(await ge()).identifier;await V1.add(r,e,{dappMeta:{appUrl:t.url.origin,title:t.title,imageUrl:t.icon?.toString()},lastConnectedTimestamp:Date.now()})},"addTrustedApp");d();p();var z1=new ke,j1=new Ct(z1),Qf=o(async e=>{let t=(await ge()).identifier;await j1.delete(t,e)},"deleteTrustedApp");d();p();var q1=new ke,eh=o(async()=>await Sr(q1),"getMetaMaskOverrideSetting");d();p();var K1=new ke,G1=new Ct(K1),th=o(async e=>{let t=(await ge()).identifier;return!!(await G1.get(t))[e]},"isTrustedApp");d();p();var as=ce(Fr(),1);d();p();var nh=ce(Fr(),1);var rh=30,Mc=class{static{o(this,"NotificationManager")}findPopupIfExists=o(async()=>{try{ee.addBreadcrumb("NotificationManager","focusPopupIfExists",_e.Debug);let t=await Ep();for(let r of t){if(typeof r.id!="number"){ee.addBreadcrumb("NotificationManager","popup has no id",_e.Debug);continue}if(r.type!=="popup"){ee.addBreadcrumb("NotificationManager","found a non-popup type window",_e.Error);continue}let n=!1;if(r.tabs?.length===1){let[s]=r.tabs;if(s.url){let i=new URL(s.url).hostname,a=nh.default.runtime.id;n=i===a}}if(!n){ee.addBreadcrumb("NotificationManager","popup tab url does not have the extension origin",_e.Debug);continue}return r.id}return}catch(t){ee.addBreadcrumb("NotificationManager","failed to get open popups",_e.Error),ee.captureError(t instanceof Error?t:new Error("failed to get open popups"),re.Provider);return}},"findPopupIfExists");showNotificationPopupAsync=o(async()=>{ee.addBreadcrumb("NotificationManager","showNotificationPopupAsync",_e.Debug);let t=await this.findPopupIfExists();t&&await vp(t);let r=0,n=0;try{let i=await _p();if(i.top!==void 0&&i.left!==void 0&&i.width!==void 0&&i.height!==void 0)n=i.top,r=i.left+i.width-Bn;else throw new Error("Couldn't get last focused window")}catch(i){ee.addBreadcrumb("NotificationManager","failed to get last focused window",_e.Error),ee.captureError(i instanceof Error?i:new Error("failed to get last focused window"),re.Provider);let{screenX:a,screenY:u,outerWidth:l}=self;n=Math.max(u,0),r=Math.max(a+(l-Bn),0)}let s;try{s=await Is({url:"notification.html",type:"popup",width:Bn,height:Ms+rh,left:r,top:n,focused:!0})}catch{n=0,r=0,s=await Is({url:"notification.html",type:"popup",width:Bn,height:Ms+rh,left:r,top:n,focused:!0})}if(!s){let i=new Error("Could not open new popup notification");throw ee.captureError(i,re.Provider),i}try{(s.left!==r||s.top!==n)&&s.id&&s.state!=="fullscreen"&&await Ap(s.id,r,n)}catch(i){ee.addBreadcrumb("NotificationManager","failed to update window position",_e.Error),ee.captureError(i instanceof Error?i:new Error("failed to update window position"),re.Provider)}return s},"showNotificationPopupAsync")},oh=new Mc;var W1=o((e,t,r)=>{if(typeof r!="string")throw new Error("message must be a string");try{let n=bn(r);console.log("> Received message from popup:",n);let s=xr[t].response.parse(n);if(s.id===e)return s}catch(n){console.error(n)}throw new Error("RPC response ID does not match RPC request ID")},"handleMessage"),sh=o((e,t,r)=>async n=>await W1(t,r,n),"onMessage"),Z1=o(async(e,t,r)=>{let n=!1,i=as.default.runtime.connect({name:"popup/sidepanel"}),a=sh(i,e,t);return new Promise((u,l)=>{i.postMessage(r),i.onMessage.addListener(async h=>{i.onMessage.removeListener(a);try{let A=await a(h);return n=!0,i.disconnect(),u(A)}catch(A){return l(A)}}),i.onDisconnect.addListener(()=>{if(!n)return i.onMessage.removeListener(a),c.userRejectedRequest(e)})})},"handleUserApprovalSidebar"),Y1=o(async(e,t,r)=>{let n=await oh.showNotificationPopupAsync();if(!n)return c.resourceUnavailable(e);let s=n.id;if(typeof s!="number")throw new Error("No notification window id");let i=`notification/${s}`,a=`${ho()}/notification.html`;return await new Promise((u,l)=>{let h=!1,A=o(x=>{let g=sh(x,e,t);x.name===i&&x.sender&&x.sender.tab?.url===a&&(x.onMessage.addListener(async y=>{try{let S=await g(y);return h=!0,x.disconnect(),x.onMessage.removeListener(g),u(S)}catch(S){return l(S)}}),x.onDisconnect.addListener(()=>{h||(x.onMessage.removeListener(g),u(c.userRejectedRequest(e))),as.default.runtime.onConnect.removeListener(A)}),x.postMessage(r))},"onConnect");as.default.runtime.onConnect.addListener(A)})},"handleRequireUserApprovalNotification"),ih=o(async e=>{let[t]=e.params,r=t.icon??void 0,n=await $p(),s=Hp(t.url),i=wr({url:s,req:e,icon:r});return n?Z1(e.id,e.method,i):Y1(e.id,e.method,i)},"requestUserApproval");d();p();var X1=new ke,ah=o(async e=>await Hd(X1,e),"setMetaMaskOverrideSetting");d();p();var ch=o(()=>{},"navigate");d();p();var dh=o(()=>{throw new Error("This method is unsupported on extension.")},"onboardQuickly");d();p();var ph=o(()=>{throw new Error("This method is unsupported on extension.")},"openNotificationCenter");d();p();var lh=o(()=>{throw new Error("This method is unsupported on extension.")},"openChat");d();p();var uh=o(()=>{throw new Error("This method is unsupported on extension.")},"openUserProfile");d();p();var mh=o(async()=>!0,"isUserOnboarded");d();p();var fh=o(async()=>{throw new Error("not implemented")},"requestUserOnboard");d();p();d();p();var J1={storage:new ke,signer:{sign:o((e,t)=>Sd(xe,e,t),"sign"),getAuthenticationPublicKey:o(e=>xe.getAuthenticationPublicKey(e),"getAuthenticationPublicKey"),getAllSecretIdentifiers:Id},queryClient:It,authConfig:Op,runExclusive:tm,isLocalTokenValidityCheckEnabled:o(()=>!br.isFeatureEnabled("kill-frontend-local-check"),"isLocalTokenValidityCheckEnabled"),isServerTimeEnabled:o(()=>!br.isFeatureEnabled("kill-frontend-server-time"),"isServerTimeEnabled")},Uc=Td(J1);Uc.subscribe(Ed.UserID,e=>{ee.addBreadcrumb(re.Generic,`Auth userID: ${e}`,_e.Info),Ue.addUserProperties({authUserId:e})});var hh=o(async()=>{let e=await Uc.getUser();if(!e)return null;let t=await ge();return{addresses:Object.values(Se).map(n=>({type:n,address:Le(t,n)})),authUserId:e.userID}},"getUser");d();p();var gh=o(async(e,t)=>{let r=(await ge()).identifier,n=await We.fetchAutoConfirmSupportedNetworks(e),{enabled:s}=await We.getAutoConfirmStatus({origin:e,accountIdentifier:r});if(s)return;let i=[];t&&t.length>0?i=t.filter(a=>n.includes(a)):i=n,await We.enableAutoConfirm({origin:e,accountIdentifier:r,networkIDs:i}),await It.invalidateQueries({queryKey:er.trustedApps()}),await It.invalidateQueries({queryKey:er.allAutoConfirm(r)}),await It.invalidateQueries({queryKey:er.autoConfirm(r,e)})},"enableAutoConfirm");d();p();var yh=o(async e=>{let t=(await ge()).identifier,{enabled:r}=await We.getAutoConfirmStatus({origin:e,accountIdentifier:t});r&&(await We.disableAutoConfirm({origin:e,accountIdentifier:t}),await It.invalidateQueries({queryKey:er.trustedApps()}),await It.invalidateQueries({queryKey:er.allAutoConfirm(t)}),await It.invalidateQueries({queryKey:er.autoConfirm(t,e)}))},"disableAutoConfirm");d();p();var xh=o(async e=>{let t=(await ge()).identifier,{enabled:r,networkIDs:n}=await We.getAutoConfirmStatus({origin:e,accountIdentifier:t});return{enabled:r,networks:n}},"getAutoConfirmStatus");d();p();var wh=o(async e=>await We.fetchAutoConfirmSupportedNetworks(e),"fetchAutoConfirmSupportedNetworks");var Oc={};De(Oc,{addPriorityFee:()=>Sh,autoConfirmValidateMessage:()=>Ah,autoConfirmValidateTransaction:()=>_h,getNetworkId:()=>ut,getSelectedAccount:()=>vh,handleSolanaPayTransaction:()=>Lh,handleSolanaPayTransfer:()=>Mh,sendAllTransactions:()=>Ih,sendTransaction:()=>Th,signAllTransactions:()=>cs,signMessage:()=>Ch,signTransaction:()=>Bh});d();p();d();p();d();p();var ut=o(async()=>{let e=await ge(),t=wd(e,Se.Solana).networkID;return Xe.getSolanaNetworkIDValue(t)},"getNetworkId");var Sh=o(async e=>{let{transaction:t}=St.deserializeVersionedTransaction(e);t.version==="legacy"&&(t=St.deserializeWithVersion({transaction:e,type:"legacy"}).transaction);let r=await ut(),n=await mp(t,{connection:nr(st(r)),calculators:{cost:up,budget:new lp(2e5,2e5)}});return St.serialize(n).transaction},"addPriorityFee");d();p();var Ah=o(async(e,t)=>{let r=await ut();if(r==="localnet")return{status:ye.UnsupportedNetworkId};let n=await ge(),s=await Le(n,Se.Solana),i=Qt(dt.language)??"en",a=await Ue.getDeviceId();return We.isSolMessageAutoConfirmable({url:e,data:t,networkID:st(r),account:n,userAccountAddress:s,accountIdentifier:n.identifier??""},{locale:i,deviceId:a})},"autoConfirmValidateMessage");d();p();var _h=o(async(e,t)=>{let r=await ut();if(r==="localnet")return{status:ye.UnsupportedNetworkId};let n=await ge(),s=await Le(n,Se.Solana),i=Qt(dt.language)??"en",a=await Ue.getDeviceId();return We.isSolTransactionAutoConfirmable({url:e,networkID:st(r),data:t,account:n,userAccountAddress:s,accountIdentifier:n.identifier??""},{locale:i,deviceId:a})},"autoConfirmValidateTransaction");d();p();var vh=o(async()=>{let e=await ge();return Le(e,Se.Solana)},"getSelectedAccount");d();p();var Eh=ce(gr(),1);var Th=o(async(e,t)=>{let r=await ut(),n=Pr.VersionedMessage.deserializeMessageVersion(Eh.default.decode(Dr(e))),s=St.deserializeWithVersion({transaction:e,type:n}),i;t?.method&&(i={"x-phantom-method":t.method}),await xp({connection:nr(st(r),i),signedTx:s.transaction,opts:t})},"sendTransaction");d();p();var kh=ce(gr(),1);var Ih=o(async(e,t)=>{let r=await ut(),n=nr(st(r)),s=e.map(i=>{let a=Pr.VersionedMessage.deserializeMessageVersion(kh.default.decode(Dr(i)));return St.deserializeWithVersion({transaction:i,type:a}).transaction});return await wp({connection:n,signedTxs:s,opts:t})},"sendAllTransactions");d();p();var Rh=ce(gr(),1);var Ch=o(async e=>{let t=await ge();Le(t,Se.Solana);let r=Rh.default.decode(e).toString("utf-8"),n=await xe.sign(t.identifier,{chainType:Se.Solana,signingType:"message",message:r});if(n.status!=="success")throw new Error(`[${n.type}] ${n.message}`);return n.signature},"signMessage");d();p();d();p();var Nc=ce(gr(),1);var Q1=new ke,cs=o(async e=>{let t=await ge();Le(t,Se.Solana);let r=Le(t,Se.Solana),n=await ut(),s={ownerAddress:r,networkID:st(n),data:{signature:""},type:Kr.DappInteraction,display:{summary:{topLeft:{text:dt.t("transactionsPendingAppInteraction")}}}};return o(async()=>{let a=[];for(let u=0;u<e.length;u++){let l=e[u],h=Pr.VersionedMessage.deserializeMessageVersion(Nc.default.decode(Dr(l))),A=St.deserializeWithVersion({transaction:l,type:h}),x=await bp({pendingTransactionInput:s,accountIdentifier:t.identifier,feePayer:new Ce.PublicKey(r),connection:nr(st(n)),accountSigner:xe,transaction:A.transaction,storage:Q1}),g=St.serialize(x);a.push({transaction:g.transaction,signature:Nc.default.encode(Zc(x)[0]),version:"version"in x?x.version:"legacy"})}return a},"signTx")()},"signAllTransactions");var Bh=o(async e=>(await cs([e]))[0],"signTransaction");d();p();var Lh=o(async()=>{},"handleSolanaPayTransaction");d();p();var Mh=o(async()=>!1,"handleSolanaPayTransfer");var Dc={};De(Dc,{getSelectedAccount:()=>ko,signMessage:()=>Nh,signPSBT:()=>Uh});d();p();d();p();var Uh=o(async(e,t)=>{let r=await ge(),n=await xe.sign(r.identifier,{chainType:Se.BitcoinTaproot,signingType:"transaction",message:Buffer.from(e).toString("hex"),inputsToSign:t.inputsToSign,finalize:t.finalize});if(n.status==="error")throw new Error(`[${n.type}] ${n.message}`);return Buffer.from(n.signature,"hex")},"signPSBT");d();p();var Nh=o(async(e,t)=>{let r=await ge(),n=dd(Sn.Mainnet,e),s=await xe.sign(r.identifier,{chainType:n,signingType:"message",message:t});if(s.status==="error")throw new Error(`[btc provider][${s.type}] ${s.message}`);let i=s.message;if(!i)throw new Error("[btc provider] no message on vault response");return{signature:Buffer.from(s.signature,"hex"),signedMessage:i}},"signMessage");var Pc={};De(Pc,{getSelectedAccount:()=>es,getSuiAddressWithPubkey:()=>Hn,signAndExecuteTransaction:()=>Ph,signMessage:()=>Dh,signTransaction:()=>Oh});d();p();d();p();var Oh=o(async(e,t,r)=>{let n=await ge(),s=uo.from(t);s.setSenderIfNotSet(e);let i=await mo({transaction:s,networkID:r}),a=await xe.sign(n.identifier,{chainType:Se.Sui,signingType:"transaction",transaction:new Uint8Array(i)});if(a.status==="error")throw new Error(`[sui provider][${a.type}] ${a.message}`);let u=a.signature;if(!u)throw new Error("[sui provider] no message on vault response");return{signature:u,transaction:Hr(i)}},"signTransaction");d();p();var Dh=o(async(e,t)=>{let r=await ge(),n=await xe.sign(r.identifier,{chainType:Se.Sui,signingType:"personalMessage",message:t});if(n.status==="error")throw new Error(`[sui provider][${n.type}] ${n.message}`);if(!n.signature)throw new Error("[sui provider] no message on vault response");return{signature:n.signature,message:Hr(t)}},"signMessage");d();p();var e0=new ke,Ph=o(async(e,t,r)=>{let n=await ge(),s=uo.from(t);s.setSenderIfNotSet(e);let i=await mo({transaction:s,networkID:r}),a={ownerAddress:e,networkID:r,data:{digest:""},type:Kr.DappInteraction,display:{summary:{topLeft:{text:dt.t("transactionsPendingAppInteraction")}}}},{signature:u,digest:l,effects:h}=await yp({accountSigner:xe,accountIdentifier:n.identifier,transaction:i,pendingTransactionInput:a,storage:e0});return{signature:u,transaction:Hr(i),digest:l,effects:h}},"signAndExecuteTransaction");var Jt={analytics:Kf,config:Gf,i18n:Wf,logger:Zf,remoteConfig:qf,rpc:Yf,utils:Xf,wallet:Fc,featureFlags:jf,secrets:{setSharedSecret:o(()=>{throw new Error("unimplemented")},"setSharedSecret"),encryptDeepLinkDappPayload:o(()=>{throw new Error("unimplemented")},"encryptDeepLinkDappPayload"),deleteSharedSecret:o(()=>{throw new Error("unimplemented")},"deleteSharedSecret"),generateSharedSecret:o(()=>{throw new Error("unimplemented")},"generateSharedSecret"),generateSession:o(()=>{throw new Error("unimplemented")},"generateSession"),decryptDeepLinkDappPayload:o(()=>{throw new Error("unimplemented")},"decryptDeepLinkDappPayload")}};var t0=Tt.eth.initialize(Jt),r0=Tt.sol.initialize(Jt),n0=Tt.sol_blink.initialize(Jt),o0=Tt.eth_blink.initialize(Jt),s0=Tt.btc.initialize(Jt),i0=Tt.sui.initialize(Jt),a0=Tt.phantom_auto_confirm.initialize(Jt),c0=Tt.phantom_embedded.initialize(Jt),Fh={...s0,...t0,...o0,...r0,...n0,...i0,...a0,...c0};d();p();var Hc=ce(Fr(),1);var Hh=o(async e=>{let t=await Hc.default.tabs.get(e);if(!t?.url?.startsWith("http"))return{iconUrl:void 0,title:void 0};let r=await d0(e);return{iconUrl:r?.iconUrl??t?.favIconUrl,title:r?.title??t?.title}},"getTabMeta"),d0=o(async e=>{try{let r=(await Hc.default.scripting.executeScript({target:{tabId:e},func:o(()=>{let i={},a=document.querySelectorAll("head link[rel^=apple-touch-icon]");a&&(i.iconTuples=Array.from(a).map(l=>[l.href,l.sizes?.[0]??"0x0"]));let u=document.querySelector("meta[property='og:title']");return u&&(i.title=u.content),i},"func")}))[0].result;if(!r)return{iconUrl:void 0,title:void 0};let n,s=0;for(let[i,a]of r.iconTuples??[]){if(n||(n=i),!a)continue;parseInt(a.split("x")[0]??0)>s&&(n=i)}return{title:r.title,iconUrl:n}}catch(t){return console.error("Failed to get tab meta",t),{iconUrl:void 0,title:void 0}}},"getTabMarkupMeta");var $h=o(async e=>{if(!e.sender||!e.sender.tab||!e.sender.url||!e.sender.tab.id)throw new Error("sender information is undefined");let t=e.sender.url,r=e.sender.tab.id;Ks({origin:new URL(t).origin,url:t,tabId:r,port:e}),e.onDisconnect.addListener(()=>{Gs({origin:new URL(t).origin,url:t,tabId:r,port:e})});let n=[],s=o(A=>{if(typeof A=="string")try{let x=ps.parse(bn(A));n.push(x)}catch{}},"queueRequest");e.onMessage.addListener(s);let i=await Hh(r),a={type:"BrowserTabRpcRequestSource",url:new URL(t),icon:i.iconUrl?new URL(i.iconUrl):void 0},u=p0(e,a,n),l=l0(e);Ks({origin:new URL(t).origin,url:t,tabId:r,port:e}),e.onDisconnect.addListener(()=>{Gs({origin:new URL(t).origin,url:t,tabId:r,port:e})});let h=new Fp({routes:Fh}).init(u,l);return e.onMessage.removeListener(s),h},"createRpcRouterController");function p0(e,t,r=[]){return new ReadableStream({async start(n){for(let s of r)n.enqueue(Ls(s,t));e.onMessage.addListener(async s=>{let i=null;try{i=ps.parse(bn(s))}catch{}if(i)try{n.enqueue(Ls(i,t))}catch(a){ee.captureError(new Error(`Stream enqueue failure (${a})`),re.Provider)}}),e.onDisconnect.addListener(()=>{n.close()})},async cancel(){e.disconnect()}},new CountQueuingStrategy({highWaterMark:1/0}))}o(p0,"createRpcRequestStream");function l0(e){return new WritableStream({write([t,r]){e.postMessage(wr(r))}})}o(l0,"createRpcResponseStream");d();p();function Vh(e){switch(e){case"solana:101":return rt.SOLANA_MAINNET;case"solana:102":return rt.SOLANA_TESTNET;case"solana:103":return rt.SOLANA_DEVNET;case"eip155:143":case"eip155:10143":case"eip155:1":case"eip155:11155111":case"eip155:8453":case"eip155:84532":case"eip155:137":case"eip155:80002":return e;default:return Object.values(rt).find(t=>t===e)?e:null}}o(Vh,"blinksNetworkIdAdapter");var qh=20*1e3;self.addEventListener("install",()=>{self.skipWaiting()});self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(t=>Promise.all(t.map(r=>caches.delete(r)))).then(()=>self.clients.claim()))});self.addEventListener("error",e=>{console.error("SW Error:",e.error,e.filename,e.lineno)});var yt=new ke;ld([[ud,yt]]);var u0=o(async()=>{await Kd(),await f0(),An.init({provider:Tp}),await Ip("background",Dp),Cu(),yt.remove("unencryptedSeedAndMnemonic"),await $d(new ke),m0(),await Vn(),await $n({enabledChains:(await Er().catch(()=>({enabledAddressTypes:sd.getAll()}))).enabledAddressTypes,metamaskOverrideSetting:await Sr(yt).catch(()=>Fd.enum.ALWAYS_ASK)}),Vp({isWriter:!0})},"init");u0().catch(e=>{console.error("w error",e)});async function m0(){if((await et.default.tabs.query({url:et.default.runtime.getURL("onboarding.html")})).length>0)return;let r=await Tr.hasPersistedDeviceEncryptionKey(),n=await yt.get(Rs);!r&&!n&&(await yt.set(Md.FirstTimeOnboarding,{isFirstTimeOnboarding:!0}),Sp({url:"onboarding.html"}),yt.set(Rs,!0))}o(m0,"openOnboardingIfNeeded");function f0(){et.default.runtime.onInstalled.addListener(x0),et.default.runtime.onConnect.addListener(S0),et.default.alarms.onAlarm.addListener(A0),et.default.runtime.onMessage.addListener(Xc(T0)),et.default.tabs.onRemoved.addListener(b0),et.default.webRequest.onBeforeRequest.addListener(g0,{urls:["http://*/*","https://*/*"]}),et.default.storage.onChanged.addListener(h0)}o(f0,"initializeListeners");async function h0(e,t){if(t!=="local"&&t!=="sync")return;let r=e[Od.ApiEnvironment];r&&Qc(r.newValue??(Qn()?fs.Production:fs.Staging))}o(h0,"handleStorageChanged");async function g0(e){return e.tabId===et.default.tabs.TAB_ID_NONE?{}:"documentLifecycle"in e&&e.documentLifecycle==="prerender"?{}:((e.type==="main_frame"||e.type==="sub_frame")&&await y0(e.url,e.tabId),{})}o(g0,"handleBeforeRequest");async function y0(e,t){let r=new ke,n=await Gd(r,Ue,e);if(!n.result)return;if(n.isSubdomainDomainWhitelisted){let a=await yt.get(oo.UserWhitelistSubdomains);if(JSON.parse(`${a}`)?.includes(`${n.source}`))return}let s=await yt.get(oo.UserWhitelistedOrigins);JSON.parse(`${s}`)?.includes(`${n.source}`)||(Ue.capture("phishingBlocklistRedirect",{data:{targetURL:e}}),await et.default.tabs.update(t,{url:`phishing.html?origin=${e}&subdomain=${n.isSubdomainDomainWhitelisted}`}))}o(y0,"detectAndRedirectPhishing");function x0(e){switch(e.reason){case"install":{Ue&&Ue.capture("appInstall");break}case"update":{ee.addBreadcrumb(re.StartUp,`Extension updated from ${e.previousVersion} to ${td}`,_e.Debug);break}default:break}}o(x0,"handleInstallAsync");var Kh=o(e=>e.sender?.url===et.default.runtime.getURL("popup.html")||e.sender?.url===et.default.runtime.getURL("notification.html"),"isPopUpOrNotification");async function w0(e){if(!Oi()&&Kh(e)){Ui(e.sender.url);let t=await yt.get(oo.LockTimerMs),r=Date.now()+(t??Nd);ee.addBreadcrumb(re.Account,"Lock alarm created",_e.Debug,{skipFileLogger:!0}),et.default.alarms.create(_n.LockExtension,{when:r})}}o(w0,"handleDisconnect");function b0(e){Ui(e)}o(b0,"handleTabRemoved");async function S0(e){if(e.onDisconnect.addListener(w0),Kh(e)&&(Oi()?(Cn(),Gh($c),Vc()):await et.default.alarms.clear(_n.LockExtension)),e.name==="contentscript"){if(e.sender&&e.sender.url&&e.sender.tab&&e.sender.tab.id){let r=e.postMessage.bind(e);e.postMessage=s=>{r(s)},(await $h(e)).start()}e.postMessage("phantom#background#initialized"),e.onMessage.addListener(r=>{typeof r=="string"&&r==="phantom#ready_to_setup_streams"&&e.postMessage("phantom#background#initialized")})}}o(S0,"handleConnection");function A0(e){if(e.name.startsWith(_n.DeleteStorageValue)){let[t,r]=e.name.split(":");yt.remove(r)}e.name===_n.LockExtension&&(ee.addBreadcrumb(re.Account,"Locked by alarm",_e.Debug),hm(!0),Cn(),Vc())}o(A0,"handleAlarm");async function Vc(){await Promise.all([yt.set(Cs,!0),kp("idle")])}o(Vc,"notifyExtensionLocked");async function _0(){await yt.set(Cs,!1)}o(_0,"notifyExtensionUnlocked");async function v0(e,t){try{let r=await R0.get().catch(()=>[]),n=qs(t),{hideProvidersArray:s,dontOverrideWindowEthereum:i}=zs(n,r);return c.result(e.id,{hideProvidersArray:s,dontOverrideWindowEthereum:i})}catch(r){return ee.captureError(r,re.Provider),c.internalError(e.id,r?.message)}}o(v0,"handleProviderInjectionOptionsRequest");async function E0(e){try{if(e.method===Pt.BlinksEnabled){let t=await Vd(yt,!1);return c.result(e.id,t)}if(e.method===Pt.BlinksV2Config){let t=await Er();return c.result(e.id,{supportedBlockchains:t.enabledNetworkIDs.map(Vh).filter(r=>r!=null)})}return c.methodNotFound(e.id)}catch(t){return ee.captureError(t,re.Provider),c.internalError(e.id)}}o(E0,"handleBlinksRequest");async function T0(e,t){let r=t.url,n=t.tab?.id;if(r&&e.method==="providerInjectionOptions")return v0(e,r);if(r&&e.method===Pt.BlinksEnabled||e.method===Pt.BlinksV2Config)return E0(e);if(r&&e.method===Pt.BlinksLog){let{event:a,body:u}=e.params;return Ue.capture(a,{data:u}),c.result(e.id,"success")}if(!r||!r.startsWith(ho()))return ee.captureMessage(`Unauthorized request from origin: ${fo(r)}`,re.Generic,_e.Error),c.result(e.id,`${e.method} not permitted`);if(!Object.values(Np).includes(e.method))return ee.captureMessage("Unauthorized method",re.Generic,_e.Error),c.result(e.id,`${e.method} not permitted`);switch(e.method){case"ping":return c.result(e.id,{pong:!0});case"hasOnboarded":return mm(e);case"resetHasOnboarded":return fm(e);case"lockExtension":{let a=xm(e);return Gh($c),Vc(),a}case"unlockExtension":{let a=gm(e);return k0().then(u=>{$c=u}),_0(),a}case"IsExtensionUnlocked":return ym(e);case"setPassword":return wm(e);case"verifyPassword":return bm(e);case"updatePassword":return Sm(e);case"importPrivateKeyAccount":return Bu(e);case"importReadOnlyAccount":return Lu(e);case"importSeedAccount":return Mu(e);case"importSocialSeedAccount":return Uu(e);case"isExistingSeed":return Nu(e);case"addAccountForSeed":return Ou(e);case"addAccountForSeedless":return Du(e);case"addLedgerAccounts":return Pu(e);case"exportPrivateKey":return Fu(e);case"exportEntropy":return Hu(e);case"setAccountIcon":return $u(e);case"deriveAddresses":return Vu(e);case"removeAccount":return zu(e);case"reorderAccount":return ju(e);case"getAllAccounts":return qu(e);case"getAllSeeds":return Ku(e);case"getAllSeedlessSeeds":return Gu(e);case"sign":return Wu(e);case"getAuthenticationPublicKey":return Zu(e);case"checkVaultIntegrity":return Yu(e);case"doNotUseDiagnoseSeedCacheDigests":return Xu(e);case"getPhantomOrganization":return rm(e);case"getKmsAccounts":return cm(e);case"getOrCreatePhantomOrganization":return om(e);case"RetrieveKMSWallet":return sm(e);case"GetKMSWalletStatus":return im(e);case"addUserToCurrentUserOrganization":return am(e);case"deleteUserFromOrganization":return nm(e);case"getWalletWithTag":return dm(e);case"updateUserInOrganization":return pm(e);case"getAccounts":return lm(e);case"logMessage":return Am(e);case"downloadLogs":return _m(e);case"serviceWorkerMutexAcquire":return Qu(e,n??r);case"serviceWorkerMutexRelease":return em(e)}return c.methodNotFound(e.id)}o(T0,"handleMessage");var $c,zh=(0,jh.default)(async()=>await et.default.storage.local.set({"last-sw-ping":new Date().getTime()}),qh);async function k0(){return await zh(),setInterval(zh,qh)}o(k0,"startSwPing");async function Gh(e){clearInterval(e)}o(Gh,"stopSwPing");var I0=60*10*1e3,R0=new Eo(new ke,I0,()=>js().catch(e=>(ee.captureError(e,re.Provider),[])),"phantomwallet-dApps-list");export{R0 as dAppsListCache};
/*! Bundled license information:

@noble/curves/esm/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/nist.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

apg-js/dist/apg-lib-bundle.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=serviceWorker.js.map
